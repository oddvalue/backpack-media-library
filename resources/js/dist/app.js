!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=37)}([function(t,e,n){"use strict";var r=n(24),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function a(t){return void 0===t}function u(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===o.call(t)}function s(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isUndefined:a,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:c,isStream:function(t){return u(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:s,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return e},extend:function(t,e,n){return s(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function u(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],o=0;o<t.length;o++){var i=t[o],c=e.base?i[0]+e.base:i[0],s=n[c]||0,l="".concat(c," ").concat(s);n[c]=s+1;var f=u(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:g(d,e),references:1}),r.push(l)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(t,e){var n,r,o;if(e.singleton){var i=m++;n=p||(p=s(e)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=s(e),r=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=u(n[r]);a[o].references--}for(var i=c(t,e),s=0;s<n.length;s++){var l=u(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var a,u,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return y}));var r=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function i(t){return null!==t&&"object"==typeof t}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},u={namespaced:{configurable:!0}};u.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){o(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&o(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&o(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&o(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,u);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},c.prototype.update=function(t){!function t(e,n,r){0;if(n.update(r),r.modules)for(var o in r.modules){if(!n.getChild(o))return void 0;t(e.concat(o),n.getChild(o),r.modules[o])}}([],this.root,t)},c.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new a(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&o(e.modules,(function(e,o){r.register(t.concat(o),e,n)}))},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var s;var l=function(t){var e=this;void 0===t&&(t={}),!s&&"undefined"!=typeof window&&window.Vue&&b(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var o=t.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new s,this._makeLocalGettersCache=Object.create(null);var i=this,a=this.dispatch,u=this.commit;this.dispatch=function(t,e){return a.call(i,t,e)},this.commit=function(t,e,n){return u.call(i,t,e,n)},this.strict=o;var l=this._modules.root.state;m(this,l,[],this._modules.root),p(this,l),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:s.config.devtools)&&function(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){r.emit("vuex:mutation",t,e)})))}(this)},f={state:{configurable:!0}};function d(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function h(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;m(t,n,[],t._modules.root,!0),p(t,n,e)}function p(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,a={};o(i,(function(e,n){a[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var u=s.config.silent;s.config.silent=!0,t._vm=new s({data:{$$state:e},computed:a}),s.config.silent=u,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),s.nextTick((function(){return r.$destroy()})))}function m(t,e,n,r,o){var i=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!i&&!o){var u=g(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){s.set(u,c,r.state)}))}var l=r.context=function(t,e,n){var r=""===e,o={dispatch:r?t.dispatch:function(n,r,o){var i=v(n,r,o),a=i.payload,u=i.options,c=i.type;return u&&u.root||(c=e+c),t.dispatch(c,a)},commit:r?t.commit:function(n,r,o){var i=v(n,r,o),a=i.payload,u=i.options,c=i.type;u&&u.root||(c=e+c),t.commit(c,a,u)}};return Object.defineProperties(o,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(o){if(o.slice(0,r)===e){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[o]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return g(t.state,n)}}}),o}(t,a,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,a+n,e,l)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,o=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var o,i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(o=i)&&"function"==typeof o.then||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}(t,r,o,l)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,a+n,e,l)})),r.forEachChild((function(r,i){m(t,e,n.concat(i),r,o)}))}function g(t,e){return e.length?e.reduce((function(t,e){return t[e]}),t):t}function v(t,e,n){return i(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function b(t){s&&t===s||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(s=t)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},l.prototype.commit=function(t,e,n){var r=this,o=v(t,e,n),i=o.type,a=o.payload,u=(o.options,{type:i,payload:a}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(t){t(a)}))})),this._subscribers.forEach((function(t){return t(u,r.state)})))},l.prototype.dispatch=function(t,e){var n=this,r=v(t,e),o=r.type,i=r.payload,a={type:o,payload:i},u=this._actions[o];if(u){try{this._actionSubscribers.filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(t){0}return(u.length>1?Promise.all(u.map((function(t){return t(i)}))):u[0](i)).then((function(t){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(t){0}return t}))}},l.prototype.subscribe=function(t){return d(t,this._subscribers)},l.prototype.subscribeAction=function(t){return d("function"==typeof t?{before:t}:t,this._actionSubscribers)},l.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},l.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},l.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),m(this,this.state,t,this._modules.get(t),n.preserveState),p(this,this.state)},l.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=g(e.state,t.slice(0,-1));s.delete(n,t[t.length-1])})),h(this)},l.prototype.hotUpdate=function(t){this._modules.update(t),h(this,!0)},l.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(l.prototype,f);var y=S((function(t,e){var n={};return _(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=k(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof o?o.call(this,e,n):e[o]},n[r].vuex=!0})),n})),w=S((function(t,e){var n={};return _(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var i=k(this.$store,"mapMutations",t);if(!i)return;r=i.context.commit}return"function"==typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}})),n})),x=S((function(t,e){var n={};return _(e).forEach((function(e){var r=e.key,o=e.val;o=t+o,n[r]=function(){if(!t||k(this.$store,"mapGetters",t))return this.$store.getters[o]},n[r].vuex=!0})),n})),C=S((function(t,e){var n={};return _(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var i=k(this.$store,"mapActions",t);if(!i)return;r=i.context.dispatch}return"function"==typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}})),n}));function _(t){return function(t){return Array.isArray(t)||i(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function S(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function k(t,e,n){return t._modulesNamespaceMap[n]}var O={Store:l,install:b,version:"3.1.2",mapState:y,mapMutations:w,mapGetters:x,mapActions:C,createNamespacedHelpers:function(t){return{mapState:y.bind(null,t),mapGetters:x.bind(null,t),mapMutations:w.bind(null,t),mapActions:C.bind(null,t)}}};e.a=O}).call(this,n(1))},function(t,e,n){t.exports=n(56)},function(t,e,n){t.exports=n(109)},function(t,e,n){"use strict";var r=n(5),o=n.n(r);function i(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function u(t){i(a,r,o,u,c,"next",t)}function c(t){i(a,r,o,u,c,"throw",t)}u(void 0)}))}}e.a={index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=void 0===e?"image":e,r=t.page,i=void 0===r?1:r,u=t.folderId,c=void 0===u?null:u,s=t.search,l=void 0===s?null:s,f=t.tags,d=void 0===f?[]:f,h=arguments.length>1?arguments[1]:void 0;arguments.length>2&&arguments[2];return a(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.axios.get("/admin/media-library/"+n,{params:{page:i||"",folder:c||"",search:l&&l.length>=1?l:null,tags:d}});case 2:return t.next=4,t.sent.data;case 4:e=t.sent,h(e);case 6:case"end":return t.stop()}}),t)})))()},update:function(t,e,n){return a(o.a.mark((function r(){var i,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(i=new FormData).append("_method","PUT"),i.append("caption",t.caption||""),t.file&&i.set("file",t.file,t.name),t.hasOwnProperty("tags")&&(i.append("tags[]",""),t.tags.map((function(t){i.append("tags[]",t)}))),t.hasOwnProperty("folder")&&i.append("folder_id",t.folder.id||""),t.hasOwnProperty("folder_id")&&i.append("folder_id",t.folder_id||""),r.prev=7,r.next=10,window.axios.post("/admin/media-library/"+t.id,i);case 10:return r.next=12,r.sent.data;case 12:a=r.sent,e(a),r.next=20;break;case 16:r.prev=16,r.t0=r.catch(7),console.log(r.t0),n(r.t0);case 20:case"end":return r.stop()}}),r,null,[[7,16]])})))()}}},function(t,e,n){(function(e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=19)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(23),o=n(28);t.exports=n(4)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(6)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(0),o=n(1),i=n(3),a=n(29),u=n(8),c=function(t,e,n){var s,l,f,d,h=t&c.F,p=t&c.G,m=t&c.S,g=t&c.P,v=t&c.B,b=p?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,y=p?o:o[e]||(o[e]={}),w=y.prototype||(y.prototype={});for(s in p&&(n=e),n)f=((l=!h&&b&&void 0!==b[s])?b:n)[s],d=v&&l?u(f,r):g&&"function"==typeof f?u(Function.call,f):f,b&&a(b,s,f,t&c.U),y[s]!=f&&i(y,s,d),g&&w[s]!=f&&(w[s]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(31);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(10);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(13),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(15)("unscopables"),o=Array.prototype;null==o[r]&&n(3)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){var r=n(35)("wks"),o=n(7),i=n(0).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t,e,n,r,o){var i,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(i=t,a=t.default);var c,s="function"==typeof a?a.options:a;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),r&&(s._scopeId=r),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},s._ssrRegister=c):n&&(c=n),c){var l=s.functional,f=l?s.render:s.beforeCreate;l?s.render=function(t,e){return c.call(e),f(t,e)}:s.beforeCreate=f?[].concat(f,c):[c]}return{esModule:i,exports:a,options:s}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t.reduce((function(t,e){return(t[e]=e)&&t}),{})};e.events=r(["drag","dragend","dragenter","dragleave","dragstart","dragover","drop"]),e.dropEffects=r(["copy","move","link","none"]),e.effectsAllowed=r(["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"])},function(t,e,n){n(20),t.exports=n(43)},function(t,e,n){"use strict";n(21),n(36)},function(t,e,n){n(22),t.exports=n(1).Array.includes},function(t,e,n){"use strict";var r=n(5),o=n(32)(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(14)("includes")},function(t,e,n){var r=n(24),o=n(25),i=n(27),a=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(2);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(4)&&!n(6)((function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(2),o=n(0).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(2);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(0),o=n(3),i=n(30),a=n(7)("src"),u=Function.toString,c=(""+u).split("toString");n(1).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(s&&(i(n,a)||o(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||u.call(this)}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(33),o=n(12),i=n(34);t.exports=function(t){return function(e,n,a){var u,c=r(e),s=o(c.length),l=i(a,s);if(t&&n!=n){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(9),o=n(11);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(13),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(0),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){n(37),t.exports=n(1).Array.find},function(t,e,n){"use strict";var r=n(5),o=n(38)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(14)("find")},function(t,e,n){var r=n(8),o=n(9),i=n(39),a=n(12),u=n(40);t.exports=function(t,e){var n=1==t,c=2==t,s=3==t,l=4==t,f=6==t,d=5==t||f,h=e||u;return function(e,u,p){for(var m,g,v=i(e),b=o(v),y=r(u,p,3),w=a(b.length),x=0,C=n?h(e,w):c?h(e,0):void 0;w>x;x++)if((d||x in b)&&(g=y(m=b[x],x,v),t))if(n)C[x]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:C.push(m)}else if(l)return!1;return f?-1:s||l?l:C}}},function(t,e,n){var r=n(11);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(41);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(2),o=n(42),i=n(15)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(10);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t){t.component("drag",a.default),t.component("drop",u.default)}Object.defineProperty(n,"__esModule",{value:!0}),n.Drop=n.Drag=void 0,n.install=i;var a=o(r(44)),u=o(r(47));n.Drag=a.default,n.Drop=u.default;var c={version:"1.1.4",install:i};n.default=c;var s=null;"undefined"!=typeof window?s=window.Vue:void 0!==e&&(s=e.Vue),s&&s.use(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45),o=n.n(r),i=n(46),a=n(16)(o.a,i.a,null,null,"319bdce9");e.default=a.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(17),i=(r=o)&&r.__esModule?r:{default:r},a=n(18);e.default={props:{draggable:{type:Boolean,default:!0},transferData:{},dropEffect:{validator:function(t){return t in a.dropEffects}},effectAllowed:{validator:function(t){return t in a.effectsAllowed}},image:String,imageXOffset:{type:Number,default:0},imageYOffset:{type:Number,default:0},hideImageHtml:{type:Boolean,default:!0},tag:{type:String,default:"div"}},data:function(){return{dragging:!1}},computed:{events:function(){return a.events},scopedData:function(){return this.dragging&&this.transferData},hideImageStyle:function(){return{position:"fixed",top:"-1000px"}}},methods:{emitEvent:function(t,e){var n=e.dataTransfer;if([a.events.dragenter,a.events.dragover].includes(t)&&this.dropEffect&&(n.dropEffect=this.dropEffect),t===a.events.dragstart){if(this.effectAllowed&&(n.effectAllowed=this.effectAllowed),this.image||this.$slots.image){var r=void 0;this.image?(r=new Image).src=this.image:this.$slots.image&&(r=this.$slots.image[0].elm),n.setDragImage&&n.setDragImage(r,this.imageXOffset,this.imageYOffset)}void 0!==this.transferData&&(i.default.data=this.transferData,e.dataTransfer.setData("text","")),this.dragging=!0}this.$emit(t,this.transferData,e),t===a.events.dragend&&(i.default.data=void 0,this.dragging=!1)}}}},function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",attrs:{draggable:t.draggable},on:{drag:function(e){t.emitEvent(t.events.drag,e)},dragstart:function(e){t.emitEvent(t.events.dragstart,e)},dragenter:function(e){t.emitEvent(t.events.dragenter,e)},dragleave:function(e){t.emitEvent(t.events.dragleave,e)},dragend:function(e){t.emitEvent(t.events.dragend,e)}}},[t._t("default",null,{transferData:t.scopedData}),t._v(" "),t.hideImageHtml?n("div",{style:t.hideImageStyle},[t._t("image",null,{transferData:t.scopedData})],2):t._t("image",null,{transferData:t.scopedData})],2)},staticRenderFns:[]};e.a=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48),o=n.n(r),i=n(49),a=n(16)(o.a,i.a,null,null,"49fe8924");e.default=a.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(17),i=(r=o)&&r.__esModule?r:{default:r},a=n(18),u=new Set;e.default={data:function(){return{transferData:void 0,isDraggingOver:!1}},props:{tag:{type:String,default:"div"}},computed:{events:function(){return a.events},scopedData:function(){return this.isDraggingOver&&this.transferData}},methods:{emitEvent:function(t,e){this.transferData=i.default.data,this.$emit(t,this.transferData,e),t===a.events.dragenter&&(u.size||e.target===this.$el)&&u.add(e.target),t===a.events.dragleave&&u.delete(e.target),t===a.events.drop&&u.clear(),this.isDraggingOver=Boolean(u.size)}}}},function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.tag,{tag:"component",on:{dragenter:function(e){t.emitEvent(t.events.dragenter,e)},dragleave:function(e){t.emitEvent(t.events.dragleave,e)},dragover:function(e){e.preventDefault(),t.emitEvent(t.events.dragover,e)},drop:function(e){e.preventDefault(),t.emitEvent(t.events.drop,e)}}},[t._t("default",null,{transferData:t.scopedData})],2)},staticRenderFns:[]};e.a=r}])}).call(this,n(1))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=function(){return"undefined"!=typeof window?window:t},o=function(){var t=r();return t&&t.tinymce?t.tinymce:null}}).call(this,n(1))},function(t,e,n){var r=n(2),o=n(58);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(61);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(63);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(65);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(67);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(69);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(71);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(73);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(103);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){var r=n(2),o=n(105);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,n){t.exports=function(){"use strict";var t=function(t){var e=new XMLHttpRequest;return e.open(t.method||"GET",t.url),e.responseType="json",t.headers&&Object.keys(t.headers).forEach((function(n){e.setRequestHeader(n,t.headers[n])})),e};function e(e){return function(t,e){return new Promise((function(n,r){t.onload=function(){if(t.status>=200&&t.status<300){var e;try{e=JSON.parse(t.response)}catch(n){e=t.response}n(e)}else r(t.response)},t.onerror=function(){return r(t.response)},t.send(JSON.stringify(e))}))}(t(e),e.body)}var n,r,o,i,a,u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.file=t,this.options=e}return u(n,[{key:"createChunks",value:function(){this.chunks=[];for(var t=0,e=this.chunkSize;t<this.fileSize;)this.chunks.push({blob:this.file.file.slice(t,e),startOffset:t,active:!1,retries:this.maxRetries}),e=(t=e)+this.chunkSize}},{key:"updateFileProgress",value:function(){this.file.progress=this.progress}},{key:"pause",value:function(){this.file.active=!1,this.stopChunks()}},{key:"stopChunks",value:function(){this.chunksUploading.forEach((function(t){t.xhr.abort(),t.active=!1}))}},{key:"resume",value:function(){this.file.active=!0,this.startChunking()}},{key:"upload",value:function(){var t=this;return this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),this.start(),this.promise}},{key:"start",value:function(){var t=this;e({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.startBody,{phase:"start",mime_type:this.fileType,size:this.fileSize,name:this.fileName})}).then((function(e){if("success"!==e.status)return t.file.response=e,t.reject("server");t.sessionId=e.data.session_id,t.chunkSize=e.data.end_offset,t.createChunks(),t.startChunking()})).catch((function(e){t.file.response=e,t.reject("server")}))}},{key:"startChunking",value:function(){for(var t=0;t<this.maxActiveChunks;t++)this.uploadNextChunk()}},{key:"uploadNextChunk",value:function(){if(this.file.active){if(this.hasChunksToUpload)return this.uploadChunk(this.chunksToUpload[0]);if(0===this.chunksUploading.length)return this.finish()}}},{key:"uploadChunk",value:function(e){var n=this;e.progress=0,e.active=!0,this.updateFileProgress(),e.xhr=t({method:"POST",headers:this.headers,url:this.action}),e.xhr.upload.addEventListener("progress",(function(t){t.lengthComputable&&(e.progress=Math.round(t.loaded/t.total*100))}),!1),function(t,e){var n=new FormData;for(var r in e)n.append(r,e[r]);return new Promise((function(e,r){t.onload=function(){if(t.status>=200&&t.status<300){var n;try{n=JSON.parse(t.response)}catch(e){n=t.response}e(n)}else r(t.response)},t.onerror=function(){return r(t.response)},t.send(n)}))}(e.xhr,Object.assign(this.uploadBody,{phase:"upload",session_id:this.sessionId,start_offset:e.startOffset,chunk:e.blob})).then((function(t){if(e.active=!1,"success"===t.status)e.uploaded=!0;else if(e.retries--<=0)return n.stopChunks(),n.reject("upload");n.uploadNextChunk()})).catch((function(){if(e.active=!1,e.retries--<=0)return n.stopChunks(),n.reject("upload");n.uploadNextChunk()}))}},{key:"finish",value:function(){var t=this;this.updateFileProgress(),e({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.finishBody,{phase:"finish",session_id:this.sessionId})}).then((function(e){if(t.file.response=e,"success"!==e.status)return t.reject("server");t.resolve(e)})).catch((function(e){t.file.response=e,t.reject("server")}))}},{key:"maxRetries",get:function(){return parseInt(this.options.maxRetries)}},{key:"maxActiveChunks",get:function(){return parseInt(this.options.maxActive)}},{key:"fileType",get:function(){return this.file.type}},{key:"fileSize",get:function(){return this.file.size}},{key:"fileName",get:function(){return this.file.name}},{key:"action",get:function(){return this.options.action||null}},{key:"startBody",get:function(){return this.options.startBody||{}}},{key:"uploadBody",get:function(){return this.options.uploadBody||{}}},{key:"finishBody",get:function(){return this.options.finishBody||{}}},{key:"headers",get:function(){return this.options.headers||{}}},{key:"readyToUpload",get:function(){return!!this.chunks}},{key:"progress",get:function(){var t=this,e=this.chunksUploaded.length/this.chunks.length*100,n=this.chunksUploading.reduce((function(e,n){return e+(0|n.progress)/t.chunks.length}),0);return Math.min(e+n,100)}},{key:"chunksToUpload",get:function(){return this.chunks.filter((function(t){return!t.active&&!t.uploaded}))}},{key:"hasChunksToUpload",get:function(){return this.chunksToUpload.length>0}},{key:"chunksUploading",get:function(){return this.chunks.filter((function(t){return!!t.xhr&&!!t.active}))}},{key:"chunksUploaded",get:function(){return this.chunks.filter((function(t){return!!t.uploaded}))}}]),n}(),s=(n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{attrs:{type:"file",name:t.$parent.name,id:t.$parent.inputId||t.$parent.name,accept:t.$parent.accept,capture:t.$parent.capture,disabled:t.$parent.disabled,webkitdirectory:t.$parent.directory&&t.$parent.features.directory,directory:t.$parent.directory&&t.$parent.features.directory,multiple:t.$parent.multiple&&t.$parent.features.html5},on:{change:t.change}})},staticRenderFns:[]},o=void 0,i=!1,(a=("function"==typeof(r={methods:{change:function(t){this.$parent.addInputFile(t.target),t.target.files?(t.target.value="",t.target.files.length&&!/safari/i.test(navigator.userAgent)&&(t.target.type="",t.target.type="file")):(this.$destroy(),new this.constructor({parent:this.$parent,el:this.$el}))}}})?r.options:r)||{}).render||(a.render=n.render,a.staticRenderFns=n.staticRenderFns,a._compiled=!0,i&&(a.functional=!0)),a._scopeId=o,a),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function d(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var h={headers:{},action:"",minSize:1048576,maxActive:3,maxRetries:5,handler:c},p={components:{InputFile:s},props:{inputId:{type:String},name:{type:String,default:"file"},accept:{type:String},capture:{},disabled:{},multiple:{type:Boolean},maximum:{type:Number,default:function(){return this.multiple?0:1}},addIndex:{type:[Boolean,Number]},directory:{type:Boolean},postAction:{type:String},putAction:{type:String},customAction:{type:Function},headers:{type:Object,default:Object},data:{type:Object,default:Object},timeout:{type:Number,default:0},drop:{default:!1},dropDirectory:{type:Boolean,default:!0},size:{type:Number,default:0},extensions:{default:Array},value:{type:Array,default:Array},thread:{type:Number,default:1},chunkEnabled:{type:Boolean,default:!1},chunk:{type:Object,default:function(){return h}}},data:function(){return{files:this.value,features:{html5:!0,directory:!1,drag:!1},active:!1,dropActive:!1,uploading:0,destroy:!1}},mounted:function(){var t=document.createElement("input");if(t.type="file",t.multiple=!0,window.FormData&&t.files?("boolean"!=typeof t.webkitdirectory&&"boolean"!=typeof t.directory||(this.features.directory=!0),this.features.html5&&void 0!==t.ondrop&&(this.features.drop=!0)):this.features.html5=!1,this.maps={},this.files)for(var e=0;e<this.files.length;e++){var n=this.files[e];this.maps[n.id]=n}this.$nextTick((function(){this.$parent&&this.$parent.$forceUpdate(),this.watchDrop(this.drop)}))},beforeDestroy:function(){this.destroy=!0,this.active=!1},computed:{uploaded:function(){for(var t=void 0,e=0;e<this.files.length;e++)if((t=this.files[e]).fileObject&&!t.error&&!t.success)return!1;return!0},chunkOptions:function(){return Object.assign(h,this.chunk)},className:function(){return["file-uploads",this.features.html5?"file-uploads-html5":"file-uploads-html4",this.features.directory&&this.directory?"file-uploads-directory":void 0,this.features.drop&&this.drop?"file-uploads-drop":void 0,this.disabled?"file-uploads-disabled":void 0]}},watch:{active:function(t){this.watchActive(t)},dropActive:function(){this.$parent&&this.$parent.$forceUpdate()},drop:function(t){this.watchDrop(t)},value:function(t){if(this.files!==t){this.files=t;var e=this.maps;this.maps={};for(var n=0;n<this.files.length;n++){var r=this.files[n];this.maps[r.id]=r}for(var o in this.maps){var i=this.maps[o],a=e[o];i!==a&&this.emitFile(i,a)}for(var u in e)this.maps[u]||this.emitFile(void 0,e[u])}}},methods:{clear:function(){if(this.files.length){var t=this.files;this.files=[],this.maps={},this.emitInput();for(var e=0;e<t.length;e++)this.emitFile(void 0,t[e])}return!0},get:function(t){return!!t&&("object"===(void 0===t?"undefined":f(t))?this.maps[t.id]||!1:this.maps[t]||!1)},add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.addIndex,n=t,r=n instanceof Array;r||(n=[n]);for(var o=[],i=0;i<n.length;i++){var a=n[i];this.features.html5&&a instanceof Blob&&(a={file:a,size:a.size,name:a.webkitRelativePath||a.relativePath||a.name||"unknown",type:a.type});var u=!1;if(!1===a.fileObject||(a.fileObject||"undefined"!=typeof Element&&a.el instanceof Element||"undefined"!=typeof Blob&&a.file instanceof Blob)&&(u=!0),u&&((a=l({fileObject:!0,size:-1,name:"Filename",type:"",active:!1,error:"",success:!1,putAction:this.putAction,postAction:this.postAction,timeout:this.timeout},a,{response:{},progress:"0.00",speed:0})).data=l({},this.data,a.data?a.data:{}),a.headers=l({},this.headers,a.headers?a.headers:{})),a.id||(a.id=Math.random().toString(36).substr(2)),!this.emitFilter(a,void 0)){if(this.maximum>1&&o.length+this.files.length>=this.maximum)break;if(o.push(a),1===this.maximum)break}}if(!o.length)return!1;1===this.maximum&&this.clear();var c=void 0;if(!0===e||0===e)c=o.concat(this.files);else if(e){var s;(s=c=this.files.concat([])).splice.apply(s,[e,0].concat(o))}else c=this.files.concat(o);this.files=c;for(var f=0;f<o.length;f++){var d=o[f];this.maps[d.id]=d}this.emitInput();for(var h=0;h<o.length;h++)this.emitFile(o[h],void 0);return r?o:o[0]},addInputFile:function(t){var e=[];if(t.files)for(var n=0;n<t.files.length;n++){var r=t.files[n];e.push({size:r.size,name:r.webkitRelativePath||r.relativePath||r.name,type:r.type,file:r})}else{var o=t.value.replace(/\\/g,"/").split("/");delete t.__vuex__,e.push({name:o[o.length-1],el:t})}return this.add(e)},addDataTransfer:function(t){var e=this,n=[];if(t.items&&t.items.length){for(var r=[],o=0;o<t.items.length;o++){var i=t.items[o];(i=i.getAsEntry?i.getAsEntry()||i.getAsFile():i.webkitGetAsEntry&&i.webkitGetAsEntry()||i.getAsFile())&&r.push(i)}return new Promise((function(t,o){!function o(i){var a=r[i];if(!a||e.maximum>0&&n.length>=e.maximum)return t(e.add(n));e.getEntry(a).then((function(t){n.push.apply(n,d(t)),o(i+1)}))}(0)}))}if(t.files.length){for(var a=0;a<t.files.length&&(n.push(t.files[a]),!(this.maximum>0&&n.length>=this.maximum));a++);return Promise.resolve(this.add(n))}return Promise.resolve([])},getEntry:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(r,o){if(t.isFile)t.file((function(t){r([{size:t.size,name:n+t.name,type:t.type,file:t}])}));else if(t.isDirectory&&e.dropDirectory){var i=[],a=t.createReader();!function o(){a.readEntries((function(a){!function u(c){return!a[c]&&0===c||e.maximum>0&&i.length>=e.maximum?r(i):a[c]?void e.getEntry(a[c],n+t.name+"/").then((function(t){i.push.apply(i,d(t)),u(c+1)})):o()}(0)}))}()}else r([])}))},replace:function(t,e){var n=this.get(t),r=this.get(e);if(!n||!r||n===r)return!1;var o=this.files.concat([]),i=o.indexOf(n),a=o.indexOf(r);return-1!==i&&-1!==a&&(o[i]=r,o[a]=n,this.files=o,this.emitInput(),!0)},remove:function(t){var e=this.get(t);if(e){if(this.emitFilter(void 0,e))return!1;var n=this.files.concat([]),r=n.indexOf(e);if(-1===r)return console.error("remove",e),!1;n.splice(r,1),this.files=n,delete this.maps[e.id],this.emitInput(),this.emitFile(void 0,e)}return e},update:function(t,e){var n=this.get(t);if(n){var r=l({},n,e);if(!n.fileObject||!n.active||r.active||r.error||r.success||(r.error="abort"),this.emitFilter(r,n))return!1;var o=this.files.concat([]),i=o.indexOf(n);return-1===i?(console.error("update",n),!1):(o.splice(i,1,r),this.files=o,delete this.maps[n.id],this.maps[r.id]=r,this.emitInput(),this.emitFile(r,n),r)}return!1},emitFilter:function(t,e){var n=!1;return this.$emit("input-filter",t,e,(function(){return n=!0})),n},emitFile:function(t,e){this.$emit("input-file",t,e),!(t&&t.fileObject&&t.active)||e&&e.active?t&&t.fileObject&&t.active||!e||!e.fileObject||!e.active||this.uploading--:(this.uploading++,this.$nextTick((function(){var e=this;setTimeout((function(){e.upload(t).then((function(){(t=e.get(t))&&t.fileObject&&e.update(t,{active:!1,success:!t.error})})).catch((function(n){e.update(t,{active:!1,success:!1,error:n.code||n.error||n.message||n})}))}),parseInt(50*Math.random()+50,10))}))),!this.active||Boolean(t)===Boolean(e)&&t.active===e.active||this.watchActive(!0)},emitInput:function(){this.$emit("input",this.files)},upload:function(t){var e=this.get(t);if(!e)return Promise.reject("not_exists");if(!e.fileObject)return Promise.reject("file_object");if(e.error)return Promise.reject(e.error);if(e.success)return Promise.resolve(e);var n=this.extensions;if(n&&(n.length||void 0===n.length)&&("object"===(void 0===n?"undefined":f(n))&&n instanceof RegExp||("string"==typeof n&&(n=n.split(",").map((function(t){return t.trim()})).filter((function(t){return t}))),n=new RegExp("\\.("+n.join("|").replace(/\./g,"\\.")+")$","i")),-1===e.name.search(n)))return Promise.reject("extension");if(this.size>0&&e.size>=0&&e.size>this.size)return Promise.reject("size");if(this.customAction)return this.customAction(e,this);if(this.features.html5){if(this.shouldUseChunkUpload(e))return this.uploadChunk(e);if(e.putAction)return this.uploadPut(e);if(e.postAction)return this.uploadHtml5(e)}return e.postAction?this.uploadHtml4(e):Promise.reject("No action configured")},shouldUseChunkUpload:function(t){return this.chunkEnabled&&!!this.chunkOptions.handler&&t.size>this.chunkOptions.minSize},uploadChunk:function(t){var e=this.chunkOptions.handler;return t.chunk=new e(t,this.chunkOptions),t.chunk.upload()},uploadPut:function(t){var e=[],n=void 0;for(var r in t.data)null!=(n=t.data[r])&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));var o=e.length?(-1===t.putAction.indexOf("?")?"?":"&")+e.join("&"):"",i=new XMLHttpRequest;return i.open("PUT",t.putAction+o),this.uploadXhr(i,t,t.file)},uploadHtml5:function(t){var e=new window.FormData,n=void 0;for(var r in t.data)(n=t.data[r])&&"object"===(void 0===n?"undefined":f(n))&&"function"!=typeof n.toString?n instanceof File?e.append(r,n,n.name):e.append(r,JSON.stringify(n)):null!=n&&e.append(r,n);e.append(this.name,t.file,t.file.filename||t.name);var o=new XMLHttpRequest;return o.open("POST",t.postAction),this.uploadXhr(o,t,e)},uploadXhr:function(t,e,n){var r=this,o=e,i=0,a=0;t.upload.onprogress=function(t){if(o=r.get(o),t.lengthComputable&&o&&o.fileObject&&o.active){var e=Math.round(Date.now()/1e3);e!==i&&(i=e,o=r.update(o,{progress:(t.loaded/t.total*100).toFixed(2),speed:t.loaded-a}),a=t.loaded)}};var u=setInterval((function(){if(!(o=r.get(o))||!o.fileObject||o.success||o.error||!o.active){u&&(clearInterval(u),u=!1);try{t.abort(),t.timeout=1}catch(t){}}}),100);return new Promise((function(e,i){var a=void 0,c=function(n){if(!a){if(a=!0,u&&(clearInterval(u),u=!1),!(o=r.get(o)))return i("not_exists");if(!o.fileObject)return i("file_object");if(o.error)return i(o.error);if(!o.active)return i("abort");if(o.success)return e(o);var c={};switch(n.type){case"timeout":case"abort":c.error=n.type;break;case"error":t.status?t.status>=500?c.error="server":t.status>=400&&(c.error="denied"):c.error="network";break;default:t.status>=500?c.error="server":t.status>=400?c.error="denied":c.progress="100.00"}if(t.responseText){var s=t.getResponseHeader("Content-Type");s&&-1!==s.indexOf("/json")?c.response=JSON.parse(t.responseText):c.response=t.responseText}return(o=r.update(o,c)).error?i(o.error):e(o)}};for(var s in t.onload=c,t.onerror=c,t.onabort=c,t.ontimeout=c,o.timeout&&(t.timeout=o.timeout),o.headers)t.setRequestHeader(s,o.headers[s]);o=r.update(o,{xhr:t}),t.send(n)}))},uploadHtml4:function(t){var e=this,n=t,r=function(t){27===t.keyCode&&t.preventDefault()},o=document.createElement("iframe");o.id="upload-iframe-"+n.id,o.name="upload-iframe-"+n.id,o.src="about:blank",o.setAttribute("style","width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;");var i=document.createElement("form");i.action=n.postAction,i.name="upload-form-"+n.id,i.setAttribute("method","POST"),i.setAttribute("target","upload-iframe-"+n.id),i.setAttribute("enctype","multipart/form-data");var a=void 0,u=void 0;for(var c in n.data)(a=n.data[c])&&"object"===(void 0===a?"undefined":f(a))&&"function"!=typeof a.toString&&(a=JSON.stringify(a)),null!=a&&((u=document.createElement("input")).type="hidden",u.name=c,u.value=a,i.appendChild(u));return i.appendChild(n.el),document.body.appendChild(o).appendChild(i),new Promise((function(t,a){setTimeout((function(){if(!(n=e.update(n,{iframe:o})))return a("not_exists");var u=setInterval((function(){(n=e.get(n))&&n.fileObject&&!n.success&&!n.error&&n.active||(u&&(clearInterval(u),u=!1),o.onabort({type:n?"abort":"not_exists"}))}),100),c=void 0,s=function(i){if(!c){if(c=!0,u&&(clearInterval(u),u=!1),document.body.removeEventListener("keydown",r),!(n=e.get(n)))return a("not_exists");if(!n.fileObject)return a("file_object");if(n.error)return a(n.error);if(!n.active)return a("abort");if(n.success)return t(n);var s=function(){var t=void 0;try{o.contentWindow&&(t=o.contentWindow.document)}catch(t){}if(!t)try{t=o.contentDocument?o.contentDocument:o.document}catch(e){t=o.document}return t&&t.body?t.body.innerHTML:null}(),l={};switch(i.type){case"abort":l.error="abort";break;case"error":n.error?l.error=n.error:l.error=null===s?"network":"denied";break;default:n.error?l.error=n.error:null===l?l.error="network":l.progress="100.00"}if(null!==s){if(s&&"{"===s.substr(0,1)&&"}"===s.substr(s.length-1,1))try{s=JSON.parse(s)}catch(t){}l.response=s}return(n=e.update(n,l)).error?a(n.error):t(n)}};o.onload=s,o.onerror=s,o.onabort=s,document.body.addEventListener("keydown",r),i.submit()}),50)})).then((function(t){return o.parentNode&&o.parentNode.removeChild(o),t})).catch((function(t){return o.parentNode&&o.parentNode.removeChild(o),t}))},watchActive:function(t){for(var e=void 0,n=0;e=this.files[n];)if(n++,e.fileObject)if(t&&!this.destroy){if(this.uploading>=this.thread||this.uploading&&!this.features.html5)break;e.active||e.error||e.success||this.update(e,{active:!0})}else e.active&&this.update(e,{active:!1});0===this.uploading&&(this.active=!1)},watchDrop:function(t){var e=t;if(this.features.drop){if(this.dropElement)try{document.removeEventListener("dragenter",this.onDragenter,!1),document.removeEventListener("dragleave",this.onDragleave,!1),document.removeEventListener("drop",this.onDocumentDrop,!1),this.dropElement.removeEventListener("dragover",this.onDragover,!1),this.dropElement.removeEventListener("drop",this.onDrop,!1)}catch(t){}e?"string"==typeof e?e=document.querySelector(e)||this.$root.$el.querySelector(e):!0===e&&(e=this.$parent.$el):e=!1,this.dropElement=e,this.dropElement&&(document.addEventListener("dragenter",this.onDragenter,!1),document.addEventListener("dragleave",this.onDragleave,!1),document.addEventListener("drop",this.onDocumentDrop,!1),this.dropElement.addEventListener("dragover",this.onDragover,!1),this.dropElement.addEventListener("drop",this.onDrop,!1))}},onDragenter:function(t){if(t.preventDefault(),!this.dropActive&&t.dataTransfer){var e=t.dataTransfer;e.files&&e.files.length?this.dropActive=!0:e.types?(e.types.indexOf&&-1!==e.types.indexOf("Files")||e.types.contains&&e.types.contains("Files"))&&(this.dropActive=!0):this.dropActive=!0}},onDragleave:function(t){t.preventDefault(),this.dropActive&&("HTML"===t.target.nodeName||t.target===t.explicitOriginalTarget||!t.fromElement&&(t.clientX<=0||t.clientY<=0||t.clientX>=window.innerWidth||t.clientY>=window.innerHeight))&&(this.dropActive=!1)},onDragover:function(t){t.preventDefault()},onDocumentDrop:function(){this.dropActive=!1},onDrop:function(t){t.preventDefault(),this.addDataTransfer(t.dataTransfer)}}},m=function(t,e,n,r,o,i,a,u){var c=("function"==typeof n?n.options:n)||{};c.render||(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),c._scopeId=r;var s=void 0;if(e&&(s=function(t){e.call(this,a(t))}),void 0!==s)if(c.functional){var l=c.render;c.render=function(t,e){return s.call(e),l(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,s):[s]}return c}({render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{class:this.className},[this._t("default"),this._v(" "),e("label",{attrs:{for:this.inputId||this.name}}),this._v(" "),e("input-file")],2)},staticRenderFns:[]},(function(t){t&&t("data-v-595958af_0",{source:"\n.file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block\n}\n.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%\n}\n.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0\n}",map:void 0,media:void 0})}),p,void 0,!1,0,(function t(){var e=document.head||document.getElementsByTagName("head")[0],n=t.styles||(t.styles={}),r="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(t,o){if(!document.querySelector('style[data-vue-ssr-id~="'+t+'"]')){var i=r?o.media||"default":t,a=n[i]||(n[i]={ids:[],parts:[],element:void 0});if(!a.ids.includes(t)){var u=o.source,c=a.ids.length;if(a.ids.push(t),o.map&&(u+="\n/*# sourceURL="+o.map.sources[0]+" */",u+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o.map))))+" */"),r&&(a.element=a.element||document.querySelector("style[data-group="+i+"]")),!a.element){var s=a.element=document.createElement("style");s.type="text/css",o.media&&s.setAttribute("media",o.media),r&&(s.setAttribute("data-group",i),s.setAttribute("data-next-index","0")),e.appendChild(s)}if(r&&(c=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",c+1)),a.element.styleSheet)a.parts.push(u),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(u),f=a.element.childNodes;f[c]&&a.element.removeChild(f[c]),f.length?a.element.insertBefore(l,f[c]):a.element.appendChild(l)}}}}})),g=Object.freeze({default:m});return g&&m||g}()},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=60)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(49)("wks"),o=n(30),i=n(0).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(0),o=n(10),i=n(8),a=n(6),u=n(11),c=function(t,e,n){var s,l,f,d,h=t&c.F,p=t&c.G,m=t&c.S,g=t&c.P,v=t&c.B,b=p?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,y=p?o:o[e]||(o[e]={}),w=y.prototype||(y.prototype={});for(s in p&&(n=e),n)f=((l=!h&&b&&void 0!==b[s])?b:n)[s],d=v&&l?u(f,r):g&&"function"==typeof f?u(Function.call,f):f,b&&a(b,s,f,t&c.U),y[s]!=f&&i(y,s,d),g&&w[s]!=f&&(w[s]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){t.exports=!n(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(0),o=n(8),i=n(12),a=n(30)("src"),u=Function.toString,c=(""+u).split("toString");n(10).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(s&&(i(n,a)||o(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||u.call(this)}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(13),o=n(25);t.exports=n(4)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(14);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(2),o=n(41),i=n(29),a=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(23),o=n(16);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(53),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(11),o=n(23),i=n(28),a=n(19),u=n(64);t.exports=function(t,e){var n=1==t,c=2==t,s=3==t,l=4==t,f=6==t,d=5==t||f,h=e||u;return function(e,u,p){for(var m,g,v=i(e),b=o(v),y=r(u,p,3),w=a(b.length),x=0,C=n?h(e,w):c?h(e,0):void 0;w>x;x++)if((d||x in b)&&(g=y(m=b[x],x,v),t))if(n)C[x]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:C.push(m)}else if(l)return!1;return f?-1:s||l?l:C}}},function(t,e,n){var r=n(5),o=n(0).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(9);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports=!1},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(13).f,o=n(12),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(49)("keys"),o=n(30);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(16);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(9),a=n(67),u=n(29),c=n(7),s=n(77).f,l=n(45).f,f=n(13).f,d=n(51).trim,h=r.Number,p=h,m=h.prototype,g="Number"==i(n(44)(m)),v="trim"in String.prototype,b=function(t){var e=u(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,i=(e=v?e.trim():d(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,c=e.slice(2),s=0,l=c.length;s<l;s++)if((a=c.charCodeAt(s))<48||a>o)return NaN;return parseInt(c,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(g?c((function(){m.valueOf.call(n)})):"Number"!=i(n))?a(new p(b(e)),n,h):b(e)};for(var y,w=n(4)?s(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)o(p,y=w[x])&&!o(h,y)&&f(h,y,l(p,y));h.prototype=m,m.constructor=h,n(6)(r,"Number",h)}},function(t,e,n){"use strict";function r(t){return!(0===t||(!Array.isArray(t)||0!==t.length)&&t)}function o(t,e,n,r){return t.filter((function(t){return function(t,e){return void 0===t&&(t="undefined"),null===t&&(t="null"),!1===t&&(t="false"),-1!==t.toString().toLowerCase().indexOf(e.trim())}(r(t,n),e)}))}function i(t){return t.filter((function(t){return!t.$isLabel}))}function a(t,e){return function(n){return n.reduce((function(n,r){return r[t]&&r[t].length?(n.push({$groupLabel:r[e],$isLabel:!0}),n.concat(r[t])):n}),[])}}function u(t,e,r,i,a){return function(u){return u.map((function(u){var c;if(!u[r])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];var s=o(u[r],t,e,a);return s.length?(c={},n.i(d.a)(c,i,u[i]),n.i(d.a)(c,r,s),c):[]}))}}var c=n(59),s=n(54),l=(n.n(s),n(95)),f=(n.n(l),n(31)),d=(n.n(f),n(58)),h=n(91),p=(n.n(h),n(98)),m=(n.n(p),n(92)),g=(n.n(m),n(88)),v=(n.n(g),n(97)),b=(n.n(v),n(89)),y=(n.n(b),n(96)),w=(n.n(y),n(93)),x=(n.n(w),n(90)),C=(n.n(x),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}});e.a={data:function(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(t,e){return r(t)?"":e?t[e]:t}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default:function(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1}},mounted:function(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue:function(){return this.value||0===this.value?Array.isArray(this.value)?this.value:[this.value]:[]},filteredOptions:function(){var t=this.search||"",e=t.toLowerCase().trim(),n=this.options.concat();return n=this.internalSearch?this.groupValues?this.filterAndFlat(n,e,this.label):o(n,e,this.label,this.customLabel):this.groupValues?a(this.groupValues,this.groupLabel)(n):n,n=this.hideSelected?n.filter(function(t){return function(){return!t.apply(void 0,arguments)}}(this.isSelected)):n,this.taggable&&e.length&&!this.isExistingOption(e)&&("bottom"===this.tagPosition?n.push({isTag:!0,label:t}):n.unshift({isTag:!0,label:t})),n.slice(0,this.optionsLimit)},valueKeys:function(){var t=this;return this.trackBy?this.internalValue.map((function(e){return e[t.trackBy]})):this.internalValue},optionKeys:function(){var t=this;return(this.groupValues?this.flatAndStrip(this.options):this.options).map((function(e){return t.customLabel(e,t.label).toString().toLowerCase()}))},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("input",this.multiple?[]:null))},search:function(){this.$emit("search-change",this.search,this.id)}},methods:{getValue:function(){return this.multiple?this.internalValue:0===this.internalValue.length?null:this.internalValue[0]},filterAndFlat:function(t,e,n){return C(u(e,n,this.groupValues,this.groupLabel,this.customLabel),a(this.groupValues,this.groupLabel))(t)},flatAndStrip:function(t){return C(a(this.groupValues,this.groupLabel),i)(t)},updateSearch:function(t){this.search=t},isExistingOption:function(t){return!!this.options&&this.optionKeys.indexOf(t)>-1},isSelected:function(t){var e=this.trackBy?t[this.trackBy]:t;return this.valueKeys.indexOf(e)>-1},isOptionDisabled:function(t){return!!t.$isDisabled},getOptionLabel:function(t){if(r(t))return"";if(t.isTag)return t.label;if(t.$isLabel)return t.$groupLabel;var e=this.customLabel(t,this.label);return r(e)?"":e},select:function(t,e){if(t.$isLabel&&this.groupSelect)this.selectGroup(t);else if(!(-1!==this.blockKeys.indexOf(e)||this.disabled||t.$isDisabled||t.$isLabel)&&(!this.max||!this.multiple||this.internalValue.length!==this.max)&&("Tab"!==e||this.pointerDirty)){if(t.isTag)this.$emit("tag",t.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(t))return void("Tab"!==e&&this.removeElement(t));this.$emit("select",t,this.id),this.multiple?this.$emit("input",this.internalValue.concat([t]),this.id):this.$emit("input",t,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup:function(t){var e=this,n=this.options.find((function(n){return n[e.groupLabel]===t.$groupLabel}));if(n)if(this.wholeGroupSelected(n)){this.$emit("remove",n[this.groupValues],this.id);var r=this.internalValue.filter((function(t){return-1===n[e.groupValues].indexOf(t)}));this.$emit("input",r,this.id)}else{var o=n[this.groupValues].filter((function(t){return!(e.isOptionDisabled(t)||e.isSelected(t))}));this.$emit("select",o,this.id),this.$emit("input",this.internalValue.concat(o),this.id)}},wholeGroupSelected:function(t){var e=this;return t[this.groupValues].every((function(t){return e.isSelected(t)||e.isOptionDisabled(t)}))},wholeGroupDisabled:function(t){return t[this.groupValues].every(this.isOptionDisabled)},removeElement:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.disabled&&!t.$isDisabled){if(!this.allowEmpty&&this.internalValue.length<=1)return void this.deactivate();var r="object"===n.i(c.a)(t)?this.valueKeys.indexOf(t[this.trackBy]):this.valueKeys.indexOf(t);if(this.$emit("remove",t,this.id),this.multiple){var o=this.internalValue.slice(0,r).concat(this.internalValue.slice(r+1));this.$emit("input",o,this.id)}else this.$emit("input",null,this.id);this.closeOnSelect&&e&&this.deactivate()}},removeLastElement:function(){-1===this.blockKeys.indexOf("Delete")&&0===this.search.length&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate:function(){var t=this;this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&0===this.pointer&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.$nextTick((function(){return t.$refs.search.focus()}))):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){if("undefined"!=typeof window){var t=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>t||"below"===this.openDirection||"bottom"===this.openDirection?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(t-40,this.maxHeight))}}}}},function(t,e,n){"use strict";var r=n(54),o=(n.n(r),n(31));n.n(o),e.a={data:function(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight},visibleElements:function(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()},isOpen:function(){this.pointerDirty=!1}},methods:{optionHighlight:function(t,e){return{"multiselect__option--highlight":t===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight:function(t,e){var n=this;if(!this.groupSelect)return["multiselect__option--group","multiselect__option--disabled"];var r=this.options.find((function(t){return t[n.groupLabel]===e.$groupLabel}));return r&&!this.wholeGroupDisabled(r)?["multiselect__option--group",{"multiselect__option--highlight":t===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(r)}]:"multiselect__option--disabled"},addPointerElement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Enter",e=t.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],e),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet:function(t){this.pointer=t,this.pointerDirty=!0}}}},function(t,e,n){"use strict";var r=n(36),o=n(74),i=n(15),a=n(18);t.exports=n(72)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(31),o=(n.n(r),n(32)),i=n(33);e.a={name:"vue-multiselect",mixins:[o.a,i.a],props:{name:{type:String,default:""},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(t){return"and ".concat(t," more")}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{isSingleLabelVisible:function(){return(this.singleValue||0===this.singleValue)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible:function(){return!(this.internalValue.length||this.searchable&&this.isOpen)},visibleValues:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue:function(){return this.internalValue[0]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText:function(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectGroupLabelText:function(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""},inputStyle:function(){if(this.searchable||this.multiple&&this.value&&this.value.length)return this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}},contentStyle:function(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove:function(){return"above"===this.openDirection||"top"===this.openDirection||"below"!==this.openDirection&&"bottom"!==this.openDirection&&"above"===this.preferredOpenDirection},showSearchInput:function(){return this.searchable&&(!this.hasSingleSelectedSlot||!this.visibleSingleValue&&0!==this.visibleSingleValue||this.isOpen)}}}},function(t,e,n){var r=n(1)("unscopables"),o=Array.prototype;null==o[r]&&n(8)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){var r=n(18),o=n(19),i=n(85);t.exports=function(t){return function(e,n,a){var u,c=r(e),s=o(c.length),l=i(a,s);if(t&&n!=n){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(9),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var r=n(2);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){t.exports=!n(4)&&!n(7)((function(){return 7!=Object.defineProperty(n(21)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(9);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=o(e),this.reject=o(n)}var o=n(14);t.exports.f=function(t){return new r(t)}},function(t,e,n){var r=n(2),o=n(76),i=n(22),a=n(27)("IE_PROTO"),u=function(){},c=function(){var t,e=n(21)("iframe"),r=i.length;for(e.style.display="none",n(40).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(79),o=n(25),i=n(18),a=n(29),u=n(12),c=n(41),s=Object.getOwnPropertyDescriptor;e.f=n(4)?s:function(t,e){if(t=i(t),e=a(e,!0),c)try{return s(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(12),o=n(18),i=n(37)(!1),a=n(27)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),c=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r=n(46),o=n(22);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(2),o=n(5),i=n(43);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(10),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(24)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(2),o=n(14),i=n(1)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(3),o=n(16),i=n(7),a=n(84),u="["+a+"]",c=RegExp("^"+u+u+"*"),s=RegExp(u+u+"*$"),l=function(t,e,n){var o={},u=i((function(){return!!a[t]()||""!=""[t]()})),c=o[t]=u?e(f):a[t];n&&(o[n]=c),r(r.P+r.F*u,"String",o)},f=l.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(s,"")),t};t.exports=l},function(t,e,n){var r,o,i,a=n(11),u=n(68),c=n(40),s=n(21),l=n(0),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,m=l.Dispatch,g=0,v={},b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){b.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){u("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete v[t]},"process"==n(9)(f)?r=function(t){f.nextTick(a(b,t,1))}:m&&m.now?r=function(t){m.now(a(b,t,1))}:p?(i=(o=new p).port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",y,!1)):r="onreadystatechange"in s("script")?function(t){c.appendChild(s("script")).onreadystatechange=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:d,clear:h}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(3),o=n(20)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(36)("find")},function(t,e,n){"use strict";var r,o,i,a,u=n(24),c=n(0),s=n(11),l=n(38),f=n(3),d=n(5),h=n(14),p=n(61),m=n(66),g=n(50),v=n(52).set,b=n(75)(),y=n(43),w=n(80),x=n(86),C=n(48),_=c.TypeError,S=c.process,k=S&&S.versions,O=k&&k.v8||"",T=c.Promise,E="process"==l(S),A=function(){},D=o=y.f,N=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(A,A)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==O.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;b((function(){for(var r=t._v,o=1==t._s,i=0;n.length>i;)!function(e){var n,i,a,u=o?e.ok:e.fail,c=e.resolve,s=e.reject,l=e.domain;try{u?(o||(2==t._h&&z(t),t._h=1),!0===u?n=r:(l&&l.enter(),n=u(r),l&&(l.exit(),a=!0)),n===e.promise?s(_("Promise-chain cycle")):(i=M(n))?i.call(n,c,s):c(n)):s(r)}catch(t){l&&!a&&l.exit(),s(t)}}(n[i++]);t._c=[],t._n=!1,e&&!t._h&&P(t)}))}},P=function(t){v.call(c,(function(){var e,n,r,o=t._v,i=B(t);if(i&&(e=w((function(){E?S.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),t._h=E||B(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},z=function(t){v.call(c,(function(){var e;E?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},I=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(e=M(t))?b((function(){var r={_w:n,_d:!1};try{e.call(t,s(L,r,1),s(I,r,1))}catch(t){I.call(r,t)}})):(n._v=t,n._s=1,R(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};N||(T=function(t){p(this,T,"Promise","_h"),h(t),r.call(this);try{t(s(L,this,1),s(I,this,1))}catch(t){I.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(81)(T.prototype,{then:function(t,e){var n=D(g(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=s(L,t,1),this.reject=s(I,t,1)},y.f=D=function(t){return t===T||t===a?new i(t):o(t)}),f(f.G+f.W+f.F*!N,{Promise:T}),n(26)(T,"Promise"),n(83)("Promise"),a=n(10).Promise,f(f.S+f.F*!N,"Promise",{reject:function(t){var e=D(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(u||!N),"Promise",{resolve:function(t){return C(u&&this===a?T:this,t)}}),f(f.S+f.F*!(N&&n(73)((function(t){T.all(t).catch(A)}))),"Promise",{all:function(t){var e=this,n=D(e),r=n.resolve,o=n.reject,i=w((function(){var n=[],i=0,a=1;m(t,!1,(function(t){var u=i++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[u]=t,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=D(e),r=n.reject,o=w((function(){m(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(t,e,n){"use strict";var r=n(3),o=n(10),i=n(0),a=n(50),u=n(48);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var r=n(35),o=n(101),i=function(t){n(99)},a=n(100)(r.a,o.a,!1,i,null,null);e.a=a.exports},function(t,e,n){"use strict";e.a=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34),o=(n.n(r),n(55)),i=(n.n(o),n(56)),a=(n.n(i),n(57)),u=n(32),c=n(33);n.d(e,"Multiselect",(function(){return a.a})),n.d(e,"multiselectMixin",(function(){return u.a})),n.d(e,"pointerMixin",(function(){return c.a})),e.default=a.a},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(14),o=n(28),i=n(23),a=n(19);t.exports=function(t,e,n,u,c){r(e);var s=o(t),l=i(s),f=a(s.length),d=c?f-1:0,h=c?-1:1;if(n<2)for(;;){if(d in l){u=l[d],d+=h;break}if(d+=h,c?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;c?d>=0:f>d;d+=h)d in l&&(u=e(u,l[d],d,s));return u}},function(t,e,n){var r=n(5),o=n(42),i=n(1)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(63);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(8),o=n(6),i=n(7),a=n(16),u=n(1);t.exports=function(t,e,n){var c=u(t),s=n(a,c,""[t]),l=s[0],f=s[1];i((function(){var e={};return e[c]=function(){return 7},7!=""[t](e)}))&&(o(String.prototype,t,l),r(RegExp.prototype,c,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},function(t,e,n){var r=n(11),o=n(70),i=n(69),a=n(2),u=n(19),c=n(87),s={},l={};(e=t.exports=function(t,e,n,f,d){var h,p,m,g,v=d?function(){return t}:c(t),b=r(n,f,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(h=u(t.length);h>y;y++)if((g=e?b(a(p=t[y])[0],p[1]):b(t[y]))===s||g===l)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=o(m,b,p.value,e))===s||g===l)return g}).BREAK=s,e.RETURN=l},function(t,e,n){var r=n(5),o=n(82).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(15),o=n(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(2);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){"use strict";var r=n(44),o=n(25),i=n(26),a={};n(8)(a,n(1)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(24),o=n(3),i=n(6),a=n(8),u=n(15),c=n(71),s=n(26),l=n(78),f=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,m,g,v){c(n,e,p);var b,y,w,x=function(t){if(!d&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",_="values"==m,S=!1,k=t.prototype,O=k[f]||k["@@iterator"]||m&&k[m],T=O||x(m),E=m?_?x("entries"):T:void 0,A="Array"==e&&k.entries||O;if(A&&(w=l(A.call(new t)))!==Object.prototype&&w.next&&(s(w,C,!0),r||"function"==typeof w[f]||a(w,f,h)),_&&O&&"values"!==O.name&&(S=!0,T=function(){return O.call(this)}),r&&!v||!d&&!S&&k[f]||a(k,f,T),u[e]=T,u[C]=h,m)if(b={values:_?T:x("values"),keys:g?T:x("keys"),entries:E},v)for(y in b)y in k||i(k,y,b[y]);else o(o.P+o.F*(d||S),e,b);return b}},function(t,e,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(0),o=n(52).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,c="process"==n(9)(a);t.exports=function(){var t,e,n,s=function(){var r,o;for(c&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(s)};else if(!i||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var l=u.resolve(void 0);n=function(){l.then(s)}}else n=function(){o.call(r,s)};else{var f=!0,d=document.createTextNode("");new i(s).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var r=n(13),o=n(2),i=n(47);t.exports=n(4)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),u=a.length,c=0;u>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(46),o=n(22).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(12),o=n(28),i=n(27)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(6);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(5),o=n(2),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(11)(Function.call,n(45).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){"use strict";var r=n(0),o=n(13),i=n(4),a=n(1)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var r=n(53),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(0).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(38),o=n(1)("iterator"),i=n(15);t.exports=n(10).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";var r=n(3),o=n(20)(2);r(r.P+r.F*!n(17)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(3),o=n(37)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(17)(i)),"Array",{indexOf:function(t){return a?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){var r=n(3);r(r.S,"Array",{isArray:n(42)})},function(t,e,n){"use strict";var r=n(3),o=n(20)(1);r(r.P+r.F*!n(17)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(3),o=n(62);r(r.P+r.F*!n(17)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(6)(r,"toString",(function(){var t=i.call(this);return t==t?o.call(this):"Invalid Date"}))},function(t,e,n){n(4)&&"g"!=/./g.flags&&n(13).f(RegExp.prototype,"flags",{configurable:!0,get:n(39)})},function(t,e,n){n(65)("search",1,(function(t,e,n){return[function(n){"use strict";var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},n]}))},function(t,e,n){"use strict";n(94);var r=n(2),o=n(39),i=n(4),a=/./.toString,u=function(t){n(6)(RegExp.prototype,"toString",t,!0)};n(7)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?u((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)})):"toString"!=a.name&&u((function(){return a.call(this)}))},function(t,e,n){"use strict";n(51)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){for(var r=n(34),o=n(47),i=n(6),a=n(0),u=n(8),c=n(15),s=n(1),l=s("iterator"),f=s("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),m=0;m<p.length;m++){var g,v=p[m],b=h[v],y=a[v],w=y&&y.prototype;if(w&&(w[l]||u(w,l,d),w[f]||u(w,f,v),c[v]=d,b))for(g in r)w[g]||i(w,g,r[g],!0)}},function(t,e){},function(t,e){t.exports=function(t,e,n,r,o,i){var a,u=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(a=t,u=t.default);var s,l="function"==typeof u?u.options:u;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId=o),i?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=s):r&&(s=r),s){var f=l.functional,d=f?l.render:l.beforeCreate;f?(l._injectStyles=s,l.render=function(t,e){return s.call(e),d(t,e)}):l.beforeCreate=d?[].concat(d,s):[s]}return{esModule:a,exports:u,options:l}}},function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multiselect",class:{"multiselect--active":t.isOpen,"multiselect--disabled":t.disabled,"multiselect--above":t.isAbove},attrs:{tabindex:t.searchable?-1:t.tabindex},on:{focus:function(e){t.activate()},blur:function(e){!t.searchable&&t.deactivate()},keydown:[function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?e.target!==e.currentTarget?null:(e.preventDefault(),void t.pointerForward()):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?e.target!==e.currentTarget?null:(e.preventDefault(),void t.pointerBackward()):null}],keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")||!t._k(e.keyCode,"tab",9,e.key,"Tab")?(e.stopPropagation(),e.target!==e.currentTarget?null:void t.addPointerElement(e)):null},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.deactivate()}}},[t._t("caret",[n("div",{staticClass:"multiselect__select",on:{mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}}})],{toggle:t.toggle}),t._v(" "),t._t("clear",null,{search:t.search}),t._v(" "),n("div",{ref:"tags",staticClass:"multiselect__tags"},[t._t("selection",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleValues.length>0,expression:"visibleValues.length > 0"}],staticClass:"multiselect__tags-wrap"},[t._l(t.visibleValues,(function(e,r){return[t._t("tag",[n("span",{key:r,staticClass:"multiselect__tag"},[n("span",{domProps:{textContent:t._s(t.getOptionLabel(e))}}),t._v(" "),n("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keypress:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;n.preventDefault(),t.removeElement(e)},mousedown:function(n){n.preventDefault(),t.removeElement(e)}}})])],{option:e,search:t.search,remove:t.removeElement})]}))],2),t._v(" "),t.internalValue&&t.internalValue.length>t.limit?[t._t("limit",[n("strong",{staticClass:"multiselect__strong",domProps:{textContent:t._s(t.limitText(t.internalValue.length-t.limit))}})])]:t._e()],{search:t.search,remove:t.removeElement,values:t.visibleValues,isOpen:t.isOpen}),t._v(" "),n("transition",{attrs:{name:"multiselect__loading"}},[t._t("loading",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),t._v(" "),t.searchable?n("input",{ref:"search",staticClass:"multiselect__input",style:t.inputStyle,attrs:{name:t.name,id:t.id,type:"text",autocomplete:"nope",placeholder:t.placeholder,disabled:t.disabled,tabindex:t.tabindex},domProps:{value:t.search},on:{input:function(e){t.updateSearch(e.target.value)},focus:function(e){e.preventDefault(),t.activate()},blur:function(e){e.preventDefault(),t.deactivate()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.deactivate()},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.pointerForward()},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.pointerBackward()},function(e){if(!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete"]))return null;e.stopPropagation(),t.removeLastElement()}],keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),e.stopPropagation(),e.target!==e.currentTarget?null:void t.addPointerElement(e)):null}}}):t._e(),t._v(" "),t.isSingleLabelVisible?n("span",{staticClass:"multiselect__single",on:{mousedown:function(e){return e.preventDefault(),t.toggle(e)}}},[t._t("singleLabel",[[t._v(t._s(t.currentOptionLabel))]],{option:t.singleValue})],2):t._e(),t._v(" "),t.isPlaceholderVisible?n("span",{staticClass:"multiselect__placeholder",on:{mousedown:function(e){return e.preventDefault(),t.toggle(e)}}},[t._t("placeholder",[t._v("\n          "+t._s(t.placeholder)+"\n        ")])],2):t._e()],2),t._v(" "),n("transition",{attrs:{name:"multiselect"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content-wrapper",style:{maxHeight:t.optimizedHeight+"px"},attrs:{tabindex:"-1"},on:{focus:t.activate,mousedown:function(t){t.preventDefault()}}},[n("ul",{staticClass:"multiselect__content",style:t.contentStyle},[t._t("beforeList"),t._v(" "),t.multiple&&t.max===t.internalValue.length?n("li",[n("span",{staticClass:"multiselect__option"},[t._t("maxElements",[t._v("Maximum of "+t._s(t.max)+" options selected. First remove a selected option to select another.")])],2)]):t._e(),t._v(" "),!t.max||t.internalValue.length<t.max?t._l(t.filteredOptions,(function(e,r){return n("li",{key:r,staticClass:"multiselect__element"},[e&&(e.$isLabel||e.$isDisabled)?t._e():n("span",{staticClass:"multiselect__option",class:t.optionHighlight(r,e),attrs:{"data-select":e&&e.isTag?t.tagPlaceholder:t.selectLabelText,"data-selected":t.selectedLabelText,"data-deselect":t.deselectLabelText},on:{click:function(n){n.stopPropagation(),t.select(e)},mouseenter:function(e){if(e.target!==e.currentTarget)return null;t.pointerSet(r)}}},[t._t("option",[n("span",[t._v(t._s(t.getOptionLabel(e)))])],{option:e,search:t.search})],2),t._v(" "),e&&(e.$isLabel||e.$isDisabled)?n("span",{staticClass:"multiselect__option",class:t.groupHighlight(r,e),attrs:{"data-select":t.groupSelect&&t.selectGroupLabelText,"data-deselect":t.groupSelect&&t.deselectGroupLabelText},on:{mouseenter:function(e){if(e.target!==e.currentTarget)return null;t.groupSelect&&t.pointerSet(r)},mousedown:function(n){n.preventDefault(),t.selectGroup(e)}}},[t._t("option",[n("span",[t._v(t._s(t.getOptionLabel(e)))])],{option:e,search:t.search})],2):t._e()])})):t._e(),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.showNoResults&&0===t.filteredOptions.length&&t.search&&!t.loading,expression:"showNoResults && (filteredOptions.length === 0 && search && !loading)"}]},[n("span",{staticClass:"multiselect__option"},[t._t("noResult",[t._v("No elements found. Consider changing the search query.")],{search:t.search})],2)]),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.showNoOptions&&0===t.options.length&&!t.search&&!t.loading,expression:"showNoOptions && (options.length === 0 && !search && !loading)"}]},[n("span",{staticClass:"multiselect__option"},[t._t("noOptions",[t._v("List is empty.")])],2)]),t._v(" "),t._t("afterList")],2)])])],2)},staticRenderFns:[]};e.a=r}])},function(t,e,n){"use strict";n.r(e);var r=n(106),o={};r.keys().forEach((function(t){"./index.js"!==t&&(o[t.replace(/(\.\/|\.js)/g,"")]=r(t).default)})),e.default=o},function(t,e,n){!function(t){"use strict";var e={inject:["manager"],props:{index:{type:Number,required:!0},collection:{type:[String,Number],default:"default"},disabled:{type:Boolean,default:!1}},mounted:function(){var t=this.$props,e=t.collection,n=t.disabled,r=t.index;n||this.setDraggable(e,r)},watch:{index:function(t){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=t)},disabled:function(t){t?this.removeDraggable(this.collection):this.setDraggable(this.collection,this.index)},collection:function(t,e){this.removeDraggable(e),this.setDraggable(t,this.index)}},beforeDestroy:function(){var t=this.collection;this.disabled||this.removeDraggable(t)},methods:{setDraggable:function(t,e){var n=this.$el;n.sortableInfo={index:e,collection:t,manager:this.manager},this.ref={node:n},this.manager.add(t,this.ref)},removeDraggable:function(t){this.manager.remove(t,this.ref)}}},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.refs={}}return n(t,[{key:"add",value:function(t,e){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(e)}},{key:"remove",value:function(t,e){var n=this.getIndex(t,e);-1!==n&&this.refs[t].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find((function(e){return e.node.sortableInfo.index==t.active.index}))}},{key:"getIndex",value:function(t,e){return this.refs[t].indexOf(e)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[t].sort((function(t,e){return t.node.sortableInfo.index-e.node.sortableInfo.index}))}}]),t}();function a(t,e,n){var r=t.slice(0);if(n>=r.length)for(var o=n-r.length;1+o--;)r.push(void 0);return r.splice(n,0,r.splice(e,1)[0]),r}var u={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},c=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];switch(e){case"ms":return"ms";default:return e&&e.length?e[0].toUpperCase()+e.substr(1):""}}();function s(t,e){for(;t;){if(e(t))return t;t=t.parentNode}}function l(t,e,n){return n<t?t:n>e?e:n}function f(t){return"px"===t.substr(-2)?parseFloat(t):0}var d={data:function(){return{sorting:!1,sortingIndex:null,manager:new i,events:{start:this.handleStart,move:this.handleMove,end:this.handleEnd}}},props:{value:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},lockAxis:String,helperClass:String,contentWindow:Object,shouldCancelStart:{type:Function,default:function(t){return-1!==["input","textarea","select","option","button"].indexOf(t.target.tagName.toLowerCase())}},getHelperDimensions:{type:Function,default:function(t){var e=t.node;return{width:e.offsetWidth,height:e.offsetHeight}}}},provide:function(){return{manager:this.manager}},mounted:function(){var t=this;this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?this.document.body:this.container;var e=function(e){t.events.hasOwnProperty(e)&&u[e].forEach((function(n){return t.container.addEventListener(n,t.events[e],!1)}))};for(var n in this.events)e(n)},beforeDestroy:function(){var t=this,e=function(e){t.events.hasOwnProperty(e)&&u[e].forEach((function(n){return t.container.removeEventListener(n,t.events[e])}))};for(var n in this.events)e(n)},methods:{handleStart:function(t){var e=this,n=this.$props,r=n.distance,o=n.shouldCancelStart;if(2===t.button||o(t))return!1;this._touched=!0,this._pos={x:t.pageX,y:t.pageY};var i=s(t.target,(function(t){return null!=t.sortableInfo}));if(i&&i.sortableInfo&&this.nodeIsChild(i)&&!this.sorting){var a=this.$props.useDragHandle,u=i.sortableInfo,c=u.index,l=u.collection;if(a&&!s(t.target,(function(t){return null!=t.sortableHandle})))return;this.manager.active={index:c,collection:l},"a"===t.target.tagName.toLowerCase()&&t.preventDefault(),r||(0===this.$props.pressDelay?this.handlePress(t):this.pressTimer=setTimeout((function(){return e.handlePress(t)}),this.$props.pressDelay))}},nodeIsChild:function(t){return t.sortableInfo.manager===this.manager},handleMove:function(t){var e=this.$props,n=e.distance,r=e.pressThreshold;if(!this.sorting&&this._touched){this._delta={x:this._pos.x-t.pageX,y:this._pos.y-t.pageY};var o=Math.abs(this._delta.x)+Math.abs(this._delta.y);n||r&&!(r&&o>=r)?n&&o>=n&&this.manager.isActive()&&this.handlePress(t):(clearTimeout(this.cancelTimer),this.cancelTimer=setTimeout(this.cancel,0))}},handleEnd:function(){var t=this.$props.distance;this._touched=!1,t||this.cancel()},cancel:function(){this.sorting||(clearTimeout(this.pressTimer),this.manager.active=null)},handlePress:function(t){var e,n,r=this,i=this.manager.getActive();if(i){var a=this.$props,c=a.axis,s=a.getHelperDimensions,l=a.helperClass,d=a.hideSortableGhost,h=a.useWindowAsScrollContainer,p=a.appendTo,m=i.node,g=i.collection,v=m.sortableInfo.index,b=(e=m,{top:f((n=window.getComputedStyle(e)).marginTop),right:f(n.marginRight),bottom:f(n.marginBottom),left:f(n.marginLeft)}),y=this.container.getBoundingClientRect(),w=s({index:v,node:m,collection:g});this.node=m,this.margin=b,this.width=w.width,this.height=w.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=m.getBoundingClientRect(),this.containerBoundingRect=y,this.index=v,this.newIndex=v,this._axis={x:c.indexOf("x")>=0,y:c.indexOf("y")>=0},this.offsetEdge=this.getEdgeOffset(m),this.initialOffset=this.getOffset(t),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var x,C=m.querySelectorAll("input, textarea, select"),_=m.cloneNode(!0);[].concat(o(_.querySelectorAll("input, textarea, select"))).forEach((function(t,e){"file"!==t.type&&C[e]&&(t.value=C[e].value)})),this.helper=this.document.querySelector(p).appendChild(_),this.helper.style.position="fixed",this.helper.style.top=this.boundingClientRect.top-b.top+"px",this.helper.style.left=this.boundingClientRect.left-b.left+"px",this.helper.style.width=this.width+"px",this.helper.style.height=this.height+"px",this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",d&&(this.sortableGhost=m,m.style.visibility="hidden",m.style.opacity=0),this.translate={},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(h?0:y.left)-this.boundingClientRect.left-this.width/2,this.maxTranslate.x=(h?this._window.innerWidth:y.left+y.width)-this.boundingClientRect.left-this.width/2),this._axis.y&&(this.minTranslate.y=(h?0:y.top)-this.boundingClientRect.top-this.height/2,this.maxTranslate.y=(h?this._window.innerHeight:y.top+y.height)-this.boundingClientRect.top-this.height/2),l&&(x=this.helper.classList).add.apply(x,o(l.split(" "))),this.listenerNode=t.touches?m:this._window,u.move.forEach((function(t){return r.listenerNode.addEventListener(t,r.handleSortMove,!1)})),u.end.forEach((function(t){return r.listenerNode.addEventListener(t,r.handleSortEnd,!1)})),this.sorting=!0,this.sortingIndex=v,this.$emit("sort-start",{event:t,node:m,index:v,collection:g})}},handleSortMove:function(t){t.preventDefault(),this.updatePosition(t),this.animateNodes(),this.autoscroll(),this.$emit("sort-move",{event:t})},handleSortEnd:function(t){var e=this,n=this.manager.active.collection;this.listenerNode&&(u.move.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortMove)})),u.end.forEach((function(t){return e.listenerNode.removeEventListener(t,e.handleSortEnd)})));var r=this.manager.refs[n],o=function(){e.helper.parentNode.removeChild(e.helper),e.hideSortableGhost&&e.sortableGhost&&(e.sortableGhost.style.visibility="",e.sortableGhost.style.opacity="");for(var o=0,i=r.length;o<i;o++){var u=r[o],s=u.node;u.edgeOffset=null,s.style[c+"Transform"]="",s.style[c+"TransitionDuration"]=""}clearInterval(e.autoscrollInterval),e.autoscrollInterval=null,e.manager.active=null,e.sorting=!1,e.sortingIndex=null,e.$emit("sort-end",{event:t,oldIndex:e.index,newIndex:e.newIndex,collection:n}),e.$emit("input",a(e.value,e.index,e.newIndex)),e._touched=!1};this.$props.transitionDuration||this.$props.draggedSettlingDuration?this.transitionHelperIntoPlace(r).then((function(){return o()})):o()},transitionHelperIntoPlace:function(t){var e=this;if(0===this.$props.draggedSettlingDuration)return Promise.resolve();var n=this.scrollContainer.scrollLeft-this.initialScroll.left,r=this.scrollContainer.scrollTop-this.initialScroll.top,o=t[this.index].node,i=t[this.newIndex].node,a=-n;this.translate&&this.translate.x>0?a+=i.offsetLeft+i.offsetWidth-(o.offsetLeft+o.offsetWidth):a+=i.offsetLeft-o.offsetLeft;var u=-r;this.translate&&this.translate.y>0?u+=i.offsetTop+i.offsetHeight-(o.offsetTop+o.offsetHeight):u+=i.offsetTop-o.offsetTop;var s=null!==this.$props.draggedSettlingDuration?this.$props.draggedSettlingDuration:this.$props.transitionDuration;return this.helper.style[c+"Transform"]="translate3d("+a+"px,"+u+"px, 0)",this.helper.style[c+"TransitionDuration"]=s+"ms",new Promise((function(t){var n=function(n){n&&"transform"!==n.propertyName||(clearTimeout(r),e.helper.style[c+"Transform"]="",e.helper.style[c+"TransitionDuration"]="",t())},r=setTimeout(n,s+10);e.helper.addEventListener("transitionend",n,!1)}))},getEdgeOffset:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(t){var n={top:e.top+t.offsetTop,left:e.left+t.offsetLeft};return t.parentNode!==this.container?this.getEdgeOffset(t.parentNode,n):n}},getOffset:function(t){return{x:t.touches?t.touches[0].pageX:t.pageX,y:t.touches?t.touches[0].pageY:t.pageY}},getLockPixelOffsets:function(){var t=this.$props.lockOffset;if(Array.isArray(this.lockOffset)||(t=[t,t]),2!==t.length)throw new Error("lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given "+t);var e=r(t,2),n=e[0],o=e[1];return[this.getLockPixelOffset(n),this.getLockPixelOffset(o)]},getLockPixelOffset:function(t){var e=t,n=t,r="px";if("string"==typeof t){var o=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);if(null===o)throw new Error('lockOffset value should be a number or a string of a number followed by "px" or "%". Given '+t);e=n=parseFloat(t),r=o[1]}if(!isFinite(e)||!isFinite(n))throw new Error("lockOffset value should be a finite. Given "+t);return"%"===r&&(e=e*this.width/100,n=n*this.height/100),{x:e,y:n}},updatePosition:function(t){var e=this.$props,n=e.lockAxis,o=e.lockToContainerEdges,i=this.getOffset(t),a={x:i.x-this.initialOffset.x,y:i.y-this.initialOffset.y};if(a.y-=window.pageYOffset-this.initialWindowScroll.top,a.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=a,o){var u=this.getLockPixelOffsets(),s=r(u,2),f=s[0],d=s[1],h={x:this.width/2-f.x,y:this.height/2-f.y},p={x:this.width/2-d.x,y:this.height/2-d.y};a.x=l(this.minTranslate.x+h.x,this.maxTranslate.x-p.x,a.x),a.y=l(this.minTranslate.y+h.y,this.maxTranslate.y-p.y,a.y)}"x"===n?a.y=0:"y"===n&&(a.x=0),this.helper.style[c+"Transform"]="translate3d("+a.x+"px,"+a.y+"px, 0)"},animateNodes:function(){var t=this.$props,e=t.transitionDuration,n=t.hideSortableGhost,r=this.manager.getOrderedRefs(),o=this.scrollContainer.scrollLeft-this.initialScroll.left,i=this.scrollContainer.scrollTop-this.initialScroll.top,a=this.offsetEdge.left+this.translate.x+o,u=this.offsetEdge.top+this.translate.y+i,s=window.pageYOffset-this.initialWindowScroll.top,l=window.pageXOffset-this.initialWindowScroll.left;this.newIndex=null;for(var f=0,d=r.length;f<d;f++){var h=r[f].node,p=h.sortableInfo.index,m=h.offsetWidth,g=h.offsetHeight,v={width:this.width>m?m/2:this.width/2,height:this.height>g?g/2:this.height/2},b={x:0,y:0},y=r[f].edgeOffset;y||(r[f].edgeOffset=y=this.getEdgeOffset(h));var w=f<r.length-1&&r[f+1],x=f>0&&r[f-1];w&&!w.edgeOffset&&(w.edgeOffset=this.getEdgeOffset(w.node)),p!==this.index?(e&&(h.style[c+"TransitionDuration"]=e+"ms"),this._axis.x?this._axis.y?p<this.index&&(a+l-v.width<=y.left&&u+s<=y.top+v.height||u+s+v.height<=y.top)?(b.x=this.width+this.marginOffset.x,y.left+b.x>this.containerBoundingRect.width-v.width&&(b.x=w.edgeOffset.left-y.left,b.y=w.edgeOffset.top-y.top),null===this.newIndex&&(this.newIndex=p)):p>this.index&&(a+l+v.width>=y.left&&u+s+v.height>=y.top||u+s+v.height>=y.top+g)&&(b.x=-(this.width+this.marginOffset.x),y.left+b.x<this.containerBoundingRect.left+v.width&&(b.x=x.edgeOffset.left-y.left,b.y=x.edgeOffset.top-y.top),this.newIndex=p):p>this.index&&a+l+v.width>=y.left?(b.x=-(this.width+this.marginOffset.x),this.newIndex=p):p<this.index&&a+l<=y.left+v.width&&(b.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=p)):this._axis.y&&(p>this.index&&u+s+v.height>=y.top?(b.y=-(this.height+this.marginOffset.y),this.newIndex=p):p<this.index&&u+s<=y.top+v.height&&(b.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=p))),h.style[c+"Transform"]="translate3d("+b.x+"px,"+b.y+"px,0)"):n&&(this.sortableGhost=h,h.style.visibility="hidden",h.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)},autoscroll:function(){var t=this,e=this.translate,n={x:0,y:0},r={x:1,y:1},o=10,i=10;e.y>=this.maxTranslate.y-this.height/2?(n.y=1,r.y=i*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(n.x=1,r.x=o*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(n.y=-1,r.y=i*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(n.x=-1,r.x=o*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null,this.isAutoScrolling=!1),0===n.x&&0===n.y||(this.autoscrollInterval=setInterval((function(){t.isAutoScrolling=!0;var e=1*r.x*n.x,o=1*r.y*n.y;t.scrollContainer.scrollTop+=o,t.scrollContainer.scrollLeft+=e,t.translate.x+=e,t.translate.y+=o,t.animateNodes()}),5))}}},h={name:"slick-list",mixins:[d],render:function(t){return t("div",this.$slots.default)}},p={name:"slick-item",mixins:[e],render:function(t){return t("div",this.$slots.default)}};t.ElementMixin=e,t.ContainerMixin=d,t.HandleDirective={bind:function(t){t.sortableHandle=!0}},t.SlickList=h,t.SlickItem=p,t.arrayMove=a,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var u=t.indexOf("#");-1!==u&&(t=t.slice(0,u)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(0),o=n(45),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(u=n(29)),u),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(i)})),t.exports=c}).call(this,n(28))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new p(t,e)),1!==s.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(0),o=n(46),i=n(25),a=n(48),u=n(51),c=n(52),s=n(30);t.exports=function(t){return new Promise((function(e,l){var f=t.data,d=t.headers;r.isFormData(f)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+btoa(p+":"+m)}var g=a(t.baseURL,t.url);if(h.open(t.method.toUpperCase(),i(g,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?u(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};o(e,l,r),h=null}},h.onabort=function(){h&&(l(s("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){l(s("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(s(e,t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n(53),b=(t.withCredentials||c(g))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;b&&(d[t.xsrfHeaderName]=b)}if("setRequestHeader"in h&&r.forEach(d,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete d[e]:h.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),l(t),h=null)})),void 0===f&&(f=null),h.send(f)}))}},function(t,e,n){"use strict";var r=n(47);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){e=e||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(i,(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),r.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var u=o.concat(i).concat(a),c=Object.keys(e).filter((function(t){return-1===u.indexOf(t)}));return r.forEach(c,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=6)}([function(t,e,n){"use strict";function r(){c=!1}function o(t){if(t){if(t!==a){if(t.length!==l.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. These characters were not unique: "+e.join(", "));a=t,r()}}else a!==l&&(a=l,r())}function i(){return c||(c=function(){a||o(l);for(var t,e=a.split(""),n=[],r=s.nextValue();e.length>0;)r=s.nextValue(),t=Math.floor(r*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}var a,u,c,s=n(19),l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={get:function(){return a||l},characters:function(t){return o(t),a},seed:function(t){s.seed(t),u!==t&&(r(),u=t)},lookup:function(t){return i()[t]},shuffled:i}},function(t,e,n){"use strict";var r=n(5),o=n.n(r);e.a={animateIn:function(t){o()({targets:t,translateY:"-35px",opacity:1,duration:300,easing:"easeOutCubic"})},animateOut:function(t,e){o()({targets:t,opacity:0,marginTop:"-40px",duration:300,easing:"easeOutExpo",complete:e})},animateOutBottom:function(t,e){o()({targets:t,opacity:0,marginBottom:"-40px",duration:300,easing:"easeOutExpo",complete:e})},animateReset:function(t){o()({targets:t,left:0,opacity:1,duration:300,easing:"easeOutExpo"})},animatePanning:function(t,e,n){o()({targets:t,duration:10,easing:"easeOutQuad",left:e,opacity:n})},animatePanEnd:function(t,e){o()({targets:t,opacity:0,duration:300,easing:"easeOutExpo",complete:e})},clearAnimation:function(t){var e=o.a.timeline();t.forEach((function(t){e.add({targets:t.el,opacity:0,right:"-40px",duration:300,offset:"-=150",easing:"easeOutExpo",complete:function(){t.remove()}})}))}}},function(t,e,n){"use strict";t.exports=n(16)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(8),o=n(1),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(2);n(11).polyfill();var u=function t(e){var n=this;return this.id=a.generate(),this.options=e,this.cached_options={},this.global={},this.groups=[],this.toasts=[],this.container=null,l(this),s(this),this.group=function(e){e||(e={}),e.globalToasts||(e.globalToasts={}),Object.assign(e.globalToasts,n.global);var r=new t(e);return n.groups.push(r),r},this.register=function(t,e,r){return f(n,t,e,r=r||{})},this.show=function(t,e){return c(n,t,e)},this.success=function(t,e){return(e=e||{}).type="success",c(n,t,e)},this.info=function(t,e){return(e=e||{}).type="info",c(n,t,e)},this.error=function(t,e){return(e=e||{}).type="error",c(n,t,e)},this.remove=function(t){n.toasts=n.toasts.filter((function(e){return e.el.hash!==t.hash})),t.parentNode&&t.parentNode.removeChild(t)},this.clear=function(t){return o.a.clearAnimation(n.toasts,(function(){t&&t()})),n.toasts=[],!0},this},c=function(t,e,o){var a;if("object"!==(void 0===(o=o||{})?"undefined":i(o)))return console.error("Options should be a type of object. given : "+o),null;t.options.singleton&&t.toasts.length>0&&(t.cached_options=o,t.toasts[t.toasts.length-1].goAway(0));var u=Object.assign({},t.options);return Object.assign(u,o),a=n.i(r.a)(t,e,u),t.toasts.push(a),a},s=function(t){var e=t.options.globalToasts,n=function(e,n){return"string"==typeof n&&t[n]?t[n].apply(t,[e,{}]):c(t,e,n)};e&&(t.global={},Object.keys(e).forEach((function(r){t.global[r]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e[r].apply(null,[t,n])}})))},l=function(t){var e=document.createElement("div");e.id=t.id,e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","false"),document.body.appendChild(e),t.container=e},f=function(t,e,n,r){t.options.globalToasts||(t.options.globalToasts={}),t.options.globalToasts[e]=function(t,e){var o=null;return"string"==typeof n&&(o=n),"function"==typeof n&&(o=n(t)),e(o,r)},s(t)}},function(t,e,n){n(22);var r=n(21)(null,null,null,null);t.exports=r.exports},function(t,e,n){(function(n){var r,o,i,a={scope:{}};a.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},a.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==n&&null!=n?n:t},a.global=a.getGlobal(this),a.SYMBOL_PREFIX="jscomp_symbol_",a.initSymbol=function(){a.initSymbol=function(){},a.global.Symbol||(a.global.Symbol=a.Symbol)},a.symbolCounter_=0,a.Symbol=function(t){return a.SYMBOL_PREFIX+(t||"")+a.symbolCounter_++},a.initSymbolIterator=function(){a.initSymbol();var t=a.global.Symbol.iterator;t||(t=a.global.Symbol.iterator=a.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&a.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return a.arrayIterator(this)}}),a.initSymbolIterator=function(){}},a.arrayIterator=function(t){var e=0;return a.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},a.iteratorPrototype=function(t){return a.initSymbolIterator(),(t={next:t})[a.global.Symbol.iterator]=function(){return this},t},a.array=a.array||{},a.iteratorFromArray=function(t,e){a.initSymbolIterator(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var o=n++;return{value:e(o,t[o]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},a.polyfill=function(t,e,n,r){if(e){for(n=a.global,t=t.split("."),r=0;r<t.length-1;r++){var o=t[r];o in n||(n[o]={}),n=n[o]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&a.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},a.polyfill("Array.prototype.keys",(function(t){return t||function(){return a.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var u=this;o=[],r=function(){function t(t){if(!M.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var n=t.length,r=2<=arguments.length?arguments[1]:void 0,o=[],i=0;i<n;i++)if(i in t){var a=t[i];e.call(r,a,i,t)&&o.push(a)}return o}function n(t){return t.reduce((function(t,e){return t.concat(M.arr(e)?n(e):e)}),[])}function r(e){return M.arr(e)?e:(M.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function o(t,e){return t.some((function(t){return t===e}))}function i(t){var e,n={};for(e in t)n[e]=t[e];return n}function a(t,e){var n,r=i(t);for(n in t)r[n]=e.hasOwnProperty(n)?e[n]:t[n];return r}function c(t,e){var n,r=i(t);for(n in e)r[n]=M.und(t[n])?e[n]:t[n];return r}function s(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function l(t,e){return M.fnc(t)?t(e.target,e.id,e.total):t}function f(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function d(t,e){return M.dom(t)&&o(N,e)?"transform":M.dom(t)&&(t.getAttribute(e)||M.svg(t)&&t[e])?"attribute":M.dom(t)&&"transform"!==e&&f(t,e)?"css":null!=t[e]?"object":void 0}function h(t,n){var r=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(n);if(r=-1<n.indexOf("scale")?1:0+r,!(t=t.style.transform))return r;for(var o=[],i=[],a=[],u=/(\w+)\((.+?)\)/g;o=u.exec(t);)i.push(o[1]),a.push(o[2]);return(t=e(a,(function(t,e){return i[e]===n}))).length?t[0]:r}function p(t,e){switch(d(t,e)){case"transform":return h(t,e);case"css":return f(t,e);case"attribute":return t.getAttribute(e)}return t[e]||0}function m(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=s(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+r;case"-":return e-t+r;case"*":return e*t+r}}function g(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v(t){t=t.points;for(var e,n=0,r=0;r<t.numberOfItems;r++){var o=t.getItem(r);0<r&&(n+=g(e,o)),e=o}return n}function b(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return g({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return v(t);case"polygon":var e=t.points;return v(t)+g(e.getItem(e.numberOfItems-1),e.getItem(0))}}function y(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var r=n(),o=n(-1),i=n(1);switch(t.property){case"x":return r.x;case"y":return r.y;case"angle":return 180*Math.atan2(i.y-o.y,i.x-o.x)/Math.PI}}function w(t,e){var n,r=/-?\d*\.?\d+/g;if(n=M.pth(t)?t.totalLength:t,M.col(n))if(M.rgb(n)){var o=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=o?"rgba("+o[1]+",1)":n}else n=M.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(n):M.hsl(n)?function(t){function e(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var r=parseInt(n[2])/100,o=parseInt(n[3])/100;if(n=n[4]||1,0==r)o=r=t=o;else{var i=.5>o?o*(1+r):o+r-o*r,a=2*o-i;o=e(a,i,t+1/3),r=e(a,i,t),t=e(a,i,t-1/3)}return"rgba("+255*o+","+255*r+","+255*t+","+n+")"}(n):void 0;else o=(o=s(n))?n.substr(0,n.length-o.length):n,n=e&&!/\s/g.test(n)?o+e:o;return{original:n+="",numbers:n.match(r)?n.match(r).map(Number):[0],strings:M.str(t)||e?n.split(r):[]}}function x(t){return e(t=t?n(M.arr(t)?t.map(r):r(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function C(t,e){var n=i(e);if(M.arr(t)){var o=t.length;2!==o||M.obj(t[0])?M.fnc(e.duration)||(n.duration=e.duration/o):t={value:t}}return r(t).map((function(t,n){return n=n?0:e.delay,t=M.obj(t)&&!M.pth(t)?t:{value:t},M.und(t.delay)&&(t.delay=n),t})).map((function(t){return c(t,n)}))}function _(t,e){var n;return t.tweens.map((function(r){var o=(r=function(t,e){var n,r={};for(n in t){var o=l(t[n],e);M.arr(o)&&1===(o=o.map((function(t){return l(t,e)}))).length&&(o=o[0]),r[n]=o}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(r,e)).value,i=p(e.target,t.name),a=n?n.to.original:i,u=(a=M.arr(o)?o[0]:a,m(M.arr(o)?o[1]:o,a));return i=s(u)||s(a)||s(i),r.from=w(a,i),r.to=w(u,i),r.start=n?n.end:t.offset,r.end=r.start+r.delay+r.duration,r.easing=function(t){return M.arr(t)?R.apply(this,t):P[t]}(r.easing),r.elasticity=(1e3-Math.min(Math.max(r.elasticity,1),999))/1e3,r.isPath=M.pth(o),r.isColor=M.col(r.from.original),r.isColor&&(r.round=1),n=r}))}function S(t,r){return e(n(t.map((function(t){return r.map((function(e){var n=d(t.target,e.name);if(n){var r=_(e,t);e={type:n,property:e.name,animatable:t,tweens:r,duration:r[r.length-1].end,delay:r[0].delay}}else e=void 0;return e}))}))),(function(t){return!M.und(t)}))}function k(t,e,n,r){var o="delay"===t;return e.length?(o?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):o?r.delay:n.offset+r.delay+r.duration}function O(t){var e,n=a(A,t),r=a(D,t),o=function(t){var e=x(t);return e.map((function(t,n){return{target:t,id:n,total:e.length}}))}(t.targets),i=[],u=c(n,r);for(e in t)u.hasOwnProperty(e)||"targets"===e||i.push({name:e,offset:u.offset,tweens:C(t[e],r)});return c(n,{children:[],animatables:o,animations:t=S(o,i),duration:k("duration",t,n,r),delay:k("delay",t,n,r)})}function T(t){function n(){return window.Promise&&new Promise((function(t){return d=t}))}function r(t){return p.reversed?p.duration-t:t}function o(t){for(var n=0,r={},o=p.animations,i=o.length;n<i;){var a=o[n],u=a.animatable,c=(s=a.tweens)[h=s.length-1];h&&(c=e(s,(function(e){return t<e.end}))[0]||c);for(var s=Math.min(Math.max(t-c.start-c.delay,0),c.duration)/c.duration,l=isNaN(s)?1:c.easing(s,c.elasticity),d=(s=c.to.strings,c.round),h=[],m=void 0,g=(m=c.to.numbers.length,0);g<m;g++){var v=void 0,b=(v=c.to.numbers[g],c.from.numbers[g]);v=c.isPath?y(c.value,l*v):b+l*(v-b),d&&(c.isColor&&2<g||(v=Math.round(v*d)/d)),h.push(v)}if(c=s.length)for(m=s[0],l=0;l<c;l++)d=s[l+1],g=h[l],isNaN(g)||(m=d?m+(g+d):m+(g+" "));else m=h[0];B[a.type](u.target,a.property,m,r,u.id),a.currentValue=m,n++}if(n=Object.keys(r).length)for(o=0;o<n;o++)E||(E=f(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[o].target.style[E]=r[o].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function i(t){p[t]&&p[t](p)}function a(){p.remaining&&!0!==p.remaining&&p.remaining--}function u(t){var e=p.duration,u=p.offset,f=u+p.delay,m=p.currentTime,g=p.reversed,v=r(t);if(p.children.length){var b=p.children,y=b.length;if(v>=p.currentTime)for(var w=0;w<y;w++)b[w].seek(v);else for(;y--;)b[y].seek(v)}(v>=f||!e)&&(p.began||(p.began=!0,i("begin")),i("run")),v>u&&v<e?o(v):(v<=u&&0!==m&&(o(0),g&&a()),(v>=e&&m!==e||!e)&&(o(e),g||a())),i("update"),t>=e&&(p.remaining?(s=c,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,i("complete"),"Promise"in window&&(d(),h=n()))),l=0)}t=void 0===t?{}:t;var c,s,l=0,d=null,h=n(),p=O(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,o(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){c=t,s||(s=c),u((l+c-s)*T.speed)},p.seek=function(t){u(r(t))},p.pause=function(){var t=z.indexOf(p);-1<t&&z.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,s=0,l=r(p.currentTime),z.push(p),I||L())},p.reverse=function(){p.reversed=!p.reversed,s=0,l=r(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=h,p.reset(),p.autoplay&&p.play(),p}var E,A={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},D={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},N="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),M={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return M.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||M.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return M.hex(t)||M.rgb(t)||M.hsl(t)}},R=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,r,o){if(0<=e&&1>=e&&0<=r&&1>=r){var i=new Float32Array(11);if(e!==n||r!==o)for(var a=0;11>a;++a)i[a]=t(.1*a,e,r);return function(a){if(e===n&&r===o)return a;if(0===a)return 0;if(1===a)return 1;for(var u=0,c=1;10!==c&&i[c]<=a;++c)u+=.1;--c,c=u+(a-i[c])/(i[c+1]-i[c])*.1;var s=3*(1-3*r+3*e)*c*c+2*(3*r-6*e)*c+3*e;if(.001<=s){for(u=0;4>u&&0!=(s=3*(1-3*r+3*e)*c*c+2*(3*r-6*e)*c+3*e);++u){var l=t(c,e,r)-a;c-=l/s}a=c}else if(0===s)a=c;else{c=u,u+=.1;var f=0;do{0<(s=t(l=c+(u-c)/2,e,r)-a)?u=l:c=l}while(1e-7<Math.abs(s)&&10>++f);a=l}return t(a,n,o)}}}}(),P=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),r={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},o={linear:R(.25,.25,.75,.75)},i={};for(e in r)i.type=e,r[i.type].forEach(function(t){return function(e,r){o["ease"+t.type+n[r]]=M.fnc(e)?e:R.apply(u,e)}}(i)),i={type:i.type};return o}(),B={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,o){r[o]||(r[o]=[]),r[o].push(e+"("+n+")")}},z=[],I=0,L=function(){function t(){I=requestAnimationFrame(e)}function e(e){var n=z.length;if(n){for(var r=0;r<n;)z[r]&&z[r].tick(e),r++;t()}else cancelAnimationFrame(I),I=0}return t}();return T.version="2.2.0",T.speed=1,T.running=z,T.remove=function(t){t=x(t);for(var e=z.length;e--;)for(var n=z[e],r=n.animations,i=r.length;i--;)o(t,r[i].animatable.target)&&(r.splice(i,1),r.length||n.pause())},T.getValue=p,T.path=function(e,n){var r=M.str(e)?t(e)[0]:e,o=n||100;return function(t){return{el:r,property:t,totalLength:b(r)*(o/100)}}},T.setDashoffset=function(t){var e=b(t);return t.setAttribute("stroke-dasharray",e),e},T.bezier=R,T.easings=P,T.timeline=function(t){var e=T(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),r(n).forEach((function(n){var r=c(n,a(D,t||{}));r.targets=r.targets||t.targets,n=e.duration;var o=r.offset;r.autoplay=!1,r.direction=e.direction,r.offset=M.und(o)?n:m(o,n),e.began=!0,e.completed=!0,e.seek(r.offset),(r=T(r)).began=!0,r.completed=!0,r.duration>n&&(e.duration=r.duration),e.children.push(r)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},T.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},T},void 0!==(i="function"==typeof r?r.apply(e,o):r)&&(t.exports=i)}).call(e,n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(4),i=n.n(o),a={install:function(t,e){e||(e={});var n=new r.a(e);t.component("toasted",i.a),t.toasted=t.prototype.$toasted=n}};"undefined"!=typeof window&&window.Vue&&(window.Toasted=a),e.default=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e,n){return setTimeout((function(){n.cached_options.position&&n.cached_options.position.includes("bottom")?r.a.animateOutBottom(t,(function(){n.remove(t)})):r.a.animateOut(t,(function(){n.remove(t)}))}),e),!0},a=function(t,e){var n=!1;return{el:t,text:function(e){return function(t,e){("object"===("undefined"==typeof HTMLElement?"undefined":o(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":o(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)?t.appendChild(e):t.innerHTML=e}(t,e),this},goAway:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800;return n=!0,i(t,r,e)},remove:function(){e.remove(t)},disposed:function(){return n}}}},function(t,e,n){"use strict";var r=n(12),o=n.n(r),i=n(1),a=n(7),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(2);String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value:function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}});var s={},l=null,f=function(t){return t.className=t.className||null,t.onComplete=t.onComplete||null,t.position=t.position||"top-right",t.duration=t.duration||null,t.keepOnHover=t.keepOnHover||!1,t.theme=t.theme||"toasted-primary",t.type=t.type||"default",t.containerClass=t.containerClass||null,t.fullWidth=t.fullWidth||!1,t.icon=t.icon||null,t.action=t.action||null,t.fitToScreen=t.fitToScreen||null,t.closeOnSwipe=void 0===t.closeOnSwipe||t.closeOnSwipe,t.iconPack=t.iconPack||"material",t.className&&"string"==typeof t.className&&(t.className=t.className.split(" ")),t.className||(t.className=[]),t.theme&&t.className.push(t.theme.trim()),t.type&&t.className.push(t.type),t.containerClass&&"string"==typeof t.containerClass&&(t.containerClass=t.containerClass.split(" ")),t.containerClass||(t.containerClass=[]),t.position&&t.containerClass.push(t.position.trim()),t.fullWidth&&t.containerClass.push("full-width"),t.fitToScreen&&t.containerClass.push("fit-to-screen"),s=t,t},d=function(t,e){var r=document.createElement("div");if(r.classList.add("toasted"),r.hash=c.generate(),e.className&&e.className.forEach((function(t){r.classList.add(t)})),("object"===("undefined"==typeof HTMLElement?"undefined":u(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":u(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)?r.appendChild(t):r.innerHTML=t,h(e,r),e.closeOnSwipe){var s=new o.a(r,{prevent_default:!1});s.on("pan",(function(t){var e=t.deltaX;r.classList.contains("panning")||r.classList.add("panning");var n=1-Math.abs(e/80);n<0&&(n=0),i.a.animatePanning(r,e,n)})),s.on("panend",(function(t){var n=t.deltaX;Math.abs(n)>80?i.a.animatePanEnd(r,(function(){"function"==typeof e.onComplete&&e.onComplete(),r.parentNode&&l.remove(r)})):(r.classList.remove("panning"),i.a.animateReset(r))}))}if(Array.isArray(e.action))e.action.forEach((function(t){var e=m(t,n.i(a.a)(r,l));e&&r.appendChild(e)}));else if("object"===u(e.action)){var f=m(e.action,n.i(a.a)(r,l));f&&r.appendChild(f)}return r},h=function(t,e){if(t.icon){var n=document.createElement("i");switch(n.setAttribute("aria-hidden","true"),t.iconPack){case"fontawesome":n.classList.add("fa");var r=t.icon.name?t.icon.name:t.icon;r.includes("fa-")?n.classList.add(r.trim()):n.classList.add("fa-"+r.trim());break;case"mdi":n.classList.add("mdi");var o=t.icon.name?t.icon.name:t.icon;o.includes("mdi-")?n.classList.add(o.trim()):n.classList.add("mdi-"+o.trim());break;case"custom-class":var i=t.icon.name?t.icon.name:t.icon;"string"==typeof i?i.split(" ").forEach((function(t){n.classList.add(t)})):Array.isArray(i)&&i.forEach((function(t){n.classList.add(t.trim())}));break;case"callback":var a=t.icon&&t.icon instanceof Function?t.icon:null;a&&(n=a(n));break;default:n.classList.add("material-icons"),n.textContent=t.icon.name?t.icon.name:t.icon}t.icon.after&&n.classList.add("after"),p(t,n,e)}},p=function(t,e,n){t.icon&&(t.icon.after&&t.icon.name?n.appendChild(e):(t.icon.name,n.insertBefore(e,n.firstChild)))},m=function(t,e){if(!t)return null;var n=document.createElement("a");if(n.classList.add("action"),n.classList.add("ripple"),t.text&&(n.text=t.text),t.href&&(n.href=t.href),t.target&&(n.target=t.target),t.icon){n.classList.add("icon");var r=document.createElement("i");switch(s.iconPack){case"fontawesome":r.classList.add("fa"),t.icon.includes("fa-")?r.classList.add(t.icon.trim()):r.classList.add("fa-"+t.icon.trim());break;case"mdi":r.classList.add("mdi"),t.icon.includes("mdi-")?r.classList.add(t.icon.trim()):r.classList.add("mdi-"+t.icon.trim());break;case"custom-class":"string"==typeof t.icon?t.icon.split(" ").forEach((function(t){n.classList.add(t)})):Array.isArray(t.icon)&&t.icon.forEach((function(t){n.classList.add(t.trim())}));break;default:r.classList.add("material-icons"),r.textContent=t.icon}n.appendChild(r)}return t.class&&("string"==typeof t.class?t.class.split(" ").forEach((function(t){n.classList.add(t)})):Array.isArray(t.class)&&t.class.forEach((function(t){n.classList.add(t.trim())}))),t.push&&n.addEventListener("click",(function(n){n.preventDefault(),s.router?(s.router.push(t.push),t.push.dontClose||e.goAway(0)):console.warn("[vue-toasted] : Vue Router instance is not attached. please check the docs")})),t.onClick&&"function"==typeof t.onClick&&n.addEventListener("click",(function(n){t.onClick&&(n.preventDefault(),t.onClick(n,e))})),n};e.a=function(t,e,r){l=t,r=f(r);var o=l.container;r.containerClass.unshift("toasted-container"),o.className!==r.containerClass.join(" ")&&(o.className="",r.containerClass.forEach((function(t){o.classList.add(t)})));var u=d(e,r);e&&o.appendChild(u),u.style.opacity=0,i.a.animateIn(u);var c=r.duration,s=void 0;if(null!==c){var h=function(){return setInterval((function(){null===u.parentNode&&window.clearInterval(s),u.classList.contains("panning")||(c-=20),c<=0&&(i.a.animateOut(u,(function(){"function"==typeof r.onComplete&&r.onComplete(),u.parentNode&&l.remove(u)})),window.clearInterval(s))}),20)};s=h(),r.keepOnHover&&(u.addEventListener("mouseover",(function(){window.clearInterval(s)})),u.addEventListener("mouseout",(function(){s=h()})))}return n.i(a.a)(u,l)}},function(t,e,n){(t.exports=n(10)()).push([t.i,".toasted{padding:0 20px}.toasted.rounded{border-radius:24px}.toasted .primary,.toasted.toasted-primary{border-radius:2px;min-height:38px;line-height:1.1em;background-color:#353535;padding:6px 20px;font-size:15px;font-weight:300;color:#fff;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.toasted .primary.success,.toasted.toasted-primary.success{background:#4caf50}.toasted .primary.error,.toasted.toasted-primary.error{background:#f44336}.toasted .primary.info,.toasted.toasted-primary.info{background:#3f51b5}.toasted .primary .action,.toasted.toasted-primary .action{color:#a1c2fa}.toasted.bubble{border-radius:30px;min-height:38px;line-height:1.1em;background-color:#ff7043;padding:0 20px;font-size:15px;font-weight:300;color:#fff;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.toasted.bubble.success{background:#4caf50}.toasted.bubble.error{background:#f44336}.toasted.bubble.info{background:#3f51b5}.toasted.bubble .action{color:#8e2b0c}.toasted.outline{border-radius:30px;min-height:38px;line-height:1.1em;background-color:#fff;border:1px solid #676767;padding:0 20px;font-size:15px;color:#676767;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);font-weight:700}.toasted.outline.success{color:#4caf50;border-color:#4caf50}.toasted.outline.error{color:#f44336;border-color:#f44336}.toasted.outline.info{color:#3f51b5;border-color:#3f51b5}.toasted.outline .action{color:#607d8b}.toasted-container{position:fixed;z-index:10000}.toasted-container,.toasted-container.full-width{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.toasted-container.full-width{max-width:86%;width:100%}.toasted-container.full-width.fit-to-screen{min-width:100%}.toasted-container.full-width.fit-to-screen .toasted:first-child{margin-top:0}.toasted-container.full-width.fit-to-screen.top-right{top:0;right:0}.toasted-container.full-width.fit-to-screen.top-left{top:0;left:0}.toasted-container.full-width.fit-to-screen.top-center{top:0;left:0;-webkit-transform:translateX(0);transform:translateX(0)}.toasted-container.full-width.fit-to-screen.bottom-right{right:0;bottom:0}.toasted-container.full-width.fit-to-screen.bottom-left{left:0;bottom:0}.toasted-container.full-width.fit-to-screen.bottom-center{left:0;bottom:0;-webkit-transform:translateX(0);transform:translateX(0)}.toasted-container.top-right{top:10%;right:7%}.toasted-container.top-left{top:10%;left:7%}.toasted-container.top-center{top:10%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.toasted-container.bottom-right{right:5%;bottom:7%}.toasted-container.bottom-left{left:5%;bottom:7%}.toasted-container.bottom-center{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:7%}.toasted-container.bottom-left .toasted,.toasted-container.top-left .toasted{float:left}.toasted-container.bottom-right .toasted,.toasted-container.top-right .toasted{float:right}.toasted-container .toasted{top:35px;width:auto;clear:both;margin-top:10px;position:relative;max-width:100%;height:auto;word-break:normal;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;box-sizing:inherit}.toasted-container .toasted .fa,.toasted-container .toasted .fab,.toasted-container .toasted .far,.toasted-container .toasted .fas,.toasted-container .toasted .material-icons,.toasted-container .toasted .mdi{margin-right:.5rem;margin-left:-.4rem}.toasted-container .toasted .fa.after,.toasted-container .toasted .fab.after,.toasted-container .toasted .far.after,.toasted-container .toasted .fas.after,.toasted-container .toasted .material-icons.after,.toasted-container .toasted .mdi.after{margin-left:.5rem;margin-right:-.4rem}.toasted-container .toasted .action{text-decoration:none;font-size:.8rem;padding:8px;margin:5px -7px 5px 7px;border-radius:3px;text-transform:uppercase;letter-spacing:.03em;font-weight:600;cursor:pointer}.toasted-container .toasted .action.icon{padding:4px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.toasted-container .toasted .action.icon .fa,.toasted-container .toasted .action.icon .material-icons,.toasted-container .toasted .action.icon .mdi{margin-right:0;margin-left:4px}.toasted-container .toasted .action.icon:hover{text-decoration:none}.toasted-container .toasted .action:hover{text-decoration:underline}@media only screen and (max-width:600px){.toasted-container{min-width:100%}.toasted-container .toasted:first-child{margin-top:0}.toasted-container.top-right{top:0;right:0}.toasted-container.top-left{top:0;left:0}.toasted-container.top-center{top:0;left:0;-webkit-transform:translateX(0);transform:translateX(0)}.toasted-container.bottom-right{right:0;bottom:0}.toasted-container.bottom-left{left:0;bottom:0}.toasted-container.bottom-center{left:0;bottom:0;-webkit-transform:translateX(0);transform:translateX(0)}.toasted-container.bottom-center,.toasted-container.top-center{-ms-flex-align:stretch!important;align-items:stretch!important}.toasted-container.bottom-left .toasted,.toasted-container.bottom-right .toasted,.toasted-container.top-left .toasted,.toasted-container.top-right .toasted{float:none}.toasted-container .toasted{border-radius:0}}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){"use strict";function r(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,u=i.length;a<u;a++){var c=i[a],s=Object.getOwnPropertyDescriptor(o,c);void 0!==s&&s.enumerable&&(n[c]=o[c])}}return n}t.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(t,e,n){var r;!function(o,i,a,u){"use strict";function c(t,e,n){return setTimeout(h(t,n),e)}function s(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==u)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function d(t,e,n){var r,o=e.prototype;(r=t.prototype=Object.create(o)).constructor=t,r._super=o,n&&at(r,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==st?t.apply(e&&e[0]||u,e):t}function m(t,e){return t===u?e:t}function g(t,e,n){l(w(e),(function(e){t.addEventListener(e,n,!1)}))}function v(t,e,n){l(w(e),(function(e){t.removeEventListener(e,n,!1)}))}function b(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function y(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function _(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];x(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function S(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<ut.length;){if((r=(n=ut[i])?n+o:e)in t)return r;i++}return u}function k(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function O(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&n.handler(e)},this.init()}function T(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&wt&&r-o==0,a=e&(Ct|_t)&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=A(e)),o>1&&!n.firstMultiple?n.firstMultiple=A(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,c=e.center=D(r);e.timeStamp=dt(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=P(u,c),e.distance=R(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==wt&&i.eventType!==Ct||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}(n,e),e.offsetDirection=M(e.deltaX,e.deltaY);var s=N(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=s.x,e.overallVelocityY=s.y,e.overallVelocity=ft(s.x)>ft(s.y)?s.x:s.y,e.scale=a?function(t,e){return R(e[0],e[1],Rt)/R(t[0],t[1],Rt)}(a.pointers,r):1,e.rotation=a?function(t,e){return P(e[1],e[0],Rt)+P(t[1],t[0],Rt)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,E(n,e);var l=t.element;b(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function E(t,e){var n,r,o,i,a=t.lastInterval||e,c=e.timeStamp-a.timeStamp;if(e.eventType!=_t&&(c>yt||a.velocity===u)){var s=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=N(c,s,l);r=f.x,o=f.y,n=ft(f.x)>ft(f.y)?f.x:f.y,i=M(s,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function A(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:lt(t.pointers[n].clientX),clientY:lt(t.pointers[n].clientY)},n++;return{timeStamp:dt(),pointers:e,center:D(e),deltaX:t.deltaX,deltaY:t.deltaY}}function D(t){var e=t.length;if(1===e)return{x:lt(t[0].clientX),y:lt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:lt(n/e),y:lt(r/e)}}function N(t,e,n){return{x:e/t||0,y:n/t||0}}function M(t,e){return t===e?St:ft(t)>=ft(e)?t<0?kt:Ot:e<0?Tt:Et}function R(t,e,n){n||(n=Mt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function P(t,e,n){n||(n=Mt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function B(){this.evEl=Bt,this.evWin=zt,this.pressed=!1,O.apply(this,arguments)}function z(){this.evEl=Ft,this.evWin=Ht,O.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function I(){this.evTarget=Vt,this.evWin=$t,this.started=!1,O.apply(this,arguments)}function L(t,e){var n=C(t.touches),r=C(t.changedTouches);return e&(Ct|_t)&&(n=_(n.concat(r),"identifier",!0)),[n,r]}function F(){this.evTarget=Wt,this.targetIds={},O.apply(this,arguments)}function H(t,e){var n=C(t.touches),r=this.targetIds;if(e&(wt|xt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=C(t.changedTouches),u=[],c=this.target;if(i=n.filter((function(t){return b(t.target,c)})),e===wt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&u.push(a[o]),e&(Ct|_t)&&delete r[a[o].identifier],o++;return u.length?[_(i.concat(u),"identifier",!0),u]:void 0}function j(){O.apply(this,arguments);var t=h(this.handler,this);this.touch=new F(this.manager,t),this.mouse=new B(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&wt?(this.primaryTouch=e.changedPointers[0].identifier,$.call(this,e)):t&(Ct|_t)&&$.call(this,e)}function $(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),qt)}}function U(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=Xt&&a<=Xt)return!0}return!1}function W(t,e){this.manager=t,this.set(e)}function q(t){this.options=at({},this.defaults,t||{}),this.id=mt++,this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=ne,this.simultaneous={},this.requireFail=[]}function X(t){return t&ue?"cancel":t&ie?"end":t&oe?"move":t&re?"start":""}function G(t){return t==Et?"down":t==Tt?"up":t==kt?"left":t==Ot?"right":""}function Y(t,e){var n=e.manager;return n?n.get(t):t}function K(){q.apply(this,arguments)}function J(){K.apply(this,arguments),this.pX=null,this.pY=null}function Z(){K.apply(this,arguments)}function Q(){q.apply(this,arguments),this._timer=null,this._input=null}function tt(){K.apply(this,arguments)}function et(){K.apply(this,arguments)}function nt(){q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(t,e){return(e=e||{}).recognizers=m(e.recognizers,rt.defaults.preset),new ot(t,e)}function ot(t,e){this.options=at({},rt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){return new(t.options.inputClass||(vt?z:bt?F:gt?j:B))(t,T)}(this),this.touchAction=new W(this,this.options.touchAction),it(this,!0),l(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function it(t,e){var n,r=t.element;r.style&&(l(t.options.cssProps,(function(o,i){n=S(r.style,i),e?(t.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var at,ut=["","webkit","Moz","MS","ms","o"],ct=i.createElement("div"),st="function",lt=Math.round,ft=Math.abs,dt=Date.now;at="function"!=typeof Object.assign?function(t){if(t===u||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==u&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var ht=f((function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===u)&&(t[r[o]]=e[r[o]]),o++;return t}),"extend","Use `assign`."),pt=f((function(t,e){return ht(t,e,!0)}),"merge","Use `assign`."),mt=1,gt="ontouchstart"in o,vt=S(o,"PointerEvent")!==u,bt=gt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),yt=25,wt=1,xt=2,Ct=4,_t=8,St=1,kt=2,Ot=4,Tt=8,Et=16,At=kt|Ot,Dt=Tt|Et,Nt=At|Dt,Mt=["x","y"],Rt=["clientX","clientY"];O.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(k(this.element),this.evWin,this.domHandler)}};var Pt={mousedown:wt,mousemove:xt,mouseup:Ct},Bt="mousedown",zt="mousemove mouseup";d(B,O,{handler:function(t){var e=Pt[t.type];e&wt&&0===t.button&&(this.pressed=!0),e&xt&&1!==t.which&&(e=Ct),this.pressed&&(e&Ct&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var It={pointerdown:wt,pointermove:xt,pointerup:Ct,pointercancel:_t,pointerout:_t},Lt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ft="pointerdown",Ht="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Ft="MSPointerDown",Ht="MSPointerMove MSPointerUp MSPointerCancel"),d(z,O,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=It[r],i=Lt[t.pointerType]||t.pointerType,a="touch"==i,u=x(e,t.pointerId,"pointerId");o&wt&&(0===t.button||a)?u<0&&(e.push(t),u=e.length-1):o&(Ct|_t)&&(n=!0),u<0||(e[u]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(u,1))}});var jt={touchstart:wt,touchmove:xt,touchend:Ct,touchcancel:_t},Vt="touchstart",$t="touchstart touchmove touchend touchcancel";d(I,O,{handler:function(t){var e=jt[t.type];if(e===wt&&(this.started=!0),this.started){var n=L.call(this,t,e);e&(Ct|_t)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ut={touchstart:wt,touchmove:xt,touchend:Ct,touchcancel:_t},Wt="touchstart touchmove touchend touchcancel";d(F,O,{handler:function(t){var e=Ut[t.type],n=H.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var qt=2500,Xt=25;d(j,O,{handler:function(t,e,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)V.call(this,e,n);else if(o&&U.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Gt=S(ct.style,"touchAction"),Yt=Gt!==u,Kt="auto",Jt="manipulation",Zt="none",Qt="pan-x",te="pan-y",ee=function(){if(!Yt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||o.CSS.supports("touch-action",n)})),t}();W.prototype={set:function(t){"compute"==t&&(t=this.compute()),Yt&&this.manager.element.style&&ee[t]&&(this.manager.element.style[Gt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,(function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(y(t,Zt))return Zt;var e=y(t,Qt),n=y(t,te);return e&&n?Zt:e||n?e?Qt:te:y(t,Jt)?Jt:Kt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var r=this.actions,o=y(r,Zt)&&!ee[Zt],i=y(r,te)&&!ee[te],a=y(r,Qt)&&!ee[Qt];if(o){var u=1===t.pointers.length,c=t.distance<2,s=t.deltaTime<250;if(u&&c&&s)return}return a&&i?void 0:o||i&&n&At||a&&n&Dt?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ne=1,re=2,oe=4,ie=8,ae=ie,ue=16;q.prototype={defaults:{},set:function(t){return at(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Y(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)||(t=Y(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=Y(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=Y(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<ie&&e(n.options.event+X(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=ie&&e(n.options.event+X(r))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ne)))return!1;t++}return!0},recognize:function(t){var e=at({},t);if(!p(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(ae|ue|32)&&(this.state=ne),this.state=this.process(e),this.state&(re|oe|ie|ue)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},d(K,q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(re|oe),o=this.attrTest(t);return r&&(n&_t||!o)?e|ue:r||o?n&Ct?e|ie:e&re?e|oe:re:32}}),d(J,K,{defaults:{event:"pan",threshold:10,pointers:1,direction:Nt},getTouchAction:function(){var t=this.options.direction,e=[];return t&At&&e.push(te),t&Dt&&e.push(Qt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&At?(o=0===i?St:i<0?kt:Ot,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?St:a<0?Tt:Et,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return K.prototype.attrTest.call(this,t)&&(this.state&re||!(this.state&re)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),d(Z,K,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&re)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),d(Q,q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Kt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Ct|_t)&&!o)this.reset();else if(t.eventType&wt)this.reset(),this._timer=c((function(){this.state=ae,this.tryEmit()}),e.time,this);else if(t.eventType&Ct)return ae;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ae&&(t&&t.eventType&Ct?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=dt(),this.manager.emit(this.options.event,this._input)))}}),d(tt,K,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&re)}}),d(et,K,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:At|Dt,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(At|Dt)?e=t.overallVelocity:n&At?e=t.overallVelocityX:n&Dt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&ft(e)>this.options.velocity&&t.eventType&Ct},emit:function(t){var e=G(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),d(nt,q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Jt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&wt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Ct)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=c((function(){this.state=ae,this.tryEmit()}),e.interval,this),re):ae}return 32},failTimeout:function(){return this._timer=c((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ae&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.7",rt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[tt,{enable:!1}],[Z,{enable:!1},["rotate"]],[et,{direction:At}],[J,{direction:At},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ot.prototype={set:function(t){return at(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&ae)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(re|oe|ie)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof q)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==u&&e!==u){var n=this.handlers;return l(w(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==u){var n=this.handlers;return l(w(t),(function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&it(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},at(rt,{INPUT_START:wt,INPUT_MOVE:xt,INPUT_END:Ct,INPUT_CANCEL:_t,STATE_POSSIBLE:ne,STATE_BEGAN:re,STATE_CHANGED:oe,STATE_ENDED:ie,STATE_RECOGNIZED:ae,STATE_CANCELLED:ue,STATE_FAILED:32,DIRECTION_NONE:St,DIRECTION_LEFT:kt,DIRECTION_RIGHT:Ot,DIRECTION_UP:Tt,DIRECTION_DOWN:Et,DIRECTION_HORIZONTAL:At,DIRECTION_VERTICAL:Dt,DIRECTION_ALL:Nt,Manager:ot,Input:O,TouchAction:W,TouchInput:F,MouseInput:B,PointerEventInput:z,TouchMouseInput:j,SingleTouchInput:I,Recognizer:q,AttrRecognizer:K,Tap:nt,Pan:J,Swipe:et,Pinch:Z,Rotate:tt,Press:Q,on:g,off:v,each:l,merge:pt,extend:ht,assign:at,inherit:d,bindFn:h,prefixed:S}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=rt,(r=function(){return rt}.call(e,n,e,t))!==u&&(t.exports=r)}(window,document)},function(t,e){t.exports=function(t,e,n){for(var r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=Math.ceil(1.6*r*n/e.length),i="";;)for(var a=t(o),u=0;u<o;u++){var c=a[u]&r;if(e[c]&&(i+=e[c]).length===n)return i}}},function(t,e,n){"use strict";var r,o,i=n(15),a=(n(0),1459707606518),u=6;t.exports=function(t){var e="",n=Math.floor(.001*(Date.now()-a));return n===o?r++:(r=0,o=n),e+=i(u),e+=i(t),r>0&&(e+=i(r)),e+i(n)}},function(t,e,n){"use strict";var r=n(0),o=n(18),i=n(13);t.exports=function(t){for(var e,n=0,a="";!e;)a+=i(o,r.get(),1),e=t<Math.pow(16,n+1),n++;return a}},function(t,e,n){"use strict";function r(){return i(u)}var o=n(0),i=n(14),a=n(17),u=n(20)||0;t.exports=r,t.exports.generate=r,t.exports.seed=function(e){return o.seed(e),t.exports},t.exports.worker=function(e){return u=e,t.exports},t.exports.characters=function(t){return void 0!==t&&o.characters(t),o.shuffled()},t.exports.isValid=a},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){return!(!t||"string"!=typeof t||t.length<6||new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t))}},function(t,e,n){"use strict";var r,o="object"==typeof window&&(window.crypto||window.msCrypto);r=o&&o.getRandomValues?function(t){return o.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},t.exports=r},function(t,e,n){"use strict";var r=1;t.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(t){r=t}}},function(t,e,n){"use strict";t.exports=0},function(t,e){t.exports=function(t,e,n,r){var o,i=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(o=t,i=t.default);var u="function"==typeof i?i.options:i;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),n&&(u._scopeId=n),r){var c=Object.create(u.computed||null);Object.keys(r).forEach((function(t){var e=r[t];c[t]=function(){return e}})),u.computed=c}return{esModule:o,exports:i,options:u}}},function(t,e,n){var r=n(9);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals),n(23)("02af2e15",r,!0,{})},function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],r=l[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(i(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(i(n.parts[o]));l[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var t=document.createElement("style");return t.type="text/css",f.appendChild(t),t}function i(t){var e,n,r=document.querySelector("style["+v+'~="'+t.id+'"]');if(r){if(p)return m;r.parentNode.removeChild(r)}if(b){var i=h++;r=d||(d=o()),e=a.bind(null,r,i,!1),n=a.bind(null,r,i,!0)}else r=o(),e=u.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}function a(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function u(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),g.ssrId&&t.setAttribute(v,e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=n(24),l={},f=c&&(document.head||document.getElementsByTagName("head")[0]),d=null,h=0,p=!1,m=function(){},g=null,v="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,o){p=n,g=o||{};var i=s(t,e);return r(i),function(e){for(var n=[],o=0;o<i.length;o++){var a=i[o];(u=l[a.id]).refs--,n.push(u)}for(e?r(i=s(t,e)):i=[],o=0;o<n.length;o++){var u;if(0===(u=n[o]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete l[u.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=i[0],u={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])},function(t,e,n){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){e(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var i=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){"undefined"!=typeof window&&function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),o=r&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),i=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(r||i)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,n,u,c,s,l,f,d,h;if(!(e=t.match(a)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),u=!!e[4],c=t.slice(e[0].length),s=u?atob(c):decodeURIComponent(c),l=new ArrayBuffer(s.length),f=new Uint8Array(l),d=0;d<s.length;d+=1)f[d]=s.charCodeAt(d);return r?new Blob([o?f:l],{type:n}):((h=new i).append(l),h.getBlob(n))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(t,e,r){var o=this;setTimeout((function(){r&&n.toDataURL&&u?t(u(o.toDataURL(e,r))):t(o.mozGetAsFile("blob",e))}))}:n.toDataURL&&u&&(n.toBlob=function(t,e,n){var r=this;setTimeout((function(){t(u(r.toDataURL(e,n)))}))})),t.exports?t.exports=u:e.dataURLtoBlob=u}(window)})),a={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},u="undefined"!=typeof window&&void 0!==window.document?window:{},c=Array.prototype.slice,s=/^image\/.+$/;function l(t){return s.test(t)}var f=String.fromCharCode,d=u.btoa;function h(t){var e,n=new DataView(t);try{var r,o,i;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,u=2;u+1<a;){if(255===n.getUint8(u)&&225===n.getUint8(u+1)){o=u;break}u+=1}if(o){var c=o+10;if("Exif"===function(t,e,n){var r,o="";for(n+=e,r=e;r<n;r+=1)o+=f(t.getUint8(r));return o}(n,o+4,4)){var s=n.getUint16(c);if(((r=18761===s)||19789===s)&&42===n.getUint16(c+2,r)){var l=n.getUint32(c+4,r);l>=8&&(i=c+l)}}}if(i){var d,h,p=n.getUint16(i,r);for(h=0;h<p;h+=1)if(d=i+12*h+2,274===n.getUint16(d,r)){d+=8,e=n.getUint16(d,r),n.setUint16(d,1,r);break}}}catch(t){e=1}return e}var p=/\.\d*(?:0|9){12}\d*$/;function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return p.test(t)?Math.round(t*e)/e:t}var g=u.ArrayBuffer,v=u.FileReader,b=u.URL||u.webkitURL,y=/\.\w+$/,w=u.Compressor;return function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.file=t,this.image=new Image,this.options=o({},a,{},n),this.aborted=!1,this.result=null,this.init()}var r,s,p;return r=e,p=[{key:"noConflict",value:function(){return window.Compressor=w,e}},{key:"setDefaults",value:function(t){n(a,t)}}],(s=[{key:"init",value:function(){var t=this,e=this.file,r=this.options;if(o=e,"undefined"!=typeof Blob&&(o instanceof Blob||"[object Blob]"===Object.prototype.toString.call(o))){var o,i=e.type;if(l(i))if(b&&v)if(g||(r.checkOrientation=!1),b&&!r.checkOrientation)this.load({url:b.createObjectURL(e)});else{var a=new v,u=r.checkOrientation&&"image/jpeg"===i;this.reader=a,a.onload=function(r){var o=r.target.result,a={};if(u){var s=h(o);s>1||!b?(a.url=function(t,e){for(var n,r=[],o=new Uint8Array(t);o.length>0;)r.push(f.apply(null,(n=o.subarray(0,8192),Array.from?Array.from(n):c.call(n)))),o=o.subarray(8192);return"data:".concat(e,";base64,").concat(d(r.join("")))}(o,i),s>1&&n(a,function(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:r}}(s))):a.url=b.createObjectURL(e)}else a.url=o;t.load(a)},a.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},a.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},a.onloadend=function(){t.reader=null},u?a.readAsArrayBuffer(e):a.readAsDataURL(e)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var e=this,n=this.file,r=this.image;r.onload=function(){e.draw(o({},t,{naturalWidth:r.naturalWidth,naturalHeight:r.naturalHeight}))},r.onabort=function(){e.fail(new Error("Aborted to load the image."))},r.onerror=function(){e.fail(new Error("Failed to load the image."))},u.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(u.navigator.userAgent)&&(r.crossOrigin="anonymous"),r.alt=n.name,r.src=t.url}},{key:"draw",value:function(t){var e=this,n=t.naturalWidth,r=t.naturalHeight,o=t.rotate,a=void 0===o?0:o,u=t.scaleX,c=void 0===u?1:u,s=t.scaleY,f=void 0===s?1:s,d=this.file,h=this.image,p=this.options,g=document.createElement("canvas"),v=g.getContext("2d"),b=n/r,y=Math.abs(a)%180==90,w=Math.max(p.maxWidth,0)||1/0,x=Math.max(p.maxHeight,0)||1/0,C=Math.max(p.minWidth,0)||0,_=Math.max(p.minHeight,0)||0,S=Math.max(p.width,0)||n,k=Math.max(p.height,0)||r;if(y){var O=[x,w];w=O[0],x=O[1];var T=[_,C];C=T[0],_=T[1];var E=[k,S];S=E[0],k=E[1]}w<1/0&&x<1/0?x*b>w?x=w/b:w=x*b:w<1/0?x=w/b:x<1/0&&(w=x*b),C>0&&_>0?_*b>C?_=C/b:C=_*b:C>0?_=C/b:_>0&&(C=_*b),k*b>S?k=S/b:S=k*b;var A=-(S=Math.floor(m(Math.min(Math.max(S,C),w))))/2,D=-(k=Math.floor(m(Math.min(Math.max(k,_),x))))/2,N=S,M=k;if(y){var R=[k,S];S=R[0],k=R[1]}g.width=S,g.height=k,l(p.mimeType)||(p.mimeType=d.type);var P="transparent";if(d.size>p.convertSize&&"image/png"===p.mimeType&&(P="#fff",p.mimeType="image/jpeg"),v.fillStyle=P,v.fillRect(0,0,S,k),p.beforeDraw&&p.beforeDraw.call(this,v,g),!this.aborted&&(v.save(),v.translate(S/2,k/2),v.rotate(a*Math.PI/180),v.scale(c,f),v.drawImage(h,A,D,N,M),v.restore(),p.drew&&p.drew.call(this,v,g),!this.aborted)){var B=function(t){e.aborted||e.done({naturalWidth:n,naturalHeight:r,result:t})};g.toBlob?g.toBlob(B,p.mimeType,p.quality):B(i(g.toDataURL(p.mimeType,p.quality)))}}},{key:"done",value:function(t){var e,n,r=t.naturalWidth,o=t.naturalHeight,i=t.result,a=this.file,u=this.image,c=this.options;if(b&&!c.checkOrientation&&b.revokeObjectURL(u.src),i)if(c.strict&&i.size>a.size&&c.mimeType===a.type&&!(c.width>r||c.height>o||c.minWidth>r||c.minHeight>o))i=a;else{var s=new Date;i.lastModified=s.getTime(),i.lastModifiedDate=s,i.name=a.name,i.name&&i.type!==a.type&&(i.name=i.name.replace(y,(e=i.type,"jpeg"===(n=l(e)?e.substr(6):"")&&(n="jpg"),".".concat(n))))}else i=a;this.result=i,c.success&&c.success.call(this,i)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&t(r.prototype,s),p&&t(r,p),e}()}()},function(t,e,n){(function(t,r){var o;(function(){var i="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",s="[object Array]",l="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Object]",b="[object RegExp]",y="[object Set]",w="[object String]",x="[object Symbol]",C="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",k="[object Float32Array]",O="[object Float64Array]",T="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",D="[object Uint8Array]",N="[object Uint16Array]",M="[object Uint32Array]",R=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,I=/[&<>"']/g,L=RegExp(z.source),F=RegExp(I.source),H=/<%-([\s\S]+?)%>/g,j=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,X=RegExp(q.source),G=/^\s+|\s+$/g,Y=/^\s+/,K=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,ot=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,st=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ft=/['\n\r\u2028\u2029\\]/g,dt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="[\\ud800-\\udfff]",mt="["+ht+"]",gt="["+dt+"]",vt="\\d+",bt="[\\u2700-\\u27bf]",yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",wt="[^\\ud800-\\udfff"+ht+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",xt="\\ud83c[\\udffb-\\udfff]",Ct="[^\\ud800-\\udfff]",_t="(?:\\ud83c[\\udde6-\\uddff]){2}",St="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ot="(?:"+yt+"|"+wt+")",Tt="(?:"+kt+"|"+wt+")",Et="(?:"+gt+"|"+xt+")"+"?",At="[\\ufe0e\\ufe0f]?"+Et+("(?:\\u200d(?:"+[Ct,_t,St].join("|")+")[\\ufe0e\\ufe0f]?"+Et+")*"),Dt="(?:"+[bt,_t,St].join("|")+")"+At,Nt="(?:"+[Ct+gt+"?",gt,_t,St,pt].join("|")+")",Mt=RegExp("[']","g"),Rt=RegExp(gt,"g"),Pt=RegExp(xt+"(?="+xt+")|"+Nt+At,"g"),Bt=RegExp([kt+"?"+yt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[mt,kt,"$"].join("|")+")",Tt+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[mt,kt+Ot,"$"].join("|")+")",kt+"?"+Ot+"+(?:['](?:d|ll|m|re|s|t|ve))?",kt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Dt].join("|"),"g"),zt=RegExp("[\\u200d\\ud800-\\udfff"+dt+"\\ufe0e\\ufe0f]"),It=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ft=-1,Ht={};Ht[k]=Ht[O]=Ht[T]=Ht[E]=Ht[A]=Ht[D]=Ht["[object Uint8ClampedArray]"]=Ht[N]=Ht[M]=!0,Ht[c]=Ht[s]=Ht[_]=Ht[l]=Ht[S]=Ht[f]=Ht[d]=Ht[h]=Ht[m]=Ht[g]=Ht[v]=Ht[b]=Ht[y]=Ht[w]=Ht[C]=!1;var jt={};jt[c]=jt[s]=jt[_]=jt[S]=jt[l]=jt[f]=jt[k]=jt[O]=jt[T]=jt[E]=jt[A]=jt[m]=jt[g]=jt[v]=jt[b]=jt[y]=jt[w]=jt[x]=jt[D]=jt["[object Uint8ClampedArray]"]=jt[N]=jt[M]=!0,jt[d]=jt[h]=jt[C]=!1;var Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$t=parseFloat,Ut=parseInt,Wt="object"==typeof t&&t&&t.Object===Object&&t,qt="object"==typeof self&&self&&self.Object===Object&&self,Xt=Wt||qt||Function("return this")(),Gt=e&&!e.nodeType&&e,Yt=Gt&&"object"==typeof r&&r&&!r.nodeType&&r,Kt=Yt&&Yt.exports===Gt,Jt=Kt&&Wt.process,Zt=function(){try{var t=Yt&&Yt.require&&Yt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),Qt=Zt&&Zt.isArrayBuffer,te=Zt&&Zt.isDate,ee=Zt&&Zt.isMap,ne=Zt&&Zt.isRegExp,re=Zt&&Zt.isSet,oe=Zt&&Zt.isTypedArray;function ie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function fe(t,e){return!!(null==t?0:t.length)&&xe(t,e,0)>-1}function de(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function he(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function pe(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function me(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function ge(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var be=ke("length");function ye(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function we(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function xe(t,e,n){return e==e?function(t,e,n){var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):we(t,_e,n)}function Ce(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function _e(t){return t!=t}function Se(t,e){var n=null==t?0:t.length;return n?Ee(t,e)/n:NaN}function ke(t){return function(e){return null==e?void 0:e[t]}}function Oe(t){return function(e){return null==t?void 0:t[e]}}function Te(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function Ee(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function Ae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function De(t){return function(e){return t(e)}}function Ne(t,e){return he(e,(function(e){return t[e]}))}function Me(t,e){return t.has(e)}function Re(t,e){for(var n=-1,r=t.length;++n<r&&xe(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length;n--&&xe(e,t[n],0)>-1;);return n}function Be(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var ze=Oe({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Ie=Oe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Vt[t]}function Fe(t){return zt.test(t)}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function je(t,e){return function(n){return t(e(n))}}function Ve(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,i[o++]=n)}return i}function $e(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Ue(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function We(t){return Fe(t)?function(t){var e=Pt.lastIndex=0;for(;Pt.test(t);)++e;return e}(t):be(t)}function qe(t){return Fe(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.split("")}(t)}var Xe=Oe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ge=function t(e){var n,r=(e=null==e?Xt:Ge.defaults(Xt.Object(),e,Ge.pick(Xt,Lt))).Array,o=e.Date,dt=e.Error,ht=e.Function,pt=e.Math,mt=e.Object,gt=e.RegExp,vt=e.String,bt=e.TypeError,yt=r.prototype,wt=ht.prototype,xt=mt.prototype,Ct=e["__core-js_shared__"],_t=wt.toString,St=xt.hasOwnProperty,kt=0,Ot=(n=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Tt=xt.toString,Et=_t.call(mt),At=Xt._,Dt=gt("^"+_t.call(St).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Kt?e.Buffer:void 0,Pt=e.Symbol,zt=e.Uint8Array,Vt=Nt?Nt.allocUnsafe:void 0,Wt=je(mt.getPrototypeOf,mt),qt=mt.create,Gt=xt.propertyIsEnumerable,Yt=yt.splice,Jt=Pt?Pt.isConcatSpreadable:void 0,Zt=Pt?Pt.iterator:void 0,be=Pt?Pt.toStringTag:void 0,Oe=function(){try{var t=ti(mt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ye=e.clearTimeout!==Xt.clearTimeout&&e.clearTimeout,Ke=o&&o.now!==Xt.Date.now&&o.now,Je=e.setTimeout!==Xt.setTimeout&&e.setTimeout,Ze=pt.ceil,Qe=pt.floor,tn=mt.getOwnPropertySymbols,en=Nt?Nt.isBuffer:void 0,nn=e.isFinite,rn=yt.join,on=je(mt.keys,mt),an=pt.max,un=pt.min,cn=o.now,sn=e.parseInt,ln=pt.random,fn=yt.reverse,dn=ti(e,"DataView"),hn=ti(e,"Map"),pn=ti(e,"Promise"),mn=ti(e,"Set"),gn=ti(e,"WeakMap"),vn=ti(mt,"create"),bn=gn&&new gn,yn={},wn=Ti(dn),xn=Ti(hn),Cn=Ti(pn),_n=Ti(mn),Sn=Ti(gn),kn=Pt?Pt.prototype:void 0,On=kn?kn.valueOf:void 0,Tn=kn?kn.toString:void 0;function En(t){if(Ua(t)&&!Ra(t)&&!(t instanceof Mn)){if(t instanceof Nn)return t;if(St.call(t,"__wrapped__"))return Ei(t)}return new Nn(t)}var An=function(){function t(){}return function(e){if(!$a(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Dn(){}function Nn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Mn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Bn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Bn;++e<n;)this.add(t[e])}function In(t){var e=this.__data__=new Pn(t);this.size=e.size}function Ln(t,e){var n=Ra(t),r=!n&&Ma(t),o=!n&&!r&&Ia(t),i=!n&&!r&&!o&&Za(t),a=n||r||o||i,u=a?Ae(t.length,vt):[],c=u.length;for(var s in t)!e&&!St.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ui(s,c))||u.push(s);return u}function Fn(t){var e=t.length;return e?t[zr(0,e-1)]:void 0}function Hn(t,e){return Si(bo(t),Yn(e,0,t.length))}function jn(t){return Si(bo(t))}function Vn(t,e,n){(void 0===n||Aa(t[e],n))&&(void 0!==n||e in t)||Xn(t,e,n)}function $n(t,e,n){var r=t[e];St.call(t,e)&&Aa(r,n)&&(void 0!==n||e in t)||Xn(t,e,n)}function Un(t,e){for(var n=t.length;n--;)if(Aa(t[n][0],e))return n;return-1}function Wn(t,e,n,r){return tr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function qn(t,e){return t&&yo(e,wu(e),t)}function Xn(t,e,n){"__proto__"==e&&Oe?Oe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Gn(t,e){for(var n=-1,o=e.length,i=r(o),a=null==t;++n<o;)i[n]=a?void 0:mu(t,e[n]);return i}function Yn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Kn(t,e,n,r,o,i){var a,u=1&e,s=2&e,d=4&e;if(n&&(a=o?n(t,r,o,i):n(t)),void 0!==a)return a;if(!$a(t))return t;var C=Ra(t);if(C){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&St.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return bo(t,a)}else{var R=ri(t),P=R==h||R==p;if(Ia(t))return fo(t,u);if(R==v||R==c||P&&!o){if(a=s||P?{}:ii(t),!u)return s?function(t,e){return yo(t,ni(t),e)}(t,function(t,e){return t&&yo(e,xu(e),t)}(a,t)):function(t,e){return yo(t,ei(t),e)}(t,qn(a,t))}else{if(!jt[R])return o?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case _:return ho(t);case l:case f:return new r(+t);case S:return function(t,e){var n=e?ho(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case k:case O:case T:case E:case A:case D:case"[object Uint8ClampedArray]":case N:case M:return po(t,n);case m:return new r;case g:case w:return new r(t);case b:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new r;case x:return o=t,On?mt(On.call(o)):{}}var o}(t,R,u)}}i||(i=new In);var B=i.get(t);if(B)return B;i.set(t,a),Ya(t)?t.forEach((function(r){a.add(Kn(r,e,n,r,t,i))})):Wa(t)&&t.forEach((function(r,o){a.set(o,Kn(r,e,n,o,t,i))}));var z=C?void 0:(d?s?Xo:qo:s?xu:wu)(t);return ue(z||t,(function(r,o){z&&(r=t[o=r]),$n(a,o,Kn(r,e,n,o,t,i))})),a}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=mt(t);r--;){var o=n[r],i=e[o],a=t[o];if(void 0===a&&!(o in t)||!i(a))return!1}return!0}function Zn(t,e,n){if("function"!=typeof t)throw new bt(i);return wi((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,r){var o=-1,i=fe,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=he(e,De(n))),r?(i=de,a=!1):e.length>=200&&(i=Me,a=!1,e=new zn(e));t:for(;++o<u;){var l=t[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=s;d--;)if(e[d]===f)continue t;c.push(l)}else i(e,f,r)||c.push(l)}return c}En.templateSettings={escape:H,evaluate:j,interpolate:V,variable:"",imports:{_:En}},En.prototype=Dn.prototype,En.prototype.constructor=En,Nn.prototype=An(Dn.prototype),Nn.prototype.constructor=Nn,Mn.prototype=An(Dn.prototype),Mn.prototype.constructor=Mn,Rn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Rn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Rn.prototype.get=function(t){var e=this.__data__;if(vn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return St.call(e,t)?e[t]:void 0},Rn.prototype.has=function(t){var e=this.__data__;return vn?void 0!==e[t]:St.call(e,t)},Rn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vn&&void 0===e?"__lodash_hash_undefined__":e,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(t){var e=this.__data__,n=Un(e,t);return!(n<0)&&(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,!0)},Pn.prototype.get=function(t){var e=this.__data__,n=Un(e,t);return n<0?void 0:e[n][1]},Pn.prototype.has=function(t){return Un(this.__data__,t)>-1},Pn.prototype.set=function(t,e){var n=this.__data__,r=Un(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Bn.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(hn||Pn),string:new Rn}},Bn.prototype.delete=function(t){var e=Zo(this,t).delete(t);return this.size-=e?1:0,e},Bn.prototype.get=function(t){return Zo(this,t).get(t)},Bn.prototype.has=function(t){return Zo(this,t).has(t)},Bn.prototype.set=function(t,e){var n=Zo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},zn.prototype.add=zn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},zn.prototype.has=function(t){return this.__data__.has(t)},In.prototype.clear=function(){this.__data__=new Pn,this.size=0},In.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},In.prototype.get=function(t){return this.__data__.get(t)},In.prototype.has=function(t){return this.__data__.has(t)},In.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Pn){var r=n.__data__;if(!hn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Bn(r)}return n.set(t,e),this.size=n.size,this};var tr=Co(cr),er=Co(sr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function rr(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],a=e(i);if(null!=a&&(void 0===u?a==a&&!Ja(a):n(a,u)))var u=a,c=i}return c}function or(t,e){var n=[];return tr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function ir(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=ai),o||(o=[]);++i<a;){var u=t[i];e>0&&n(u)?e>1?ir(u,e-1,n,r,o):pe(o,u):r||(o[o.length]=u)}return o}var ar=_o(),ur=_o(!0);function cr(t,e){return t&&ar(t,e,wu)}function sr(t,e){return t&&ur(t,e,wu)}function lr(t,e){return le(e,(function(e){return Ha(t[e])}))}function fr(t,e){for(var n=0,r=(e=uo(e,t)).length;null!=t&&n<r;)t=t[Oi(e[n++])];return n&&n==r?t:void 0}function dr(t,e,n){var r=e(t);return Ra(t)?r:pe(r,n(t))}function hr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":be&&be in mt(t)?function(t){var e=St.call(t,be),n=t[be];try{t[be]=void 0;var r=!0}catch(t){}var o=Tt.call(t);r&&(e?t[be]=n:delete t[be]);return o}(t):function(t){return Tt.call(t)}(t)}function pr(t,e){return t>e}function mr(t,e){return null!=t&&St.call(t,e)}function gr(t,e){return null!=t&&e in mt(t)}function vr(t,e,n){for(var o=n?de:fe,i=t[0].length,a=t.length,u=a,c=r(a),s=1/0,l=[];u--;){var f=t[u];u&&e&&(f=he(f,De(e))),s=un(f.length,s),c[u]=!n&&(e||i>=120&&f.length>=120)?new zn(u&&f):void 0}f=t[0];var d=-1,h=c[0];t:for(;++d<i&&l.length<s;){var p=f[d],m=e?e(p):p;if(p=n||0!==p?p:0,!(h?Me(h,m):o(l,m,n))){for(u=a;--u;){var g=c[u];if(!(g?Me(g,m):o(t[u],m,n)))continue t}h&&h.push(m),l.push(p)}}return l}function br(t,e,n){var r=null==(t=gi(t,e=uo(e,t)))?t:t[Oi(Fi(e))];return null==r?void 0:ie(r,t,n)}function yr(t){return Ua(t)&&hr(t)==c}function wr(t,e,n,r,o){return t===e||(null==t||null==e||!Ua(t)&&!Ua(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var a=Ra(t),u=Ra(e),h=a?s:ri(t),p=u?s:ri(e),C=(h=h==c?v:h)==v,k=(p=p==c?v:p)==v,O=h==p;if(O&&Ia(t)){if(!Ia(e))return!1;a=!0,C=!1}if(O&&!C)return i||(i=new In),a||Za(t)?Uo(t,e,n,r,o,i):function(t,e,n,r,o,i,a){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!i(new zt(t),new zt(e)));case l:case f:case g:return Aa(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case w:return t==e+"";case m:var u=He;case y:var c=1&r;if(u||(u=$e),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var h=Uo(u(t),u(e),r,o,i,a);return a.delete(t),h;case x:if(On)return On.call(t)==On.call(e)}return!1}(t,e,h,n,r,o,i);if(!(1&n)){var T=C&&St.call(t,"__wrapped__"),E=k&&St.call(e,"__wrapped__");if(T||E){var A=T?t.value():t,D=E?e.value():e;return i||(i=new In),o(A,D,n,r,i)}}if(!O)return!1;return i||(i=new In),function(t,e,n,r,o,i){var a=1&n,u=qo(t),c=u.length,s=qo(e).length;if(c!=s&&!a)return!1;var l=c;for(;l--;){var f=u[l];if(!(a?f in e:St.call(e,f)))return!1}var d=i.get(t);if(d&&i.get(e))return d==e;var h=!0;i.set(t,e),i.set(e,t);var p=a;for(;++l<c;){f=u[l];var m=t[f],g=e[f];if(r)var v=a?r(g,m,f,e,t,i):r(m,g,f,t,e,i);if(!(void 0===v?m===g||o(m,g,n,r,i):v)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var b=t.constructor,y=e.constructor;b!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y)&&(h=!1)}return i.delete(t),i.delete(e),h}(t,e,n,r,o,i)}(t,e,n,r,wr,o))}function xr(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=mt(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new In;if(r)var d=r(s,l,c,t,e,f);if(!(void 0===d?wr(l,s,3,r,f):d))return!1}}return!0}function Cr(t){return!(!$a(t)||(e=t,Ot&&Ot in e))&&(Ha(t)?Dt:at).test(Ti(t));var e}function _r(t){return"function"==typeof t?t:null==t?qu:"object"==typeof t?Ra(t)?Ar(t[0],t[1]):Er(t):ec(t)}function Sr(t){if(!di(t))return on(t);var e=[];for(var n in mt(t))St.call(t,n)&&"constructor"!=n&&e.push(n);return e}function kr(t){if(!$a(t))return function(t){var e=[];if(null!=t)for(var n in mt(t))e.push(n);return e}(t);var e=di(t),n=[];for(var r in t)("constructor"!=r||!e&&St.call(t,r))&&n.push(r);return n}function Or(t,e){return t<e}function Tr(t,e){var n=-1,o=Ba(t)?r(t.length):[];return tr(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function Er(t){var e=Qo(t);return 1==e.length&&e[0][2]?pi(e[0][0],e[0][1]):function(n){return n===t||xr(n,t,e)}}function Ar(t,e){return si(t)&&hi(e)?pi(Oi(t),e):function(n){var r=mu(n,t);return void 0===r&&r===e?gu(n,t):wr(e,r,3)}}function Dr(t,e,n,r,o){t!==e&&ar(e,(function(i,a){if(o||(o=new In),$a(i))!function(t,e,n,r,o,i,a){var u=bi(t,n),c=bi(e,n),s=a.get(c);if(s)return void Vn(t,n,s);var l=i?i(u,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var d=Ra(c),h=!d&&Ia(c),p=!d&&!h&&Za(c);l=c,d||h||p?Ra(u)?l=u:za(u)?l=bo(u):h?(f=!1,l=fo(c,!0)):p?(f=!1,l=po(c,!0)):l=[]:Xa(c)||Ma(c)?(l=u,Ma(u)?l=au(u):$a(u)&&!Ha(u)||(l=ii(c))):f=!1}f&&(a.set(c,l),o(l,c,r,i,a),a.delete(c));Vn(t,n,l)}(t,e,a,n,Dr,r,o);else{var u=r?r(bi(t,a),i,a+"",t,e,o):void 0;void 0===u&&(u=i),Vn(t,a,u)}}),xu)}function Nr(t,e){var n=t.length;if(n)return ui(e+=e<0?n:0,n)?t[e]:void 0}function Mr(t,e,n){var r=-1;return e=he(e.length?e:[qu],De(Jo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Tr(t,(function(t,n,o){return{criteria:he(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,o=t.criteria,i=e.criteria,a=o.length,u=n.length;for(;++r<a;){var c=mo(o[r],i[r]);if(c){if(r>=u)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)}))}function Rr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],u=fr(t,a);n(u,a)&&jr(i,uo(a,t),u)}return i}function Pr(t,e,n,r){var o=r?Ce:xe,i=-1,a=e.length,u=t;for(t===e&&(e=bo(e)),n&&(u=he(t,De(n)));++i<a;)for(var c=0,s=e[i],l=n?n(s):s;(c=o(u,l,c,r))>-1;)u!==t&&Yt.call(u,c,1),Yt.call(t,c,1);return t}function Br(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;ui(o)?Yt.call(t,o,1):Qr(t,o)}}return t}function zr(t,e){return t+Qe(ln()*(e-t+1))}function Ir(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function Lr(t,e){return xi(mi(t,e,qu),t+"")}function Fr(t){return Fn(Au(t))}function Hr(t,e){var n=Au(t);return Si(n,Yn(e,0,n.length))}function jr(t,e,n,r){if(!$a(t))return t;for(var o=-1,i=(e=uo(e,t)).length,a=i-1,u=t;null!=u&&++o<i;){var c=Oi(e[o]),s=n;if(o!=a){var l=u[c];void 0===(s=r?r(l,c,u):void 0)&&(s=$a(l)?l:ui(e[o+1])?[]:{})}$n(u,c,s),u=u[c]}return t}var Vr=bn?function(t,e){return bn.set(t,e),t}:qu,$r=Oe?function(t,e){return Oe(t,"toString",{configurable:!0,enumerable:!1,value:$u(e),writable:!0})}:qu;function Ur(t){return Si(Au(t))}function Wr(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=r(i);++o<i;)a[o]=t[o+e];return a}function qr(t,e){var n;return tr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function Xr(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return Gr(t,e,qu,n)}function Gr(t,e,n,r){e=n(e);for(var o=0,i=null==t?0:t.length,a=e!=e,u=null===e,c=Ja(e),s=void 0===e;o<i;){var l=Qe((o+i)/2),f=n(t[l]),d=void 0!==f,h=null===f,p=f==f,m=Ja(f);if(a)var g=r||p;else g=s?p&&(r||d):u?p&&d&&(r||!h):c?p&&d&&!h&&(r||!m):!h&&!m&&(r?f<=e:f<e);g?o=l+1:i=l}return un(i,4294967294)}function Yr(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Aa(u,c)){var c=u;i[o++]=0===a?0:a}}return i}function Kr(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Ra(t))return he(t,Jr)+"";if(Ja(t))return Tn?Tn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Zr(t,e,n){var r=-1,o=fe,i=t.length,a=!0,u=[],c=u;if(n)a=!1,o=de;else if(i>=200){var s=e?null:Lo(t);if(s)return $e(s);a=!1,o=Me,c=new zn}else c=e?[]:u;t:for(;++r<i;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue t;e&&c.push(f),u.push(l)}else o(c,f,n)||(c!==u&&c.push(f),u.push(l))}return u}function Qr(t,e){return null==(t=gi(t,e=uo(e,t)))||delete t[Oi(Fi(e))]}function to(t,e,n,r){return jr(t,e,n(fr(t,e)),r)}function eo(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Wr(t,r?0:i,r?i+1:o):Wr(t,r?i+1:0,r?o:i)}function no(t,e){var n=t;return n instanceof Mn&&(n=n.value()),me(e,(function(t,e){return e.func.apply(e.thisArg,pe([t],e.args))}),n)}function ro(t,e,n){var o=t.length;if(o<2)return o?Zr(t[0]):[];for(var i=-1,a=r(o);++i<o;)for(var u=t[i],c=-1;++c<o;)c!=i&&(a[i]=Qn(a[i]||u,t[c],e,n));return Zr(ir(a,1),e,n)}function oo(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var u=r<i?e[r]:void 0;n(a,t[r],u)}return a}function io(t){return za(t)?t:[]}function ao(t){return"function"==typeof t?t:qu}function uo(t,e){return Ra(t)?t:si(t,e)?[t]:ki(uu(t))}var co=Lr;function so(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Wr(t,e,n)}var lo=Ye||function(t){return Xt.clearTimeout(t)};function fo(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function ho(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e}function po(t,e){var n=e?ho(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function mo(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,i=Ja(t),a=void 0!==e,u=null===e,c=e==e,s=Ja(e);if(!u&&!s&&!i&&t>e||i&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!o)return 1;if(!r&&!i&&!s&&t<e||s&&n&&o&&!r&&!i||u&&n&&o||!a&&o||!c)return-1}return 0}function go(t,e,n,o){for(var i=-1,a=t.length,u=n.length,c=-1,s=e.length,l=an(a-u,0),f=r(s+l),d=!o;++c<s;)f[c]=e[c];for(;++i<u;)(d||i<a)&&(f[n[i]]=t[i]);for(;l--;)f[c++]=t[i++];return f}function vo(t,e,n,o){for(var i=-1,a=t.length,u=-1,c=n.length,s=-1,l=e.length,f=an(a-c,0),d=r(f+l),h=!o;++i<f;)d[i]=t[i];for(var p=i;++s<l;)d[p+s]=e[s];for(;++u<c;)(h||i<a)&&(d[p+n[u]]=t[i++]);return d}function bo(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function yo(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Xn(n,u,c):$n(n,u,c)}return n}function wo(t,e){return function(n,r){var o=Ra(n)?ae:Wn,i=e?e():{};return o(n,t,Jo(r,2),i)}}function xo(t){return Lr((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&ci(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=mt(e);++r<o;){var u=n[r];u&&t(e,u,r,i)}return e}))}function Co(t,e){return function(n,r){if(null==n)return n;if(!Ba(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=mt(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function _o(t){return function(e,n,r){for(var o=-1,i=mt(e),a=r(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}function So(t){return function(e){var n=Fe(e=uu(e))?qe(e):void 0,r=n?n[0]:e.charAt(0),o=n?so(n,1).join(""):e.slice(1);return r[t]()+o}}function ko(t){return function(e){return me(Hu(Mu(e).replace(Mt,"")),t,"")}}function Oo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),r=t.apply(n,e);return $a(r)?r:n}}function To(t){return function(e,n,r){var o=mt(e);if(!Ba(e)){var i=Jo(n,3);e=wu(e),n=function(t){return i(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[i?e[a]:a]:void 0}}function Eo(t){return Wo((function(e){var n=e.length,r=n,o=Nn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new bt(i);if(o&&!u&&"wrapper"==Yo(a))var u=new Nn([],!0)}for(r=u?r:n;++r<n;){var c=Yo(a=e[r]),s="wrapper"==c?Go(a):void 0;u=s&&li(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?u[Yo(s[0])].apply(u,s[3]):1==a.length&&li(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ra(r))return u.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Ao(t,e,n,o,i,a,u,c,s,l){var f=128&e,d=1&e,h=2&e,p=24&e,m=512&e,g=h?void 0:Oo(t);return function v(){for(var b=arguments.length,y=r(b),w=b;w--;)y[w]=arguments[w];if(p)var x=Ko(v),C=Be(y,x);if(o&&(y=go(y,o,i,p)),a&&(y=vo(y,a,u,p)),b-=C,p&&b<l){var _=Ve(y,x);return zo(t,e,Ao,v.placeholder,n,y,_,c,s,l-b)}var S=d?n:this,k=h?S[t]:t;return b=y.length,c?y=vi(y,c):m&&b>1&&y.reverse(),f&&s<b&&(y.length=s),this&&this!==Xt&&this instanceof v&&(k=g||Oo(k)),k.apply(S,y)}}function Do(t,e){return function(n,r){return function(t,e,n,r){return cr(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function No(t,e){return function(n,r){var o;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Kr(n),r=Kr(r)),o=t(n,r)}return o}}function Mo(t){return Wo((function(e){return e=he(e,De(Jo())),Lr((function(n){var r=this;return t(e,(function(t){return ie(t,r,n)}))}))}))}function Ro(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Ir(e,t):e;var r=Ir(e,Ze(t/We(e)));return Fe(e)?so(qe(r),0,t).join(""):r.slice(0,t)}function Po(t){return function(e,n,o){return o&&"number"!=typeof o&&ci(e,n,o)&&(n=o=void 0),e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n,o){for(var i=-1,a=an(Ze((e-t)/(n||1)),0),u=r(a);a--;)u[o?a:++i]=t,t+=n;return u}(e,n,o=void 0===o?e<n?1:-1:nu(o),t)}}function Bo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=iu(e),n=iu(n)),t(e,n)}}function zo(t,e,n,r,o,i,a,u,c,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,u,c,s],d=n.apply(void 0,f);return li(t)&&yi(d,f),d.placeholder=r,Ci(d,t,e)}function Io(t){var e=pt[t];return function(t,n){if(t=iu(t),(n=null==n?0:un(ru(n),292))&&nn(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Lo=mn&&1/$e(new mn([,-0]))[1]==1/0?function(t){return new mn(t)}:Ju;function Fo(t){return function(e){var n=ri(e);return n==m?He(e):n==y?Ue(e):function(t,e){return he(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ho(t,e,n,o,u,c,s,l){var f=2&e;if(!f&&"function"!=typeof t)throw new bt(i);var d=o?o.length:0;if(d||(e&=-97,o=u=void 0),s=void 0===s?s:an(ru(s),0),l=void 0===l?l:ru(l),d-=u?u.length:0,64&e){var h=o,p=u;o=u=void 0}var m=f?void 0:Go(t),g=[t,e,n,o,u,h,p,c,s,l];if(m&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,u=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!u)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?go(s,c,e[4]):c,t[4]=s?Ve(t[3],a):e[4]}(c=e[5])&&(s=t[5],t[5]=s?vo(s,c,e[6]):c,t[6]=s?Ve(t[5],a):e[6]);(c=e[7])&&(t[7]=c);128&r&&(t[8]=null==t[8]?e[8]:un(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(g,m),t=g[0],e=g[1],n=g[2],o=g[3],u=g[4],!(l=g[9]=void 0===g[9]?f?0:t.length:an(g[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var o=Oo(t);return function i(){for(var a=arguments.length,u=r(a),c=a,s=Ko(i);c--;)u[c]=arguments[c];var l=a<3&&u[0]!==s&&u[a-1]!==s?[]:Ve(u,s);if((a-=l.length)<n)return zo(t,e,Ao,i.placeholder,void 0,u,l,void 0,void 0,n-a);var f=this&&this!==Xt&&this instanceof i?o:t;return ie(f,this,u)}}(t,e,l):32!=e&&33!=e||u.length?Ao.apply(void 0,g):function(t,e,n,o){var i=1&e,a=Oo(t);return function e(){for(var u=-1,c=arguments.length,s=-1,l=o.length,f=r(l+c),d=this&&this!==Xt&&this instanceof e?a:t;++s<l;)f[s]=o[s];for(;c--;)f[s++]=arguments[++u];return ie(d,i?n:this,f)}}(t,e,n,o);else var v=function(t,e,n){var r=1&e,o=Oo(t);return function e(){var i=this&&this!==Xt&&this instanceof e?o:t;return i.apply(r?n:this,arguments)}}(t,e,n);return Ci((m?Vr:yi)(v,g),t,e)}function jo(t,e,n,r){return void 0===t||Aa(t,xt[n])&&!St.call(r,n)?e:t}function Vo(t,e,n,r,o,i){return $a(t)&&$a(e)&&(i.set(e,t),Dr(t,e,void 0,Vo,i),i.delete(e)),t}function $o(t){return Xa(t)?void 0:t}function Uo(t,e,n,r,o,i){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t);if(s&&i.get(e))return s==e;var l=-1,f=!0,d=2&n?new zn:void 0;for(i.set(t,e),i.set(e,t);++l<u;){var h=t[l],p=e[l];if(r)var m=a?r(p,h,l,e,t,i):r(h,p,l,t,e,i);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!ve(e,(function(t,e){if(!Me(d,e)&&(h===t||o(h,t,n,r,i)))return d.push(e)}))){f=!1;break}}else if(h!==p&&!o(h,p,n,r,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function Wo(t){return xi(mi(t,void 0,Pi),t+"")}function qo(t){return dr(t,wu,ei)}function Xo(t){return dr(t,xu,ni)}var Go=bn?function(t){return bn.get(t)}:Ju;function Yo(t){for(var e=t.name+"",n=yn[e],r=St.call(yn,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function Ko(t){return(St.call(En,"placeholder")?En:t).placeholder}function Jo(){var t=En.iteratee||Xu;return t=t===Xu?_r:t,arguments.length?t(arguments[0],arguments[1]):t}function Zo(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Qo(t){for(var e=wu(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,hi(o)]}return e}function ti(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Cr(n)?n:void 0}var ei=tn?function(t){return null==t?[]:(t=mt(t),le(tn(t),(function(e){return Gt.call(t,e)})))}:oc,ni=tn?function(t){for(var e=[];t;)pe(e,ei(t)),t=Wt(t);return e}:oc,ri=hr;function oi(t,e,n){for(var r=-1,o=(e=uo(e,t)).length,i=!1;++r<o;){var a=Oi(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Va(o)&&ui(a,o)&&(Ra(t)||Ma(t))}function ii(t){return"function"!=typeof t.constructor||di(t)?{}:An(Wt(t))}function ai(t){return Ra(t)||Ma(t)||!!(Jt&&t&&t[Jt])}function ui(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ct.test(t))&&t>-1&&t%1==0&&t<e}function ci(t,e,n){if(!$a(n))return!1;var r=typeof e;return!!("number"==r?Ba(n)&&ui(e,n.length):"string"==r&&e in n)&&Aa(n[e],t)}function si(t,e){if(Ra(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||(U.test(t)||!$.test(t)||null!=e&&t in mt(e))}function li(t){var e=Yo(t),n=En[e];if("function"!=typeof n||!(e in Mn.prototype))return!1;if(t===n)return!0;var r=Go(n);return!!r&&t===r[0]}(dn&&ri(new dn(new ArrayBuffer(1)))!=S||hn&&ri(new hn)!=m||pn&&"[object Promise]"!=ri(pn.resolve())||mn&&ri(new mn)!=y||gn&&ri(new gn)!=C)&&(ri=function(t){var e=hr(t),n=e==v?t.constructor:void 0,r=n?Ti(n):"";if(r)switch(r){case wn:return S;case xn:return m;case Cn:return"[object Promise]";case _n:return y;case Sn:return C}return e});var fi=Ct?Ha:ic;function di(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xt)}function hi(t){return t==t&&!$a(t)}function pi(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in mt(n)))}}function mi(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var o=arguments,i=-1,a=an(o.length-e,0),u=r(a);++i<a;)u[i]=o[e+i];i=-1;for(var c=r(e+1);++i<e;)c[i]=o[i];return c[e]=n(u),ie(t,this,c)}}function gi(t,e){return e.length<2?t:fr(t,Wr(e,0,-1))}function vi(t,e){for(var n=t.length,r=un(e.length,n),o=bo(t);r--;){var i=e[r];t[r]=ui(i,n)?o[i]:void 0}return t}function bi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yi=_i(Vr),wi=Je||function(t,e){return Xt.setTimeout(t,e)},xi=_i($r);function Ci(t,e,n){var r=e+"";return xi(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ue(u,(function(n){var r="_."+n[0];e&n[1]&&!fe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(Q):[]}(r),n)))}function _i(t){var e=0,n=0;return function(){var r=cn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Si(t,e){var n=-1,r=t.length,o=r-1;for(e=void 0===e?r:e;++n<e;){var i=zr(n,o),a=t[i];t[i]=t[n],t[n]=a}return t.length=e,t}var ki=function(t){var e=_a(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(W,(function(t,n,r,o){e.push(r?o.replace(et,"$1"):n||t)})),e}));function Oi(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ti(t){if(null!=t){try{return _t.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ei(t){if(t instanceof Mn)return t.clone();var e=new Nn(t.__wrapped__,t.__chain__);return e.__actions__=bo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ai=Lr((function(t,e){return za(t)?Qn(t,ir(e,1,za,!0)):[]})),Di=Lr((function(t,e){var n=Fi(e);return za(n)&&(n=void 0),za(t)?Qn(t,ir(e,1,za,!0),Jo(n,2)):[]})),Ni=Lr((function(t,e){var n=Fi(e);return za(n)&&(n=void 0),za(t)?Qn(t,ir(e,1,za,!0),void 0,n):[]}));function Mi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ru(n);return o<0&&(o=an(r+o,0)),we(t,Jo(e,3),o)}function Ri(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=ru(n),o=n<0?an(r+o,0):un(o,r-1)),we(t,Jo(e,3),o,!0)}function Pi(t){return(null==t?0:t.length)?ir(t,1):[]}function Bi(t){return t&&t.length?t[0]:void 0}var zi=Lr((function(t){var e=he(t,io);return e.length&&e[0]===t[0]?vr(e):[]})),Ii=Lr((function(t){var e=Fi(t),n=he(t,io);return e===Fi(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?vr(n,Jo(e,2)):[]})),Li=Lr((function(t){var e=Fi(t),n=he(t,io);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?vr(n,void 0,e):[]}));function Fi(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Hi=Lr(ji);function ji(t,e){return t&&t.length&&e&&e.length?Pr(t,e):t}var Vi=Wo((function(t,e){var n=null==t?0:t.length,r=Gn(t,e);return Br(t,he(e,(function(t){return ui(t,n)?+t:t})).sort(mo)),r}));function $i(t){return null==t?t:fn.call(t)}var Ui=Lr((function(t){return Zr(ir(t,1,za,!0))})),Wi=Lr((function(t){var e=Fi(t);return za(e)&&(e=void 0),Zr(ir(t,1,za,!0),Jo(e,2))})),qi=Lr((function(t){var e=Fi(t);return e="function"==typeof e?e:void 0,Zr(ir(t,1,za,!0),void 0,e)}));function Xi(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(za(t))return e=an(t.length,e),!0})),Ae(e,(function(e){return he(t,ke(e))}))}function Gi(t,e){if(!t||!t.length)return[];var n=Xi(t);return null==e?n:he(n,(function(t){return ie(e,void 0,t)}))}var Yi=Lr((function(t,e){return za(t)?Qn(t,e):[]})),Ki=Lr((function(t){return ro(le(t,za))})),Ji=Lr((function(t){var e=Fi(t);return za(e)&&(e=void 0),ro(le(t,za),Jo(e,2))})),Zi=Lr((function(t){var e=Fi(t);return e="function"==typeof e?e:void 0,ro(le(t,za),void 0,e)})),Qi=Lr(Xi);var ta=Lr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Gi(t,n)}));function ea(t){var e=En(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Wo((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Gn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Mn&&ui(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[o],thisArg:void 0}),new Nn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(o)}));var oa=wo((function(t,e,n){St.call(t,n)?++t[n]:Xn(t,n,1)}));var ia=To(Mi),aa=To(Ri);function ua(t,e){return(Ra(t)?ue:tr)(t,Jo(e,3))}function ca(t,e){return(Ra(t)?ce:er)(t,Jo(e,3))}var sa=wo((function(t,e,n){St.call(t,n)?t[n].push(e):Xn(t,n,[e])}));var la=Lr((function(t,e,n){var o=-1,i="function"==typeof e,a=Ba(t)?r(t.length):[];return tr(t,(function(t){a[++o]=i?ie(e,t,n):br(t,e,n)})),a})),fa=wo((function(t,e,n){Xn(t,n,e)}));function da(t,e){return(Ra(t)?he:Tr)(t,Jo(e,3))}var ha=wo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var pa=Lr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ci(t,e[0],e[1])?e=[]:n>2&&ci(e[0],e[1],e[2])&&(e=[e[0]]),Mr(t,ir(e,1),[])})),ma=Ke||function(){return Xt.Date.now()};function ga(t,e,n){return e=n?void 0:e,Ho(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function va(t,e){var n;if("function"!=typeof e)throw new bt(i);return t=ru(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ba=Lr((function(t,e,n){var r=1;if(n.length){var o=Ve(n,Ko(ba));r|=32}return Ho(t,r,e,n,o)})),ya=Lr((function(t,e,n){var r=3;if(n.length){var o=Ve(n,Ko(ya));r|=32}return Ho(e,r,t,n,o)}));function wa(t,e,n){var r,o,a,u,c,s,l=0,f=!1,d=!1,h=!0;if("function"!=typeof t)throw new bt(i);function p(e){var n=r,i=o;return r=o=void 0,l=e,u=t.apply(i,n)}function m(t){return l=t,c=wi(v,e),f?p(t):u}function g(t){var n=t-s;return void 0===s||n>=e||n<0||d&&t-l>=a}function v(){var t=ma();if(g(t))return b(t);c=wi(v,function(t){var n=e-(t-s);return d?un(n,a-(t-l)):n}(t))}function b(t){return c=void 0,h&&r?p(t):(r=o=void 0,u)}function y(){var t=ma(),n=g(t);if(r=arguments,o=this,s=t,n){if(void 0===c)return m(s);if(d)return lo(c),c=wi(v,e),p(s)}return void 0===c&&(c=wi(v,e)),u}return e=iu(e)||0,$a(n)&&(f=!!n.leading,a=(d="maxWait"in n)?an(iu(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==c&&lo(c),l=0,r=s=o=c=void 0},y.flush=function(){return void 0===c?u:b(ma())},y}var xa=Lr((function(t,e){return Zn(t,1,e)})),Ca=Lr((function(t,e,n){return Zn(t,iu(e)||0,n)}));function _a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new bt(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(_a.Cache||Bn),n}function Sa(t){if("function"!=typeof t)throw new bt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}_a.Cache=Bn;var ka=co((function(t,e){var n=(e=1==e.length&&Ra(e[0])?he(e[0],De(Jo())):he(ir(e,1),De(Jo()))).length;return Lr((function(r){for(var o=-1,i=un(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return ie(t,this,r)}))})),Oa=Lr((function(t,e){return Ho(t,32,void 0,e,Ve(e,Ko(Oa)))})),Ta=Lr((function(t,e){return Ho(t,64,void 0,e,Ve(e,Ko(Ta)))})),Ea=Wo((function(t,e){return Ho(t,256,void 0,void 0,void 0,e)}));function Aa(t,e){return t===e||t!=t&&e!=e}var Da=Bo(pr),Na=Bo((function(t,e){return t>=e})),Ma=yr(function(){return arguments}())?yr:function(t){return Ua(t)&&St.call(t,"callee")&&!Gt.call(t,"callee")},Ra=r.isArray,Pa=Qt?De(Qt):function(t){return Ua(t)&&hr(t)==_};function Ba(t){return null!=t&&Va(t.length)&&!Ha(t)}function za(t){return Ua(t)&&Ba(t)}var Ia=en||ic,La=te?De(te):function(t){return Ua(t)&&hr(t)==f};function Fa(t){if(!Ua(t))return!1;var e=hr(t);return e==d||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Xa(t)}function Ha(t){if(!$a(t))return!1;var e=hr(t);return e==h||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ja(t){return"number"==typeof t&&t==ru(t)}function Va(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function $a(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ua(t){return null!=t&&"object"==typeof t}var Wa=ee?De(ee):function(t){return Ua(t)&&ri(t)==m};function qa(t){return"number"==typeof t||Ua(t)&&hr(t)==g}function Xa(t){if(!Ua(t)||hr(t)!=v)return!1;var e=Wt(t);if(null===e)return!0;var n=St.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&_t.call(n)==Et}var Ga=ne?De(ne):function(t){return Ua(t)&&hr(t)==b};var Ya=re?De(re):function(t){return Ua(t)&&ri(t)==y};function Ka(t){return"string"==typeof t||!Ra(t)&&Ua(t)&&hr(t)==w}function Ja(t){return"symbol"==typeof t||Ua(t)&&hr(t)==x}var Za=oe?De(oe):function(t){return Ua(t)&&Va(t.length)&&!!Ht[hr(t)]};var Qa=Bo(Or),tu=Bo((function(t,e){return t<=e}));function eu(t){if(!t)return[];if(Ba(t))return Ka(t)?qe(t):bo(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=ri(t);return(e==m?He:e==y?$e:Au)(t)}function nu(t){return t?(t=iu(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var e=nu(t),n=e%1;return e==e?n?e-n:e:0}function ou(t){return t?Yn(ru(t),0,4294967295):0}function iu(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if($a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(G,"");var n=it.test(t);return n||ut.test(t)?Ut(t.slice(2),n?2:8):ot.test(t)?NaN:+t}function au(t){return yo(t,xu(t))}function uu(t){return null==t?"":Jr(t)}var cu=xo((function(t,e){if(di(e)||Ba(e))yo(e,wu(e),t);else for(var n in e)St.call(e,n)&&$n(t,n,e[n])})),su=xo((function(t,e){yo(e,xu(e),t)})),lu=xo((function(t,e,n,r){yo(e,xu(e),t,r)})),fu=xo((function(t,e,n,r){yo(e,wu(e),t,r)})),du=Wo(Gn);var hu=Lr((function(t,e){t=mt(t);var n=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&ci(e[0],e[1],o)&&(r=1);++n<r;)for(var i=e[n],a=xu(i),u=-1,c=a.length;++u<c;){var s=a[u],l=t[s];(void 0===l||Aa(l,xt[s])&&!St.call(t,s))&&(t[s]=i[s])}return t})),pu=Lr((function(t){return t.push(void 0,Vo),ie(_u,void 0,t)}));function mu(t,e,n){var r=null==t?void 0:fr(t,e);return void 0===r?n:r}function gu(t,e){return null!=t&&oi(t,e,gr)}var vu=Do((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),t[e]=n}),$u(qu)),bu=Do((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),St.call(t,e)?t[e].push(n):t[e]=[n]}),Jo),yu=Lr(br);function wu(t){return Ba(t)?Ln(t):Sr(t)}function xu(t){return Ba(t)?Ln(t,!0):kr(t)}var Cu=xo((function(t,e,n){Dr(t,e,n)})),_u=xo((function(t,e,n,r){Dr(t,e,n,r)})),Su=Wo((function(t,e){var n={};if(null==t)return n;var r=!1;e=he(e,(function(e){return e=uo(e,t),r||(r=e.length>1),e})),yo(t,Xo(t),n),r&&(n=Kn(n,7,$o));for(var o=e.length;o--;)Qr(n,e[o]);return n}));var ku=Wo((function(t,e){return null==t?{}:function(t,e){return Rr(t,e,(function(e,n){return gu(t,n)}))}(t,e)}));function Ou(t,e){if(null==t)return{};var n=he(Xo(t),(function(t){return[t]}));return e=Jo(e),Rr(t,n,(function(t,n){return e(t,n[0])}))}var Tu=Fo(wu),Eu=Fo(xu);function Au(t){return null==t?[]:Ne(t,wu(t))}var Du=ko((function(t,e,n){return e=e.toLowerCase(),t+(n?Nu(e):e)}));function Nu(t){return Fu(uu(t).toLowerCase())}function Mu(t){return(t=uu(t))&&t.replace(st,ze).replace(Rt,"")}var Ru=ko((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Pu=ko((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Bu=So("toLowerCase");var zu=ko((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Iu=ko((function(t,e,n){return t+(n?" ":"")+Fu(e)}));var Lu=ko((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Fu=So("toUpperCase");function Hu(t,e,n){return t=uu(t),void 0===(e=n?void 0:e)?function(t){return It.test(t)}(t)?function(t){return t.match(Bt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var ju=Lr((function(t,e){try{return ie(t,void 0,e)}catch(t){return Fa(t)?t:new dt(t)}})),Vu=Wo((function(t,e){return ue(e,(function(e){e=Oi(e),Xn(t,e,ba(t[e],t))})),t}));function $u(t){return function(){return t}}var Uu=Eo(),Wu=Eo(!0);function qu(t){return t}function Xu(t){return _r("function"==typeof t?t:Kn(t,1))}var Gu=Lr((function(t,e){return function(n){return br(n,t,e)}})),Yu=Lr((function(t,e){return function(n){return br(t,n,e)}}));function Ku(t,e,n){var r=wu(e),o=lr(e,r);null!=n||$a(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=lr(e,wu(e)));var i=!($a(n)&&"chain"in n&&!n.chain),a=Ha(t);return ue(o,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),o=n.__actions__=bo(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,pe([this.value()],arguments))})})),t}function Ju(){}var Zu=Mo(he),Qu=Mo(se),tc=Mo(ve);function ec(t){return si(t)?ke(Oi(t)):function(t){return function(e){return fr(e,t)}}(t)}var nc=Po(),rc=Po(!0);function oc(){return[]}function ic(){return!1}var ac=No((function(t,e){return t+e}),0),uc=Io("ceil"),cc=No((function(t,e){return t/e}),1),sc=Io("floor");var lc,fc=No((function(t,e){return t*e}),1),dc=Io("round"),hc=No((function(t,e){return t-e}),0);return En.after=function(t,e){if("function"!=typeof e)throw new bt(i);return t=ru(t),function(){if(--t<1)return e.apply(this,arguments)}},En.ary=ga,En.assign=cu,En.assignIn=su,En.assignInWith=lu,En.assignWith=fu,En.at=du,En.before=va,En.bind=ba,En.bindAll=Vu,En.bindKey=ya,En.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ra(t)?t:[t]},En.chain=ea,En.chunk=function(t,e,n){e=(n?ci(t,e,n):void 0===e)?1:an(ru(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,a=0,u=r(Ze(o/e));i<o;)u[a++]=Wr(t,i,i+=e);return u},En.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},En.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return pe(Ra(n)?bo(n):[n],ir(e,1))},En.cond=function(t){var e=null==t?0:t.length,n=Jo();return t=e?he(t,(function(t){if("function"!=typeof t[1])throw new bt(i);return[n(t[0]),t[1]]})):[],Lr((function(n){for(var r=-1;++r<e;){var o=t[r];if(ie(o[0],this,n))return ie(o[1],this,n)}}))},En.conforms=function(t){return function(t){var e=wu(t);return function(n){return Jn(n,t,e)}}(Kn(t,1))},En.constant=$u,En.countBy=oa,En.create=function(t,e){var n=An(t);return null==e?n:qn(n,e)},En.curry=function t(e,n,r){var o=Ho(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=t.placeholder,o},En.curryRight=function t(e,n,r){var o=Ho(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=t.placeholder,o},En.debounce=wa,En.defaults=hu,En.defaultsDeep=pu,En.defer=xa,En.delay=Ca,En.difference=Ai,En.differenceBy=Di,En.differenceWith=Ni,En.drop=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=n||void 0===e?1:ru(e))<0?0:e,r):[]},En.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,0,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e):[]},En.dropRightWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!0,!0):[]},En.dropWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!0):[]},En.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&ci(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ru(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:ru(r))<0&&(r+=o),r=n>r?0:ou(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},En.filter=function(t,e){return(Ra(t)?le:or)(t,Jo(e,3))},En.flatMap=function(t,e){return ir(da(t,e),1)},En.flatMapDeep=function(t,e){return ir(da(t,e),1/0)},En.flatMapDepth=function(t,e,n){return n=void 0===n?1:ru(n),ir(da(t,e),n)},En.flatten=Pi,En.flattenDeep=function(t){return(null==t?0:t.length)?ir(t,1/0):[]},En.flattenDepth=function(t,e){return(null==t?0:t.length)?ir(t,e=void 0===e?1:ru(e)):[]},En.flip=function(t){return Ho(t,512)},En.flow=Uu,En.flowRight=Wu,En.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},En.functions=function(t){return null==t?[]:lr(t,wu(t))},En.functionsIn=function(t){return null==t?[]:lr(t,xu(t))},En.groupBy=sa,En.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},En.intersection=zi,En.intersectionBy=Ii,En.intersectionWith=Li,En.invert=vu,En.invertBy=bu,En.invokeMap=la,En.iteratee=Xu,En.keyBy=fa,En.keys=wu,En.keysIn=xu,En.map=da,En.mapKeys=function(t,e){var n={};return e=Jo(e,3),cr(t,(function(t,r,o){Xn(n,e(t,r,o),t)})),n},En.mapValues=function(t,e){var n={};return e=Jo(e,3),cr(t,(function(t,r,o){Xn(n,r,e(t,r,o))})),n},En.matches=function(t){return Er(Kn(t,1))},En.matchesProperty=function(t,e){return Ar(t,Kn(e,1))},En.memoize=_a,En.merge=Cu,En.mergeWith=_u,En.method=Gu,En.methodOf=Yu,En.mixin=Ku,En.negate=Sa,En.nthArg=function(t){return t=ru(t),Lr((function(e){return Nr(e,t)}))},En.omit=Su,En.omitBy=function(t,e){return Ou(t,Sa(Jo(e)))},En.once=function(t){return va(2,t)},En.orderBy=function(t,e,n,r){return null==t?[]:(Ra(e)||(e=null==e?[]:[e]),Ra(n=r?void 0:n)||(n=null==n?[]:[n]),Mr(t,e,n))},En.over=Zu,En.overArgs=ka,En.overEvery=Qu,En.overSome=tc,En.partial=Oa,En.partialRight=Ta,En.partition=ha,En.pick=ku,En.pickBy=Ou,En.property=ec,En.propertyOf=function(t){return function(e){return null==t?void 0:fr(t,e)}},En.pull=Hi,En.pullAll=ji,En.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Pr(t,e,Jo(n,2)):t},En.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Pr(t,e,void 0,n):t},En.pullAt=Vi,En.range=nc,En.rangeRight=rc,En.rearg=Ea,En.reject=function(t,e){return(Ra(t)?le:or)(t,Sa(Jo(e,3)))},En.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=Jo(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Br(t,o),n},En.rest=function(t,e){if("function"!=typeof t)throw new bt(i);return Lr(t,e=void 0===e?e:ru(e))},En.reverse=$i,En.sampleSize=function(t,e,n){return e=(n?ci(t,e,n):void 0===e)?1:ru(e),(Ra(t)?Hn:Hr)(t,e)},En.set=function(t,e,n){return null==t?t:jr(t,e,n)},En.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:jr(t,e,n,r)},En.shuffle=function(t){return(Ra(t)?jn:Ur)(t)},En.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ci(t,e,n)?(e=0,n=r):(e=null==e?0:ru(e),n=void 0===n?r:ru(n)),Wr(t,e,n)):[]},En.sortBy=pa,En.sortedUniq=function(t){return t&&t.length?Yr(t):[]},En.sortedUniqBy=function(t,e){return t&&t.length?Yr(t,Jo(e,2)):[]},En.split=function(t,e,n){return n&&"number"!=typeof n&&ci(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=uu(t))&&("string"==typeof e||null!=e&&!Ga(e))&&!(e=Jr(e))&&Fe(t)?so(qe(t),0,n):t.split(e,n):[]},En.spread=function(t,e){if("function"!=typeof t)throw new bt(i);return e=null==e?0:an(ru(e),0),Lr((function(n){var r=n[e],o=so(n,0,e);return r&&pe(o,r),ie(t,this,o)}))},En.tail=function(t){var e=null==t?0:t.length;return e?Wr(t,1,e):[]},En.take=function(t,e,n){return t&&t.length?Wr(t,0,(e=n||void 0===e?1:ru(e))<0?0:e):[]},En.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e,r):[]},En.takeRightWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!1,!0):[]},En.takeWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3)):[]},En.tap=function(t,e){return e(t),t},En.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new bt(i);return $a(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),wa(t,e,{leading:r,maxWait:e,trailing:o})},En.thru=na,En.toArray=eu,En.toPairs=Tu,En.toPairsIn=Eu,En.toPath=function(t){return Ra(t)?he(t,Oi):Ja(t)?[t]:bo(ki(uu(t)))},En.toPlainObject=au,En.transform=function(t,e,n){var r=Ra(t),o=r||Ia(t)||Za(t);if(e=Jo(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:$a(t)&&Ha(i)?An(Wt(t)):{}}return(o?ue:cr)(t,(function(t,r,o){return e(n,t,r,o)})),n},En.unary=function(t){return ga(t,1)},En.union=Ui,En.unionBy=Wi,En.unionWith=qi,En.uniq=function(t){return t&&t.length?Zr(t):[]},En.uniqBy=function(t,e){return t&&t.length?Zr(t,Jo(e,2)):[]},En.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Zr(t,void 0,e):[]},En.unset=function(t,e){return null==t||Qr(t,e)},En.unzip=Xi,En.unzipWith=Gi,En.update=function(t,e,n){return null==t?t:to(t,e,ao(n))},En.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:to(t,e,ao(n),r)},En.values=Au,En.valuesIn=function(t){return null==t?[]:Ne(t,xu(t))},En.without=Yi,En.words=Hu,En.wrap=function(t,e){return Oa(ao(e),t)},En.xor=Ki,En.xorBy=Ji,En.xorWith=Zi,En.zip=Qi,En.zipObject=function(t,e){return oo(t||[],e||[],$n)},En.zipObjectDeep=function(t,e){return oo(t||[],e||[],jr)},En.zipWith=ta,En.entries=Tu,En.entriesIn=Eu,En.extend=su,En.extendWith=lu,Ku(En,En),En.add=ac,En.attempt=ju,En.camelCase=Du,En.capitalize=Nu,En.ceil=uc,En.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=iu(n))==n?n:0),void 0!==e&&(e=(e=iu(e))==e?e:0),Yn(iu(t),e,n)},En.clone=function(t){return Kn(t,4)},En.cloneDeep=function(t){return Kn(t,5)},En.cloneDeepWith=function(t,e){return Kn(t,5,e="function"==typeof e?e:void 0)},En.cloneWith=function(t,e){return Kn(t,4,e="function"==typeof e?e:void 0)},En.conformsTo=function(t,e){return null==e||Jn(t,e,wu(e))},En.deburr=Mu,En.defaultTo=function(t,e){return null==t||t!=t?e:t},En.divide=cc,En.endsWith=function(t,e,n){t=uu(t),e=Jr(e);var r=t.length,o=n=void 0===n?r:Yn(ru(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},En.eq=Aa,En.escape=function(t){return(t=uu(t))&&F.test(t)?t.replace(I,Ie):t},En.escapeRegExp=function(t){return(t=uu(t))&&X.test(t)?t.replace(q,"\\$&"):t},En.every=function(t,e,n){var r=Ra(t)?se:nr;return n&&ci(t,e,n)&&(e=void 0),r(t,Jo(e,3))},En.find=ia,En.findIndex=Mi,En.findKey=function(t,e){return ye(t,Jo(e,3),cr)},En.findLast=aa,En.findLastIndex=Ri,En.findLastKey=function(t,e){return ye(t,Jo(e,3),sr)},En.floor=sc,En.forEach=ua,En.forEachRight=ca,En.forIn=function(t,e){return null==t?t:ar(t,Jo(e,3),xu)},En.forInRight=function(t,e){return null==t?t:ur(t,Jo(e,3),xu)},En.forOwn=function(t,e){return t&&cr(t,Jo(e,3))},En.forOwnRight=function(t,e){return t&&sr(t,Jo(e,3))},En.get=mu,En.gt=Da,En.gte=Na,En.has=function(t,e){return null!=t&&oi(t,e,mr)},En.hasIn=gu,En.head=Bi,En.identity=qu,En.includes=function(t,e,n,r){t=Ba(t)?t:Au(t),n=n&&!r?ru(n):0;var o=t.length;return n<0&&(n=an(o+n,0)),Ka(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&xe(t,e,n)>-1},En.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ru(n);return o<0&&(o=an(r+o,0)),xe(t,e,o)},En.inRange=function(t,e,n){return e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n){return t>=un(e,n)&&t<an(e,n)}(t=iu(t),e,n)},En.invoke=yu,En.isArguments=Ma,En.isArray=Ra,En.isArrayBuffer=Pa,En.isArrayLike=Ba,En.isArrayLikeObject=za,En.isBoolean=function(t){return!0===t||!1===t||Ua(t)&&hr(t)==l},En.isBuffer=Ia,En.isDate=La,En.isElement=function(t){return Ua(t)&&1===t.nodeType&&!Xa(t)},En.isEmpty=function(t){if(null==t)return!0;if(Ba(t)&&(Ra(t)||"string"==typeof t||"function"==typeof t.splice||Ia(t)||Za(t)||Ma(t)))return!t.length;var e=ri(t);if(e==m||e==y)return!t.size;if(di(t))return!Sr(t).length;for(var n in t)if(St.call(t,n))return!1;return!0},En.isEqual=function(t,e){return wr(t,e)},En.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?wr(t,e,void 0,n):!!r},En.isError=Fa,En.isFinite=function(t){return"number"==typeof t&&nn(t)},En.isFunction=Ha,En.isInteger=ja,En.isLength=Va,En.isMap=Wa,En.isMatch=function(t,e){return t===e||xr(t,e,Qo(e))},En.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,xr(t,e,Qo(e),n)},En.isNaN=function(t){return qa(t)&&t!=+t},En.isNative=function(t){if(fi(t))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cr(t)},En.isNil=function(t){return null==t},En.isNull=function(t){return null===t},En.isNumber=qa,En.isObject=$a,En.isObjectLike=Ua,En.isPlainObject=Xa,En.isRegExp=Ga,En.isSafeInteger=function(t){return ja(t)&&t>=-9007199254740991&&t<=9007199254740991},En.isSet=Ya,En.isString=Ka,En.isSymbol=Ja,En.isTypedArray=Za,En.isUndefined=function(t){return void 0===t},En.isWeakMap=function(t){return Ua(t)&&ri(t)==C},En.isWeakSet=function(t){return Ua(t)&&"[object WeakSet]"==hr(t)},En.join=function(t,e){return null==t?"":rn.call(t,e)},En.kebabCase=Ru,En.last=Fi,En.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=ru(n))<0?an(r+o,0):un(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):we(t,_e,o,!0)},En.lowerCase=Pu,En.lowerFirst=Bu,En.lt=Qa,En.lte=tu,En.max=function(t){return t&&t.length?rr(t,qu,pr):void 0},En.maxBy=function(t,e){return t&&t.length?rr(t,Jo(e,2),pr):void 0},En.mean=function(t){return Se(t,qu)},En.meanBy=function(t,e){return Se(t,Jo(e,2))},En.min=function(t){return t&&t.length?rr(t,qu,Or):void 0},En.minBy=function(t,e){return t&&t.length?rr(t,Jo(e,2),Or):void 0},En.stubArray=oc,En.stubFalse=ic,En.stubObject=function(){return{}},En.stubString=function(){return""},En.stubTrue=function(){return!0},En.multiply=fc,En.nth=function(t,e){return t&&t.length?Nr(t,ru(e)):void 0},En.noConflict=function(){return Xt._===this&&(Xt._=At),this},En.noop=Ju,En.now=ma,En.pad=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Ro(Qe(o),n)+t+Ro(Ze(o),n)},En.padEnd=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;return e&&r<e?t+Ro(e-r,n):t},En.padStart=function(t,e,n){t=uu(t);var r=(e=ru(e))?We(t):0;return e&&r<e?Ro(e-r,n)+t:t},En.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),sn(uu(t).replace(Y,""),e||0)},En.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ci(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=nu(t),void 0===e?(e=t,t=0):e=nu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=ln();return un(t+o*(e-t+$t("1e-"+((o+"").length-1))),e)}return zr(t,e)},En.reduce=function(t,e,n){var r=Ra(t)?me:Te,o=arguments.length<3;return r(t,Jo(e,4),n,o,tr)},En.reduceRight=function(t,e,n){var r=Ra(t)?ge:Te,o=arguments.length<3;return r(t,Jo(e,4),n,o,er)},En.repeat=function(t,e,n){return e=(n?ci(t,e,n):void 0===e)?1:ru(e),Ir(uu(t),e)},En.replace=function(){var t=arguments,e=uu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},En.result=function(t,e,n){var r=-1,o=(e=uo(e,t)).length;for(o||(o=1,t=void 0);++r<o;){var i=null==t?void 0:t[Oi(e[r])];void 0===i&&(r=o,i=n),t=Ha(i)?i.call(t):i}return t},En.round=dc,En.runInContext=t,En.sample=function(t){return(Ra(t)?Fn:Fr)(t)},En.size=function(t){if(null==t)return 0;if(Ba(t))return Ka(t)?We(t):t.length;var e=ri(t);return e==m||e==y?t.size:Sr(t).length},En.snakeCase=zu,En.some=function(t,e,n){var r=Ra(t)?ve:qr;return n&&ci(t,e,n)&&(e=void 0),r(t,Jo(e,3))},En.sortedIndex=function(t,e){return Xr(t,e)},En.sortedIndexBy=function(t,e,n){return Gr(t,e,Jo(n,2))},En.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Xr(t,e);if(r<n&&Aa(t[r],e))return r}return-1},En.sortedLastIndex=function(t,e){return Xr(t,e,!0)},En.sortedLastIndexBy=function(t,e,n){return Gr(t,e,Jo(n,2),!0)},En.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Xr(t,e,!0)-1;if(Aa(t[n],e))return n}return-1},En.startCase=Iu,En.startsWith=function(t,e,n){return t=uu(t),n=null==n?0:Yn(ru(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},En.subtract=hc,En.sum=function(t){return t&&t.length?Ee(t,qu):0},En.sumBy=function(t,e){return t&&t.length?Ee(t,Jo(e,2)):0},En.template=function(t,e,n){var r=En.templateSettings;n&&ci(t,e,n)&&(e=void 0),t=uu(t),e=lu({},e,r,jo);var o,i,a=lu({},e.imports,r.imports,jo),u=wu(a),c=Ne(a,u),s=0,l=e.interpolate||lt,f="__p += '",d=gt((e.escape||lt).source+"|"+l.source+"|"+(l===V?nt:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),h="//# sourceURL="+(St.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ft+"]")+"\n";t.replace(d,(function(e,n,r,a,u,c){return r||(r=a),f+=t.slice(s,c).replace(ft,Le),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),u&&(i=!0,f+="';\n"+u+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),f+="';\n";var p=St.call(e,"variable")&&e.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(i?f.replace(R,""):f).replace(P,"$1").replace(B,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=ju((function(){return ht(u,h+"return "+f).apply(void 0,c)}));if(m.source=f,Fa(m))throw m;return m},En.times=function(t,e){if((t=ru(t))<1||t>9007199254740991)return[];var n=4294967295,r=un(t,4294967295);t-=4294967295;for(var o=Ae(r,e=Jo(e));++n<t;)e(n);return o},En.toFinite=nu,En.toInteger=ru,En.toLength=ou,En.toLower=function(t){return uu(t).toLowerCase()},En.toNumber=iu,En.toSafeInteger=function(t){return t?Yn(ru(t),-9007199254740991,9007199254740991):0===t?t:0},En.toString=uu,En.toUpper=function(t){return uu(t).toUpperCase()},En.trim=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(G,"");if(!t||!(e=Jr(e)))return t;var r=qe(t),o=qe(e);return so(r,Re(r,o),Pe(r,o)+1).join("")},En.trimEnd=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Jr(e)))return t;var r=qe(t);return so(r,0,Pe(r,qe(e))+1).join("")},En.trimStart=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Jr(e)))return t;var r=qe(t);return so(r,Re(r,qe(e))).join("")},En.truncate=function(t,e){var n=30,r="...";if($a(e)){var o="separator"in e?e.separator:o;n="length"in e?ru(e.length):n,r="omission"in e?Jr(e.omission):r}var i=(t=uu(t)).length;if(Fe(t)){var a=qe(t);i=a.length}if(n>=i)return t;var u=n-We(r);if(u<1)return r;var c=a?so(a,0,u).join(""):t.slice(0,u);if(void 0===o)return c+r;if(a&&(u+=c.length-u),Ga(o)){if(t.slice(u).search(o)){var s,l=c;for(o.global||(o=gt(o.source,uu(rt.exec(o))+"g")),o.lastIndex=0;s=o.exec(l);)var f=s.index;c=c.slice(0,void 0===f?u:f)}}else if(t.indexOf(Jr(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},En.unescape=function(t){return(t=uu(t))&&L.test(t)?t.replace(z,Xe):t},En.uniqueId=function(t){var e=++kt;return uu(t)+e},En.upperCase=Lu,En.upperFirst=Fu,En.each=ua,En.eachRight=ca,En.first=Bi,Ku(En,(lc={},cr(En,(function(t,e){St.call(En.prototype,e)||(lc[e]=t)})),lc),{chain:!1}),En.VERSION="4.17.15",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){En[t].placeholder=En})),ue(["drop","take"],(function(t,e){Mn.prototype[t]=function(n){n=void 0===n?1:an(ru(n),0);var r=this.__filtered__&&!e?new Mn(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Mn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Mn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Jo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ue(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Mn.prototype[t]=function(){return this[n](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Mn.prototype[t]=function(){return this.__filtered__?new Mn(this):this[n](1)}})),Mn.prototype.compact=function(){return this.filter(qu)},Mn.prototype.find=function(t){return this.filter(t).head()},Mn.prototype.findLast=function(t){return this.reverse().find(t)},Mn.prototype.invokeMap=Lr((function(t,e){return"function"==typeof t?new Mn(this):this.map((function(n){return br(n,t,e)}))})),Mn.prototype.reject=function(t){return this.filter(Sa(Jo(t)))},Mn.prototype.slice=function(t,e){t=ru(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Mn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ru(e))<0?n.dropRight(-e):n.take(e-t)),n)},Mn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mn.prototype.toArray=function(){return this.take(4294967295)},cr(Mn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=En[r?"take"+("last"==e?"Right":""):e],i=r||/^find/.test(e);o&&(En.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof Mn,c=a[0],s=u||Ra(e),l=function(t){var e=o.apply(En,pe([t],a));return r&&f?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(u=s=!1);var f=this.__chain__,d=!!this.__actions__.length,h=i&&!f,p=u&&!d;if(!i&&s){e=p?e:new Mn(this);var m=t.apply(e,a);return m.__actions__.push({func:na,args:[l],thisArg:void 0}),new Nn(m,f)}return h&&p?t.apply(this,a):(m=this.thru(l),h?r?m.value()[0]:m.value():m)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);En.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ra(o)?o:[],t)}return this[n]((function(n){return e.apply(Ra(n)?n:[],t)}))}})),cr(Mn.prototype,(function(t,e){var n=En[e];if(n){var r=n.name+"";St.call(yn,r)||(yn[r]=[]),yn[r].push({name:e,func:n})}})),yn[Ao(void 0,2).name]=[{name:"wrapper",func:void 0}],Mn.prototype.clone=function(){var t=new Mn(this.__wrapped__);return t.__actions__=bo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=bo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=bo(this.__views__),t},Mn.prototype.reverse=function(){if(this.__filtered__){var t=new Mn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Mn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ra(t),r=e<0,o=n?t.length:0,i=function(t,e,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=un(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,u=i.end,c=u-a,s=r?u:a-1,l=this.__iteratees__,f=l.length,d=0,h=un(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return no(t,this.__actions__);var p=[];t:for(;c--&&d<h;){for(var m=-1,g=t[s+=e];++m<f;){var v=l[m],b=v.iteratee,y=v.type,w=b(g);if(2==y)g=w;else if(!w){if(1==y)continue t;break t}}p[d++]=g}return p},En.prototype.at=ra,En.prototype.chain=function(){return ea(this)},En.prototype.commit=function(){return new Nn(this.value(),this.__chain__)},En.prototype.next=function(){void 0===this.__values__&&(this.__values__=eu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},En.prototype.plant=function(t){for(var e,n=this;n instanceof Dn;){var r=Ei(n);r.__index__=0,r.__values__=void 0,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},En.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Mn){var e=t;return this.__actions__.length&&(e=new Mn(this)),(e=e.reverse()).__actions__.push({func:na,args:[$i],thisArg:void 0}),new Nn(e,this.__chain__)}return this.thru($i)},En.prototype.toJSON=En.prototype.valueOf=En.prototype.value=function(){return no(this.__wrapped__,this.__actions__)},En.prototype.first=En.prototype.head,Zt&&(En.prototype[Zt]=function(){return this}),En}();Xt._=Ge,void 0===(o=function(){return Ge}.call(e,n,e,r))||(r.exports=o)}).call(this)}).call(this,n(1),n(59)(t))},function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u="undefined"!=typeof window&&void 0!==window.document,c=u?window:{},s=!!u&&"ontouchstart"in c.document.documentElement,l=!!u&&"PointerEvent"in c,f="".concat("cropper","-crop"),d="".concat("cropper","-disabled"),h="".concat("cropper","-hidden"),p="".concat("cropper","-hide"),m="".concat("cropper","-invisible"),g="".concat("cropper","-modal"),v="".concat("cropper","-move"),b="".concat("cropper","Action"),y="".concat("cropper","Preview"),w=s?"touchstart":"mousedown",x=s?"touchmove":"mousemove",C=s?"touchend touchcancel":"mouseup",_=l?"pointerdown":w,S=l?"pointermove":x,k=l?"pointerup pointercancel":C,O=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,T=/^data:/,E=/^data:image\/jpeg;base64,/,A=/^img|canvas$/i,D={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},N=Number.isNaN||c.isNaN;function M(t){return"number"==typeof t&&!N(t)}var R=function(t){return t>0&&t<1/0};function P(t){return void 0===t}function B(e){return"object"===t(e)&&null!==e}var z=Object.prototype.hasOwnProperty;function I(t){if(!B(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&z.call(n,"isPrototypeOf")}catch(t){return!1}}function L(t){return"function"==typeof t}var F=Array.prototype.slice;function H(t){return Array.from?Array.from(t):F.call(t)}function j(t,e){return t&&L(e)&&(Array.isArray(t)||M(t.length)?H(t).forEach((function(n,r){e.call(t,n,r,t)})):B(t)&&Object.keys(t).forEach((function(n){e.call(t,t[n],n,t)}))),t}var V=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return B(t)&&n.length>0&&n.forEach((function(e){B(e)&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},$=/\.\d*(?:0|9){12}\d*$/;function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return $.test(t)?Math.round(t*e)/e:t}var W=/^width|height|left|top|marginLeft|marginTop$/;function q(t,e){var n=t.style;j(e,(function(t,e){W.test(e)&&M(t)&&(t="".concat(t,"px")),n[e]=t}))}function X(t,e){if(e)if(M(t.length))j(t,(function(t){X(t,e)}));else if(t.classList)t.classList.add(e);else{var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function G(t,e){e&&(M(t.length)?j(t,(function(t){G(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function Y(t,e,n){e&&(M(t.length)?j(t,(function(t){Y(t,e,n)})):n?X(t,e):G(t,e))}var K=/([a-z\d])([A-Z])/g;function J(t){return t.replace(K,"$1-$2").toLowerCase()}function Z(t,e){return B(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(J(e)))}function Q(t,e,n){B(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(J(e)),n)}var tt=/\s\s*/,et=function(){var t=!1;if(u){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});c.addEventListener("test",n,r),c.removeEventListener("test",n,r)}return t}();function nt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;e.trim().split(tt).forEach((function(e){if(!et){var i=t.listeners;i&&i[e]&&i[e][n]&&(o=i[e][n],delete i[e][n],0===Object.keys(i[e]).length&&delete i[e],0===Object.keys(i).length&&delete t.listeners)}t.removeEventListener(e,o,r)}))}function rt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;e.trim().split(tt).forEach((function(e){if(r.once&&!et){var i=t.listeners,a=void 0===i?{}:i;o=function(){delete a[e][n],t.removeEventListener(e,o,r);for(var i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];n.apply(t,u)},a[e]||(a[e]={}),a[e][n]&&t.removeEventListener(e,a[e][n],r),a[e][n]=o,t.listeners=a}t.addEventListener(e,o,r)}))}function ot(t,e,n){var r;return L(Event)&&L(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(r)}function it(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var at=c.location,ut=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ct(t){var e=t.match(ut);return null!==e&&(e[1]!==at.protocol||e[2]!==at.hostname||e[3]!==at.port)}function st(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function lt(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,o=t.translateX,i=t.translateY,a=[];M(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),M(i)&&0!==i&&a.push("translateY(".concat(i,"px)")),M(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),M(n)&&1!==n&&a.push("scaleX(".concat(n,")")),M(r)&&1!==r&&a.push("scaleY(".concat(r,")"));var u=a.length?a.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function ft(t,e){var n=t.pageX,r=t.pageY,o={endX:n,endY:r};return e?o:i({startX:n,startY:r},o)}function dt(t){var e=t.aspectRatio,n=t.height,r=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",i=R(r),a=R(n);if(i&&a){var u=n*e;"contain"===o&&u>r||"cover"===o&&u<r?n=r/e:r=n*e}else i?n=r/e:a&&(r=n*e);return{width:r,height:n}}function ht(t,e,n,r){var o=e.aspectRatio,i=e.naturalWidth,u=e.naturalHeight,c=e.rotate,s=void 0===c?0:c,l=e.scaleX,f=void 0===l?1:l,d=e.scaleY,h=void 0===d?1:d,p=n.aspectRatio,m=n.naturalWidth,g=n.naturalHeight,v=r.fillColor,b=void 0===v?"transparent":v,y=r.imageSmoothingEnabled,w=void 0===y||y,x=r.imageSmoothingQuality,C=void 0===x?"low":x,_=r.maxWidth,S=void 0===_?1/0:_,k=r.maxHeight,O=void 0===k?1/0:k,T=r.minWidth,E=void 0===T?0:T,A=r.minHeight,D=void 0===A?0:A,N=document.createElement("canvas"),M=N.getContext("2d"),R=dt({aspectRatio:p,width:S,height:O}),P=dt({aspectRatio:p,width:E,height:D},"cover"),B=Math.min(R.width,Math.max(P.width,m)),z=Math.min(R.height,Math.max(P.height,g)),I=dt({aspectRatio:o,width:S,height:O}),L=dt({aspectRatio:o,width:E,height:D},"cover"),F=Math.min(I.width,Math.max(L.width,i)),H=Math.min(I.height,Math.max(L.height,u)),j=[-F/2,-H/2,F,H];return N.width=U(B),N.height=U(z),M.fillStyle=b,M.fillRect(0,0,B,z),M.save(),M.translate(B/2,z/2),M.rotate(s*Math.PI/180),M.scale(f,h),M.imageSmoothingEnabled=w,M.imageSmoothingQuality=C,M.drawImage.apply(M,[t].concat(a(j.map((function(t){return Math.floor(U(t))}))))),M.restore(),N}var pt=String.fromCharCode,mt=/^data:.*,/;function gt(t){var e,n=new DataView(t);try{var r,o,i;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,u=2;u+1<a;){if(255===n.getUint8(u)&&225===n.getUint8(u+1)){o=u;break}u+=1}if(o){var c=o+10;if("Exif"===function(t,e,n){var r="";n+=e;for(var o=e;o<n;o+=1)r+=pt(t.getUint8(o));return r}(n,o+4,4)){var s=n.getUint16(c);if(((r=18761===s)||19789===s)&&42===n.getUint16(c+2,r)){var l=n.getUint32(c+4,r);l>=8&&(i=c+l)}}}if(i){var f,d,h=n.getUint16(i,r);for(d=0;d<h;d+=1)if(f=i+12*d+2,274===n.getUint16(f,r)){f+=8,e=n.getUint16(f,r),n.setUint16(f,1,r);break}}}catch(t){e=1}return e}var vt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,n=this.container,r=this.cropper;X(r,h),G(t,h);var o={width:Math.max(n.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(e.minContainerHeight)||100)};this.containerData=o,q(r,{width:o.width,height:o.height}),X(t,h),G(r,h)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,r=Math.abs(e.rotate)%180==90,o=r?e.naturalHeight:e.naturalWidth,i=r?e.naturalWidth:e.naturalHeight,a=o/i,u=t.width,c=t.height;t.height*a>t.width?3===n?u=t.height*a:c=t.width/a:3===n?c=t.width/a:u=t.height*a;var s={aspectRatio:a,naturalWidth:o,naturalHeight:i,width:u,height:c};s.left=(t.width-u)/2,s.top=(t.height-c)/2,s.oldLeft=s.left,s.oldTop=s.top,this.canvasData=s,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImageData=V({},e),this.initialCanvasData=V({},s)},limitCanvas:function(t,e){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=n.viewMode,u=o.aspectRatio,c=this.cropped&&i;if(t){var s=Number(n.minCanvasWidth)||0,l=Number(n.minCanvasHeight)||0;a>1?(s=Math.max(s,r.width),l=Math.max(l,r.height),3===a&&(l*u>s?s=l*u:l=s/u)):a>0&&(s?s=Math.max(s,c?i.width:0):l?l=Math.max(l,c?i.height:0):c&&(s=i.width,(l=i.height)*u>s?s=l*u:l=s/u));var f=dt({aspectRatio:u,width:s,height:l});s=f.width,l=f.height,o.minWidth=s,o.minHeight=l,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if(a>(c?0:1)){var d=r.width-o.width,h=r.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,h),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,h),c&&this.limited&&(o.minLeft=Math.min(i.left,i.left+(i.width-o.width)),o.minTop=Math.min(i.top,i.top+(i.height-o.height)),o.maxLeft=i.left,o.maxTop=i.top,2===a&&(o.width>=r.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=r.height&&(o.minTop=Math.min(0,h),o.maxTop=Math.max(0,h))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=r.width,o.maxTop=r.height},renderCanvas:function(t,e){var n=this.canvasData,r=this.imageData;if(e){var o=function(t){var e=t.width,n=t.height,r=t.degree;if(90==(r=Math.abs(r)%180))return{width:n,height:e};var o=r%90*Math.PI/180,i=Math.sin(o),a=Math.cos(o),u=e*a+n*i,c=e*i+n*a;return r>90?{width:c,height:u}:{width:u,height:c}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),i=o.width,a=o.height,u=n.width*(i/n.naturalWidth),c=n.height*(a/n.naturalHeight);n.left-=(u-n.width)/2,n.top-=(c-n.height)/2,n.width=u,n.height=c,n.aspectRatio=i/a,n.naturalWidth=i,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,q(this.canvas,V({width:n.width,height:n.height},lt({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,r=n.naturalWidth*(e.width/e.naturalWidth),o=n.naturalHeight*(e.height/e.naturalHeight);V(n,{width:r,height:o,left:(e.width-r)/2,top:(e.height-o)/2}),q(this.image,V({width:n.width,height:n.height},lt(V({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};n&&(e.height*n>e.width?o.height=o.width/n:o.width=o.height*n),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*r),o.height=Math.max(o.minHeight,o.height*r),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=V({},o)},limitCropBox:function(t,e){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=this.limited,u=n.aspectRatio;if(t){var c=Number(n.minCropBoxWidth)||0,s=Number(n.minCropBoxHeight)||0,l=a?Math.min(r.width,o.width,o.width+o.left,r.width-o.left):r.width,f=a?Math.min(r.height,o.height,o.height+o.top,r.height-o.top):r.height;c=Math.min(c,r.width),s=Math.min(s,r.height),u&&(c&&s?s*u>c?s=c/u:c=s*u:c?s=c/u:s&&(c=s*u),f*u>l?f=l/u:l=f*u),i.minWidth=Math.min(c,l),i.minHeight=Math.min(s,f),i.maxWidth=l,i.maxHeight=f}e&&(a?(i.minLeft=Math.max(0,o.left),i.minTop=Math.max(0,o.top),i.maxLeft=Math.min(r.width,o.left+o.width)-i.width,i.maxTop=Math.min(r.height,o.top+o.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=r.width-i.width,i.maxTop=r.height-i.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&Q(this.face,b,n.width>=e.width&&n.height>=e.height?"move":"all"),q(this.cropBox,V({width:n.width,height:n.height},lt({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ot(this.element,"crop",this.getData())}},bt={initPreview:function(){var t=this.element,e=this.crossOrigin,n=this.options.preview,r=e?this.crossOriginUrl:this.url,o=t.alt||"The image to preview",i=document.createElement("img");if(e&&(i.crossOrigin=e),i.src=r,i.alt=o,this.viewBox.appendChild(i),this.viewBoxImage=i,n){var a=n;"string"==typeof n?a=t.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,j(a,(function(t){var n=document.createElement("img");Q(t,y,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(n.crossOrigin=e),n.src=r,n.alt=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(n)}))}},resetPreview:function(){j(this.previews,(function(t){var e=Z(t,y);q(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(B(t[e]))try{delete t[e]}catch(n){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(n){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(J(e)))}(t,y)}))},preview:function(){var t=this.imageData,e=this.canvasData,n=this.cropBoxData,r=n.width,o=n.height,i=t.width,a=t.height,u=n.left-e.left-t.left,c=n.top-e.top-t.top;this.cropped&&!this.disabled&&(q(this.viewBoxImage,V({width:i,height:a},lt(V({translateX:-u,translateY:-c},t)))),j(this.previews,(function(e){var n=Z(e,y),s=n.width,l=n.height,f=s,d=l,h=1;r&&(d=o*(h=s/r)),o&&d>l&&(f=r*(h=l/o),d=l),q(e,{width:f,height:d}),q(e.getElementsByTagName("img")[0],V({width:i*h,height:a*h},lt(V({translateX:-u*h,translateY:-c*h},t))))})))}},yt={bind:function(){var t=this.element,e=this.options,n=this.cropper;L(e.cropstart)&&rt(t,"cropstart",e.cropstart),L(e.cropmove)&&rt(t,"cropmove",e.cropmove),L(e.cropend)&&rt(t,"cropend",e.cropend),L(e.crop)&&rt(t,"crop",e.crop),L(e.zoom)&&rt(t,"zoom",e.zoom),rt(n,_,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&rt(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&rt(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),rt(t.ownerDocument,S,this.onCropMove=this.cropMove.bind(this)),rt(t.ownerDocument,k,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&rt(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.cropper;L(e.cropstart)&&nt(t,"cropstart",e.cropstart),L(e.cropmove)&&nt(t,"cropmove",e.cropmove),L(e.cropend)&&nt(t,"cropend",e.cropend),L(e.crop)&&nt(t,"crop",e.crop),L(e.zoom)&&nt(t,"zoom",e.zoom),nt(n,_,this.onCropStart),e.zoomable&&e.zoomOnWheel&&nt(n,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&nt(n,"dblclick",this.onDblclick),nt(t.ownerDocument,S,this.onCropMove),nt(t.ownerDocument,k,this.onCropEnd),e.responsive&&nt(window,"resize",this.onResize)}},wt={resize:function(){var t=this.options,e=this.container,n=this.containerData,r=Number(t.minContainerWidth)||200,o=Number(t.minContainerHeight)||100;if(!(this.disabled||n.width<=r||n.height<=o)){var i,a,u=e.offsetWidth/n.width;1===u&&e.offsetHeight===n.height||(t.restore&&(i=this.getCanvasData(),a=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(j(i,(function(t,e){i[e]=t*u}))),this.setCropBoxData(j(a,(function(t,e){a[e]=t*u})))))}},dblclick:function(){var t,e;this.disabled||"none"===this.options.dragMode||this.setDragMode((t=this.dragBox,e=f,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?"move":"crop"))},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*n,t)))},cropStart:function(t){var e=t.buttons,n=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(M(e)&&1!==e||M(n)&&0!==n||t.ctrlKey))){var r,o=this.options,i=this.pointers;t.changedTouches?j(t.changedTouches,(function(t){i[t.identifier]=ft(t)})):i[t.pointerId||0]=ft(t),r=Object.keys(i).length>1&&o.zoomable&&o.zoomOnTouch?"zoom":Z(t.target,b),O.test(r)&&!1!==ot(this.element,"cropstart",{originalEvent:t,action:r})&&(t.preventDefault(),this.action=r,this.cropping=!1,"crop"===r&&(this.cropping=!0,X(this.dragBox,g)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var n=this.pointers;t.preventDefault(),!1!==ot(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?j(t.changedTouches,(function(t){V(n[t.identifier]||{},ft(t,!0))})):V(n[t.pointerId||0]||{},ft(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?j(t.changedTouches,(function(t){delete n[t.identifier]})):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Y(this.dragBox,g,this.cropped&&this.options.modal)),ot(this.element,"cropend",{originalEvent:t,action:e}))}}},xt={change:function(t){var e,n=this.options,r=this.canvasData,o=this.containerData,a=this.cropBoxData,u=this.pointers,c=this.action,s=n.aspectRatio,l=a.left,f=a.top,d=a.width,p=a.height,m=l+d,g=f+p,v=0,b=0,y=o.width,w=o.height,x=!0;!s&&t.shiftKey&&(s=d&&p?d/p:1),this.limited&&(v=a.minLeft,b=a.minTop,y=v+Math.min(o.width,r.width,r.left+r.width),w=b+Math.min(o.height,r.height,r.top+r.height));var C=u[Object.keys(u)[0]],_={x:C.endX-C.startX,y:C.endY-C.startY},S=function(t){switch(t){case"e":m+_.x>y&&(_.x=y-m);break;case"w":l+_.x<v&&(_.x=v-l);break;case"n":f+_.y<b&&(_.y=b-f);break;case"s":g+_.y>w&&(_.y=w-g)}};switch(c){case"all":l+=_.x,f+=_.y;break;case"e":if(_.x>=0&&(m>=y||s&&(f<=b||g>=w))){x=!1;break}S("e"),(d+=_.x)<0&&(c="w",l-=d=-d),s&&(p=d/s,f+=(a.height-p)/2);break;case"n":if(_.y<=0&&(f<=b||s&&(l<=v||m>=y))){x=!1;break}S("n"),p-=_.y,f+=_.y,p<0&&(c="s",f-=p=-p),s&&(d=p*s,l+=(a.width-d)/2);break;case"w":if(_.x<=0&&(l<=v||s&&(f<=b||g>=w))){x=!1;break}S("w"),d-=_.x,l+=_.x,d<0&&(c="e",l-=d=-d),s&&(p=d/s,f+=(a.height-p)/2);break;case"s":if(_.y>=0&&(g>=w||s&&(l<=v||m>=y))){x=!1;break}S("s"),(p+=_.y)<0&&(c="n",f-=p=-p),s&&(d=p*s,l+=(a.width-d)/2);break;case"ne":if(s){if(_.y<=0&&(f<=b||m>=y)){x=!1;break}S("n"),p-=_.y,f+=_.y,d=p*s}else S("n"),S("e"),_.x>=0?m<y?d+=_.x:_.y<=0&&f<=b&&(x=!1):d+=_.x,_.y<=0?f>b&&(p-=_.y,f+=_.y):(p-=_.y,f+=_.y);d<0&&p<0?(c="sw",f-=p=-p,l-=d=-d):d<0?(c="nw",l-=d=-d):p<0&&(c="se",f-=p=-p);break;case"nw":if(s){if(_.y<=0&&(f<=b||l<=v)){x=!1;break}S("n"),p-=_.y,f+=_.y,d=p*s,l+=a.width-d}else S("n"),S("w"),_.x<=0?l>v?(d-=_.x,l+=_.x):_.y<=0&&f<=b&&(x=!1):(d-=_.x,l+=_.x),_.y<=0?f>b&&(p-=_.y,f+=_.y):(p-=_.y,f+=_.y);d<0&&p<0?(c="se",f-=p=-p,l-=d=-d):d<0?(c="ne",l-=d=-d):p<0&&(c="sw",f-=p=-p);break;case"sw":if(s){if(_.x<=0&&(l<=v||g>=w)){x=!1;break}S("w"),d-=_.x,l+=_.x,p=d/s}else S("s"),S("w"),_.x<=0?l>v?(d-=_.x,l+=_.x):_.y>=0&&g>=w&&(x=!1):(d-=_.x,l+=_.x),_.y>=0?g<w&&(p+=_.y):p+=_.y;d<0&&p<0?(c="ne",f-=p=-p,l-=d=-d):d<0?(c="se",l-=d=-d):p<0&&(c="nw",f-=p=-p);break;case"se":if(s){if(_.x>=0&&(m>=y||g>=w)){x=!1;break}S("e"),p=(d+=_.x)/s}else S("s"),S("e"),_.x>=0?m<y?d+=_.x:_.y>=0&&g>=w&&(x=!1):d+=_.x,_.y>=0?g<w&&(p+=_.y):p+=_.y;d<0&&p<0?(c="nw",f-=p=-p,l-=d=-d):d<0?(c="sw",l-=d=-d):p<0&&(c="ne",f-=p=-p);break;case"move":this.move(_.x,_.y),x=!1;break;case"zoom":this.zoom(function(t){var e=i({},t),n=[];return j(t,(function(t,r){delete e[r],j(e,(function(e){var r=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),i=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),u=Math.sqrt(r*r+o*o),c=(Math.sqrt(i*i+a*a)-u)/u;n.push(c)}))})),n.sort((function(t,e){return Math.abs(t)<Math.abs(e)})),n[0]}(u),t),x=!1;break;case"crop":if(!_.x||!_.y){x=!1;break}e=it(this.cropper),l=C.startX-e.left,f=C.startY-e.top,d=a.minWidth,p=a.minHeight,_.x>0?c=_.y>0?"se":"ne":_.x<0&&(l-=d,c=_.y>0?"sw":"nw"),_.y<0&&(f-=p),this.cropped||(G(this.cropBox,h),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(a.width=d,a.height=p,a.left=l,a.top=f,this.action=c,this.renderCropBox()),j(u,(function(t){t.startX=t.endX,t.startY=t.endY}))}},Ct={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&X(this.dragBox,g),G(this.cropBox,h),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=V({},this.initialImageData),this.canvasData=V({},this.initialCanvasData),this.cropBoxData=V({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(V(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),G(this.dragBox,g),X(this.cropBox,h)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,j(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,G(this.cropper,d)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,X(this.cropper,d)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,r=n.left,o=n.top;return this.moveTo(P(t)?t:r+Number(t),P(e)?e:o+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(M(t)&&(n.left=t,r=!0),M(e)&&(n.top=e,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var r=this.options,o=this.canvasData,i=o.width,a=o.height,u=o.naturalWidth,c=o.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&r.zoomable){var s=u*t,l=c*t;if(!1===ot(this.element,"zoom",{ratio:t,oldRatio:i/u,originalEvent:n}))return this;if(n){var f=this.pointers,d=it(this.cropper),h=f&&Object.keys(f).length?function(t){var e=0,n=0,r=0;return j(t,(function(t){var o=t.startX,i=t.startY;e+=o,n+=i,r+=1})),{pageX:e/=r,pageY:n/=r}}(f):{pageX:n.pageX,pageY:n.pageY};o.left-=(s-i)*((h.pageX-d.left-o.left)/i),o.top-=(l-a)*((h.pageY-d.top-o.top)/a)}else I(e)&&M(e.x)&&M(e.y)?(o.left-=(s-i)*((e.x-o.left)/i),o.top-=(l-a)*((e.y-o.top)/a)):(o.left-=(s-i)/2,o.top-=(l-a)/2);o.width=s,o.height=l,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return M(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,M(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(M(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(M(t)&&(n.scaleX=t,r=!0),M(e)&&(n.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,o=this.canvasData,i=this.cropBoxData;if(this.ready&&this.cropped){t={x:i.left-o.left,y:i.top-o.top,width:i.width,height:i.height};var a=r.width/r.naturalWidth;if(j(t,(function(e,n){t[n]=e/a})),e){var u=Math.round(t.y+t.height),c=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=c-t.x,t.height=u-t.y}}else t={x:0,y:0,width:0,height:0};return n.rotatable&&(t.rotate=r.rotate||0),n.scalable&&(t.scaleX=r.scaleX||1,t.scaleY=r.scaleY||1),t},setData:function(t){var e=this.options,n=this.imageData,r=this.canvasData,o={};if(this.ready&&!this.disabled&&I(t)){var i=!1;e.rotatable&&M(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,i=!0),e.scalable&&(M(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,i=!0),M(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,i=!0)),i&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;M(t.x)&&(o.left=t.x*a+r.left),M(t.y)&&(o.top=t.y*a+r.top),M(t.width)&&(o.width=t.width*a),M(t.height)&&(o.height=t.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?V({},this.containerData):{}},getImageData:function(){return this.sized?V({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&j(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){e[n]=t[n]})),e},setCanvasData:function(t){var e=this.canvasData,n=e.aspectRatio;return this.ready&&!this.disabled&&I(t)&&(M(t.left)&&(e.left=t.left),M(t.top)&&(e.top=t.top),M(t.width)?(e.width=t.width,e.height=t.width/n):M(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,n,r=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&I(t)&&(M(t.left)&&(r.left=t.left),M(t.top)&&(r.top=t.top),M(t.width)&&t.width!==r.width&&(e=!0,r.width=t.width),M(t.height)&&t.height!==r.height&&(n=!0,r.height=t.height),o&&(e?r.height=r.width/o:n&&(r.width=r.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,n=ht(this.image,this.imageData,e,t);if(!this.cropped)return n;var r=this.getData(),o=r.x,i=r.y,u=r.width,c=r.height,s=n.width/Math.floor(e.naturalWidth);1!==s&&(o*=s,i*=s,u*=s,c*=s);var l=u/c,f=dt({aspectRatio:l,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),d=dt({aspectRatio:l,width:t.minWidth||0,height:t.minHeight||0},"cover"),h=dt({aspectRatio:l,width:t.width||(1!==s?n.width:u),height:t.height||(1!==s?n.height:c)}),p=h.width,m=h.height;p=Math.min(f.width,Math.max(d.width,p)),m=Math.min(f.height,Math.max(d.height,m));var g=document.createElement("canvas"),v=g.getContext("2d");g.width=U(p),g.height=U(m),v.fillStyle=t.fillColor||"transparent",v.fillRect(0,0,p,m);var b=t.imageSmoothingEnabled,y=void 0===b||b,w=t.imageSmoothingQuality;v.imageSmoothingEnabled=y,w&&(v.imageSmoothingQuality=w);var x,C,_,S,k,O,T=n.width,E=n.height,A=o,D=i;A<=-u||A>T?(A=0,x=0,_=0,k=0):A<=0?(_=-A,A=0,k=x=Math.min(T,u+A)):A<=T&&(_=0,k=x=Math.min(u,T-A)),x<=0||D<=-c||D>E?(D=0,C=0,S=0,O=0):D<=0?(S=-D,D=0,O=C=Math.min(E,c+D)):D<=E&&(S=0,O=C=Math.min(c,E-D));var N=[A,D,x,C];if(k>0&&O>0){var M=p/u;N.push(_*M,S*M,k*M,O*M)}return v.drawImage.apply(v,[n].concat(a(N.map((function(t){return Math.floor(U(t))}))))),g},setAspectRatio:function(t){var e=this.options;return this.disabled||P(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var o="crop"===t,i=e.movable&&"move"===t;t=o||i?t:"none",e.dragMode=t,Q(n,b,t),Y(n,f,o),Y(n,v,i),e.cropBoxMovable||(Q(r,b,t),Y(r,f,o),Y(r,v,i))}return this}},_t=c.Cropper,St=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,t),!n||!A.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=V({},D,I(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var r,o,i;return r=t,i=[{key:"noConflict",value:function(){return window.Cropper=_t,t}},{key:"setDefaults",value:function(t){V(D,I(t)&&t)}}],(o=[{key:"init",value:function(){var t,e=this.element,n=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===n){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===n&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(T.test(t))E.test(t)?this.read((o=t.replace(mt,""),i=atob(o),a=new ArrayBuffer(i.length),j(u=new Uint8Array(a),(function(t,e){u[e]=i.charCodeAt(e)})),a)):this.clone();else{var o,i,a,u,c=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=s,c.onerror=s,c.ontimeout=s,c.onprogress=function(){"image/jpeg"!==c.getResponseHeader("content-type")&&c.abort()},c.onload=function(){e.read(c.response)},c.onloadend=function(){e.reloading=!1,e.xhr=null},r.checkCrossOrigin&&ct(t)&&n.crossOrigin&&(t=st(t)),c.open("GET",t),c.responseType="arraybuffer",c.withCredentials="use-credentials"===n.crossOrigin,c.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,n=this.imageData,r=gt(t),o=0,i=1,a=1;if(r>1){this.url=function(t,e){for(var n=[],r=new Uint8Array(t);r.length>0;)n.push(pt.apply(null,H(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}(t,"image/jpeg");var u=function(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:r}}(r);o=u.rotate,i=u.scaleX,a=u.scaleY}e.rotatable&&(n.rotate=o),e.scalable&&(n.scaleX=i,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,n=t.crossOrigin,r=e;this.options.checkCrossOrigin&&ct(e)&&(n||(n="anonymous"),r=st(e)),this.crossOrigin=n,this.crossOriginUrl=r;var o=document.createElement("img");n&&(o.crossOrigin=n),o.src=r||e,o.alt=t.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),X(o,p),t.parentNode.insertBefore(o,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var n=c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent),r=function(e,n){V(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||n){var o=document.createElement("img"),i=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),n||i.removeChild(o)},o.src=e.src,n||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(o))}else r(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,n=this.image,r=t.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var i=o.querySelector(".".concat("cropper","-container")),a=i.querySelector(".".concat("cropper","-canvas")),u=i.querySelector(".".concat("cropper","-drag-box")),c=i.querySelector(".".concat("cropper","-crop-box")),s=c.querySelector(".".concat("cropper","-face"));this.container=r,this.cropper=i,this.canvas=a,this.dragBox=u,this.cropBox=c,this.viewBox=i.querySelector(".".concat("cropper","-view-box")),this.face=s,a.appendChild(n),X(t,h),r.insertBefore(i,t.nextSibling),this.isImg||G(n,p),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,X(c,h),e.guides||X(c.getElementsByClassName("".concat("cropper","-dashed")),h),e.center||X(c.getElementsByClassName("".concat("cropper","-center")),h),e.background&&X(i,"".concat("cropper","-bg")),e.highlight||X(s,m),e.cropBoxMovable&&(X(s,v),Q(s,b,"all")),e.cropBoxResizable||(X(c.getElementsByClassName("".concat("cropper","-line")),h),X(c.getElementsByClassName("".concat("cropper","-point")),h)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),L(e.ready)&&rt(t,"ready",e.ready,{once:!0}),ot(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),G(this.element,h))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&n(r.prototype,o),i&&n(r,i),t}();return V(St.prototype,vt,bt,yt,wt,xt,Ct),St}()},function(t,e,n){t.exports=n(112)},function(t,e,n){window.axios=n(39),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.maxRedirects=0,window.axios.interceptors.response.use((function(t){return t}),(function(t){if(!t.response)return Promise.reject(t);switch(t.response.status){case 401:case 403:case 419:window.location.reload();break;default:return Promise.reject(t)}}));var r=document.head.querySelector('meta[name="csrf-token"]');r?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=r.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},function(t,e,n){t.exports=n(40)},function(t,e,n){"use strict";var r=n(0),o=n(24),i=n(41),a=n(31);function u(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var c=u(n(27));c.Axios=i,c.create=function(t){return u(a(c.defaults,t))},c.Cancel=n(32),c.CancelToken=n(54),c.isCancel=n(26),c.all=function(t){return Promise.all(t)},c.spread=n(55),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";var r=n(0),o=n(25),i=n(42),a=n(43),u=n(31);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=u(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=c},function(t,e,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n(44),i=n(26),a=n(27);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(30);t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(49),o=n(50);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var u=[];u.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(32);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=y(a,n);if(u){if(u===s)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function l(){}function f(){}function d(){}var h={};h[o]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(_([])));m&&m!==e&&n.call(m,o)&&(h=m);var g=d.prototype=l.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function b(t){var e;this._invoke=function(r,o){function i(){return new Promise((function(e,i){!function e(r,o,i,a){var u=c(t[r],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return e("throw",t,i,a)}))}a(u.arg)}(r,o,e,i)}))}return e=e?e.then(i,i):i()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,s;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(b.prototype),b.prototype[i]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,o){var i=new b(u(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r=n(10);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,"\n.btn-group .dropdown-menu[data-v-112125e6] {\n  display: block;\n  visibility: hidden;\n  transition: all .2s\n}\n.btn-group:hover > .dropdown-menu[data-v-112125e6] {\n  visibility: visible;\n}\nlabel.dropdown-item[data-v-112125e6] {\n  margin-bottom: 0;\n  font-weight: normal;\n  cursor: pointer;\n}\nlabel.dropdown-item[data-v-112125e6]::after,\nlabel.btn[data-v-112125e6]::after {\n  display: none;\n}\n.btn-group .dropdown-toggle[data-v-112125e6] {\n  margin-right: .6rem\n}\n.filename[data-v-112125e6] {\n  margin-bottom: .3rem\n}\n.btn-is-option[data-v-112125e6] {\n  margin-top: 0.25rem;\n}\n.footer[data-v-112125e6] {\n  padding-top: 1rem;\n  border-top: 1px solid #e9ecef;\n}\n.edit-image img[data-v-112125e6] {\n  max-width: 100%;\n}\n.edit-image-tool[data-v-112125e6] {\n  margin-top: .6rem;\n}\n.edit-image-tool .btn-group[data-v-112125e6]{\n  margin-right: .6rem;\n}\n.footer-status[data-v-112125e6] {\n  padding-top: .4rem;\n}\n.drop-active[data-v-112125e6] {\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  position: fixed;\n  z-index: 9999;\n  opacity: .6;\n  text-align: center;\n  background: #000;\n}\n.drop-active h3[data-v-112125e6] {\n  margin: -.5em 0 0;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  font-size: 40px;\n  color: #fff;\n  padding: 0;\n}\n.p-5[data-v-112125e6] {\n  padding: 4rem 3rem;\n}\n",""]),t.exports=e},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(11);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,"\n.fade-down-enter,\n.fade-down-leave-to {\n  opacity: 0 !important;\n}\n.fade-down-enter-to,\n.fade-down-leave {\n  opacity: 1 !important;\n}\n.fade-down-enter-active,\n.fade-down-leave-active {\n  transition: opacity 200ms ease-out;\n}\n.fade-down-enter .modal-content,\n.fade-down-leave-to  .modal-content{\n  transform: scale(.9);\n}\n.fade-down-enter-to .modal-content,\n.fade-down-leave  .modal-content{\n  transform: scale(1);\n}\n.fade-down-enter-active .modal-content,\n.fade-down-leave-active  .modal-content{\n  transition: transform 200ms ease-out;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var r=n(12);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,".fade-enter-active[data-v-e1e714a8], .fade-leave-active[data-v-e1e714a8] {\n  transition: opacity .5s;\n}\n.fade-enter[data-v-e1e714a8], .fade-leave-to[data-v-e1e714a8] {\n  opacity: 0;\n}\n.card-danger .icon[data-v-e1e714a8] {\n  opacity: .1;\n}\n.card-heading[data-v-e1e714a8],\n.card-footer[data-v-e1e714a8] {\n  height: 100%;\n}\n.icon[data-v-e1e714a8] {\n  display: flex;\n  position: absolute;\n  justify-content: center;\n  align-items: center;\n}\n.is-file .icon[data-v-e1e714a8] {\n  font-size: 4em;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.is-image .icon[data-v-e1e714a8] {\n  top: 5px;\n  right: 5px;\n  border-radius: 50%;\n  background-color: rgba(60, 118, 61, 0.75);\n  color: white;\n  padding: 1em;\n  z-index: 1;\n}\n.card-image[data-v-e1e714a8] {\n  position: relative;\n}\n.is-file .card-image[data-v-e1e714a8] {\n  min-height: 8em;\n}\n.image[data-v-e1e714a8] {\n  display: block;\n  position: relative;\n  padding-bottom: calc(180/240*100%);\n  height: 0;\n}\n.image[data-v-e1e714a8]::before {\n  position: absolute;\n  opacity: .75;\n}\n.is-loading[data-v-e1e714a8]::before {\n  content: '';\n  -webkit-animation: loading-data-v-e1e714a8 1.5s linear infinite;\n          animation: loading-data-v-e1e714a8 1.5s linear infinite;\n  top: calc(50% - 1.5em);\n  left: calc(50% - 1.5em);\n  width: 3em;\n  height: 3em;\n  border-radius: 50%;\n  border: 5px solid silver;\n  border-top-color: white;\n  border-bottom-color: white;\n  -webkit-animation: loading-data-v-e1e714a8 2s linear infinite;\n          animation: loading-data-v-e1e714a8 2s linear infinite;\n}\nimg[data-v-e1e714a8] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 100%;\n  max-height: 100%;\n}\n.has-failed[data-v-e1e714a8]::before {\n  content: 'IMAGE MISSING';\n  font-size: 1em;\n  bottom: 1.5em;\n  width: 100%;\n  left: 0;\n  color: black;\n  font-weight: normal;\n  opacity: .5;\n  text-align: center;\n}\n@-webkit-keyframes loading-data-v-e1e714a8 {\n0% {\n    transform: rotate(0deg);\n}\n100% {\n    transform: rotate(360deg);\n}\n}\n@keyframes loading-data-v-e1e714a8 {\n0% {\n    transform: rotate(0deg);\n}\n100% {\n    transform: rotate(360deg);\n}\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var r=n(13);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,"\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .3s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\na {\n  cursor: pointer;\n}\n.new-btn {\n  margin-bottom: 1em;\n}\n.p-5 {\n  padding: 3em;\n}\n.card::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0,0,0,.5);\n  opacity: 0;\n  pointer-events: none;\n  transition: .2s opacity;\n}\n.is-dropping::after {\n  opacity: 1;\n}\n.toast-action {\n  color: white !important;\n  opacity: .75;\n  font-size: .9em !important;\n}\n.toast-action:hover {\n  opacity: 1;\n  text-decoration: none !important;\n}\n.toast-action--dismiss {\n  font-size: 1.5em !important;\n}\n.tiles {\n  display: flex;\n  flex-wrap: wrap;\n}\n.card {\n  position: relative;\n  overflow: hidden;\n}\n@supports(display: grid) {\n.tiles .card {\n    height: 100%;\n    margin-bottom: 0;\n}\n.tiles {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(10rem, 1fr));\n    grid-gap: 1em;\n}\n.tiles > * {\n    width: 100%;\n    flex-basis: 100%;\n    padding: 0;\n}\n.tiles::before,\n  .tiles::after {\n    display: none;\n}\n}\n.loader {\n  position: fixed;\n  display: flex;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  justify-content: center;\n  align-items: center;\n  z-index: 1;\n  background-color: rgba(255,255,255,.5);\n}\n.delete-btn {\n  padding: 1px 5px;\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  text-indent: 100%;\n  overflow: hidden;\n  width: 1.5em;\n  height: 1.5em;\n  font-size: 1.5em;\n  border-radius: 50%;\n  background-color: rgba(0,0,0,.25);\n  border-color: rgba(0,0,0,0);\n  z-index: 1;\n}\n.delete-btn::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-indent: 0;\n}\n.delete-btn:hover {\n  background-color: #d9534f;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var r=n(14);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,'fieldset[disabled] .multiselect{pointer-events:none}.multiselect__spinner{position:absolute;right:1px;top:1px;width:48px;height:35px;background:#fff;display:block}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:2px solid transparent;border-top-color:#41b883;box-shadow:0 0 0 1px transparent}.multiselect__spinner:before{-webkit-animation:spinning 2.4s cubic-bezier(.41,.26,.2,.62);animation:spinning 2.4s cubic-bezier(.41,.26,.2,.62);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.multiselect__spinner:after{-webkit-animation:spinning 2.4s cubic-bezier(.51,.09,.21,.8);animation:spinning 2.4s cubic-bezier(.51,.09,.21,.8);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.multiselect__loading-enter-active,.multiselect__loading-leave-active{transition:opacity .4s ease-in-out;opacity:1}.multiselect__loading-enter,.multiselect__loading-leave-active{opacity:0}.multiselect,.multiselect__input,.multiselect__single{font-family:inherit;font-size:16px;touch-action:manipulation}.multiselect{box-sizing:content-box;display:block;position:relative;width:100%;min-height:40px;text-align:left;color:#35495e}.multiselect *{box-sizing:border-box}.multiselect:focus{outline:none}.multiselect--disabled{background:#ededed;pointer-events:none;opacity:.6}.multiselect--active{z-index:50}.multiselect--active:not(.multiselect--above) .multiselect__current,.multiselect--active:not(.multiselect--above) .multiselect__input,.multiselect--active:not(.multiselect--above) .multiselect__tags{border-bottom-left-radius:0;border-bottom-right-radius:0}.multiselect--active .multiselect__select{transform:rotate(180deg)}.multiselect--above.multiselect--active .multiselect__current,.multiselect--above.multiselect--active .multiselect__input,.multiselect--above.multiselect--active .multiselect__tags{border-top-left-radius:0;border-top-right-radius:0}.multiselect__input,.multiselect__single{position:relative;display:inline-block;min-height:20px;line-height:20px;border:none;border-radius:5px;background:#fff;padding:0 0 0 5px;width:100%;transition:border .1s ease;box-sizing:border-box;margin-bottom:8px;vertical-align:top}.multiselect__input:-ms-input-placeholder{color:#35495e}.multiselect__input::-webkit-input-placeholder{color:#35495e}.multiselect__input::-moz-placeholder{color:#35495e}.multiselect__input::-ms-input-placeholder{color:#35495e}.multiselect__input::placeholder{color:#35495e}.multiselect__tag~.multiselect__input,.multiselect__tag~.multiselect__single{width:auto}.multiselect__input:hover,.multiselect__single:hover{border-color:#cfcfcf}.multiselect__input:focus,.multiselect__single:focus{border-color:#a8a8a8;outline:none}.multiselect__single{padding-left:5px;margin-bottom:8px}.multiselect__tags-wrap{display:inline}.multiselect__tags{min-height:40px;display:block;padding:8px 40px 0 8px;border-radius:5px;border:1px solid #e8e8e8;background:#fff;font-size:14px}.multiselect__tag{position:relative;display:inline-block;padding:4px 26px 4px 10px;border-radius:5px;margin-right:10px;color:#fff;line-height:1;background:#41b883;margin-bottom:5px;white-space:nowrap;overflow:hidden;max-width:100%;text-overflow:ellipsis}.multiselect__tag-icon{cursor:pointer;margin-left:7px;position:absolute;right:0;top:0;bottom:0;font-weight:700;font-style:normal;width:22px;text-align:center;line-height:22px;transition:all .2s ease;border-radius:5px}.multiselect__tag-icon:after{content:"\\D7";color:#266d4d;font-size:14px}.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#369a6e}.multiselect__tag-icon:focus:after,.multiselect__tag-icon:hover:after{color:#fff}.multiselect__current{min-height:40px;overflow:hidden;padding:8px 30px 0 12px;white-space:nowrap;border-radius:5px;border:1px solid #e8e8e8}.multiselect__current,.multiselect__select{line-height:16px;box-sizing:border-box;display:block;margin:0;text-decoration:none;cursor:pointer}.multiselect__select{position:absolute;width:40px;height:38px;right:1px;top:1px;padding:4px 8px;text-align:center;transition:transform .2s ease}.multiselect__select:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 0;content:""}.multiselect__placeholder{color:#adadad;display:inline-block;margin-bottom:10px;padding-top:2px}.multiselect--active .multiselect__placeholder{display:none}.multiselect__content-wrapper{position:absolute;display:block;background:#fff;width:100%;max-height:240px;overflow:auto;border:1px solid #e8e8e8;border-top:none;border-bottom-left-radius:5px;border-bottom-right-radius:5px;z-index:50;-webkit-overflow-scrolling:touch}.multiselect__content{list-style:none;display:inline-block;padding:0;margin:0;min-width:100%;vertical-align:top}.multiselect--above .multiselect__content-wrapper{bottom:100%;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom:none;border-top:1px solid #e8e8e8}.multiselect__content::webkit-scrollbar{display:none}.multiselect__element{display:block}.multiselect__option{display:block;padding:12px;min-height:40px;line-height:16px;text-decoration:none;text-transform:none;vertical-align:middle;position:relative;cursor:pointer;white-space:nowrap}.multiselect__option:after{top:0;right:0;position:absolute;line-height:40px;padding-right:12px;padding-left:20px;font-size:13px}.multiselect__option--highlight{background:#41b883;outline:none;color:#fff}.multiselect__option--highlight:after{content:attr(data-select);background:#41b883;color:#fff}.multiselect__option--selected{background:#f3f3f3;color:#35495e;font-weight:700}.multiselect__option--selected:after{content:attr(data-selected);color:silver}.multiselect__option--selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--selected.multiselect__option--highlight:after{background:#ff6a6a;content:attr(data-deselect);color:#fff}.multiselect--disabled .multiselect__current,.multiselect--disabled .multiselect__select{background:#ededed;color:#a6a6a6}.multiselect__option--disabled{background:#ededed!important;color:#a6a6a6!important;cursor:text;pointer-events:none}.multiselect__option--group{background:#ededed;color:#35495e}.multiselect__option--group.multiselect__option--highlight{background:#35495e;color:#fff}.multiselect__option--group.multiselect__option--highlight:after{background:#35495e}.multiselect__option--disabled.multiselect__option--highlight{background:#dedede}.multiselect__option--group-selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--group-selected.multiselect__option--highlight:after{background:#ff6a6a;content:attr(data-deselect);color:#fff}.multiselect-enter-active,.multiselect-leave-active{transition:all .15s ease}.multiselect-enter,.multiselect-leave-active{opacity:0}.multiselect__strong{margin-bottom:8px;line-height:20px;display:inline-block;vertical-align:top}[dir=rtl] .multiselect{text-align:right}[dir=rtl] .multiselect__select{right:auto;left:1px}[dir=rtl] .multiselect__tags{padding:8px 8px 0 40px}[dir=rtl] .multiselect__content{text-align:right}[dir=rtl] .multiselect__option:after{right:auto;left:0}[dir=rtl] .multiselect__clear{right:auto;left:12px}[dir=rtl] .multiselect__spinner{right:auto;left:1px}@-webkit-keyframes spinning{0%{transform:rotate(0)}to{transform:rotate(2turn)}}@keyframes spinning{0%{transform:rotate(0)}to{transform:rotate(2turn)}}',""]),t.exports=e},function(t,e,n){"use strict";var r=n(15);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,'/*!\n * Cropper.js v1.5.6\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2019-10-04T04:33:44.164Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',""]),t.exports=e},function(t,e,n){"use strict";var r=n(16);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,'\n.image-preview {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.image-preview img {\n    max-width: 100%;\n}\n',""]),t.exports=e},function(t,e,n){"use strict";var r=n(17);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,"\n.file[data-v-83532de6] {\n  height: 100%;\n}\n.file[data-v-83532de6]::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0,0,0,.5);\n  opacity: 0;\n  pointer-events: none;\n  transition: .2s opacity;\n}\n.is-dropping .file[data-v-83532de6]::after {\n  opacity: 1;\n}\n.file-drop[data-v-83532de6] {\n  height: 100%;\n}\n.nav-tabs[data-v-83532de6] {\n  margin-bottom: -1rem;\n}\n.tiles[data-v-83532de6] {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 1em;\n}\n@supports(display: grid) {\n.tiles[data-v-83532de6] {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(15rem, 1fr));\n}\n.tiles > *[data-v-83532de6] {\n    width: 100%;\n}\n.tiles[data-v-83532de6]::before,\n  .tiles[data-v-83532de6]::after {\n    display: none;\n}\n}\n",""]),t.exports=e},function(t,e,n){(function(e){!function(n){"use strict";var r=function(){},o=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},i=function(t){return function(){return t}},a=function(t){return t};function u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var c=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},s=i(!1),l=i(!0),f=function(){return d},d=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},o={fold:function(t,e){return t()},is:s,isSome:s,isNone:l,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:e,map:f,each:r,bind:f,exists:s,forall:l,filter:f,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")};return Object.freeze&&Object.freeze(o),o}(),h=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return h(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return o},p={some:h,none:f,from:function(t){return null==t?d:h(t)}},m=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},g=m("string"),v=m("object"),b=m("array"),y=m("null"),w=m("boolean"),x=m("function"),C=m("number"),_=Array.prototype.slice,S=Array.prototype.indexOf,k=Array.prototype.push,O=function(t,e){return S.call(t,e)},T=function(t,e){return O(t,e)>-1},E=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return!0}return!1},A=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},D=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},N=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},M=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}}(t,(function(t){n=e(n,t)})),n},R=function(t,e,n){return D(t,(function(t){n=e(n,t)})),n},P=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return p.some(o)}return p.none()},B=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return p.some(n)}return p.none()},z=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!b(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);k.apply(e,t[n])}return e}(A(t,e))},I=function(t,e){for(var n=0,r=t.length;n<r;++n){if(!0!==e(t[n],n))return!1}return!0},L=function(t){var e=_.call(t,0);return e.reverse(),e},F=function(t,e){return N(t,(function(t){return!T(e,t)}))},H=function(t){return 0===t.length?p.none():p.some(t[0])},j=function(t){return 0===t.length?p.none():p.some(t[t.length-1])},V=x(Array.from)?Array.from:function(t){return _.call(t)},$=Object.keys,U=Object.hasOwnProperty,W=function(t,e){for(var n=$(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},q=function(t,e){return X(t,(function(t,n){return{k:n,v:e(t,n)}}))},X=function(t,e){var n={};return W(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},G=function(t){return function(e,n){t[n]=e}},Y=function(t,e){var n={},r={};return function(t,e,n,r){W(t,(function(t,o){(e(t,o)?n:r)(t,o)}))}(t,e,G(n),G(r)),{t:n,f:r}},K=function(t,e){return J(t,e)?p.from(t[e]):p.none()},J=function(t,e){return U.call(t,e)},Z=function(){return(Z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var Q=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:i(t)}},tt={fromHtml:function(t,e){var r=(e||n.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw n.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Q(r.childNodes[0])},fromTag:function(t,e){var r=(e||n.document).createElement(t);return Q(r)},fromText:function(t,e){var r=(e||n.document).createTextNode(t);return Q(r)},fromDom:Q,fromPoint:function(t,e,n){var r=t.dom();return p.from(r.elementFromPoint(e,n)).map(Q)}},et=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return et(n())}}},nt=function(){return rt(0,0)},rt=function(t,e){return{major:t,minor:e}},ot={nu:rt,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?nt():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return rt(r(1),r(2))}(t,n)},unknown:nt},it=function(t,e){return function(){return e===t}},at=function(t){var e=t.current;return{current:e,version:t.version,isEdge:it("Edge",e),isChrome:it("Chrome",e),isIE:it("IE",e),isOpera:it("Opera",e),isFirefox:it("Firefox",e),isSafari:it("Safari",e)}},ut={unknown:function(){return at({current:void 0,version:ot.unknown()})},nu:at,edge:i("Edge"),chrome:i("Chrome"),ie:i("IE"),opera:i("Opera"),firefox:i("Firefox"),safari:i("Safari")},ct=function(t,e){return function(){return e===t}},st=function(t){var e=t.current;return{current:e,version:t.version,isWindows:ct("Windows",e),isiOS:ct("iOS",e),isAndroid:ct("Android",e),isOSX:ct("OSX",e),isLinux:ct("Linux",e),isSolaris:ct("Solaris",e),isFreeBSD:ct("FreeBSD",e),isChromeOS:ct("ChromeOS",e)}},lt={unknown:function(){return st({current:void 0,version:ot.unknown()})},nu:st,windows:i("Windows"),ios:i("iOS"),android:i("Android"),linux:i("Linux"),osx:i("OSX"),solaris:i("Solaris"),freebsd:i("FreeBSD"),chromeos:i("ChromeOS")},ft=function(t,e){var n=String(e).toLowerCase();return P(t,(function(t){return t.search(n)}))},dt=function(t,e){return ft(t,e).map((function(t){var n=ot.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},ht=function(t,e){return ft(t,e).map((function(t){var n=ot.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},pt=function(t,e){return-1!==t.indexOf(e)},mt=function(t,e){return function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(n,n+e.length)===e}(t,e,0)},gt=function(t){return t.replace(/^\s+|\s+$/g,"")},vt=function(t){return t.replace(/\s+$/g,"")},bt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yt=function(t){return function(e){return pt(e,t)}},wt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return pt(t,"edge/")&&pt(t,"chrome")&&pt(t,"safari")&&pt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bt],search:function(t){return pt(t,"chrome")&&!pt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return pt(t,"msie")||pt(t,"trident")}},{name:"Opera",versionRegexes:[bt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yt("firefox")},{name:"Safari",versionRegexes:[bt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(pt(t,"safari")||pt(t,"mobile/"))&&pt(t,"applewebkit")}}],xt=[{name:"Windows",search:yt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return pt(t,"iphone")||pt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yt("linux"),versionRegexes:[]},{name:"Solaris",search:yt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ct={browsers:i(wt),oses:i(xt)},_t=function(t,e){var n=Ct.browsers(),r=Ct.oses(),o=dt(n,t).fold(ut.unknown,ut.nu),a=ht(r,t).fold(lt.unknown,lt.nu),u=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),c=u||r("(pointer:coarse)"),s=o||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!s,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!s&&!f;return{isiPad:i(o),isiPhone:i(a),isTablet:i(s),isPhone:i(l),isTouch:i(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:i(f),isDesktop:i(d)}}(a,o,t,e);return{browser:o,os:a,deviceType:u}},St=et(_t(n.navigator.userAgent,(function(t){return n.window.matchMedia(t).matches}))),kt=function(){return St.get()},Ot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return D(t,(function(t,n){r[t]=i(e[n])})),r}},Tt=function(t,e){var n=[],r=function(t){return n.push(t),e(t)},o=e(t);do{o=o.bind(r)}while(o.isSome());return n},Et=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},At=function(t,e){return Et(t,e,n.Node.DOCUMENT_POSITION_CONTAINED_BY)},Dt=(n.Node.ATTRIBUTE_NODE,n.Node.CDATA_SECTION_NODE,n.Node.COMMENT_NODE,n.Node.DOCUMENT_NODE),Nt=(n.Node.DOCUMENT_TYPE_NODE,n.Node.DOCUMENT_FRAGMENT_NODE,n.Node.ELEMENT_NODE),Mt=n.Node.TEXT_NODE,Rt=(n.Node.PROCESSING_INSTRUCTION_NODE,n.Node.ENTITY_REFERENCE_NODE,n.Node.ENTITY_NODE,n.Node.NOTATION_NODE,Nt),Pt=Dt,Bt=function(t,e){var n=t.dom();if(n.nodeType!==Rt)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},zt=function(t){return t.nodeType!==Rt&&t.nodeType!==Pt||0===t.childElementCount},It=function(t,e){return t.dom()===e.dom()},Lt=kt().browser.isIE()?function(t,e){return At(t.dom(),e.dom())}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},Ft=function(t){return tt.fromDom(t.dom().ownerDocument)},Ht=function(t){return tt.fromDom(t.dom().ownerDocument.defaultView)},jt=function(t){return p.from(t.dom().parentNode).map(tt.fromDom)},Vt=function(t){return p.from(t.dom().previousSibling).map(tt.fromDom)},$t=function(t){return p.from(t.dom().nextSibling).map(tt.fromDom)},Ut=function(t){return L(Tt(t,Vt))},Wt=function(t){return Tt(t,$t)},qt=function(t){return A(t.dom().childNodes,tt.fromDom)},Xt=function(t,e){var n=t.dom().childNodes;return p.from(n[e]).map(tt.fromDom)},Gt=function(t){return Xt(t,0)},Yt=function(t){return Xt(t,t.dom().childNodes.length-1)},Kt=(Ot("element","offset"),function(t,e){jt(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),Jt=function(t,e){$t(t).fold((function(){jt(t).each((function(t){Qt(t,e)}))}),(function(t){Kt(t,e)}))},Zt=function(t,e){Gt(t).fold((function(){Qt(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},Qt=function(t,e){t.dom().appendChild(e.dom())},te=function(t,e){D(e,(function(e){Qt(t,e)}))},ee=function(t){t.dom().textContent="",D(qt(t),(function(t){ne(t)}))},ne=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},re=function(t){var e,n=qt(t);n.length>0&&(e=t,D(n,(function(t){Kt(e,t)}))),ne(t)},oe=(void 0!==n.window?n.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),ie=function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}},ae=ie(Nt),ue=ie(Mt),ce=function(t){var e=ue(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},se=function(t,e){return{left:i(t),top:i(e),translate:function(n,r){return se(t+n,e+r)}}},le=se,fe=function(t,e){return void 0!==t?t:void 0!==e?e:0},de=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?le(n.offsetLeft,n.offsetTop):ce(t)?function(t){var e=t.getBoundingClientRect();return le(e.left,e.top)}(e):le(0,0)},he=kt().browser.isSafari(),pe=function(t){var e=void 0!==t?t.dom():n.document,r=e.body.scrollLeft||e.documentElement.scrollLeft,o=e.body.scrollTop||e.documentElement.scrollTop;return le(r,o)},me=function(t,e,r){(void 0!==r?r.dom():n.document).defaultView.scrollTo(t,e)},ge=function(t,e){he&&x(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)},ve=function(t,e,n,r){return{x:i(t),y:i(e),width:i(n),height:i(r),right:i(t+n),bottom:i(e+r)}},be=function(t){var e=void 0===t?n.window:t,r=e.document,o=pe(tt.fromDom(r));return function(t){var e=void 0===t?n.window:t;return p.from(e.visualViewport)}(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,r=t.clientHeight;return ve(o.left(),o.top(),n,r)}),(function(t){return ve(Math.max(t.pageLeft,o.left()),Math.max(t.pageTop,o.top()),t.width,t.height)}))},ye=function(t){return function(e){return!!e&&e.nodeType===t}},we=ye(1),xe=function(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return T(e,n)}return!1}},Ce=function(t){return function(e){if(we(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},_e=xe(["textarea","input"]),Se=ye(3),ke=ye(8),Oe=ye(9),Te=ye(11),Ee=xe(["br"]),Ae=Ce("true"),De=Ce("false"),Ne={isText:Se,isElement:we,isComment:ke,isDocument:Oe,isDocumentFragment:Te,isBr:Ee,isContentEditableTrue:Ae,isContentEditableFalse:De,isRestrictedNode:function(t){return!!t&&!Object.getPrototypeOf(t)},matchNodeNames:xe,hasPropValue:function(t,e){return function(n){return we(n)&&n[t]===e}},hasAttribute:function(t,e){return function(e){return we(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,e){return function(n){return we(n)&&n.getAttribute(t)===e}},matchStyleValues:function(t,e){var n=e.toLowerCase().split(" ");return function(e){var r;if(we(e))for(r=0;r<n.length;r++){var o=e.ownerDocument.defaultView.getComputedStyle(e,null);if((o?o.getPropertyValue(t):null)===n[r])return!0}return!1}},isBogus:function(t){return we(t)&&t.hasAttribute("data-mce-bogus")},isBogusAll:function(t){return we(t)&&"all"===t.getAttribute("data-mce-bogus")},isTable:function(t){return we(t)&&"TABLE"===t.tagName},isTextareaOrInput:_e},Me=function(t){return void 0!==t.style&&x(t.style.getPropertyValue)},Re=function(t,e,r){if(!(g(r)||w(r)||C(r)))throw n.console.error("Invalid call to Attr.set. Key ",e,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,r+"")},Pe=function(t,e,n){Re(t.dom(),e,n)},Be=function(t,e){var n=t.dom();W(e,(function(t,e){Re(n,e,t)}))},ze=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Ie=function(t,e){t.dom().removeAttribute(e)},Le=function(t,e){var r=t.dom(),o=n.window.getComputedStyle(r).getPropertyValue(e),i=""!==o||ce(t)?o:Fe(r,e);return null===i?void 0:i},Fe=function(t,e){return Me(t)?t.style.getPropertyValue(e):""},He=function(t,e){var n=t.dom(),r=Fe(n,e);return p.from(r).filter((function(t){return t.length>0}))},je=kt().browser,Ve=function(t){return P(t,ae)},$e=function(t,e){return t.children&&T(t.children,e)},Ue=function(t,e,n){var r,o,i=0,a=0,u=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===Le(tt.fromDom(t),"position"))return{x:i=(o=e.getBoundingClientRect()).left+(u.documentElement.scrollLeft||t.scrollLeft)-u.documentElement.clientLeft,y:a=o.top+(u.documentElement.scrollTop||t.scrollTop)-u.documentElement.clientTop};for(r=e;r&&r!==n&&r.nodeType&&!$e(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=e.parentNode;r&&r!==n&&r.nodeType&&!$e(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=function(t){return je.isFirefox()&&"table"===oe(t)?Ve(qt(t)).filter((function(t){return"caption"===oe(t)})).bind((function(t){return Ve(Wt(t)).map((function(e){var n=e.dom().offsetTop,r=t.dom().offsetTop,o=t.dom().offsetHeight;return n<=r?-o:0}))})).getOr(0):0}(tt.fromDom(e))}return{x:i,y:a}},We={},qe={exports:We};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(e,n,r){function i(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof o&&o;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};e[u][0].call(f.exports,(function(t){return i(e[u][1][t]||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var s,l=[],f=!1,d=-1;function h(){f&&s&&(f=!1,s.length?l=s.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=c(h);f=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||f||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void c(e.promise,t)}u(e.promise,r)}else(1===t._state?u:c)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,s(t)}catch(e){c(t,e)}var r,o}function c(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(t){if(n)return;n=!0,c(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function s(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,We,qe,void 0);var Xe,Ge=qe.exports.boltExport,Ye=function(t){var e=p.none(),r=[],o=function(t){i()?u(t):r.push(t)},i=function(){return e.isSome()},a=function(t){D(t,u)},u=function(t){e.each((function(e){n.setTimeout((function(){t(e)}),0)}))};return t((function(t){e=p.some(t),a(r),r=[]})),{get:o,map:function(t){return Ye((function(e){o((function(n){e(t(n))}))}))},isReady:i}},Ke={nu:Ye,pure:function(t){return Ye((function(e){e(t)}))}},Je=function(t){n.setTimeout((function(){throw t}),0)},Ze=function(t){var e=function(e){t().then(e,Je)};return{map:function(e){return Ze((function(){return t().then(e)}))},bind:function(e){return Ze((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return Ze((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return Ke.nu(e)},toCached:function(){var e=null;return Ze((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},Qe=function(t){return Ze((function(){return new Ge(t)}))},tn=function(t,e){return e((function(e){var n=[],r=0;0===t.length?e([]):D(t,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=t.length&&e(n)}}(i))}))}))},en=function(t){return{is:function(e){return t===e},isValue:l,isError:s,getOr:i(t),getOrThunk:i(t),getOrDie:i(t),or:function(e){return en(t)},orThunk:function(e){return en(t)},fold:function(e,n){return n(t)},map:function(e){return en(e(t))},mapError:function(e){return en(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return p.some(t)}}},nn=function(t){return{is:s,isValue:s,isError:l,getOr:a,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return nn(t)},mapError:function(e){return nn(e(t))},each:r,bind:function(e){return nn(t)},exists:s,forall:l,toOption:p.none}},rn={value:en,error:nn,fromOption:function(t,e){return t.fold((function(){return nn(e)}),en)}},on=window.Promise?window.Promise:function(){function t(t,e){return function(){t.apply(e,arguments)}}var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,t(a,this),t(u,this))},o=r.immediateFn||"function"==typeof n.setImmediate&&n.setImmediate||function(t){n.setTimeout(t,1)};function i(t){var e=this;null!==this._state?o((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void t.reject(e)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void l(t(n,e),t(a,this),t(u,this))}this._state=!0,this._value=e,c.call(this)}catch(t){u.call(this,t)}}function u(t){this._state=!1,this._value=t,c.call(this)}function c(){for(var t=0,e=this._deferreds.length;t<e;t++)i.call(this,this._deferreds[t]);this._deferreds=null}function s(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function l(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(t){if(r)return;r=!0,n(t)}}return r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=this;return new r((function(r,o){i.call(n,new s(t,e,r,o))}))},r.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&e(arguments[0])?arguments[0]:arguments);return new r((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),n)}t[i]=a,0==--r&&e(t)}catch(t){n(t)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r((function(e){e(t)}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},r}(),an=function(t,e){return"number"!=typeof e&&(e=0),n.setTimeout(t,e)},un=function(t,e){return"number"!=typeof e&&(e=1),n.setInterval(t,e)},cn=function(t,e){var r,o;return(o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.clearTimeout(r),r=an((function(){t.apply(this,o)}),e)}).stop=function(){n.clearTimeout(r)},o},sn={requestAnimationFrame:function(t,e){Xe?Xe.then(t):Xe=new on((function(t){e||(e=n.document.body),function(t,e){var r,o=n.window.requestAnimationFrame,i=["ms","moz","webkit"];for(r=0;r<i.length&&!o;r++)o=n.window[i[r]+"RequestAnimationFrame"];o||(o=function(t){n.window.setTimeout(t,0)}),o(t,e)}(t,e)})).then(t)},setTimeout:an,setInterval:un,setEditorTimeout:function(t,e,n){return an((function(){t.removed||e()}),n)},setEditorInterval:function(t,e,r){var o;return o=un((function(){t.removed?n.clearInterval(o):e()}),r)},debounce:cn,throttle:cn,clearInterval:function(t){return n.clearInterval(t)},clearTimeout:function(t){return n.clearTimeout(t)}},ln=n.navigator.userAgent,fn=kt(),dn=fn.browser,hn=fn.os,pn=fn.deviceType,mn=/WebKit/.test(ln)&&!dn.isEdge(),gn="FormData"in n.window&&"FileReader"in n.window&&"URL"in n.window&&!!n.URL.createObjectURL,vn=-1!==ln.indexOf("Windows Phone"),bn={opera:dn.isOpera(),webkit:mn,ie:!(!dn.isIE()&&!dn.isEdge())&&dn.version.major,gecko:dn.isFirefox(),mac:hn.isOSX()||hn.isiOS(),iOS:pn.isiPad()||pn.isiPhone(),android:hn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:n.window.getSelection&&"Range"in n.window,documentMode:dn.isIE()?n.document.documentMode||7:10,fileApi:gn,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!dn.isIE(),desktop:pn.isDesktop(),windowsPhone:vn,browser:{current:dn.current,version:dn.version,isChrome:dn.isChrome,isEdge:dn.isEdge,isFirefox:dn.isFirefox,isIE:dn.isIE,isOpera:dn.isOpera,isSafari:dn.isSafari},os:{current:hn.current,version:hn.version,isAndroid:hn.isAndroid,isChromeOS:hn.isChromeOS,isFreeBSD:hn.isFreeBSD,isiOS:hn.isiOS,isLinux:hn.isLinux,isOSX:hn.isOSX,isSolaris:hn.isSolaris,isWindows:hn.isWindows},deviceType:{isDesktop:pn.isDesktop,isiPad:pn.isiPad,isiPhone:pn.isiPhone,isPhone:pn.isPhone,isTablet:pn.isTablet,isTouch:pn.isTouch,isWebView:pn.isWebView}},yn=Array.isArray,wn=function(t,e,n){var r,o;if(!t)return 0;if(n=n||t,void 0!==t.length){for(r=0,o=t.length;r<o;r++)if(!1===e.call(n,t[r],r,t))return 0}else for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))return 0;return 1},xn=function(t,e,n){var r,o;for(r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return r;return-1},Cn={isArray:yn,toArray:function(t){var e,n,r=t;if(!yn(t))for(r=[],e=0,n=t.length;e<n;e++)r[e]=t[e];return r},each:wn,map:function(t,e){var n=[];return wn(t,(function(r,o){n.push(e(r,o,t))})),n},filter:function(t,e){var n=[];return wn(t,(function(r,o){e&&!e(r,o,t)||n.push(r)})),n},indexOf:function(t,e){var n,r;if(t)for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,r){var o=0;for(arguments.length<3&&(n=t[0]);o<t.length;o++)n=e.call(r,n,t[o],o);return n},findIndex:xn,find:function(t,e,n){var r=xn(t,e,n);if(-1!==r)return t[r]},last:function(t){return t[t.length-1]}},_n=/^\s*|\s*$/g,Sn=function(t){return null==t?"":(""+t).replace(_n,"")},kn=function(t,e){return e?!("array"!==e||!Cn.isArray(t))||typeof t===e:void 0!==t},On=function(t,e,n,r){r=r||this,t&&(n&&(t=t[n]),Cn.each(t,(function(t,o){if(!1===e.call(r,t,o,n))return!1;On(t,e,n,r)})))},Tn={trim:Sn,isArray:Cn.isArray,is:kn,toArray:Cn.toArray,makeMap:function(t,e,n){var r;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},r=t.length;r--;)n[t[r]]={};return n},each:Cn.each,map:Cn.map,grep:Cn.filter,inArray:Cn.indexOf,hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t,e){for(var n,r,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u,c=arguments;for(n=1,r=c.length;n<r;n++)for(o in e=c[n])e.hasOwnProperty(o)&&void 0!==(u=e[o])&&(t[o]=u);return t},create:function(t,e,n){var r,o,i,a,u,c=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),i=t[3].match(/(^|\.)(\w+)$/i)[2],!(o=this.createNS(t[3].replace(/\.\w+$/,""),n))[i]){if("static"===t[2])return o[i]=e,void(this.onCreate&&this.onCreate(t[2],t[3],o[i]));e[i]||(e[i]=function(){},c=1),o[i]=e[i],this.extend(o[i].prototype,e),t[5]&&(r=this.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],u=o[i],o[i]=c?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],u.apply(this,arguments)},o[i].prototype[i]=o[i],this.each(r,(function(t,e){o[i].prototype[e]=r[e]})),this.each(e,(function(t,e){r[e]?o[i].prototype[e]=function(){return this.parent=r[e],t.apply(this,arguments)}:e!==i&&(o[i].prototype[e]=t)}))),this.each(e.static,(function(t,e){o[i][e]=t}))}},walk:On,createNS:function(t,e){var r,o;for(e=e||n.window,t=t.split("."),r=0;r<t.length;r++)e[o=t[r]]||(e[o]={}),e=e[o];return e},resolve:function(t,e){var r,o;for(e=e||n.window,r=0,o=(t=t.split(".")).length;r<o&&(e=e[t[r]]);r++);return e},explode:function(t,e){return!t||kn(t,"array")?t:Cn.map(t.split(e||","),Sn)},_addCacheSuffix:function(t){var e=bn.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}};function En(t,e){void 0===e&&(e={});var r,u=0,c={};r=e.maxLoadTime||5e3;var s=function(e){t.getElementsByTagName("head")[0].appendChild(e)},l=function(o,i,a){var l,f,d,h,p=function(t){h.status=t,h.passed=[],h.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},m=function(){for(var t=h.passed,e=t.length;e--;)t[e]();p(2)},g=function(){for(var t=h.failed,e=t.length;e--;)t[e]();p(3)},v=function(t,e){t()||((new Date).getTime()-d<r?sn.setTimeout(e):g())},b=function(){v((function(){for(var e,n,r=t.styleSheets,o=r.length;o--;)if((n=(e=r[o]).ownerNode?e.ownerNode:e.owningElement)&&n.id===l.id)return m(),!0}),b)},y=function(){v((function(){try{var t=f.sheet.cssRules;return m(),!!t}catch(t){}}),y)};if(o=Tn._addCacheSuffix(o),c[o]?h=c[o]:(h={passed:[],failed:[]},c[o]=h),i&&h.passed.push(i),a&&h.failed.push(a),1!==h.status)if(2!==h.status)if(3!==h.status){if(h.status=1,(l=t.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+u++,l.async=!1,l.defer=!1,d=(new Date).getTime(),e.contentCssCors&&(l.crossOrigin="anonymous"),e.referrerPolicy&&Pe(tt.fromDom(l),"referrerpolicy",e.referrerPolicy),"onload"in l&&!((w=n.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(w[1],10)<536))l.onload=b,l.onerror=g;else{if(n.navigator.userAgent.indexOf("Firefox")>0)return(f=t.createElement("style")).textContent='@import "'+o+'"',y(),void s(f);b()}var w;s(l),l.href=o}else g();else m()},f=function(t){return Qe((function(e){l(t,o(e,i(rn.value(t))),o(e,i(rn.error(t))))}))},d=function(t){return t.fold(a,a)};return{load:l,loadAll:function(t,e,n){var r;(r=A(t,f),tn(r,Qe)).get((function(t){var r=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(e(a,o)?n:r).push(a)}return{pass:n,fail:r}}(t,(function(t){return t.isValue()}));r.fail.length>0?n(r.fail.map(d)):e(r.pass.map(d))}))},_setReferrerPolicy:function(t){e.referrerPolicy=t}}}var An,Dn,Nn,Mn=function(t){var e;return function(n){return(e=e||function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n}(t,i(!0))).hasOwnProperty(oe(n))}},Rn=Mn(["h1","h2","h3","h4","h5","h6"]),Pn=Mn(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Bn=function(t){return ae(t)&&!Pn(t)},zn=function(t){return ae(t)&&"br"===oe(t)},In=Mn(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Ln=Mn(["ul","ol","dl"]),Fn=Mn(["li","dd","dt"]),Hn=Mn(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),jn=Mn(["thead","tbody","tfoot"]),Vn=Mn(["td","th"]),$n=Mn(["pre","script","textarea","style"]),Un=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Wn=function(t,e){var n,r=e.childNodes;if(!Ne.isElement(e)||!Un(e)){for(n=r.length-1;n>=0;n--)Wn(t,r[n]);if(!1===Ne.isDocument(e)){if(Ne.isText(e)&&e.nodeValue.length>0){var o=Tn.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||o>0)return;if(0===o&&function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n}(e))return}else if(Ne.isElement(e)&&(1===(r=e.childNodes).length&&Un(r[0])&&e.parentNode.insertBefore(r[0],e),r.length||Hn(tt.fromDom(e))))return;t.remove(e)}return e}},qn={trimNode:Wn},Xn=Tn.makeMap,Gn=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yn=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kn=/[<>&\"\']/g,Jn=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Zn={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};Dn={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Nn={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Qn=function(t,e){var n,r,o,i={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),Dn[r]||(o="&"+t[n+1]+";",i[r]=o,i[o]=r);return i}};An=Qn("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var tr=function(t,e){return t.replace(e?Gn:Yn,(function(t){return Dn[t]||t}))},er=function(t,e){return t.replace(e?Gn:Yn,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":Dn[t]||"&#"+t.charCodeAt(0)+";"}))},nr=function(t,e,n){return n=n||An,t.replace(e?Gn:Yn,(function(t){return Dn[t]||n[t]||t}))},rr={encodeRaw:tr,encodeAllRaw:function(t){return(""+t).replace(Kn,(function(t){return Dn[t]||t}))},encodeNumeric:er,encodeNamed:nr,getEncodeFunc:function(t,e){var n=Qn(e)||An,r=Xn(t.replace(/\+/g,","));return r.named&&r.numeric?function(t,e){return t.replace(e?Gn:Yn,(function(t){return void 0!==Dn[t]?Dn[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:r.named?e?function(t,e){return nr(t,e,n)}:nr:r.numeric?er:tr},decode:function(t){return t.replace(Jn,(function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Zn[e]||String.fromCharCode(e):Nn[t]||An[t]||function(t){var e;return(e=tt.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t}(t)}))}},or={},ir={},ar=Tn.makeMap,ur=Tn.each,cr=Tn.extend,sr=Tn.explode,lr=Tn.inArray,fr=function(t,e){return(t=Tn.trim(t))?t.split(e||" "):[]},dr=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),ur(t,(function(t,r){n[r]=n[r.toUpperCase()]="map"===e?ar(t,/[, ]/):sr(t,/[, ]/)}))),n};function hr(t){var e,n,r,o,i,a,u,c,s,l,f,d,h,p={},m={},g=[],v={},b={},y=function(e,n,r){var o=t[e];return o?o=ar(o,/[, ]/,ar(o.toUpperCase(),/[, ]/)):(o=or[e])||(o=ar(n," ",ar(n.toUpperCase()," ")),o=cr(o,r),or[e]=o),o};r=function(t){var e,n,r,o,i,a,u={},c=function(t,n,r){var o,i,a,c=function(t,e){var n,r,o={};for(n=0,r=t.length;n<r;n++)o[t[n]]=e||{};return o};for(n=n||"","string"==typeof(r=r||[])&&(r=fr(r)),o=(t=fr(t)).length;o--;)a={attributes:c(i=fr([e,n].join(" "))),attributesOrder:i,children:c(r,ir)},u[t[o]]=a},s=function(t,e){var n,r,o,i;for(n=(t=fr(t)).length,e=fr(e);n--;)for(r=u[t[n]],o=0,i=e.length;o<i;o++)r.attributes[e[o]]={},r.attributesOrder.push(e[o])};return or[t]?or[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),ur(fr(a),(function(t){c(t,"",r)})),n=[n,i="center dir isindex noframes"].join(" "),o=[n,r].join(" "),ur(fr(i),(function(t){c(t,"",o)}))),o=o||[n,r].join(" "),c("html","manifest","head body"),c("head","","base command link meta noscript script style title"),c("title hr noscript br"),c("base","href target"),c("link","href rel media hreflang type sizes hreflang"),c("meta","name http-equiv content charset"),c("style","media type scoped"),c("script","src async defer type charset"),c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),c("address dt dd div caption","",o),c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),c("blockquote","cite",o),c("ol","reversed start type","li"),c("ul","","li"),c("li","value",o),c("dl","","dt dd"),c("a","href target rel media hreflang type",r),c("q","cite",r),c("ins del","cite datetime",o),c("img","src sizes srcset alt usemap ismap width height"),c("iframe","src name width height",o),c("embed","src type width height"),c("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),c("param","name value"),c("map","name",[o,"area"].join(" ")),c("area","alt coords shape href target rel media hreflang type"),c("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),c("colgroup","span","col"),c("col","span"),c("tbody thead tfoot","","tr"),c("tr","","td th"),c("td","colspan rowspan headers",o),c("th","colspan rowspan headers scope abbr",o),c("form","accept-charset action autocomplete enctype method name novalidate target",o),c("fieldset","disabled form name",[o,"legend"].join(" ")),c("label","form for",r),c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?o:r),c("select","disabled form multiple name required size","option optgroup"),c("optgroup","disabled label","option"),c("option","disabled label selected value"),c("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),c("menu","type label",[o,"li"].join(" ")),c("noscript","",o),"html4"!==t&&(c("wbr"),c("ruby","",[r,"rt rp"].join(" ")),c("figcaption","",o),c("mark rt rp summary bdi","",r),c("canvas","width height",o),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),c("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),c("picture","","img source"),c("source","src srcset type media sizes"),c("track","kind src srclang label default"),c("datalist","",[r,"option"].join(" ")),c("article section nav aside main header footer","",o),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure","",[o,"figcaption"].join(" ")),c("time","datetime",r),c("dialog","open",o),c("command","type label icon disabled checked radiogroup command"),c("output","for form name",r),c("progress","value max",r),c("meter","value min max low high optimum",r),c("details","open",[o,"summary"].join(" ")),c("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==t&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("img","loading"),s("iframe","sandbox seamless allowfullscreen loading")),ur(fr("a form meter progress dfn"),(function(t){u[t]&&delete u[t].children[t]})),delete u.caption.children.table,delete u.script,or[t]=u,u)}((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),e=dr(t.valid_styles),n=dr(t.invalid_styles,"map"),c=dr(t.valid_classes,"map"),o=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),i=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),u=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=y("non_empty_elements","td th iframe video audio object script pre code",a),f=y("move_caret_before_on_enter_elements","table",l),d=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),s=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),h=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),ur((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(t){b[t]=new RegExp("</"+t+"[^>]*>","gi")}));var w=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},x=function(t){var e,n,r,o,i,a,u,c,s,l,f,d,h,m,v,b,y,x,C,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(t)for(t=fr(t,","),p["@"]&&(b=p["@"].attributes,y=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(i=_.exec(t[e])){if(m=i[1],s=i[2],v=i[3],c=i[5],a={attributes:d={},attributesOrder:h=[]},"#"===m&&(a.paddEmpty=!0),"-"===m&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),b){for(x in b)d[x]=b[x];h.push.apply(h,y)}if(c)for(r=0,o=(c=fr(c,"|")).length;r<o;r++)if(i=S.exec(c[r])){if(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),m=i[3],C=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"===f){delete d[l],h.splice(lr(h,l),1);continue}m&&("="===m&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:C}),u.defaultValue=C),":"===m&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:C}),u.forcedValue=C),"<"===m&&(u.validValues=ar(C,"?"))),k.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=w(l),a.attributePatterns.push(u)):(d[l]||h.push(l),d[l]=u)}b||"@"!==s||(b=d,y=h),v&&(a.outputName=s,p[v]=a),k.test(s)?(a.pattern=w(s),g.push(a)):p[s]=a}},C=function(t){p={},g=[],x(t),ur(r,(function(t,e){m[e]=t.children}))},_=function(t){var e=/^(~)?(.+)$/;t&&(or.text_block_elements=or.block_elements=null,ur(fr(t,","),(function(t){var n=e.exec(t),r="~"===n[1],o=r?"span":"div",i=n[2];if(m[i]=m[o],v[i]=o,r||(s[i.toUpperCase()]={},s[i]={}),!p[i]){var a=p[o];delete(a=cr({},a)).removeEmptyAttrs,delete a.removeEmpty,p[i]=a}ur(m,(function(t,e){t[o]&&(m[e]=t=cr({},m[e]),t[i]=t[o])}))})))},S=function(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;or[t.schema]=null,e&&ur(fr(e,","),(function(t){var e,r,o=n.exec(t);o&&(r=o[1],e=r?m[o[2]]:m[o[2]]={"#comment":{}},e=m[o[2]],ur(fr(o[3],"|"),(function(t){"-"===r?delete e[t]:e[t]={}})))}))},k=function(t){var e,n=p[t];if(n)return n;for(e=g.length;e--;)if((n=g[e]).pattern.test(t))return n};t.valid_elements?C(t.valid_elements):(ur(r,(function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},m[e]=t.children})),"html5"!==t.schema&&ur(fr("strong/b em/i"),(function(t){t=fr(t,"/"),p[t[1]].outputName=t[0]})),ur(fr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(t){p[t]&&(p[t].removeEmpty=!0)})),ur(fr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){p[t].paddEmpty=!0})),ur(fr("span"),(function(t){p[t].removeEmptyAttrs=!0}))),_(t.custom_elements),S(t.valid_children),x(t.extended_valid_elements),S("+ol[ul|ol],+ul[ul|ol]"),ur({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){p[e]&&(p[e].parentsRequired=fr(t))})),t.invalid_elements&&ur(sr(t.invalid_elements),(function(t){p[t]&&delete p[t]})),k("span")||x("span[!data-mce-type|*]");return{children:m,elements:p,getValidStyles:function(){return e},getValidClasses:function(){return c},getBlockElements:function(){return s},getInvalidStyles:function(){return n},getShortEndedElements:function(){return a},getTextBlockElements:function(){return d},getTextInlineElements:function(){return h},getBoolAttrs:function(){return u},getElementRule:k,getSelfClosingElements:function(){return i},getNonEmptyElements:function(){return l},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return o},getSpecialElements:function(){return b},isValidChild:function(t,e){var n=m[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,r,o=k(t);if(o){if(!e)return!0;if(o.attributes[e])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(t))return!0}return!1},getCustomElements:function(){return v},addValidElements:x,setValidElements:C,addCustomElements:_,addValidChildren:S}}var pr,mr,gr,vr,br,yr,wr,xr,Cr,_r,Sr,kr,Or,Tr,Er,Ar,Dr,Nr,Mr=function(t,e,n,r){var o=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+o(e)+o(n)+o(r)},Rr=function(t,e){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,l={};for(t=t||{},e&&(o=e.getValidStyles(),i=e.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)l[r[n]]="\ufeff"+n,l["\ufeff"+n]=r[n];return{toHex:function(t){return t.replace(a,Mr)},parse:function(e){var r,o,i,f,d,h,p,m,g={},v=t.url_converter,b=t.url_converter_scope||this,y=function(t,e,r){var o,i,a,u;if((o=g[t+"-top"+e])&&(i=g[t+"-right"+e])&&(a=g[t+"-bottom"+e])&&(u=g[t+"-left"+e])){var c=[o,i,a,u];for(n=c.length-1;n--&&c[n]===c[n+1];);n>-1&&r||(g[t+e]=-1===n?c[0]:c.join(" "),delete g[t+"-top"+e],delete g[t+"-right"+e],delete g[t+"-bottom"+e],delete g[t+"-left"+e])}},w=function(t){var e,n=g[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return g[t]=n[0],!0}},x=function(t){return f=!0,l[t]},C=function(t,e){return f&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return l[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},_=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},S=function(t){return t.replace(/\\[0-9a-f]+/gi,_)},k=function(e,n,r,o,i,a){if(i=i||a)return"'"+(i=C(i)).replace(/\'/g,"\\'")+"'";if(n=C(n||r||o),!t.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return v&&(n=v.call(b,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,x).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,x)}));r=c.exec(e);)if(c.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),i=r[2].replace(s,""),o&&i){if(o=S(o),i=S(i),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=(i=i.replace(a,Mr)).replace(u,k),g[o]=f?C(i,!0):i}y("border","",!0),y("border","-width"),y("border","-color"),y("border","-style"),y("padding",""),y("margin",""),d="border",p="border-style",m="border-color",w(h="border-width")&&w(p)&&w(m)&&(g[d]=g[h]+" "+g[p]+" "+g[m],delete g[h],delete g[p],delete g[m]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(t,e){var n,r,a="",u=function(e){var n,r,i,u;if(n=o[e])for(r=0,i=n.length;r<i;r++)e=n[r],(u=t[e])&&(a+=(a.length>0?" ":"")+e+": "+u+";")},c=function(t,e){var n;return(!(n=i["*"])||!n[t])&&(!(n=i[e])||!n[t])};if(e&&o)u("*"),u(e);else for(n in t)!(r=t[n])||i&&!c(n,e)||(a+=(a.length>0?" ":"")+n+": "+r+";");return a}}},Pr=/^(?:mouse|contextmenu)|click/,Br={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},zr=function(){return!1},Ir=function(){return!0},Lr=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Fr=function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Hr=function(t,e){var r,o=e||{};for(r in t)Br[r]||(o[r]=t[r]);if(o.target||(o.target=o.srcElement||n.document),bn.experimentalShadowDom&&(o.target=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&n.length>0)return n[0]}return e}(t,o.target)),t&&Pr.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var i=o.target.ownerDocument||n.document,a=i.documentElement,u=i.body;o.pageX=t.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),o.pageY=t.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Ir,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Ir,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Ir,o.stopPropagation()},!1===function(t){return t.isDefaultPrevented===Ir||t.isDefaultPrevented===zr}(o)&&(o.isDefaultPrevented=zr,o.isPropagationStopped=zr,o.isImmediatePropagationStopped=zr),void 0===o.metaKey&&(o.metaKey=!1),o},jr=function(t,e,n){var r=t.document,o={type:"ready"};if(n.domLoaded)e(o);else{var i=function(){Fr(t,"DOMContentLoaded",i),Fr(t,"load",i),n.domLoaded||(n.domLoaded=!0,e(o))};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():Lr(t,"DOMContentLoaded",i),Lr(t,"load",i)}},Vr=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in n.document.documentElement,this.hasFocusIn="onfocusin"in n.document.documentElement,this.count=1}return t.prototype.bind=function(t,e,r,o){var i,a,u,c,s,l,f,d=this,h=n.window,p=function(t){d.executeHandlers(Hr(t||h.event),i)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[d.expando]?i=t[d.expando]:(i=d.count++,t[d.expando]=i,d.events[i]={}),o=o||t;var m=e.split(" ");for(u=m.length;u--;)l=p,s=f=!1,"DOMContentLoaded"===(c=m[u])&&(c="ready"),d.domLoaded&&"ready"===c&&"complete"===t.readyState?r.call(o,Hr({type:c})):(d.hasMouseEnterLeave||(s=d.mouseEnterLeave[c])&&(l=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Hr(t||h.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,d.executeHandlers(t,i))}),d.hasFocusIn||"focusin"!==c&&"focusout"!==c||(f=!0,s="focusin"===c?"focus":"blur",l=function(t){(t=Hr(t||h.event)).type="focus"===t.type?"focusin":"focusout",d.executeHandlers(t,i)}),(a=d.events[i][c])?"ready"===c&&d.domLoaded?r(Hr({type:c})):a.push({func:r,scope:o}):(d.events[i][c]=a=[{func:r,scope:o}],a.fakeName=s,a.capture=f,a.nativeHandler=l,"ready"===c?jr(t,l,d):Lr(t,s||c,l,f)));return t=a=0,r}},t.prototype.unbind=function(t,e,n){var r,o,i,a,u,c;if(!t||3===t.nodeType||8===t.nodeType)return this;if(r=t[this.expando]){if(c=this.events[r],e){var s=e.split(" ");for(i=s.length;i--;)if(o=c[u=s[i]]){if(n)for(a=o.length;a--;)if(o[a].func===n){var l=o.nativeHandler,f=o.fakeName,d=o.capture;(o=o.slice(0,a).concat(o.slice(a+1))).nativeHandler=l,o.fakeName=f,o.capture=d,c[u]=o}n&&0!==o.length||(delete c[u],Fr(t,o.fakeName||u,o.nativeHandler,o.capture))}}else{for(u in c)o=c[u],Fr(t,o.fakeName||u,o.nativeHandler,o.capture);c={}}for(u in c)return this;delete this.events[r];try{delete t[this.expando]}catch(e){t[this.expando]=null}}return this},t.prototype.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;var o=Hr(null,n);o.type=e,o.target=t;do{(r=t[this.expando])&&this.executeHandlers(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this},t.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(t,e){var n,r,o,i,a=this.events[e];if(n=a&&a[t.type])for(r=0,o=n.length;r<o;r++)if((i=n[r])&&!1===i.func.call(i.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return},t.Event=new t,t}(),$r="sizzle"+-new Date,Ur=n.window.document,Wr=0,qr=0,Xr=ko(),Gr=ko(),Yr=ko(),Kr=function(t,e){return t===e&&(Sr=!0),0},Jr={}.hasOwnProperty,Zr=[],Qr=Zr.pop,to=Zr.push,eo=Zr.push,no=Zr.slice,ro=Zr.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},oo="[\\x20\\t\\r\\n\\f]",io="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ao="\\["+oo+"*("+io+")(?:"+oo+"*([*^$|!~]?=)"+oo+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+io+"))|)"+oo+"*\\]",uo=":("+io+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ao+")*)|.*)\\)|)",co=new RegExp("^"+oo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oo+"+$","g"),so=new RegExp("^"+oo+"*,"+oo+"*"),lo=new RegExp("^"+oo+"*([>+~]|"+oo+")"+oo+"*"),fo=new RegExp("="+oo+"*([^\\]'\"]*?)"+oo+"*\\]","g"),ho=new RegExp(uo),po=new RegExp("^"+io+"$"),mo={ID:new RegExp("^#("+io+")"),CLASS:new RegExp("^\\.("+io+")"),TAG:new RegExp("^("+io+"|[*])"),ATTR:new RegExp("^"+ao),PSEUDO:new RegExp("^"+uo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oo+"*(even|odd|(([+-]|)(\\d*)n|)"+oo+"*(?:([+-]|)"+oo+"*(\\d+)|))"+oo+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+oo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oo+"*((?:-\\d)?\\d*)"+oo+"*\\)|)(?=[^-]|$)","i")},go=/^(?:input|select|textarea|button)$/i,vo=/^h\d$/i,bo=/^[^{]+\{\s*\[native \w/,yo=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wo=/[+~]/,xo=/'|\\/g,Co=new RegExp("\\\\([\\da-f]{1,6}"+oo+"?|("+oo+")|.)","ig"),_o=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{eo.apply(Zr=no.call(Ur.childNodes),Ur.childNodes),Zr[Ur.childNodes.length].nodeType}catch(t){eo={apply:Zr.length?function(t,e){to.apply(t,no.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}var So=function(t,e,n,r){var o,i,a,u,c,s,l,f,d,h;if((e?e.ownerDocument||e:Ur)!==Or&&kr(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(u=(e=e||Or).nodeType)&&9!==u)return[];if(Er&&!r){if(o=yo.exec(t))if(a=o[1]){if(9===u){if(!(i=e.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(e.ownerDocument&&(i=e.ownerDocument.getElementById(a))&&Nr(e,i)&&i.id===a)return n.push(i),n}else{if(o[2])return eo.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&mr.getElementsByClassName)return eo.apply(n,e.getElementsByClassName(a)),n}if(mr.qsa&&(!Ar||!Ar.test(t))){if(f=l=$r,d=e,h=9===u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){for(s=yr(t),(l=e.getAttribute("id"))?f=l.replace(xo,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",c=s.length;c--;)s[c]=f+Ro(s[c]);d=wo.test(t)&&No(e.parentNode)||e,h=s.join(",")}if(h)try{return eo.apply(n,d.querySelectorAll(h)),n}catch(t){}finally{l||e.removeAttribute("id")}}}return xr(t.replace(co,"$1"),e,n,r)};function ko(){var t=[];return function e(n,r){return t.push(n+" ")>gr.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function Oo(t){return t[$r]=!0,t}function To(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function Eo(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function Ao(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function Do(t){return Oo((function(e){return e=+e,Oo((function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function No(t){return t&&void 0!==t.getElementsByTagName&&t}for(pr in mr=So.support={},br=So.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},kr=So.setDocument=function(t){var e,n=t?t.ownerDocument||t:Ur,r=n.defaultView;return n!==Or&&9===n.nodeType&&n.documentElement?(Or=n,Tr=n.documentElement,Er=!br(n),r&&r!==function(t){try{return t.top}catch(t){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){kr()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){kr()}))),mr.attributes=!0,mr.getElementsByTagName=!0,mr.getElementsByClassName=bo.test(n.getElementsByClassName),mr.getById=!0,gr.find.ID=function(t,e){if(void 0!==e.getElementById&&Er){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},gr.filter.ID=function(t){var e=t.replace(Co,_o);return function(t){return t.getAttribute("id")===e}},gr.find.TAG=mr.getElementsByTagName?function(t,e){if(void 0!==e.getElementsByTagName)return e.getElementsByTagName(t)}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},gr.find.CLASS=mr.getElementsByClassName&&function(t,e){if(Er)return e.getElementsByClassName(t)},Dr=[],Ar=[],mr.disconnectedMatch=!0,Ar=Ar.length&&new RegExp(Ar.join("|")),Dr=Dr.length&&new RegExp(Dr.join("|")),e=bo.test(Tr.compareDocumentPosition),Nr=e||bo.test(Tr.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Kr=e?function(t,e){if(t===e)return Sr=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!mr.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===Ur&&Nr(Ur,t)?-1:e===n||e.ownerDocument===Ur&&Nr(Ur,e)?1:_r?ro.call(_r,t)-ro.call(_r,e):0:4&r?-1:1)}:function(t,e){if(t===e)return Sr=!0,0;var r,o=0,i=t.parentNode,a=e.parentNode,u=[t],c=[e];if(!i||!a)return t===n?-1:e===n?1:i?-1:a?1:_r?ro.call(_r,t)-ro.call(_r,e):0;if(i===a)return To(t,e);for(r=t;r=r.parentNode;)u.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;u[o]===c[o];)o++;return o?To(u[o],c[o]):u[o]===Ur?-1:c[o]===Ur?1:0},n):Or},So.matches=function(t,e){return So(t,null,null,e)},So.matchesSelector=function(t,e){if((t.ownerDocument||t)!==Or&&kr(t),e=e.replace(fo,"='$1']"),mr.matchesSelector&&Er&&(!Dr||!Dr.test(e))&&(!Ar||!Ar.test(e)))try{var n=(void 0).call(t,e);if(n||mr.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return So(e,Or,null,[t]).length>0},So.contains=function(t,e){return(t.ownerDocument||t)!==Or&&kr(t),Nr(t,e)},So.attr=function(t,e){(t.ownerDocument||t)!==Or&&kr(t);var n=gr.attrHandle[e.toLowerCase()],r=n&&Jr.call(gr.attrHandle,e.toLowerCase())?n(t,e,!Er):void 0;return void 0!==r?r:mr.attributes||!Er?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},So.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},So.uniqueSort=function(t){var e,n=[],r=0,o=0;if(Sr=!mr.detectDuplicates,_r=!mr.sortStable&&t.slice(0),t.sort(Kr),Sr){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return _r=null,t},vr=So.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=vr(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=vr(e);return n},(gr=So.selectors={cacheLength:50,createPseudo:Oo,match:mo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Co,_o),t[3]=(t[3]||t[4]||t[5]||"").replace(Co,_o),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||So.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&So.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return mo.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ho.test(n)&&(e=yr(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Co,_o).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Xr[t+" "];return e||(e=new RegExp("(^|"+oo+")"+t+"("+oo+"|$)"))&&Xr(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var o=So.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var s,l,f,d,h,p,m=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=u&&e.nodeName.toLowerCase(),b=!c&&!u;if(g){if(i){for(;m;){for(f=e;f=f[m];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(h=(s=(l=g[$r]||(g[$r]={}))[t]||[])[0]===Wr&&s[1],d=s[0]===Wr&&s[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(d=h=0)||p.pop();)if(1===f.nodeType&&++d&&f===e){l[t]=[Wr,h,d];break}}else if(b&&(s=(e[$r]||(e[$r]={}))[t])&&s[0]===Wr)d=s[1];else for(;(f=++h&&f&&f[m]||(d=h=0)||p.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[$r]||(f[$r]={}))[t]=[Wr,d]),f!==e)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(t,e){var n,r=gr.pseudos[t]||gr.setFilters[t.toLowerCase()]||So.error("unsupported pseudo: "+t);return r[$r]?r(e):r.length>1?(n=[t,t,"",e],gr.setFilters.hasOwnProperty(t.toLowerCase())?Oo((function(t,n){for(var o,i=r(t,e),a=i.length;a--;)t[o=ro.call(t,i[a])]=!(n[o]=i[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:Oo((function(t){var e=[],n=[],r=wr(t.replace(co,"$1"));return r[$r]?Oo((function(t,e,n,o){for(var i,a=r(t,null,o,[]),u=t.length;u--;)(i=a[u])&&(t[u]=!(e[u]=i))})):function(t,o,i){return e[0]=t,r(e,null,i,n),!n.pop()}})),has:Oo((function(t){return function(e){return So(t,e).length>0}})),contains:Oo((function(t){return t=t.replace(Co,_o),function(e){return(e.textContent||e.innerText||vr(e)).indexOf(t)>-1}})),lang:Oo((function(t){return po.test(t||"")||So.error("unsupported lang: "+t),t=t.replace(Co,_o).toLowerCase(),function(e){var n;do{if(n=Er?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=n.window.location&&n.window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===Tr},focus:function(t){return t===Or.activeElement&&(!Or.hasFocus||Or.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!gr.pseudos.empty(t)},header:function(t){return vo.test(t.nodeName)},input:function(t){return go.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Do((function(){return[0]})),last:Do((function(t,e){return[e-1]})),eq:Do((function(t,e,n){return[n<0?n+e:n]})),even:Do((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:Do((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:Do((function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t})),gt:Do((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=gr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})gr.pseudos[pr]=Eo(pr);for(pr in{submit:!0,reset:!0})gr.pseudos[pr]=Ao(pr);function Mo(){}function Ro(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function Po(t,e,n){var r=e.dir,o=n&&"parentNode"===r,i=qr++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||o)return t(e,n,i)}:function(e,n,a){var u,c,s=[Wr,i];if(a){for(;e=e[r];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||o){if((u=(c=e[$r]||(e[$r]={}))[r])&&u[0]===Wr&&u[1]===i)return s[2]=u[2];if(c[r]=s,s[2]=t(e,n,a))return!0}}}function Bo(t){return t.length>1?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function zo(t,e,n,r,o){for(var i,a=[],u=0,c=t.length,s=null!=e;u<c;u++)(i=t[u])&&(n&&!n(i,r,o)||(a.push(i),s&&e.push(u)));return a}function Io(t,e,n,r,o,i){return r&&!r[$r]&&(r=Io(r)),o&&!o[$r]&&(o=Io(o,i)),Oo((function(i,a,u,c){var s,l,f,d=[],h=[],p=a.length,m=i||function(t,e,n){for(var r=0,o=e.length;r<o;r++)So(t,e[r],n);return n}(e||"*",u.nodeType?[u]:u,[]),g=!t||!i&&e?m:zo(m,d,t,u,c),v=n?o||(i?t:p||r)?[]:a:g;if(n&&n(g,v,u,c),r)for(s=zo(v,h),r(s,[],u,c),l=s.length;l--;)(f=s[l])&&(v[h[l]]=!(g[h[l]]=f));if(i){if(o||t){if(o){for(s=[],l=v.length;l--;)(f=v[l])&&s.push(g[l]=f);o(null,v=[],s,c)}for(l=v.length;l--;)(f=v[l])&&(s=o?ro.call(i,f):d[l])>-1&&(i[s]=!(a[s]=f))}}else v=zo(v===a?v.splice(p,v.length):v),o?o(null,a,v,c):eo.apply(a,v)}))}function Lo(t){for(var e,n,r,o=t.length,i=gr.relative[t[0].type],a=i||gr.relative[" "],u=i?1:0,c=Po((function(t){return t===e}),a,!0),s=Po((function(t){return ro.call(e,t)>-1}),a,!0),l=[function(t,n,r){return!i&&(r||n!==Cr)||((e=n).nodeType?c(t,n,r):s(t,n,r))}];u<o;u++)if(n=gr.relative[t[u].type])l=[Po(Bo(l),n)];else{if((n=gr.filter[t[u].type].apply(null,t[u].matches))[$r]){for(r=++u;r<o&&!gr.relative[t[r].type];r++);return Io(u>1&&Bo(l),u>1&&Ro(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(co,"$1"),n,u<r&&Lo(t.slice(u,r)),r<o&&Lo(t=t.slice(r)),r<o&&Ro(t))}l.push(n)}return Bo(l)}Mo.prototype=gr.filters=gr.pseudos,gr.setFilters=new Mo,yr=So.tokenize=function(t,e){var n,r,o,i,a,u,c,s=Gr[t+" "];if(s)return e?0:s.slice(0);for(a=t,u=[],c=gr.preFilter;a;){for(i in n&&!(r=so.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=lo.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(co," ")}),a=a.slice(n.length)),gr.filter)gr.filter.hasOwnProperty(i)&&(!(r=mo[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?So.error(t):Gr(t,u).slice(0)},wr=So.compile=function(t,e){var n,r=[],o=[],i=Yr[t+" "];if(!i){for(e||(e=yr(t)),n=e.length;n--;)(i=Lo(e[n]))[$r]?r.push(i):o.push(i);(i=Yr(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,i,a,u,c){var s,l,f,d=0,h="0",p=o&&[],m=[],g=Cr,v=o||r&&gr.find.TAG("*",c),b=Wr+=null==g?1:Math.random()||.1,y=v.length;for(c&&(Cr=i!==Or&&i);h!==y&&null!=(s=v[h]);h++){if(r&&s){for(l=0;f=t[l++];)if(f(s,i,a)){u.push(s);break}c&&(Wr=b)}n&&((s=!f&&s)&&d--,o&&p.push(s))}if(d+=h,n&&h!==d){for(l=0;f=e[l++];)f(p,m,i,a);if(o){if(d>0)for(;h--;)p[h]||m[h]||(m[h]=Qr.call(u));m=zo(m)}eo.apply(u,m),c&&!o&&m.length>0&&d+e.length>1&&So.uniqueSort(u)}return c&&(Wr=b,Cr=g),p};return n?Oo(o):o}(o,r))).selector=t}return i},xr=So.select=function(t,e,n,r){var o,i,a,u,c,s="function"==typeof t&&t,l=!r&&yr(t=s.selector||t);if(n=n||[],1===l.length){if((i=l[0]=l[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&mr.getById&&9===e.nodeType&&Er&&gr.relative[i[1].type]){if(!(e=(gr.find.ID(a.matches[0].replace(Co,_o),e)||[])[0]))return n;s&&(e=e.parentNode),t=t.slice(i.shift().value.length)}for(o=mo.needsContext.test(t)?0:i.length;o--&&(a=i[o],!gr.relative[u=a.type]);)if((c=gr.find[u])&&(r=c(a.matches[0].replace(Co,_o),wo.test(i[0].type)&&No(e.parentNode)||e))){if(i.splice(o,1),!(t=r.length&&Ro(i)))return eo.apply(n,r),n;break}}return(s||wr(t,l))(r,e,!Er,n,wo.test(t)&&No(e.parentNode)||e),n},mr.sortStable=$r.split("").sort(Kr).join("")===$r,mr.detectDuplicates=!!Sr,kr(),mr.sortDetached=!0;var Fo=n.document,Ho=Array.prototype.push,jo=Array.prototype.slice,Vo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,$o=Vr.Event,Uo=Tn.makeMap("children,contents,next,prev"),Wo=function(t){return void 0!==t},qo=function(t){return"string"==typeof t},Xo=function(t,e){var n,r,o;for(o=(e=e||Fo).createElement("div"),n=e.createDocumentFragment(),o.innerHTML=t;r=o.firstChild;)n.appendChild(r);return n},Go=function(t,e,n,r){var o;if(qo(e))e=Xo(e,ci(t[0]));else if(e.length&&!e.nodeType){if(e=di.makeArray(e),r)for(o=e.length-1;o>=0;o--)Go(t,e[o],n,r);else for(o=0;o<e.length;o++)Go(t,e[o],n,r);return t}if(e.nodeType)for(o=t.length;o--;)n.call(t[o],e);return t},Yo=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},Ko=function(t,e,n){var r,o;return e=di(e)[0],t.each((function(){n&&r===this.parentNode||(r=this.parentNode,o=e.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)})),t},Jo=Tn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Zo=Tn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Qo={for:"htmlFor",class:"className",readonly:"readOnly"},ti={float:"cssFloat"},ei={},ni={},ri=function(t,e){return new di.fn.init(t,e)},oi=/^\s*|\s*$/g,ii=function(t){return null==t?"":(""+t).replace(oi,"")},ai=function(t,e){var n,r,o,i;if(t)if(void 0===(n=t.length)){for(r in t)if(t.hasOwnProperty(r)&&(i=t[r],!1===e.call(i,r,i)))break}else for(o=0;o<n&&(i=t[o],!1!==e.call(i,o,i));o++);return t},ui=function(t,e){var n=[];return ai(t,(function(t,r){e(r,t)&&n.push(r)})),n},ci=function(t){return t?9===t.nodeType?t:t.ownerDocument:Fo};ri.fn=ri.prototype={constructor:ri,selector:"",context:null,length:0,init:function(t,e){var r,o;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if(e&&e.nodeType)this.context=e;else{if(e)return di(t).attr(e);this.context=e=n.document}if(qo(t)){if(this.selector=t,!(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Vo.exec(t)))return di(e).find(t);if(r[1])for(o=Xo(t,ci(e)).firstChild;o;)Ho.call(this,o),o=o.nextSibling;else{if(!(o=ci(e).getElementById(r[2])))return this;if(o.id!==r[2])return this.find(t);this.length=1,this[0]=o}}else this.add(t,!1);return this},toArray:function(){return Tn.toArray(this)},add:function(t,e){var n,r;if(qo(t))return this.add(di(t));if(!1!==e)for(n=di.unique(this.toArray().concat(di.makeArray(t))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else Ho.apply(this,di.makeArray(t));return this},attr:function(t,e){var n,r=this;if("object"==typeof t)ai(t,(function(t,e){r.attr(t,e)}));else{if(!Wo(e)){if(r[0]&&1===r[0].nodeType){if((n=ei[t])&&n.get)return n.get(r[0],t);if(Zo[t])return r.prop(t)?t:void 0;null===(e=r[0].getAttribute(t,2))&&(e=void 0)}return e}this.each((function(){var n;if(1===this.nodeType){if((n=ei[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}}))}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=Qo[t]||t))ai(t,(function(t,e){n.prop(t,e)}));else{if(!Wo(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each((function(){1===this.nodeType&&(this[t]=e)}))}return n},css:function(t,e){var n,r,o=this,i=function(t){return t.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()}))},a=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))};if("object"==typeof t)ai(t,(function(t,e){o.css(t,e)}));else if(Wo(e))t=i(t),"number"!=typeof e||Jo[t]||(e=e.toString()+"px"),o.each((function(){var n=this.style;if((r=ni[t])&&r.set)r.set(this,e);else{try{this.style[ti[t]||t]=e}catch(t){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(a(t)):n.removeAttribute(t))}}));else{if(n=o[0],(r=ni[t])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(t))}catch(t){return}}return o},remove:function(){for(var t,e=this.length;e--;)t=this[e],$o.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e;if(Wo(t)){e=this.length;try{for(;e--;)this[e].innerHTML=t}catch(n){di(this[e]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var e;if(Wo(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return Go(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return Go(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?Go(t,arguments,(function(t){this.parentNode.insertBefore(t,this)})):t},after:function(){var t=this;return t[0]&&t[0].parentNode?Go(t,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):t},appendTo:function(t){return di(t).append(this),this},prependTo:function(t){return di(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Ko(this,t)},wrapAll:function(t){return Ko(this,t,!0)},wrapInner:function(t){return this.each((function(){di(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){di(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),di(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?ai(t.split(" "),(function(){n.toggleClass(this,e)})):n.each((function(n,r){var o,i;(i=Yo(r,t))!==e&&(o=r.className,i?r.className=ii((" "+o+" ").replace(" "+t+" "," ")):r.className+=o?" "+t:t)}))),n},hasClass:function(t){return Yo(this[0],t)},each:function(t){return ai(this,t)},on:function(t,e){return this.each((function(){$o.bind(this,t,e)}))},off:function(t,e){return this.each((function(){$o.unbind(this,t,e)}))},trigger:function(t){return this.each((function(){"object"==typeof t?$o.fire(this,t.type,t):$o.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new di(jo.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,r=[];for(e=0,n=this.length;e<n;e++)di.find(t,this[e],r);return di(r)},filter:function(t){return di("function"==typeof t?ui(this.toArray(),(function(e,n){return t(n,e)})):di.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof di&&(t=t[0]),this.each((function(n,r){for(;r;){if("string"==typeof t&&di(r).is(t)){e.push(r);break}if(r===t){e.push(r);break}r=r.parentNode}})),di(e)},offset:function(t){var e,n,r,o,i=0,a=0;return t?this.css(t):((e=this[0])&&(r=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(i=(o=e.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Ho,sort:Array.prototype.sort,splice:Array.prototype.splice},Tn.extend(ri,{extend:Tn.extend,makeArray:function(t){return(e=t)&&e===e.window||t.nodeType?[t]:Tn.toArray(t);var e},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:Tn.isArray,each:ai,trim:ii,grep:ui,find:So,expr:So.selectors,unique:So.uniqueSort,text:So.getText,contains:So.contains,filter:function(t,e,n){var r=e.length;for(n&&(t=":not("+t+")");r--;)1!==e[r].nodeType&&e.splice(r,1);return e=1===e.length?di.find.matchesSelector(e[0],t)?[e[0]]:[]:di.find.matches(t,e)}});var si=function(t,e,n){var r=[],o=t[e];for("string"!=typeof n&&n instanceof di&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&di(o).is(n))break}1===o.nodeType&&r.push(o),o=o[e]}return r},li=function(t,e,n,r){var o=[];for(r instanceof di&&(r=r[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==r){if(t===r)break;if("string"==typeof r&&di(t).is(r))break}o.push(t)}return o},fi=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};ai({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return si(t,"parentNode")},next:function(t){return fi(t,"nextSibling",1)},prev:function(t){return fi(t,"previousSibling",1)},children:function(t){return li(t.firstChild,"nextSibling",1)},contents:function(t){return Tn.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,e){ri.fn[t]=function(n){var r=[];this.each((function(){var t=e.call(r,this,n,r);t&&(di.isArray(t)?r.push.apply(r,t):r.push(t))})),this.length>1&&(Uo[t]||(r=di.unique(r)),0===t.indexOf("parents")&&(r=r.reverse()));var o=di(r);return n?o.filter(n):o}})),ai({parentsUntil:function(t,e){return si(t,"parentNode",e)},nextUntil:function(t,e){return li(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return li(t,"previousSibling",1,e).slice(1)}},(function(t,e){ri.fn[t]=function(n,r){var o=[];this.each((function(){var t=e.call(o,this,n,o);t&&(di.isArray(t)?o.push.apply(o,t):o.push(t))})),this.length>1&&(o=di.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse()));var i=di(o);return r?i.filter(r):i}})),ri.fn.is=function(t){return!!t&&this.filter(t).length>0},ri.fn.init.prototype=ri.fn,ri.overrideDefaults=function(t){var e,n=function(r,o){return e=e||t(),0===arguments.length&&(r=e.element),o||(o=e.context),new n.fn.init(r,o)};return di.extend(n,this),n},ri.attrHooks=ei,ri.cssHooks=ni;var di=ri,hi=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,r){var o,i;if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){if(o=t[n])return o;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},t.prototype.findPreviousNode=function(t,e,n,r){var o,i,a;if(t){if(o=t[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[e];a;a=a[e])if(!a[e])return a;return o}if((i=t.parentNode)&&i!==this.rootNode)return i}},t}(),pi=Tn.each,mi=Tn.grep,gi=bn.ie,vi=/^([a-z0-9],?)+$/i,bi=/^[ \t\r\n]*$/,yi=function(t,e){var n=e.attr("style"),r=t.serialize(t.parse(n),e[0].nodeName);r||(r=null),e.attr("data-mce-style",r)},wi=function(t,e){var n,r,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!e||3!==r||r!==n&&t.nodeValue.length)&&(o++,n=r);return o};function xi(t,e){var r,o=this;void 0===e&&(e={});var i={},a=n.window,u={},c=0,s=En(t,{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),l=[],f=e.schema?e.schema:hr({}),d=Rr({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),h=e.ownEvents?new Vr:Vr.Event,p=f.getBlockElements(),m=di.overrideDefaults((function(){return{context:t,element:V.getRoot()}})),v=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},b=function(t){return"string"==typeof t&&(t=v(t)),m(t)},y=function(t,e,n){var o,i,a=b(t);return a.length&&(i=(o=r[e])&&o.get?o.get(a,e):a.attr(e)),void 0===i&&(i=n||""),i},w=function(t){var e=v(t);return e?e.attributes:[]},x=function(t,n,o){var i,a;""===o&&(o=null);var u=b(t);i=u.attr(n),u.length&&((a=r[n])&&a.set?a.set(u,o,n):u.attr(n,o),i!==o&&e.onSetAttrib&&e.onSetAttrib({attrElm:u,attrName:n,attrValue:o}))},C=function(){return e.root_element||t.body},_=function(e,n){return Ue(t.body,v(e),n)},S=function(t,e,n){var r=b(t);return n?r.css(e):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e=bn.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[e]:void 0)},k=function(t){var e,n;return t=v(t),e=S(t,"width"),n=S(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},O=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(vi.test(e)){var r=e.toLowerCase().split(/,/),o=t.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var i=Array.isArray(t)?t:[t];return So(e,i[0].ownerDocument||i[0],null,i).length>0},T=function(t,e,n,r){var o,i=[],a=v(t);for(r=void 0===r,n=n||("BODY"!==C().nodeName?C().parentNode:null),Tn.is(e,"string")&&(o=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return O(t,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!e||"function"==typeof e&&e(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},E=function(t,e,n){var r=e;if(t)for("string"==typeof e&&(r=function(t){return O(t,e)}),t=t[n];t;t=t[n])if("function"==typeof r&&r(t))return t;return null},A=function(t,e,n){var r,i="string"==typeof t?v(t):t;if(!i)return!1;if(Tn.isArray(i)&&(i.length||0===i.length))return r=[],pi(i,(function(t,o){t&&("string"==typeof t&&(t=v(t)),r.push(e.call(n,t,o)))})),r;var a=n||o;return e.call(a,i)},D=function(t,e){b(t).each((function(t,n){pi(e,(function(t,e){x(n,e,t)}))}))},N=function(t,e){var n=b(t);gi?n.each((function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(t){di("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}})):n.html(e)},M=function(e,n,r,o,i){return A(e,(function(e){var a="string"==typeof n?t.createElement(n):n;return D(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&N(a,o)),i?a:e.appendChild(a)}))},R=function(e,n,r){return M(t.createElement(e),e,n,r,!0)},P=rr.encodeAllRaw,B=function(t,e){var n=b(t);return e?n.each((function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},z=function(t,e,n){b(t).toggleClass(e,n).each((function(){""===this.className&&di(this).attr("class",null)}))},I=function(t,e,n){return A(e,(function(e){return Tn.is(e,"array")&&(t=t.cloneNode(!0)),n&&pi(mi(e.childNodes),(function(e){t.appendChild(e)})),e.parentNode.replaceChild(t,e)}))},L=function(){return t.createRange()},F=function(n,r,o,i){if(Tn.isArray(n)){for(var u=n.length,c=[];u--;)c[u]=F(n[u],r,o,i);return c}return!e.collect||n!==t&&n!==a||l.push([n,r,o,i]),h.bind(n,r,o,i||V)},H=function(e,n,r){var o;if(Tn.isArray(e)){o=e.length;for(var i=[];o--;)i[o]=H(e[o],n,r);return i}if(l&&(e===t||e===a))for(o=l.length;o--;){var u=l[o];e!==u[0]||n&&n!==u[1]||r&&r!==u[2]||h.unbind(u[0],u[1],u[2])}return h.unbind(e,n,r)},j=function(t){if(t&&Ne.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},V={doc:t,settings:e,win:a,files:u,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:l,styles:d,schema:f,events:h,isBlock:function(t){if("string"==typeof t)return!!p[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!p[t.nodeName])}return!1},$:m,$$:b,root:null,clone:function(e,n){if(!gi||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var r=t.createElement(e.nodeName);return pi(w(e),(function(t){x(r,t.nodeName,y(e,t.nodeName))})),r}return null},getRoot:C,getViewPort:function(t){var e=be(t);return{x:e.x(),y:e.y(),w:e.width(),h:e.height()}},getRect:function(t){var e,n;return t=v(t),e=_(t),n=k(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:k,getParent:function(t,e,n){var r=T(t,e,n,!1);return r&&r.length>0?r[0]:null},getParents:T,get:v,getNext:function(t,e){return E(t,e,"nextSibling")},getPrev:function(t,e){return E(t,e,"previousSibling")},select:function(n,r){return So(n,v(r)||e.root_element||t,[])},is:O,add:M,create:R,createHTML:function(t,e,n){var r,o="";for(r in o+="<"+t,e)e.hasOwnProperty(r)&&null!==e[r]&&void 0!==e[r]&&(o+=" "+r+'="'+P(e[r])+'"');return void 0!==n?o+">"+n+"</"+t+">":o+" />"},createFragment:function(e){var n,r=t.createElement("div"),o=t.createDocumentFragment();for(e&&(r.innerHTML=e);n=r.firstChild;)o.appendChild(n);return o},remove:B,setStyle:function(t,n,r){var o=g(n)?b(t).css(n,r):b(t).css(n);e.update_styles&&yi(d,o)},getStyle:S,setStyles:function(t,n){var r=b(t).css(n);e.update_styles&&yi(d,r)},removeAllAttribs:function(t){return A(t,(function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))}))},setAttrib:x,setAttribs:D,getAttrib:y,getPos:_,parseStyle:function(t){return d.parse(t)},serializeStyle:function(t,e){return d.serialize(t,e)},addStyle:function(e){var r,o;if(V!==xi.DOM&&t===n.document){if(i[e])return;i[e]=!0}(o=t.getElementById("mceDefaultStyles"))||((o=t.createElement("style")).id="mceDefaultStyles",o.type="text/css",(r=t.getElementsByTagName("head")[0]).firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=e:o.appendChild(t.createTextNode(e))},loadCSS:function(r){var o;V===xi.DOM||t!==n.document?(r||(r=""),o=t.getElementsByTagName("head")[0],pi(r.split(","),(function(t){var n;t=Tn._addCacheSuffix(t),u[t]||(u[t]=!0,n=R("link",Z(Z({rel:"stylesheet",type:"text/css",href:t},e.contentCssCors?{crossOrigin:"anonymous"}:{}),e.referrerPolicy?{referrerPolicy:e.referrerPolicy}:{})),o.appendChild(n))}))):xi.DOM.loadCSS(r)},addClass:function(t,e){b(t).addClass(e)},removeClass:function(t,e){z(t,e,!1)},hasClass:function(t,e){return b(t).hasClass(e)},toggleClass:z,show:function(t){b(t).show()},hide:function(t){b(t).hide()},isHidden:function(t){return"none"===b(t).css("display")},uniqueId:function(t){return(t||"mce_")+c++},setHTML:N,getOuterHTML:function(t){var e="string"==typeof t?v(t):t;return Ne.isElement(e)?e.outerHTML:di("<div></div>").append(di(e).clone()).html()},setOuterHTML:function(t,e){b(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}B(di(this).html(e),!0)}))},decode:rr.decode,encode:P,insertAfter:function(t,e){var n=v(e);return A(t,(function(t){var e,r;return e=n.parentNode,(r=n.nextSibling)?e.insertBefore(t,r):e.appendChild(t),t}))},replace:I,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=R(e),pi(w(t),(function(e){x(n,e.nodeName,y(t,e.nodeName))})),I(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,r=t;r;){for(n=e;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&t.ownerDocument?t.ownerDocument.documentElement:r},toHex:function(t){return d.toHex(Tn.trim(t))},run:A,getAttribs:w,isEmpty:function(t,e){var n,r,o,i,a=0;if(t=t.firstChild){var u=new hi(t,t.parentNode),c=f?f.getWhiteSpaceElements():{};e=e||(f?f.getNonEmptyElements():null);do{if(o=t.nodeType,Ne.isElement(t)){var s=t.getAttribute("data-mce-bogus");if(s){t=u.next("all"===s);continue}if(i=t.nodeName.toLowerCase(),e&&e[i]){if("br"===i){a++,t=u.next();continue}return!1}for(n=(r=w(t)).length;n--;)if("name"===(i=r[n].nodeName)||"data-mce-bookmark"===i)return!1}if(8===o)return!1;if(3===o&&!bi.test(t.nodeValue))return!1;if(3===o&&t.parentNode&&c[t.parentNode.nodeName]&&bi.test(t.nodeValue))return!1;t=u.next()}while(t)}return a<=1},createRng:L,nodeIndex:wi,split:function(t,e,n){var r,o,i,a=L();if(t&&e)return a.setStart(t.parentNode,wi(t)),a.setEnd(e.parentNode,wi(e)),r=a.extractContents(),(a=L()).setStart(e.parentNode,wi(e)+1),a.setEnd(t.parentNode,wi(t)+1),o=a.extractContents(),(i=t.parentNode).insertBefore(qn.trimNode(V,r),t),n?i.insertBefore(n,t):i.insertBefore(e,t),i.insertBefore(qn.trimNode(V,o),t),B(t),n||e},bind:F,unbind:H,fire:function(t,e,n){return h.fire(t,e,n)},getContentEditable:j,getContentEditableParent:function(t){for(var e=C(),n=null;t&&t!==e&&null===(n=j(t));t=t.parentNode);return n},destroy:function(){if(l)for(var t=l.length;t--;){var e=l[t];h.unbind(e[0],e[1],e[2])}So.setDocument&&So.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return r=function(t,e,n){var r=e.keep_values,o={set:function(t,r,o){e.url_converter&&(r=e.url_converter.call(e.url_converter_scope||n(),r,o,t[0])),t.attr("data-mce-"+o,r).attr(o,r)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(e,n){null===n||"object"!=typeof n?(r&&e.attr("data-mce-style",n),null!==n&&"string"==typeof n?(e.removeAttr("style"),e.css(t.parse(n))):e.attr("style",n)):e.css(n)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName)}}};return r&&(i.href=i.src=o),i}(d,e,(function(){return V})),V}!function(t){t.DOM=t(n.document),t.nodeIndex=wi}(xi||(xi={}));var Ci=xi,_i=Ci.DOM,Si=Tn.each,ki=Tn.grep,Oi=function(){function t(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return t.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},t.prototype.loadScript=function(t,e,r){var o,i,a=_i;i=a.uniqueId(),(o=n.document.createElement("script")).id=i,o.type="text/javascript",o.src=Tn._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=function(){a.remove(i),o&&(o.onreadystatechange=o.onload=o=null),e()},o.onerror=function(){x(r)?r():void 0!==n.console&&n.console.log&&n.console.log("Failed to load script: "+t)},(n.document.getElementsByTagName("head")[0]||n.document.body).appendChild(o)},t.prototype.isDone=function(t){return 2===this.states[t]},t.prototype.markDone=function(t){this.states[t]=2},t.prototype.add=function(t,e,n,r){void 0===this.states[t]&&(this.queue.push(t),this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:r,scope:n||this}))},t.prototype.load=function(t,e,n,r){return this.add(t,e,n,r)},t.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},t.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},t.prototype.loadScripts=function(t,e,n,r){var o,i=this,a=[],u=function(t,e){Si(i.scriptLoadedCallbacks[e],(function(e){x(e[t])&&e[t].call(e.scope)})),i.scriptLoadedCallbacks[e]=void 0};i.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this}),(o=function(){var e=ki(t);if(t.length=0,Si(e,(function(t){2!==i.states[t]?3!==i.states[t]?1!==i.states[t]&&(i.states[t]=1,i.loading++,i.loadScript(t,(function(){i.states[t]=2,i.loading--,u("success",t),o()}),(function(){i.states[t]=3,i.loading--,a.push(t),u("failure",t),o()}))):u("failure",t):u("success",t)})),!i.loading){var n=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,Si(n,(function(t){0===a.length?x(t.success)&&t.success.call(t.scope):x(t.failure)&&t.failure.call(t.scope,a)}))}})()},t.ScriptLoader=new t,t}(),Ti={},Ei=et("en"),Ai=function(){return K(Ti,Ei.get())},Di={getData:function(){return q(Ti,(function(t){return Z({},t)}))},setCode:function(t){t&&Ei.set(t)},getCode:function(){return Ei.get()},add:function(t,e){var n=Ti[t];n||(Ti[t]=n={}),W(e,(function(t,e){n[e.toLowerCase()]=t}))},translate:function(t){var e,n=Ai().getOr({}),r=function(t){return x(t)?Object.prototype.toString.call(t):o(t)?"":""+t},o=function(t){return""===t||null==t},i=function(t){var e=r(t);return K(n,e.toLowerCase()).map(r).getOr(e)},a=function(t){return t.replace(/{context:\w+}$/,"")};if(o(t))return"";if(v(e=t)&&J(e,"raw"))return r(t.raw);if(function(t){return b(t)&&t.length>1}(t)){var u=t.slice(1);return a(i(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return J(u,e)?r(u[e]):t})))}return a(i(t))},isRtl:function(){return Ai().bind((function(t){return K(t,"_dir")})).exists((function(t){return"rtl"===t}))},hasCode:function(t){return J(Ti,t)}};function Ni(){var t=this,e=[],n={},r={},o=[],i=function(t,e){var n=N(o,(function(n){return n.name===t&&n.state===e}));D(n,(function(t){return t.callback()}))},a=function(t){var e;return r[t]&&(e=r[t].dependencies),e||[]},u=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},c=function(t,e,o,s,l){if(!n[t]){var f="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==f.indexOf("/")&&-1===f.indexOf("://")&&(f=Ni.baseURL+"/"+f),n[t]=f.substring(0,f.lastIndexOf("/"));var d=function(){i(t,"loaded"),function(t,e,n,r){var o=a(t);D(o,(function(t){var n=u(e,t);c(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Oi))}(t,e,o,s)};r[t]?d():Oi.ScriptLoader.add(f,d,s,l)}},s=function(t,e,i){void 0===i&&(i="added"),J(r,t)&&"added"===i||J(n,t)&&"loaded"===i?e():o.push({name:t,state:i,callback:e})};return{items:e,urls:n,lookup:r,_listeners:o,get:function(t){if(r[t])return r[t].instance},dependencies:a,requireLangPack:function(t,e){!1!==Ni.languageLoad&&s(t,(function(){var r=Di.getCode();!r||e&&-1===(","+(e||"")+",").indexOf(","+r+",")||Oi.ScriptLoader.add(n[t]+"/langs/"+r+".js")}),"loaded")},add:function(t,n,o){var a=n;return e.push(a),r[t]={instance:a,dependencies:o},i(t,"added"),a},remove:function(t){delete n[t],delete r[t]},createUrl:u,addComponents:function(e,n){var r=t.urls[e];D(n,(function(t){Oi.ScriptLoader.add(r+"/"+t)}))},load:c,waitFor:s}}!function(t){t.PluginManager=t(),t.ThemeManager=t()}(Ni||(Ni={}));var Mi=Ni,Ri=function(t,e){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=n.setTimeout((function(){t.apply(null,o),r=null}),e))}}},Pi=function(t,e){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&n.clearTimeout(r),r=n.setTimeout((function(){t.apply(null,o),r=null}),e)}}},Bi=function(t,e){var n=ze(t,e);return void 0===n||""===n?[]:n.split(" ")},zi=function(t){return void 0!==t.dom().classList},Ii=function(t,e){return function(t,e,n){var r=Bi(t,e).concat([n]);return Pe(t,e,r.join(" ")),!0}(t,"class",e)},Li=function(t,e){return function(t,e,n){var r=N(Bi(t,e),(function(t){return t!==n}));return r.length>0?Pe(t,e,r.join(" ")):Ie(t,e),!1}(t,"class",e)},Fi=function(t,e){zi(t)?t.dom().classList.add(e):Ii(t,e)},Hi=function(t){0===(zi(t)?t.dom().classList:function(t){return Bi(t,"class")}(t)).length&&Ie(t,"class")},ji=function(t,e){return zi(t)&&t.dom().classList.contains(e)},Vi=function(t,e){var n=[];return D(qt(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(Vi(t,e))})),n},$i=function(t,e){return function(t,e){var r=void 0===e?n.document:e.dom();return zt(r)?[]:A(r.querySelectorAll(t),tt.fromDom)}(e,t)};function Ui(t,e,n,r,o){return t(n,r)?p.some(n):x(o)&&o(n)?p.none():e(n,r,o)}var Wi=function(t,e,n){for(var r=t.dom(),o=x(n)?n:i(!1);r.parentNode;){r=r.parentNode;var a=tt.fromDom(r);if(e(a))return p.some(a);if(o(a))break}return p.none()},qi=function(t,e,n){return Ui((function(t,e){return e(t)}),Wi,t,e,n)},Xi=function(t,e,n){return Wi(t,(function(t){return Bt(t,e)}),n)},Gi=function(t,e){return function(t,e){var r=void 0===e?n.document:e.dom();return zt(r)?p.none():p.from(r.querySelector(t)).map(tt.fromDom)}(e,t)},Yi=function(t,e,n){return Ui(Bt,Xi,t,e,n)},Ki=i("mce-annotation"),Ji=i("data-mce-annotation"),Zi=i("data-mce-annotation-uid"),Qi=function(t,e){var n=t.selection.getRng(),r=tt.fromDom(n.startContainer),o=tt.fromDom(t.getBody()),i=e.fold((function(){return"."+Ki()}),(function(t){return"["+Ji()+'="'+t+'"]'})),a=Xt(r,n.startOffset).getOr(r),u=Yi(a,i,(function(t){return It(t,o)})),c=function(t,e){return function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)}(t,e)?p.some(ze(t,e)):p.none()};return u.bind((function(e){return c(e,""+Zi()).bind((function(n){return c(e,""+Ji()).map((function(e){var r=ta(t,n);return{uid:n,name:e,elements:r}}))}))}))},ta=function(t,e){var n=tt.fromDom(t.getBody());return $i(n,"["+Zi()+'="'+e+'"]')},ea=function(t,e){var n=et({}),r=function(t,e){o(t,(function(t){return e(t),t}))},o=function(t,e){var r=n.get(),o=e(r.hasOwnProperty(t)?r[t]:{listeners:[],previous:et(p.none())});r[t]=o,n.set(r)},i=Pi((function(){var e,i,a,u=n.get(),c=(e=$(u),(a=_.call(e,0)).sort(i),a);D(c,(function(e){o(e,(function(n){var o=n.previous.get();return Qi(t,p.some(e)).fold((function(){o.isSome()&&(!function(t){r(t,(function(e){D(e.listeners,(function(e){return e(!1,t)}))}))}(e),n.previous.set(p.none()))}),(function(t){var e=t.uid,i=t.name,a=t.elements;o.is(e)||(!function(t,e,n){r(t,(function(r){D(r.listeners,(function(r){return r(!0,t,{uid:e,nodes:A(n,(function(t){return t.dom()}))})}))}))}(i,e,a),n.previous.set(p.some(e)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);t.on("remove",(function(){i.cancel()})),t.on("NodeChange",(function(){i.throttle()}));return{addListener:function(t,e){o(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))}}},na=function(t,e){t.on("init",(function(){t.serializer.addNodeFilter("span",(function(t){D(t,(function(t){(function(t){return p.from(t.attr(Ji())).bind(e.lookup)})(t).each((function(e){!1===e.persistent&&t.unwrap()}))}))}))}))},ra=0,oa=function(t,e){var r,o,i=Ft(t).dom(),a=tt.fromDom(i.createDocumentFragment()),u=(r=e,(o=(i||n.document).createElement("div")).innerHTML=r,qt(tt.fromDom(o)));te(a,u),ee(t),Qt(t,a)},ia=function(t,e){return tt.fromDom(t.dom().cloneNode(e))},aa=function(t){return ia(t,!1)},ua=function(t){return ia(t,!0)},ca={isZwsp:function(t){return"\ufeff"===t},ZWSP:"\ufeff",trim:function(t){return t.replace(new RegExp("\ufeff","g"),"")}},sa=Ne.isElement,la=Ne.isText,fa=function(t){return la(t)&&(t=t.parentNode),sa(t)&&t.hasAttribute("data-mce-caret")},da=function(t){return la(t)&&ca.isZwsp(t.data)},ha=function(t){return fa(t)||da(t)},pa=function(t){return t.firstChild!==t.lastChild||!Ne.isBr(t.firstChild)},ma=function(t){var e=t.container();return!(!t||!Ne.isText(e))&&(e.data.charAt(t.offset())===ca.ZWSP||t.isAtStart()&&da(e.previousSibling))},ga=function(t){var e=t.container();return!(!t||!Ne.isText(e))&&(e.data.charAt(t.offset()-1)===ca.ZWSP||t.isAtEnd()&&da(e.nextSibling))},va=function(t,e,r){var o,i,a;return(o=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",r?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(((a=n.document.createElement("br")).setAttribute("data-mce-bogus","1"),a)),i=e.parentNode,r?i.insertBefore(o,e):e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o),o},ba=function(t){return la(t)&&t.data[0]===ca.ZWSP},ya=function(t){return la(t)&&t.data[t.data.length-1]===ca.ZWSP},wa=function(t){return t&&t.hasAttribute("data-mce-caret")?(e=t.getElementsByTagName("br"),n=e[e.length-1],Ne.isBogus(n)&&n.parentNode.removeChild(n),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var e,n},xa=Ne.isContentEditableTrue,Ca=Ne.isContentEditableFalse,_a=Ne.isBr,Sa=Ne.isText,ka=Ne.matchNodeNames(["script","style","textarea"]),Oa=Ne.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),Ta=Ne.matchNodeNames(["table"]),Ea=ha,Aa=function(t){return!Ea(t)&&(Sa(t)?!ka(t.parentNode):Oa(t)||_a(t)||Ta(t)||Da(t))},Da=function(t){return!1===function(t){return Ne.isElement(t)&&"true"===t.getAttribute("unselectable")}(t)&&Ca(t)},Na=function(t,e){return Aa(t)&&function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(Da(t))return!1;if(xa(t))return!0}return!0}(t,e)},Ma=Math.round,Ra=function(t){return t?{left:Ma(t.left),top:Ma(t.top),bottom:Ma(t.bottom),right:Ma(t.right),width:Ma(t.width),height:Ma(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Pa=function(t,e){return t=Ra(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},Ba=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},za=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&Ba(e.top-t.bottom,t,e)},Ia=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Ba(e.bottom-t.top,t,e)},La=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},Fa=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Ha=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},ja=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Va=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&ja.test(t)},$a=function(t,e,n){return t.isSome()&&e.isSome()?p.some(n(t.getOrDie(),e.getOrDie())):p.none()},Ua=[].slice,Wa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ua.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}},qa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ua.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}},Xa=Ne.isElement,Ga=Aa,Ya=Ne.matchStyleValues("display","block table"),Ka=Ne.matchStyleValues("float","left right"),Ja=Wa(Xa,Ga,c(Ka)),Za=c(Ne.matchStyleValues("white-space","pre pre-line pre-wrap")),Qa=Ne.isText,tu=Ne.isBr,eu=Ci.nodeIndex,nu=Ha,ru=function(t){return"createRange"in t?t.createRange():Ci.DOM.createRng()},ou=function(t){return t&&/[\r\n\t ]/.test(t)},iu=function(t){return!!t.setStart&&!!t.setEnd},au=function(t){var e,n=t.startContainer,r=t.startOffset;return!!(ou(t.toString())&&Za(n.parentNode)&&Ne.isText(n)&&(e=n.data,ou(e[r-1])||ou(e[r+1])))},uu=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},cu=function(t){var e,n;return e=(n=t.getClientRects()).length>0?Ra(n[0]):Ra(t.getBoundingClientRect()),!iu(t)&&tu(t)&&uu(e)?function(t){var e,n=t.ownerDocument,r=ru(n),o=n.createTextNode(""),i=t.parentNode;return i.insertBefore(o,t),r.setStart(o,0),r.setEnd(o,1),e=Ra(r.getBoundingClientRect()),i.removeChild(o),e}(t):uu(e)&&iu(t)?function(t){var e=t.startContainer,n=t.endContainer,r=t.startOffset,o=t.endOffset;if(e===n&&Ne.isText(n)&&0===r&&1===o){var i=t.cloneRange();return i.setEndAfter(n),cu(i)}return null}(t):e},su=function(t,e){var n=Pa(t,e);return n.width=1,n.right=n.left+1,n},lu=function(t){var e,n,r=[],o=function(t){var e,n;0!==t.height&&(r.length>0&&(e=t,n=r[r.length-1],e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right)||r.push(t))},i=function(t,e){var n=ru(t.ownerDocument);if(e<t.data.length){if(Va(t.data[e]))return r;if(Va(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!au(n)))return o(su(cu(n),!1)),r}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),au(n)||o(su(cu(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),au(n)||o(su(cu(n),!0)))};if(Qa(t.container()))return i(t.container(),t.offset()),r;if(Xa(t.container()))if(t.isAtEnd())n=nu(t.container(),t.offset()),Qa(n)&&i(n,n.data.length),Ja(n)&&!tu(n)&&o(su(cu(n),!1));else{if(n=nu(t.container(),t.offset()),Qa(n)&&i(n,0),Ja(n)&&t.isAtEnd())return o(su(cu(n),!1)),r;e=nu(t.container(),t.offset()-1),Ja(e)&&!tu(e)&&(Ya(e)||Ya(n)||!Ja(n))&&o(su(cu(e),!1)),Ja(n)&&o(su(cu(n),!0))}return r};function fu(t,e,n){var r=function(){return n||(n=lu(fu(t,e))),n};return{container:i(t),offset:i(e),toRange:function(){var n;return(n=ru(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return Qa(t),0===e},isAtEnd:function(){return Qa(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(n){return n&&t===n.container()&&e===n.offset()},getNode:function(n){return nu(t,n?e-1:e)}}}!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,eu(e)+1)},t.before=function(e){return t(e.parentNode,eu(e))},t.isAbove=function(t,e){return $a(H(e.getClientRects()),j(t.getClientRects()),za).getOr(!1)},t.isBelow=function(t,e){return $a(j(e.getClientRects()),H(t.getClientRects()),Ia).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&Ne.isText(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(fu||(fu={}));var du,hu=fu,pu=Ne.isText,mu=Ne.isBogus,gu=Ci.nodeIndex,vu=function(t){var e=t.parentNode;return mu(e)?vu(e):e},bu=function(t){return t?Cn.reduce(t.childNodes,(function(t,e){return mu(e)&&"BR"!==e.nodeName?t=t.concat(bu(e)):t.push(e),t}),[]):[]},yu=function(t){return function(e){return t===e}},wu=function(t){return(pu(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n,r;return e=bu(vu(t)),n=Cn.findIndex(e,yu(t),t),e=e.slice(0,n+1),r=Cn.reduce(e,(function(t,n,r){return pu(n)&&pu(e[r-1])&&t++,t}),0),e=Cn.filter(e,Ne.matchNodeNames([t.nodeName])),(n=Cn.findIndex(e,yu(t),t))-r}(t)+"]"},xu=function(t,e){var n,r,o,i,a,u=[];return n=e.container(),r=e.offset(),pu(n)?o=function(t,e){for(;(t=t.previousSibling)&&pu(t);)e+=t.data.length;return e}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(wu(n)),a=function(t,e,n){var r=[];for(e=e.parentNode;e!==t&&(!n||!n(e));e=e.parentNode)r.push(e);return r}(t,n),a=Cn.filter(a,c(Ne.isBogus)),(u=u.concat(Cn.map(a,(function(t){return wu(t)})))).reverse().join("/")+","+o},Cu=function(t,e){var n,r,o;return e?(n=e.split(","),e=n[0].split("/"),o=n.length>1?n[1]:"before",(r=Cn.reduce(e,(function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),function(t,e,n){var r=bu(t);return r=Cn.filter(r,(function(t,e){return!pu(t)||!pu(r[e-1])})),(r=Cn.filter(r,Ne.matchNodeNames([e])))[n]}(t,e[1],parseInt(e[2],10))):null}),t))?pu(r)?function(t,e){for(var n,r=t,o=0;pu(r);){if(n=r.data.length,e>=o&&e<=o+n){t=r,e-=o;break}if(!pu(r.nextSibling)){t=r,e=n;break}o+=n,r=r.nextSibling}return pu(t)&&e>t.data.length&&(e=t.data.length),hu(t,e)}(r,parseInt(o,10)):(o="after"===o?gu(r)+1:gu(r),hu(r.parentNode,o)):null):null},_u=function(t,e){Ne.isText(e)&&0===e.data.length&&t.remove(e)},Su=function(t,e,n){Ne.isDocumentFragment(n)?function(t,e,n){var r=p.from(n.firstChild),o=p.from(n.lastChild);e.insertNode(n),r.each((function(e){return _u(t,e.previousSibling)})),o.each((function(e){return _u(t,e.nextSibling)}))}(t,e,n):function(t,e,n){e.insertNode(n),_u(t,n.previousSibling),_u(t,n.nextSibling)}(t,e,n)},ku=Ne.isContentEditableFalse,Ou=function(t,e,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],c=[],s=0,l=t.getRoot();for(Ne.isText(a)?c.push(n?function(t,e,n){var r,o;for(o=t(e.data.slice(0,n)).length,r=e.previousSibling;r&&Ne.isText(r);r=r.previousSibling)o+=t(r.data).length;return o}(e,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(s=1,u=Math.max(0,i.length-1)),c.push(t.nodeIndex(i[u],n)+s));a&&a!==l;a=a.parentNode)c.push(t.nodeIndex(a,n));return c},Tu=function(t,e,n){var r=0;return Tn.each(t.select(e),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void r++})),r},Eu=function(t,e){var n,r,o,i=e?"start":"end";n=t[i+"Container"],r=t[i+"Offset"],Ne.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(e?r:r-1,o.length-1)])&&(r=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,r))},Au=function(t){return Eu(t,!0),Eu(t,!1),t},Du=function(t,e){var n;if(Ne.isElement(t)&&(t=Ha(t,e),ku(t)))return t;if(ha(t)){if(Ne.isText(t)&&fa(t)&&(t=t.parentNode),n=t.previousSibling,ku(n))return n;if(n=t.nextSibling,ku(n))return n}},Nu=function(t,e,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(ku(r)||"IMG"===o)return{name:o,index:Tu(n.dom,o,r)};var a=function(t){return Du(t.startContainer,t.startOffset)||Du(t.endContainer,t.endOffset)}(i);return a?{name:o=a.tagName,index:Tu(n.dom,o,a)}:function(t,e,n,r){var o=e.dom,i={};return i.start=Ou(o,t,n,r,!0),e.isCollapsed()||(i.end=Ou(o,t,n,r,!1)),i}(t,n,e,i)},Mu=function(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)},Ru=function(t,e){var n=t.dom,r=t.getRng(),o=n.uniqueId(),i=t.isCollapsed(),a=t.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:Tu(n,u,a)};var c=Au(r.cloneRange());if(!i){c.collapse(!1);var s=Mu(n,o+"_end",e);Su(n,c,s)}(r=Au(r)).collapse(!0);var l=Mu(n,o+"_start",e);return Su(n,r,l),t.moveToBookmark({id:o,keep:1}),{id:o}},Pu={getBookmark:function(t,e,n){return 2===e?Nu(ca.trim,n,t):3===e?function(t){var e=t.getRng();return{start:xu(t.dom.getRoot(),hu.fromRangeStart(e)),end:xu(t.dom.getRoot(),hu.fromRangeEnd(e))}}(t):e?function(t){return{rng:t.getRng()}}(t):Ru(t,!1)},getUndoBookmark:u(Nu,a,!0),getPersistentBookmark:Ru},Bu=function(t,e,n){void 0===n&&(n=s);var r=new hi(t,e),o=function(t){var e;do{e=r[t]()}while(e&&!Ne.isText(e)&&!n(e));return p.from(e).filter(Ne.isText)};return{current:function(){return p.from(r.current()).filter(Ne.isText)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},zu=function(t,e){var n=e||function(e){return t.isBlock(e)||Ne.isBr(e)||Ne.isContentEditableFalse(e)},r=function(t,e,n,o){if(Ne.isText(t)){var i=o(t,e,t.data);if(-1!==i)return p.some({container:t,offset:i})}return n().bind((function(t){return r(t.container,t.offset,n,o)}))};return{backwards:function(t,e,o,i){var a=Bu(t,i,n);return r(t,e,(function(){return a.prev().map((function(t){return{container:t,offset:t.length}}))}),o).getOrNull()},forwards:function(t,e,o,i){var a=Bu(t,i,n);return r(t,e,(function(){return a.next().map((function(t){return{container:t,offset:0}}))}),o).getOrNull()}}},Iu=function(t){return Ne.isElement(t)&&"_mce_caret"===t.id},Lu=function(t,e){for(;e&&e!==t;){if("_mce_caret"===e.id)return e;e=e.parentNode}return null},Fu=Ne.isElement,Hu=Ne.isText,ju=function(t){var e=t.parentNode;e&&e.removeChild(t)},Vu=function(t,e){0===e.length?ju(t):t.nodeValue=e},$u=function(t){var e=ca.trim(t);return{count:t.length-e.length,text:e}},Uu=function(t,e){return Xu(t),e},Wu=function(t,e){var n=e.container(),r=function(t,e){var n=O(t,e);return-1===n?p.none():p.some(n)}(V(n.childNodes),t).map((function(t){return t<e.offset()?hu(n,e.offset()-1):e})).getOr(e);return Xu(t),r},qu=function(t,e){return Hu(t)&&e.container()===t?function(t,e){var n=$u(t.data.substr(0,e.offset())),r=$u(t.data.substr(e.offset())),o=n.text+r.text;return o.length>0?(Vu(t,o),hu(t,e.offset()-n.count)):e}(t,e):Uu(t,e)},Xu=function(t){if(Fu(t)&&ha(t)&&(pa(t)?t.removeAttribute("data-mce-caret"):ju(t)),Hu(t)){var e=ca.trim(function(t){try{return t.nodeValue}catch(t){return""}}(t));Vu(t,e)}},Gu={removeAndReposition:function(t,e){return hu.isTextPosition(e)?qu(t,e):function(t,e){return e.container()===t.parentNode?Wu(t,e):Uu(t,e)}(t,e)},remove:Xu},Yu=Ci.DOM,Ku=function(t,e,n){var r=t.getParam(e,n);if(-1!==r.indexOf("=")){var o=t.getParam(e,"","hash");return o.hasOwnProperty(t.id)?o[t.id]:n}return r},Ju=function(t){return t.getParam("iframe_attrs",{})},Zu=function(t){return t.getParam("doctype","<!DOCTYPE html>")},Qu=function(t){return t.getParam("document_base_url","")},tc=function(t){return Ku(t,"body_id","tinymce")},ec=function(t){return Ku(t,"body_class","")},nc=function(t){return t.getParam("content_security_policy","")},rc=function(t){return t.getParam("br_in_pre",!0)},oc=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},ic=function(t){return t.getParam("forced_root_block_attrs",{})},ac=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},uc=function(t){return t.getParam("no_newline_selector","")},cc=function(t){return t.getParam("keep_styles",!0)},sc=function(t){return t.getParam("end_container_on_empty_block",!1)},lc=function(t){return Tn.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},fc=function(t){return Tn.explode(t.getParam("font_size_classes",""))},dc=function(t){return t.getParam("icons","","string")},hc=function(t){return t.getParam("icons_url","","string")},pc=function(t){return t.getParam("images_dataimg_filter",i(!0),"function")},mc=function(t){return t.getParam("automatic_uploads",!0,"boolean")},gc=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},vc=function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},bc=function(t){return t.getParam("images_upload_url","","string")},yc=function(t){return t.getParam("images_upload_base_path","","string")},wc=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},xc=function(t){return t.getParam("images_upload_handler",null,"function")},Cc=function(t){return t.getParam("content_css_cors",!1,"boolean")},_c=function(t){return t.getParam("referrer_policy","","string")},Sc=function(t){return t.getParam("language","en","string")},kc=function(t){return t.getParam("language_url","","string")},Oc=function(t){return t.getParam("indent_use_margin",!1)},Tc=function(t){return t.getParam("indentation","40px","string")},Ec=function(t){var e=t.settings.content_css;return g(e)?A(e.split(","),gt):b(e)?e:!1===e||t.inline?[]:["default"]},Ac=function(t){return t.getParam("directionality",Di.isRtl()?"rtl":void 0)},Dc=function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Nc=function(t){return t.getParam("object_resizing")},Mc=function(t){return t.getParam("resize_img_proportional",!0,"boolean")},Rc=function(t){return t.getParam("placeholder",Yu.getAttrib(t.getElement(),"placeholder"),"string")},Pc=kt().browser,Bc=Ne.isContentEditableFalse,zc=function(t,e,n){var r,o,i,a,u,c=Pa(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(r=t.ownerDocument.documentElement,o=t.scrollLeft||r.scrollLeft,i=t.scrollTop||r.scrollTop):(u=t.getBoundingClientRect(),o=t.scrollLeft-u.left,i=t.scrollTop-u.top),c.left+=o,c.right+=o,c.top+=i,c.bottom+=i,c.width=1,(a=e.offsetWidth-e.clientWidth)>0&&(n&&(a*=-1),c.left+=a,c.right+=a),c},Ic=function(t,e,n,r){var o,i,a=et(p.none()),u=oc(t),c=u.length>0?u:"p",s=function(){!function(t){var e,n,r,o,i;for(e=di("*[contentEditable=false]",t),o=0;o<e.length;o++)r=(n=e[o]).previousSibling,ya(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,ba(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(e),i&&(Gu.remove(i),i=null),a.get().each((function(t){di(t.caret).remove(),a.set(p.none())})),sn.clearInterval(o)},l=function(){o=sn.setInterval((function(){r()?di("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):di("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")}),500)};return{show:function(t,r){var o,u,f;if(s(),f=r,Ne.isElement(f)&&/^(TD|TH)$/i.test(f.tagName))return null;if(!n(r))return i=function(t,e){var n,r,o;if(r=t.ownerDocument.createTextNode(ca.ZWSP),o=t.parentNode,e){if(n=t.previousSibling,la(n)){if(ha(n))return n;if(ya(n))return n.splitText(n.data.length-1)}o.insertBefore(r,t)}else{if(n=t.nextSibling,la(n)){if(ha(n))return n;if(ba(n))return n.splitText(1),n}t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r)}return r}(r,t),u=r.ownerDocument.createRange(),Bc(i.nextSibling)?(u.setStart(i,0),u.setEnd(i,0)):(u.setStart(i,1),u.setEnd(i,1)),u;i=va(c,r,t),o=zc(e,r,t),di(i).css("top",o.top);var d=di('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(e)[0];return a.set(p.some({caret:d,element:r,before:t})),a.get().each((function(e){t&&di(e.caret).addClass("mce-visual-caret-before")})),l(),(u=r.ownerDocument.createRange()).setStart(i,0),u.setEnd(i,0),u},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each((function(t){var n=zc(e,t.element,t.before);di(t.caret).css(Z({},n))}))},destroy:function(){return sn.clearInterval(o)}}},Lc=function(){return Pc.isIE()||Pc.isEdge()||Pc.isFirefox()},Fc=function(t){return Bc(t)||Ne.isTable(t)&&Lc()},Hc=Ne.isContentEditableFalse,jc=Ne.matchStyleValues("display","block table table-cell table-caption list-item"),Vc=ha,$c=fa,Uc=Ne.isElement,Wc=Aa,qc=function(t){return t>0},Xc=function(t){return t<0},Gc=function(t,e){for(var n;n=t(e);)if(!$c(n))return n;return null},Yc=function(t,e,n,r,o){var i=new hi(t,r);if(Xc(e)){if((Hc(t)||$c(t))&&n(t=Gc(i.prev,!0)))return t;for(;t=Gc(i.prev,o);)if(n(t))return t}if(qc(e)){if((Hc(t)||$c(t))&&n(t=Gc(i.next,!0)))return t;for(;t=Gc(i.next,o);)if(n(t))return t}return null},Kc=function(t,e){for(;t&&t!==e;){if(jc(t))return t;t=t.parentNode}return null},Jc=function(t,e,n){return Kc(t.container(),n)===Kc(e.container(),n)},Zc=function(t,e){var n,r;return e?(n=e.container(),r=e.offset(),Uc(n)?n.childNodes[r+t]:null):null},Qc=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},ts=function(t,e,n){return Kc(e,t)===Kc(n,t)},es=function(t,e,n){var r,o;for(o=t?"previousSibling":"nextSibling";n&&n!==e;){if(r=n[o],Vc(r)&&(r=r[o]),Hc(r)){if(ts(e,r,n))return r;break}if(Wc(r))break;n=n.parentNode}return null},ns=u(Qc,!0),rs=u(Qc,!1),os=function(t,e,n){var r,o,i,a,c=u(es,!0,e),s=u(es,!1,e);if(o=n.startContainer,i=n.startOffset,fa(o)){if(Uc(o)||(o=o.parentNode),"before"===(a=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,Fc(r)))return ns(r);if("after"===a&&(r=o.previousSibling,Fc(r)))return rs(r)}if(!n.collapsed)return n;if(Ne.isText(o)){if(Vc(o)){if(1===t){if(r=s(o))return ns(r);if(r=c(o))return rs(r)}if(-1===t){if(r=c(o))return rs(r);if(r=s(o))return ns(r)}return n}if(ya(o)&&i>=o.data.length-1)return 1===t&&(r=s(o))?ns(r):n;if(ba(o)&&i<=1)return-1===t&&(r=c(o))?rs(r):n;if(i===o.data.length)return(r=s(o))?ns(r):n;if(0===i)return(r=c(o))?rs(r):n}return n},is=function(t,e){return p.from(Zc(t?0:-1,e)).filter(Hc)},as=function(t,e,n){var r=os(t,e,n);return-1===t?fu.fromRangeStart(r):fu.fromRangeEnd(r)},us=function(t){return p.from(t.getNode()).map(tt.fromDom)},cs=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},ss=function(t,e){var n=Jc(t,e);return!(n||!Ne.isBr(t.getNode()))||n};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(du||(du={}));var ls,fs=Ne.isContentEditableFalse,ds=Ne.isText,hs=Ne.isElement,ps=Ne.isBr,ms=Aa,gs=function(t){return Oa(t)||function(t){return!!Da(t)&&!0!==R(V(t.getElementsByTagName("*")),(function(t,e){return t||xa(e)}),!1)}(t)},vs=Na,bs=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},ys=function(t,e){if(qc(t)){if(ms(e.previousSibling)&&!ds(e.previousSibling))return hu.before(e);if(ds(e))return hu(e,0)}if(Xc(t)){if(ms(e.nextSibling)&&!ds(e.nextSibling))return hu.after(e);if(ds(e))return hu(e,e.data.length)}return Xc(t)?ps(e)?hu.before(e):hu.after(e):hu.before(e)},ws=function(t,e,n){var r,o,a,u,c;if(!hs(n)||!e)return null;if(e.isEqual(hu.after(n))&&n.lastChild){if(c=hu.after(n.lastChild),Xc(t)&&ms(n.lastChild)&&hs(n.lastChild))return ps(n.lastChild)?hu.before(n.lastChild):c}else c=e;var s=c.container(),l=c.offset();if(ds(s)){if(Xc(t)&&l>0)return hu(s,--l);if(qc(t)&&l<s.length)return hu(s,++l);r=s}else{if(Xc(t)&&l>0&&(o=bs(s,l-1),ms(o)))return!gs(o)&&(a=Yc(o,t,vs,o))?ds(a)?hu(a,a.data.length):hu.after(a):ds(o)?hu(o,o.data.length):hu.before(o);if(qc(t)&&l<s.childNodes.length&&(o=bs(s,l),ms(o)))return ps(o)?function(t,e){var n=e.nextSibling;return n&&ms(n)?ds(n)?hu(n,0):hu.before(n):ws(du.Forwards,hu.after(e),t)}(n,o):!gs(o)&&(a=Yc(o,t,vs,o))?ds(a)?hu(a,0):hu.before(a):ds(o)?hu(o,0):hu.after(o);r=o||c.getNode()}return(qc(t)&&c.isAtEnd()||Xc(t)&&c.isAtStart())&&(r=Yc(r,t,i(!0),n,!0),vs(r,n))?ys(t,r):(o=Yc(r,t,vs,n),!(u=Cn.last(N(function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n}(s,n),fs)))||o&&u.contains(o)?o?ys(t,o):null:c=qc(t)?hu.after(u):hu.before(u))},xs=function(t){return{next:function(e){return ws(du.Forwards,e,t)},prev:function(e){return ws(du.Backwards,e,t)}}},Cs=function(t){return hu.isTextPosition(t)?0===t.offset():Aa(t.getNode())},_s=function(t){if(hu.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return Aa(t.getNode(!0))},Ss=function(t,e){return!hu.isTextPosition(t)&&!hu.isTextPosition(e)&&t.getNode()===e.getNode(!0)},ks=function(t,e,n){return t?!Ss(e,n)&&(r=e,!(!hu.isTextPosition(r)&&Ne.isBr(r.getNode())))&&_s(e)&&Cs(n):!Ss(n,e)&&Cs(e)&&_s(n);var r},Os=function(t,e,n){var r=xs(e);return p.from(t?r.next(n):r.prev(n))},Ts=function(t,e,n){return Os(t,e,n).bind((function(r){return Jc(n,r,e)&&ks(t,n,r)?Os(t,e,r):p.some(r)}))},Es=function(t,e,n,r){return Ts(t,e,n).bind((function(n){return r(n)?Es(t,e,n,r):p.some(n)}))},As=function(t,e){var n,r=t?e.firstChild:e.lastChild;return Ne.isText(r)?p.some(hu(r,t?0:r.data.length)):r?Aa(r)?p.some(t?hu.before(r):(n=r,Ne.isBr(n)?hu.before(n):hu.after(n))):function(t,e,n){var r=t?hu.before(n):hu.after(n);return Os(t,e,r)}(t,e,r):p.none()},Ds=u(Os,!0),Ns=u(Os,!1),Ms={fromPosition:Os,nextPosition:Ds,prevPosition:Ns,navigate:Ts,navigateIgnore:Es,positionIn:As,firstPositionIn:u(As,!0),lastPositionIn:u(As,!1)},Rs=function(t,e){return Ne.isElement(e)&&t.isBlock(e)&&!e.innerHTML&&!bn.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},Ps=function(t,e){return Ms.lastPositionIn(t).fold((function(){return!1}),(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},Bs=function(t,e,n){return!(!function(t){return!1===t.hasChildNodes()}(e)||!Lu(t,e))&&(function(t,e){var n=t.ownerDocument.createTextNode(ca.ZWSP);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)}(e,n),!0)},zs=function(t,e,n,r){var o,i,a,u,c=n[e?"start":"end"],s=t.getRoot();if(c){for(a=c[0],i=s,o=c.length-1;o>=1;o--){if(u=i.childNodes,Bs(s,i,r))return!0;if(c[o]>u.length-1)return!!Bs(s,i,r)||Ps(i,r);i=u[c[o]]}3===i.nodeType&&(a=Math.min(c[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(c[0],i.childNodes.length)),e?r.setStart(i,a):r.setEnd(i,a)}return!0},Is=function(t){return Ne.isText(t)&&t.data.length>0},Ls=function(t,e,n){var r,o,i,a,u,c,s=t.get(n.id+"_"+e),l=n.keep;if(s){if(r=s.parentNode,"start"===e?(l?s.hasChildNodes()?(r=s.firstChild,o=1):Is(s.nextSibling)?(r=s.nextSibling,o=0):Is(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=t.nodeIndex(s)+1):o=t.nodeIndex(s),u=r,c=o):(l?s.hasChildNodes()?(r=s.firstChild,o=1):Is(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=t.nodeIndex(s)):o=t.nodeIndex(s),u=r,c=o),!l){for(a=s.previousSibling,i=s.nextSibling,Tn.each(Tn.grep(s.childNodes),(function(t){Ne.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));s=t.get(n.id+"_"+e);)t.remove(s,!0);a&&i&&a.nodeType===i.nodeType&&Ne.isText(a)&&!bn.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),t.remove(i),u=a,c=o)}return p.some(hu(u,c))}return p.none()},Fs=function(t,e){var n=t.dom;if(e){if(function(t){return Tn.isArray(t.start)}(e))return function(t,e){var n=t.createRng();return zs(t,!0,e,n)&&zs(t,!1,e,n)?p.some(n):p.none()}(n,e);if(function(t){return"string"==typeof t.start}(e))return p.some(function(t,e){var n,r;return n=t.createRng(),r=Cu(t.getRoot(),e.start),n.setStart(r.container(),r.offset()),r=Cu(t.getRoot(),e.end),n.setEnd(r.container(),r.offset()),n}(n,e));if(function(t){return t.hasOwnProperty("id")}(e))return function(t,e){var n=Ls(t,"start",e),r=Ls(t,"end",e);return $a(n,r.or(n),(function(e,n){var r=t.createRng();return r.setStart(Rs(t,e.container()),e.offset()),r.setEnd(Rs(t,n.container()),n.offset()),r}))}(n,e);if(function(t){return t.hasOwnProperty("name")}(e))return function(t,e){return p.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),n}))}(n,e);if(function(t){return t.hasOwnProperty("rng")}(e))return p.some(e.rng)}return p.none()},Hs=function(t,e,n){return Pu.getBookmark(t,e,n)},js=function(t,e){Fs(t,e).each((function(e){t.setRng(e)}))},Vs=function(t){return Ne.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},$s=(ls="",function(t){return ls===t}),Us=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},Ws=function(t){return!Us(t)&&!$s(t)},qs=function(t){return!!t.nodeType},Xs=function(t,e,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!function(t){return t&&/^(IMG)$/.test(t.nodeName)}(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(a<(i=u.childNodes).length?(u=i[a],r=new hi(u,t.getParent(u,t.isBlock))):(u=i[i.length-1],(r=new hi(u,t.getParent(u,t.isBlock))).next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!Js(o))return n.setStart(o,0),void e.setRng(n)},Gs=function(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(1===t.nodeType||!Js(t))return t}},Ys=function(t,e){return qs(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},Ks=function(t,e,n){return t.schema.isValidChild(e,n)},Js=function(t){return t&&Ne.isText(t)&&/^([\t \r\n]+|)$/.test(t.nodeValue)},Zs=function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t},Qs=function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},tl=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},el=function(t,e,n){return tl(t,t.getStyle(e,n),n)},nl=function(t,e){var n;return t.getParent(e,(function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n})),n},rl=function(t,e,n){return t.getParents(e,n,t.getRoot())},ol=Vs,il=rl,al=Js,ul=Ys,cl=function(t,e){for(var n=e;n;){if(Ne.isElement(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},sl=function(t,e,n,r){for(var o=e.data,i=n;t?i>=0:i<o.length;t?i--:i++)if(r(o.charAt(i)))return t?i+1:i;return-1},ll=function(t,e,n){return sl(t,e,n,(function(t){return $s(t)||Us(t)}))},fl=function(t,e,n){return sl(t,e,n,Ws)},dl=function(t,e,n,r,o,i){var a,u=t.getParent(n,t.isBlock)||e,c=function(e,n,r){var i=zu(t),c=o?i.backwards:i.forwards;return p.from(c(e,n,(function(t,e){return ol(t.parentNode)?-1:(a=t,r(o,t,e))}),u))};return c(n,r,ll).bind((function(t){return i?c(t.container,t.offset+(o?-1:0),fl):p.some(t)})).orThunk((function(){return a?p.some({container:a,offset:o?0:a.length}):p.none()}))},hl=function(t,e,n,r,o){Ne.isText(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=il(t,r),a=0;a<i.length;a++)for(var u=0;u<e.length;u++){var c=e[u];if(!("collapsed"in c&&c.collapsed!==n.collapsed)&&t.is(i[a],c.selector))return i[a]}return r},pl=function(t,e,n,r){var o,i=t.dom,a=i.getRoot();if(e[0].wrapper||(o=i.getParent(n,e[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(Ne.isText(n)?n.parentNode:n,(function(e){return e!==a&&ul(t,e)}),u)}if(o&&e[0].wrapper&&(o=il(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!Qs(o,"br")););return o||n},ml=function(t,e,n,r,o,i,a){var u,c,s,l,f,d;if(u=c=a?n:o,l=a?"previousSibling":"nextSibling",f=t.getRoot(),Ne.isText(u)&&!al(u)&&(a?r>0:i<u.nodeValue.length))return u;for(;;){if(!e[0].block_expand&&t.isBlock(c))return c;for(s=c[l];s;s=s[l])if(!ol(s)&&!al(s)&&("BR"!==(d=s).nodeName||!d.getAttribute("data-mce-bogus")||d.nextSibling))return c;if(c===f||c.parentNode===f){u=c;break}c=c.parentNode}return u},gl=function(t,e,n,r){void 0===r&&(r=!1);var o=e.startContainer,i=e.startOffset,a=e.endContainer,u=e.endOffset,c=t.dom;(Ne.isElement(o)&&o.hasChildNodes()&&(o=Ha(o,i),Ne.isText(o)&&(i=0)),Ne.isElement(a)&&a.hasChildNodes()&&(a=Ha(a,e.collapsed?u:u-1),Ne.isText(a)&&(u=a.nodeValue.length)),o=cl(c,o),a=cl(c,a),(ol(o.parentNode)||ol(o))&&(o=ol(o)?o:o.parentNode,o=e.collapsed?o.previousSibling||o:o.nextSibling||o,Ne.isText(o)&&(i=e.collapsed?o.length:0)),(ol(a.parentNode)||ol(a))&&(a=ol(a)?a:a.parentNode,a=e.collapsed?a.nextSibling||a:a.previousSibling||a,Ne.isText(a)&&(u=e.collapsed?0:a.length)),e.collapsed)&&(dl(c,t.getBody(),o,i,!0,r).each((function(t){var e=t.container,n=t.offset;o=e,i=n})),dl(c,t.getBody(),a,u,!1,r).each((function(t){var e=t.container,n=t.offset;a=e,u=n})));return(n[0].inline||n[0].block_expand)&&(n[0].inline&&Ne.isText(o)&&0!==i||(o=ml(c,n,o,i,a,u,!0)),n[0].inline&&Ne.isText(a)&&u!==a.nodeValue.length||(a=ml(c,n,o,i,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=hl(c,n,e,o,"previousSibling"),a=hl(c,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=pl(t,n,o,"previousSibling"),a=pl(t,n,a,"nextSibling"),n[0].block&&(c.isBlock(o)||(o=ml(c,n,o,i,a,u,!0)),c.isBlock(a)||(a=ml(c,n,o,i,a,u,!1)))),Ne.isElement(o)&&(i=c.nodeIndex(o),o=o.parentNode),Ne.isElement(a)&&(u=c.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},vl=Tn.each,bl=function(t,e,n){var r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset,u=t.select("td[data-mce-selected],th[data-mce-selected]");if(u.length>0)vl(u,(function(t){n([t])}));else{var c,s,l,f=function(t){var e;return 3===(e=t[0]).nodeType&&e===r&&o>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===a&&t.length>0&&e===i&&3===e.nodeType&&t.splice(t.length-1,1),t},d=function(t,e,n){for(var r=[];t&&t!==n;t=t[e])r.push(t);return r},h=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},p=function(t,e,r){for(var o=r?"nextSibling":"previousSibling",i=t,a=i.parentNode;i&&i!==e;i=a){a=i.parentNode;var u=d(i===t?i:i[o],o);u.length&&(r||u.reverse(),n(f(u)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=r.childNodes[o]),1===i.nodeType&&i.hasChildNodes()&&(s=a,l=(c=i).childNodes,--s>l.length-1?s=l.length-1:s<0&&(s=0),i=l[s]||c),r===i)return n(f([r]));for(var m=t.findCommonAncestor(r,i),g=r;g;g=g.parentNode){if(g===i)return p(r,m,!0);if(g===m)break}for(g=i;g;g=g.parentNode){if(g===r)return p(i,m);if(g===m)break}var v=h(r,m)||r,b=h(i,m)||i;p(r,v,!0);var y=d(v===r?v:v.nextSibling,"nextSibling",b===i?b.nextSibling:b);y.length&&n(f(y)),p(i,b)}};var yl=function(t,e){var n=function(e){return t(e)?p.from(e.dom().nodeValue):p.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r}}}(ue,"text"),wl=function(t){return yl.get(t)},xl=function(t,e,n,r){return jt(e).fold((function(){return"skipping"}),(function(o){return"br"===r||function(t){return ue(t)&&"\ufeff"===wl(t)}(e)?"valid":function(t){return ae(t)&&ji(t,Ki())}(e)?"existing":Iu(e)?"caret":Ks(t,n,r)&&Ks(t,oe(o),n)?"valid":"invalid-child"}))},Cl=function(t,e,n,r){var o,i,a=e.uid,u=void 0===a?(o="mce-annotation",i=(new Date).getTime(),o+"_"+Math.floor(1e9*Math.random())+ ++ra+String(i)):a,c=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(e,["uid"]),s=tt.fromTag("span",t);Fi(s,Ki()),Pe(s,""+Zi(),u),Pe(s,""+Ji(),n);var l=r(u,c),f=l.attributes,d=void 0===f?{}:f,h=l.classes,p=void 0===h?[]:h;return Be(s,d),function(t,e){D(e,(function(e){Fi(t,e)}))}(s,p),s},_l=function(t,e,n,r,o){var i=[],a=Cl(t.getDoc(),o,n,r),u=et(p.none()),c=function(){u.set(p.none())},s=function(t){D(t,l)},l=function(e){switch(xl(t,e,"span",oe(e))){case"invalid-child":c();var n=qt(e);s(n),c();break;case"valid":!function(t,e){Kt(t,e),Qt(e,t)}(e,u.get().getOrThunk((function(){var t=aa(a);return i.push(t),u.set(p.some(t)),t})))}};return bl(t.dom,e,(function(t){c(),function(t){var e=A(t,tt.fromDom);s(e)}(t)})),i},Sl=function(t,e,n,r){t.undoManager.transact((function(){var o=t.selection.getRng();if(o.collapsed&&function(t,e){var n=gl(t,e,[{inline:!0}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)}(t,o),t.selection.getRng().collapsed){var i=Cl(t.getDoc(),r,e,n.decorate);oa(i,""),t.selection.getRng().insertNode(i.dom()),t.selection.select(i.dom())}else{var a=Pu.getPersistentBookmark(t.selection,!1),u=t.selection.getRng();_l(t,u,e,n.decorate,r),t.selection.moveToBookmark(a)}}))},kl=function(t){var e,n=(e={},{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return e.hasOwnProperty(t)?p.from(e[t]).map((function(t){return t.settings})):p.none()}});na(t,n);var r=ea(t);return{register:function(t,e){n.register(t,e)},annotate:function(e,r){n.lookup(e).each((function(n){Sl(t,e,n,r)}))},annotationChanged:function(t,e){r.addListener(t,e)},remove:function(e){Qi(t,p.some(e)).each((function(t){var e=t.elements;D(e,re)}))},getAll:function(e){var n=function(t,e){var n=tt.fromDom(t.getBody()),r=$i(n,"["+Ji()+'="'+e+'"]'),o={};return D(r,(function(t){var e=ze(t,Zi()),n=o.hasOwnProperty(e)?o[e]:[];o[e]=n.concat([t])})),o}(t,e);return q(n,(function(t){return A(t,(function(t){return t.dom()}))}))}}},Ol=/^[ \t\r\n]*$/,Tl={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},El=function(t,e,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[r])return t[r];if(t!==e){var i=t[o];if(i)return i;for(var a=t.parent;a&&a!==e;a=a.parent)if(i=a[o])return i}},Al=function(t){if(!Ol.test(t.value))return!1;var e=t.parent;return!e||"span"===e.name&&!e.attr("style")||!/^[ ]+$/.test(t.value)},Dl=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var r=new t(e,Tl[e]||1);if(n)for(var o in n)r.attr(o,n[o]);return r},t.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},t.prototype.attr=function(t,e){var n;if("string"!=typeof t){for(var r in t)this.attr(r,t[r]);return this}if(n=this.attributes){if(void 0!==e){if(null===e){if(t in n.map){delete n.map[t];for(var o=n.length;o--;)if(n[o].name===t)return n.splice(o,1),this}return this}if(t in n.map){for(o=n.length;o--;)if(n[o].name===t){n[o].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,this}return n.map[t]}},t.prototype.clone=function(){var e,n=new t(this.name,this.type);if(e=this.attributes){var r=[];r.map={};for(var o=0,i=e.length;o<i;o++){var a=e[o];"id"!==a.name&&(r[r.length]={name:a.name,value:a.value},r.map[a.name]=a.value)}n.attributes=r}return n.value=this.value,n.shortEnded=this.shortEnded,n},t.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},t.prototype.unwrap=function(){for(var t=this.firstChild;t;){var e=t.next;this.insert(t,this,!0),t=e}this.remove()},t.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e,e&&(e.prev=null)):n.next=e,t.lastChild===this?(t.lastChild=n,n&&(n.next=null)):e.prev=n,this.parent=this.next=this.prev=null),this},t.prototype.append=function(t){t.parent&&t.remove();var e=this.lastChild;return e?(e.next=t,t.prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},t.prototype.insert=function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===r.lastChild?r.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=r,t},t.prototype.getAll=function(t){for(var e=[],n=this.firstChild;n;n=El(n,this))n.name===t&&e.push(n);return e},t.prototype.empty=function(){if(this.firstChild){for(var t=[],e=this.firstChild;e;e=El(e,this))t.push(e);for(var n=t.length;n--;){(e=t[n]).parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return this.firstChild=this.lastChild=null,this},t.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var r=this.firstChild;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(t[r.name])return!1;for(var o=r.attributes.length;o--;){var i=r.attributes[o].name;if("name"===i||0===i.indexOf("data-mce-bookmark"))return!1}}if(8===r.type)return!1;if(3===r.type&&!Al(r))return!1;if(3===r.type&&r.parent&&e[r.parent.name]&&Ol.test(r.value))return!1;if(n&&n(r))return!1}while(r=El(r,this));return!0},t.prototype.walk=function(t){return El(this,null,t)},t}(),Nl=function(t,e,n){var r,o,i,a,u=1;for(a=t.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;o=i.exec(e);){if(r=i.lastIndex,"/"===o[1])u--;else if(!o[1]){if(o[2]in a)continue;u++}if(0===u)break}return r},Ml=function(t,e){var n=t.exec(e);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};function Rl(t,e){void 0===e&&(e=hr());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var r=t.comment?t.comment:n,o=t.cdata?t.cdata:n,i=t.text?t.text:n,a=t.start?t.start:n,u=t.end?t.end:n,c=t.pi?t.pi:n,s=t.doctype?t.doctype:n;return{parse:function(n,l){void 0===l&&(l="html");var f,d,h,p,m,g,v,b,y,w,x,C,_,S,k,O,T,E,A,D,N,M,R,P,B,z,I,L,F,H=0,j=[],V=0,$=rr.decode,U=Tn.makeMap("src,href,data,background,formaction,poster,xlink:href"),W=/((java|vb)script|mhtml):/i,q="html"===l?0:1,X=function(t){var e,n;for(e=j.length;e--&&j[e].name!==t;);if(e>=0){for(n=j.length-1;n>=e;n--)(t=j[n]).valid&&u(t.name);j.length=e}},G=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),t.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),r(e))},Y=function(t,e){var r=t||"",o=!mt(r,"--"),i=function(t,e,n){void 0===n&&(n=0);var r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))}(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(e){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var u=a.exec(t);return u?u.index+u[0].length:r.length}(n,o,e);return t=n.substr(e,i-e),G(o?r+t:t),i+1},K=function(e,n,r,o,i){var a,u;if(r=(n=n.toLowerCase())in x?n:$(r||o||i||""),_&&!b&&!1===function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")}(n)){if(!(a=E[n])&&A){for(u=A.length;u--&&!(a=A[u]).pattern.test(n););-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(U[n]&&!t.allow_script_urls){var c=r.replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch(t){c=unescape(c)}if(W.test(c))return;if(function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))}(t,c))return}b&&(n in U||0===n.indexOf("on"))||(p.map[n]=r,p.push({name:n,value:r}))};for(B=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),z=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,w=e.getShortEndedElements(),P=t.self_closing_elements||e.getSelfClosingElements(),x=e.getBoolAttrs(),_=t.validate,y=t.remove_internals,F=t.fix_self_closing,I=e.getSpecialElements(),R=n+">";f=B.exec(R);){var J=f[0];if(H<f.index&&i($(n.substr(H,f.index-H))),d=f[7])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),X(d);else if(d=f[8]){if(f.index+J.length>n.length){i($(n.substr(f.index))),H=f.index+J.length;continue}":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),C=d in w,F&&P[d]&&j.length>0&&j[j.length-1].name===d&&X(d);var Z=Ml(z,f[9]);if(null!==Z){if("all"===Z){H=Nl(e,n,B.lastIndex),B.lastIndex=H;continue}k=!1}if(!_||(S=e.getElementRule(d))){if(k=!0,_&&(E=S.attributes,A=S.attributePatterns),(T=f[9])?((b=-1!==T.indexOf("data-mce-type"))&&y&&(k=!1),(p=[]).map={},T.replace(z,K)):(p=[]).map={},_&&!b){if(D=S.attributesRequired,N=S.attributesDefault,M=S.attributesForced,S.removeEmptyAttrs&&!p.length&&(k=!1),M)for(m=M.length;m--;)v=(O=M[m]).name,"{$uid}"===(L=O.value)&&(L="mce_"+V++),p.map[v]=L,p.push({name:v,value:L});if(N)for(m=N.length;m--;)(v=(O=N[m]).name)in p.map||("{$uid}"===(L=O.value)&&(L="mce_"+V++),p.map[v]=L,p.push({name:v,value:L}));if(D){for(m=D.length;m--&&!(D[m]in p.map););-1===m&&(k=!1)}if(O=p.map["data-mce-bogus"]){if("all"===O){H=Nl(e,n,B.lastIndex),B.lastIndex=H;continue}k=!1}}k&&a(d,p,C)}else k=!1;if(h=I[d]){h.lastIndex=H=f.index+J.length,(f=h.exec(n))?(k&&(g=n.substr(H,f.index-H)),H=f.index+f[0].length):(g=n.substr(H),H=n.length),k&&(g.length>0&&i(g,!0),u(d)),B.lastIndex=H;continue}C||(T&&T.indexOf("/")===T.length-1?k&&u(d):j.push({name:d,valid:k}))}else if(d=f[1])G(d);else if(d=f[2]){if(!(1===q||t.preserve_cdata||j.length>0&&e.isValidChild(j[j.length-1].name,"#cdata"))){H=Y("",f.index+2),B.lastIndex=H;continue}o(d)}else if(d=f[3])s(d);else{if((d=f[4])||"<!"===J){H=Y(d,f.index+J.length),B.lastIndex=H;continue}if(d=f[5]){if(1!==q){H=Y("?",f.index+2),B.lastIndex=H;continue}c(d,f[6])}}H=f.index+J.length}for(H<n.length&&i($(n.substr(H))),m=j.length-1;m>=0;m--)(d=j[m]).valid&&u(d.name)}}}!function(t){t.findEndTag=Nl}(Rl||(Rl={}));var Pl,Bl,zl,Il=Rl,Ll=function(t,e){var n,r,o,i,a,u=e,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=t.schema;for(u=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),u),a=s.getShortEndedElements();i=c.exec(u);)r=c.lastIndex,o=i[0].length,n=a[i[1]]?r:Il.findEndTag(s,u,r),u=u.substring(0,r-o)+u.substring(n),c.lastIndex=r-o;return ca.trim(u)},Fl={trimExternal:Ll,trimInternal:Ll},Hl=function(t,e,n){var r;if(e.format=e.format?e.format:"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)r=Tn.trim(Fl.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)r=ca.trim(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);r=function(t,e){var n=oc(t),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(r,"")}(t,t.serializer.serialize(n,e))}return"text"===e.format||$n(tt.fromDom(n))?e.content=r:e.content=Tn.trim(r),e.no_events||t.fire("GetContent",e),e.content},jl=Tn.makeMap,Vl=function(t){var e,n,r,o,i,a=[];return e=(t=t||{}).indent,n=jl(t.indent_before||""),r=jl(t.indent_after||""),o=rr.getEncodeFunc(t.entity_encoding||"raw",t.entities),i="html"===t.element_format,{start:function(t,u,c){var s,l,f,d;if(e&&n[t]&&a.length>0&&(d=a[a.length-1]).length>0&&"\n"!==d&&a.push("\n"),a.push("<",t),u)for(s=0,l=u.length;s<l;s++)f=u[s],a.push(" ",f.name,'="',o(f.value,!0),'"');a[a.length]=!c||i?">":" />",c&&e&&r[t]&&a.length>0&&(d=a[a.length-1]).length>0&&"\n"!==d&&a.push("\n")},end:function(t){var n;a.push("</",t,">"),e&&r[t]&&a.length>0&&(n=a[a.length-1]).length>0&&"\n"!==n&&a.push("\n")},text:function(t,e){t.length>0&&(a[a.length]=e?t:o(t))},cdata:function(t){a.push("<![CDATA[",t,"]]>")},comment:function(t){a.push("\x3c!--",t,"--\x3e")},pi:function(t,n){n?a.push("<?",t," ",o(n),"?>"):a.push("<?",t,"?>"),e&&a.push("\n")},doctype:function(t){a.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},$l=function(t,e){void 0===e&&(e=hr());var n=Vl(t);(t=t||{}).validate=!("validate"in t)||t.validate;return{serialize:function(r){var o,i;i=t.validate,o={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{a(t)}while(t=t.next)}},n.reset();var a=function(t){var r,u,c,s,l,f,d,h,p,m=o[t.type];if(m)m(t);else{if(r=t.name,u=t.shortEnded,c=t.attributes,i&&c&&c.length>1&&((f=[]).map={},p=e.getElementRule(t.name))){for(d=0,h=p.attributesOrder.length;d<h;d++)(s=p.attributesOrder[d])in c.map&&(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));for(d=0,h=c.length;d<h;d++)(s=c[d].name)in f.map||(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));c=f}if(n.start(t.name,c,u),!u){if(t=t.firstChild)do{a(t)}while(t=t.next);n.end(r)}}};return 1!==r.type||t.inner?o[11](r):a(r),n.getContent()}}},Ul=function(t,e){e(t),t.firstChild&&Ul(t.firstChild,e),t.next&&Ul(t.next,e)},Wl=function(t,e,n){var r=function(t,e,n){var r={},o={},i=[];for(var a in n.firstChild&&Ul(n.firstChild,(function(n){D(t,(function(t){t.name===n.name&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})),D(e,(function(t){"string"==typeof n.attr(t.name)&&(o[t.name]?o[t.name].nodes.push(n):o[t.name]={filter:t,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var u in o)o.hasOwnProperty(u)&&i.push(o[u]);return i}(t,e,n);D(r,(function(t){D(t.filter.callbacks,(function(e){e(t.nodes,t.filter.name,{})}))}))},ql=function(t){var e=Ft(t).dom();return t.dom()===e.activeElement},Xl=function(t){var e=void 0!==t?t.dom():n.document;return p.from(e.activeElement).map(tt.fromDom)},Gl=function(t){if(!b(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],r={};return D(t,(function(o,i){var a=$(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],c=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!b(c))throw new Error("case arguments must be an array");e.push(u),r[u]=function(){var r=arguments.length;if(r!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var s=function(t){var n=$(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!I(e,(function(t){return T(n,t)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[u].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[i];return e.apply(null,o)},match:s,log:function(t){n.console.log(t,{constructors:e,constructor:u,params:o})}}}})),r},Yl={create:Ot("start","soffset","finish","foffset")},Kl=Gl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Jl=(Kl.before,Kl.on,Kl.after,function(t){return t.fold(a,a,a)}),Zl=Gl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ql={domRange:Zl.domRange,relative:Zl.relative,exact:Zl.exact,exactFromRange:function(t){return Zl.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return tt.fromDom(t.startContainer)},relative:function(t,e){return Jl(t)},exact:function(t,e,n,r){return t}})}(t);return Ht(e)},range:Yl.create},tf=kt().browser,ef=function(t,e){var n=ue(e)?wl(e).length:qt(e).length+1;return t>n?n:t<0?0:t},nf=function(t){return Ql.range(t.start(),ef(t.soffset(),t.start()),t.finish(),ef(t.foffset(),t.finish()))},rf=function(t,e){return!Ne.isRestrictedNode(e.dom())&&(Lt(t,e)||It(t,e))},of=function(t){return function(e){return rf(t,e.start())&&rf(t,e.finish())}},af=function(t){return!0===t.inline||tf.isIE()},uf=function(t){return Ql.range(tt.fromDom(t.startContainer),t.startOffset,tt.fromDom(t.endContainer),t.endOffset)},cf=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?p.from(e.getRangeAt(0)):p.none()).map(uf)},sf=function(t){var e=Ht(t);return cf(e.dom()).filter(of(t))},lf=function(t,e){return p.from(e).filter(of(t)).map(nf)},ff=function(t){var e=n.document.createRange();try{return e.setStart(t.start().dom(),t.soffset()),e.setEnd(t.finish().dom(),t.foffset()),p.some(e)}catch(t){return p.none()}},df=function(t){return(t.bookmark?t.bookmark:p.none()).bind((function(e){return lf(tt.fromDom(t.getBody()),e)})).bind(ff)},hf=function(t){var e=af(t)?sf(tt.fromDom(t.getBody())):p.none();t.bookmark=e.isSome()?e:t.bookmark},pf=function(t){df(t).each((function(e){t.selection.setRng(e)}))},mf=df,gf={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},vf=function(t,e){kt().browser.isIE()?function(t){t.on("focusout",(function(){hf(t)}))}(t):function(t,e){t.on("mouseup touchend",(function(t){e.throttle()}))}(t,e),t.on("keyup NodeChange",(function(e){(function(t){return"nodechange"===t.type&&t.selectionChange})(e)||hf(t)}))},bf=function(t){var e=Ri((function(){hf(t)}),0);t.on("init",(function(){t.inline&&function(t,e){var r=function(){e.throttle()};Ci.DOM.bind(n.document,"mouseup",r),t.on("remove",(function(){Ci.DOM.unbind(n.document,"mouseup",r)}))}(t,e),vf(t,e)})),t.on("remove",(function(){e.cancel()}))},yf=Ci.DOM,wf=function(t){return gf.isEditorUIElement(t)},xf=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==yf.getParent(e,(function(e){return wf(e)||!!n&&t.dom.is(e,n)}))},Cf=function(t,e){var r=e.editor;bf(r),r.on("focusin",(function(){var e=t.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),t.setActive(this),t.focusedEditor=this,this.fire("focus",{blurredEditor:e}),this.focus(!0))})),r.on("focusout",(function(){var e=this;sn.setEditorTimeout(e,(function(){var r=t.focusedEditor;xf(e,function(){try{return n.document.activeElement}catch(t){return n.document.body}}())||r!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),Pl||(Pl=function(e){var r,o=t.activeEditor;r=e.target,o&&r.ownerDocument===n.document&&(r===n.document.body||xf(o,r)||t.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},yf.bind(n.document,"focusin",Pl))},_f=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(yf.unbind(n.document,"focusin",Pl),Pl=null)},Sf=function(t){t.on("AddEditor",u(Cf,t)),t.on("RemoveEditor",u(_f,t))},kf=function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},Of=xf,Tf=function(t,e){return function(t){return t.collapsed?p.from(Ha(t.startContainer,t.startOffset)).map(tt.fromDom):p.none()}(e).bind((function(e){return jn(e)?p.some(e):!1===Lt(t,e)?p.some(t):p.none()}))},Ef=function(t,e){Tf(tt.fromDom(t.getBody()),e).bind((function(t){return Ms.firstPositionIn(t.dom())})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},Af=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Df=function(t){return ql(t)||(e=t,Xl(Ft(e)).filter((function(t){return e.dom().contains(t.dom())}))).isSome();var e},Nf=function(t){return t.inline?function(t){var e=t.getBody();return e&&Df(tt.fromDom(e))}(t):function(t){return t.iframeElement&&ql(tt.fromDom(t.iframeElement))}(t)},Mf=function(t){return t.editorManager.setActive(t)},Rf=function(t,e){t.removed||(e?Mf(t):function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===Nf(t)&&mf(t).each((function(e){t.selection.setRng(e),r=e}));var o=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))}(t,e.getNode());if(t.$.contains(n,o))return Af(o),Ef(t,r),void Mf(t);t.inline||(bn.opera||Af(n),t.getWin().focus()),(bn.gecko||t.inline)&&(Af(n),Ef(t,r)),Mf(t)}(t))},Pf=Nf,Bf=function(t){return Nf(t)||function(t){return Xl().filter((function(e){return!kf(e.dom())&&Of(t,e.dom())})).isSome()}(t)},zf=function(t){return t instanceof Dl},If=function(t,e){t.dom.setHTML(t.getBody(),e),function(t){Pf(t)&&Ms.firstPositionIn(t.getBody()).each((function(e){var n=e.getNode(),r=Ne.isTable(n)?Ms.firstPositionIn(n).getOr(e):e;t.selection.setRng(r.toRange())}))}(t)},Lf=function(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=zf(e)?"":e,zf(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),p.from(t.getBody()).fold(i(e),(function(r){return zf(e)?function(t,e,n,r){Wl(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var o=$l({validate:t.validate},t.schema).serialize(n);return r.content=$n(tt.fromDom(e))?o:Tn.trim(o),If(t,r.content),r.no_events||t.fire("SetContent",r),n}(t,r,e,n):function(t,e,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+i+"</li>"),(o=oc(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=t.dom.createHTML(o,t.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),If(t,n),t.fire("SetContent",r)):("raw"!==r.format&&(n=$l({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=$n(tt.fromDom(e))?n:Tn.trim(n),If(t,r.content),r.no_events||t.fire("SetContent",r)),r.content}(t,r,e,n)}))},Ff=Ci.DOM,Hf=function(t){return p.from(t).each((function(t){return t.destroy()}))},jf=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),o=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&Ff.remove(o.nextSibling),function(t){t.fire("remove")}(t),t.editorManager.remove(t),!t.inline&&r&&function(t){Ff.setStyle(t.id,"display",t.orgDisplay)}(t),function(t){t.fire("detach")}(t),Ff.remove(t.getContainer()),Hf(e),Hf(n),t.destroy()}},Vf=function(t,e){var n=t.selection,r=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Hf(n),Hf(r)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),Ff.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)}(t),t.destroyed=!0):t.remove())},$f=Object.prototype.hasOwnProperty,Uf=(Bl=function(t,e){return v(t)&&v(e)?Uf(t,e):e},function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<t.length;r++){var o=t[r];for(var i in o)$f.call(o,i)&&(n[i]=Bl(n[i],o[i]))}return n}),Wf=Ot("sections","settings"),qf=kt().deviceType,Xf=qf.isTouch(),Gf=qf.isPhone(),Yf=qf.isTablet(),Kf=["lists","autolink","autosave"],Jf={table_grid:!1,object_resizing:!1,resize:!1},Zf=function(t){var e=b(t)?t.join(" "):t,n=A(g(e)?e.split(" "):[],gt);return N(n,(function(t){return t.length>0}))},Qf=function(t,e){var n=Y(e,(function(e,n){return T(t,n)}));return Wf(n.t,n.f)},td=function(t,e){return t.sections().hasOwnProperty(e)},ed=function(t,e){return K(t,"toolbar_mode").orThunk((function(){return K(t,"toolbar_drawer").map((function(t){return!1===t?"wrap":t}))})).getOr(e)},nd=function(t,e){var n={resize:!1,toolbar_mode:ed(t,"scrolling"),toolbar_sticky:!1};return Z(Z(Z({},Jf),n),e?{menubar:!1}:{})},rd=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?Tn.extend({},t.external_plugins,n):n},od=function(t,e,n,r){var o=Zf(n.forced_plugins),i=Zf(r.plugins),a=function(t,e){return td(t,e)?t.sections()[e]:{}}(e,"mobile"),c=a.plugins?Zf(a.plugins):i,s=function(t,e){return[].concat(Zf(t)).concat(Zf(e))}(o,t&&function(t,e,n){var r=t.sections();return td(t,e)&&r[e].theme===n}(e,"mobile","mobile")?N(c,u(T,Kf)):t&&td(e,"mobile")?c:i);return Tn.extend(r,{plugins:s.join(" ")})},id=function(t,e,n,r,o){var i=t?{mobile:nd(o,e)}:{},a=Qf(["mobile"],Uf(i,o)),u=Tn.extend(n,r,a.settings(),function(t,e){return t&&td(e,"mobile")}(t,a)?function(t,e,n){void 0===n&&(n={});var r=t.sections(),o=r.hasOwnProperty(e)?r[e]:{};return Tn.extend({},n,o)}(a,"mobile"):{},{validate:!0,external_plugins:rd(r,a.settings())});return od(t,a,r,u)},ad=function(t,e,n,r,o){var i=function(t,e,n,r,o){var i={id:e,theme:"silver",toolbar_mode:ed(t,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Z(Z({},i),r?Jf:{})}(o,e,n,Xf,t);return id(Gf||Yf,Gf,i,r,o)},ud=function(t,e,n){return p.from(e.settings[n]).filter(t)},cd=function(t,e,n,r){var o,i=e in t.settings?t.settings[e]:n;return"hash"===r?function(t){var e={};return"string"==typeof t?D(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),(function(t){var n=t.split("=");n.length>1?e[Tn.trim(n[0])]=Tn.trim(n[1]):e[Tn.trim(n[0])]=Tn.trim(n[0])})):e=t,e}(i):"string"===r?ud(g,t,e).getOr(n):"number"===r?ud(C,t,e).getOr(n):"boolean"===r?ud(w,t,e).getOr(n):"object"===r?ud(v,t,e).getOr(n):"array"===r?ud(b,t,e).getOr(n):"string[]"===r?ud((o=g,function(t){return b(t)&&I(t,o)}),t,e).getOr(n):"function"===r?ud(x,t,e).getOr(n):i},sd=(zl={},{add:function(t,e){zl[t]=e},get:function(t){return zl[t]?zl[t]:{icons:{}}},has:function(t){return J(zl,t)}}),ld=function(t,e){return e.dom()[t]},fd=function(t,e){return parseInt(Le(e,t),10)},dd=u(ld,"clientWidth"),hd=u(ld,"clientHeight"),pd=u(fd,"margin-top"),md=u(fd,"margin-left"),gd=function(t,e,n){var r,o=tt.fromDom(t.getBody()),i=t.inline?o:(r=o,tt.fromDom(r.dom().ownerDocument.documentElement)),a=function(t,e,n,r){var o=function(t){return t.dom().getBoundingClientRect()}(e);return{x:n-(t?o.left+e.dom().clientLeft+md(e):0),y:r-(t?o.top+e.dom().clientTop+pd(e):0)}}(t.inline,i,e,n);return function(t,e,n){var r=dd(t),o=hd(t);return e>=0&&n>=0&&e<=r&&n<=o}(i,a.x,a.y)},vd=function(t){var e,n=t.inline?t.getBody():t.getContentAreaContainer();return(e=n,p.from(e).map(tt.fromDom)).map((function(t){return Lt(Ft(t),t)})).getOr(!1)};function bd(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:e,reposition:e,getArgs:e}},r=function(){e.length>0&&n().reposition(e)},o=function(t){B(e,(function(e){return e===t})).each((function(t){e.splice(t,1)}))},i=function(i){if(!t.removed&&vd(t))return P(e,(function(t){return e=n().getArgs(t),r=i,!(e.type!==r.type||e.text!==r.text||e.progressBar||e.timeout||r.progressBar||r.timeout);var e,r})).getOrThunk((function(){t.editorManager.setActive(t);var a=n().open(i,(function(){o(a),r()}));return function(t){e.push(t)}(a),r(),a}))};return function(t){t.on("SkinLoaded",(function(){var e=t.settings.service_message;e&&i({text:e,type:"warning",timeout:0})})),t.on("ResizeEditor ResizeWindow NodeChange",(function(){sn.requestAnimationFrame(r)})),t.on("remove",(function(){D(e.slice(),(function(t){n().close(t)}))}))}(t),{open:i,close:function(){p.from(e[0]).each((function(t){n().close(t),o(t),r()}))},getNotifications:function(){return e}}}var yd=Mi.PluginManager,wd=Mi.ThemeManager;var xd=function(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:e=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}},r=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},o=function(n){e.push(n),function(e){t.fire("OpenWindow",{dialog:e})}(n)},i=function(n){!function(e){t.fire("CloseWindow",{dialog:e})}(n),0===(e=N(e,(function(t){return t!==n}))).length&&t.focus()},a=function(e){t.editorManager.setActive(t),hf(t);var n=e();return o(n),n};return t.on("remove",(function(){D(e,(function(t){n().close(t)}))})),{open:function(t,e){return a((function(){return n().open(t,e,i)}))},openUrl:function(t){return a((function(){return n().openUrl(t,i)}))},alert:function(t,e,o){n().alert(t,r(o||this,e))},confirm:function(t,e,o){n().confirm(t,r(o||this,e))},close:function(){p.from(e[e.length-1]).each((function(t){n().close(t),i(t)}))}}},Cd=function(t,e){t.notificationManager.open({type:"error",text:e})},_d=function(t,e){t._skinLoaded?Cd(t,e):t.on("SkinLoaded",(function(){Cd(t,e)}))},Sd=function(t,e,r){!function(t,e,n){t.fire(e,n)}(t,e,{message:r}),n.console.error(r)},kd=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},Od=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=n.window.console;o&&(o.error?o.error.apply(o,arguments):o.log.apply(o,arguments))},Td={pluginLoadError:function(t,e,n){Sd(t,"PluginLoadError",kd("plugin",e,n))},iconsLoadError:function(t,e,n){Sd(t,"IconsLoadError",kd("icons",e,n))},languageLoadError:function(t,e,n){Sd(t,"LanguageLoadError",kd("language",e,n))},pluginInitError:function(t,e,n){var r=Di.translate(["Failed to initialize plugin: {0}",e]);Od(r,n),_d(t,r)},uploadError:function(t,e){_d(t,Di.translate(["Failed to upload image: {0}",e]))},displayError:_d,initError:Od},Ed=function(t){t.contentCSS=t.contentCSS.concat(function(t){var e=Ec(t),n=t.editorManager.baseURL+"/skins/content",r="content"+t.editorManager.suffix+".css",o=!0===t.inline;return A(e,(function(e){return function(t){return/^[a-z0-9\-]+$/i.test(t)}(e)&&!o?n+"/"+e+"/"+r:t.documentBaseURI.toAbsolute(e)}))}(t))};function Ad(t){return{getBookmark:u(Hs,t),moveToBookmark:u(js,t)}}!function(t){t.isBookmarkNode=Vs}(Ad||(Ad={}));var Dd=Ad,Nd=function(t,e,n){if(n.collapsed)return!1;if(bn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Ne.isElement(r))return E(r.getClientRects(),(function(n){return La(n,t,e)}))}return E(n.getClientRects(),(function(n){return La(n,t,e)}))},Md={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return bn.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Rd=Ne.isContentEditableFalse,Pd=Ne.isContentEditableTrue,Bd=function(t,e){var r,o,i,a,u,c,s,l,f,d,h,p,m,g,v,b,y,w=e.dom,x=Tn.each,C=e.getDoc(),_=n.document,S=Math.abs,k=Math.round,O=e.getBody();a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var T=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},E=function(t){var n=t.target;(function(t,e){if("longpress"===t.type||0===t.type.indexOf("touch")){var n=t.touches[0];return T(t.target)&&!Nd(n.clientX,n.clientY,e)}return T(t.target)&&!Nd(t.clientX,t.clientY,e)})(t,e.selection.getRng())&&!t.isDefaultPrevented()&&e.selection.select(n)},A=function(t){return e.dom.is(t,"figure.image")?t.querySelector("img"):t},D=function(t){var n=Nc(e);return!1!==n&&!bn.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&(t!==e.getBody()&&Bt(tt.fromDom(t),n)))},N=function(t){var n,a,x,C;n=t.screenX-c,a=t.screenY-s,g=n*u[2]+d,v=a*u[3]+h,g=g<5?5:g,v=v<5?5:v,(T(r)&&!1!==Mc(e)?!Md.modifierPressed(t):Md.modifierPressed(t))&&(S(n)>S(a)?(v=k(g*p),g=k(v/p)):(g=k(v/p),v=k(g*p))),w.setStyles(A(o),{width:g,height:v}),x=(x=u.startPos.x+n)>0?x:0,C=(C=u.startPos.y+a)>0?C:0,w.setStyles(i,{left:x,top:C,display:"block"}),i.innerHTML=g+" &times; "+v,u[2]<0&&o.clientWidth<=g&&w.setStyle(o,"left",l+(d-g)),u[3]<0&&o.clientHeight<=v&&w.setStyle(o,"top",f+(h-v)),(n=O.scrollWidth-b)+(a=O.scrollHeight-y)!==0&&w.setStyles(i,{left:x-n,top:C-a}),m||(!function(t,e,n,r){t.fire("ObjectResizeStart",{target:e,width:n,height:r})}(e,r,d,h),m=!0)},M=function(){m=!1;var t=function(t,n){n&&(r.style[t]||!e.schema.isValid(r.nodeName.toLowerCase(),t)?w.setStyle(A(r),t,n):w.setAttrib(A(r),t,n))};t("width",g),t("height",v),w.unbind(C,"mousemove",N),w.unbind(C,"mouseup",M),_!==C&&(w.unbind(_,"mousemove",N),w.unbind(_,"mouseup",M)),w.remove(o),w.remove(i),R(r),function(t,e,n,r){t.fire("ObjectResized",{target:e,width:n,height:r})}(e,r,g,v),w.setAttrib(r,"style",w.getAttrib(r,"style")),e.nodeChanged()},R=function(t){var n,m,S,k,T;P(),I(),n=w.getPos(t,O),l=n.x,f=n.y,T=t.getBoundingClientRect(),m=T.width||T.right-T.left,S=T.height||T.bottom-T.top,r!==t&&(r=t,g=v=0),k=e.fire("ObjectSelected",{target:t}),D(t)&&!k.isDefaultPrevented()?x(a,(function(t,e){var n;(n=w.get("mceResizeHandle"+e))&&w.remove(n),n=w.add(O,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===bn.ie&&(n.contentEditable=!1),w.bind(n,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),function(e){c=e.screenX,s=e.screenY,d=A(r).clientWidth,h=A(r).clientHeight,p=h/d,u=t,t.startPos={x:m*t[0]+l,y:S*t[1]+f},b=O.scrollWidth,y=O.scrollHeight,o=r.cloneNode(!0),w.addClass(o,"mce-clonedresizable"),w.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,w.setStyles(o,{left:l,top:f,margin:0}),o.removeAttribute("data-mce-selected"),O.appendChild(o),w.bind(C,"mousemove",N),w.bind(C,"mouseup",M),_!==C&&(w.bind(_,"mousemove",N),w.bind(_,"mouseup",M)),i=w.add(O,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+h)}(e)})),t.elm=n,w.setStyles(n,{left:m*t[0]+l-n.offsetWidth/2,top:S*t[1]+f-n.offsetHeight/2})})):P(),r.setAttribute("data-mce-selected","1")},P=function(){var t,e;for(t in I(),r&&r.removeAttribute("data-mce-selected"),a)(e=w.get("mceResizeHandle"+t))&&(w.unbind(e),w.remove(e))},B=function(n){var r,o=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};m||e.removed||(x(w.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),r="mousedown"===n.type?n.target:t.getNode(),o(r=w.$(r).closest("table,img,figure.image,hr")[0],O)&&(L(),o(t.getStart(!0),r)&&o(t.getEnd(!0),r))?R(r):P())},z=function(t){return Rd(function(t,e){for(;e&&e!==t;){if(Pd(e)||Rd(e))return e;e=e.parentNode}return null}(e.getBody(),t))},I=function(){for(var t in a){var e=a[t];e.elm&&(w.unbind(e.elm),delete e.elm)}},L=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};e.on("init",(function(){if(L(),bn.browser.isIE()||bn.browser.isEdge()){e.on("mousedown click",(function(t){var n=t.target,r=n.nodeName;m||!/^(TABLE|IMG|HR)$/.test(r)||z(n)||(2!==t.button&&e.selection.select(n,"TABLE"===r),"mousedown"===t.type&&e.nodeChanged())}));var t=function(t){var n=function(t){sn.setEditorTimeout(e,(function(){return e.selection.select(t)}))};if(z(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))};w.bind(O,"mscontrolselect",t),e.on("remove",(function(){return w.unbind(O,"mscontrolselect",t)}))}var n=sn.throttle((function(t){e.composing||B(t)}));e.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",n),e.on("keyup compositionend",(function(t){r&&"TABLE"===r.nodeName&&n(t)})),e.on("hide blur",P),e.on("contextmenu longpress",E,!0)})),e.on("remove",I);return{isResizable:D,showResizeRect:R,hideResizeRect:P,updateResizeRect:B,destroy:function(){r=o=null}}};var zd=function(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var o=Le(n,t);return parseFloat(o)||0}return r},r=function(t,e){return R(e,(function(e,n){var r=Le(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!C(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();Me(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}("height",(function(t){var e=t.dom();return ce(t)?e.getBoundingClientRect().height:e.offsetHeight})),Id=function(t,e){return t.view(e).fold(i([]),(function(e){var n=t.owner(e),r=Id(t,n);return[e].concat(r)}))},Ld=Object.freeze({__proto__:null,view:function(t){return(t.dom()===n.document?p.none():p.from(t.dom().defaultView.frameElement)).map(tt.fromDom)},owner:function(t){return Ft(t)}}),Fd=function(t){var e=tt.fromDom(n.document),r=pe(e),o=function(t,e){var n=e.owner(t);return Id(e,n)}(t,Ld),i=de(t),a=M(o,(function(t,e){var n=de(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return le(a.left+i.left()+r.left(),a.top+i.top()+r.top())},Hd=function(t){return"textarea"===oe(t)},jd=function(t,e){var n=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom())return le(n.offsetLeft,n.offsetTop);var i=fe(r.pageYOffset,o.scrollTop),a=fe(r.pageXOffset,o.scrollLeft),u=fe(o.clientTop,n.clientTop),c=fe(o.clientLeft,n.clientLeft);return de(t).translate(a-c,i-u)}(t),r=function(t){return zd.get(t)}(t);return{element:t,bottom:n.top()+r,height:r,pos:n,cleanup:e}},Vd=function(t,e){var n=function(t,e){var n=qt(t);if(0===n.length||Hd(t))return{element:t,offset:e};if(e<n.length&&!Hd(n[e]))return{element:n[e],offset:0};var r=n[n.length-1];return Hd(r)?{element:t,offset:e}:"img"===oe(r)?{element:r,offset:1}:ue(r)?{element:r,offset:wl(r).length}:{element:r,offset:qt(r).length}}(t,e),r=tt.fromHtml('<span data-mce-bogus="all">'+ca.ZWSP+"</span>");return Kt(n.element,r),jd(r,(function(){return ne(r)}))},$d=function(t,e,n,r){Xd(t,(function(o,i){return Wd(t,e,n,r)}),n)},Ud=function(t,e,n,r,o){var i={elm:r.element.dom(),alignToTop:o};(function(t,e){return t.fire("ScrollIntoView",e).isDefaultPrevented()})(t,i)||(n(e,pe(e).top(),r,o),function(t,e){t.fire("AfterScrollIntoView",e)}(t,i))},Wd=function(t,e,n,r){var o=tt.fromDom(t.getBody()),i=tt.fromDom(t.getDoc());o.dom().offsetWidth;var a=Vd(tt.fromDom(n.startContainer),n.startOffset);Ud(t,i,e,a,r),a.cleanup()},qd=function(t,e,n,o){var i=tt.fromDom(t.getDoc());Ud(t,i,n,function(t){return jd(tt.fromDom(t),r)}(e),o)},Xd=function(t,e,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;e(tt.fromDom(r),tt.fromDom(i));var u=t.dom.createRng();u.setStart(r,o),u.setEnd(i,a),t.selection.setRng(n)},Gd=function(t,e,n,r){var o=t.pos;if(n)me(o.left(),o.top(),r);else{var i=o.top()-e+t.height;me(o.left(),i,r)}},Yd=function(t,e,n,r,o){var i=n+e,a=r.pos.top(),u=r.bottom,c=u-a>=n;if(a<e)Gd(r,n,!1!==o,t);else if(a>i){Gd(r,n,c?!1!==o:!0===o,t)}else u>i&&!c&&Gd(r,n,!0===o,t)},Kd=function(t,e,n,r){var o=t.dom().defaultView.innerHeight;Yd(t,e,o,n,r)},Jd=function(t,e,r,o){var i=t.dom().defaultView.innerHeight;Yd(t,e,i,r,o);var a=Fd(r.element),u=be(n.window);a.top()<u.y()?ge(r.element,!1!==o):a.top()>u.bottom()&&ge(r.element,!0===o)},Zd=function(t,e,n){return $d(t,Kd,e,n)},Qd=function(t,e,n){return qd(t,e,Kd,n)},th=function(t,e,n){return $d(t,Jd,e,n)},eh=function(t,e,n){return qd(t,e,Jd,n)},nh=function(t,e,n){(t.inline?Qd:eh)(t,e,n)},rh=function(t,e,n){(t.inline?Zd:th)(t,e,n)},oh=function(t){return Ne.isContentEditableTrue(t)||Ne.isContentEditableFalse(t)},ih=function(t,e,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(t,e))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(t,e);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(t,e),r.collapse(!0)}catch(o){r=function(t,e,n){var r,o,i;if(r=n.elementFromPoint(t,e),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),(i=(i=Tn.toArray(o.getClientRects())).sort((function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-(n=Math.abs(Math.max(n.top-e,n.bottom-e)))}))).length>0){e=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(t,e),o.collapse(!0),o}catch(t){}}return null}(t,e,n)}return function(t,e){var n=t&&t.parentElement?t.parentElement():null;return Ne.isContentEditableFalse(function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(n,e,oh))?null:t}(r,n.body)}return r},ah=function(t,e){return A(e,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},uh=function(t,e){var r=(e||n.document).createDocumentFragment();return D(t,(function(t){r.appendChild(t.dom())})),tt.fromDom(r)},ch=function(t,e,n){return Lt(e,t)?function(t,e){for(var n=x(e)?e:s,r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=tt.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(t,(function(t){return n(t)||It(t,e)})).slice(0,-1):[]},sh=function(t,e){return ch(t,e,i(!1))},lh=sh,fh=function(t,e){return[t].concat(sh(t,e))},dh=function(t){return Gt(t).fold(i([t]),(function(e){return[t].concat(dh(e))}))},hh=function(t){return Yt(t).fold(i([t]),(function(e){return"br"===oe(e)?Vt(e).map((function(e){return[t].concat(hh(e))})).getOr([]):[t].concat(hh(e))}))},ph=function(t,e){return $a(function(t){var e=t.startContainer,n=t.startOffset;return Ne.isText(e)?0===n?p.some(tt.fromDom(e)):p.none():p.from(e.childNodes[n]).map(tt.fromDom)}(e),function(t){var e=t.endContainer,n=t.endOffset;return Ne.isText(e)?n===e.data.length?p.some(tt.fromDom(e)):p.none():p.from(e.childNodes[n-1]).map(tt.fromDom)}(e),(function(e,n){var r=P(dh(t),u(It,e)),o=P(hh(t),u(It,n));return r.isSome()&&o.isSome()})).getOr(!1)},mh=function(t,e,n,r){var o=n,i=new hi(n,o),a=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Tn.trim(n.nodeValue).length)return void(r?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},gh=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},vh=Ot("element","width","rows"),bh=Ot("element","cells"),yh=Ot("x","y"),wh=function(t,e){var n=parseInt(ze(t,e),10);return isNaN(n)?1:n},xh=function(t,e,n){var r=t.rows();return!!(r[n]?r[n].cells():[])[e]},Ch=function(t){return R(t,(function(t,e){return e.cells().length>t?e.cells().length:t}),0)},_h=function(t,e){for(var n=t.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(It(o[i],e))return p.some(yh(i,r));return p.none()},Sh=function(t,e,n,r,o){for(var i=[],a=t.rows(),u=n;u<=o;u++){var c=a[u].cells(),s=e<r?c.slice(e,r+1):c.slice(r,e+1);i.push(bh(a[u].element(),s))}return i},kh=function(t){var e=vh(aa(t),0,[]);return D($i(t,"tr"),(function(t,n){D($i(t,"td,th"),(function(r,o){!function(t,e,n,r,o){for(var i=wh(o,"rowspan"),a=wh(o,"colspan"),u=t.rows(),c=n;c<n+i;c++){u[c]||(u[c]=bh(ua(r),[]));for(var s=e;s<e+a;s++){u[c].cells()[s]=c===n&&s===e?o:aa(o)}}}(e,function(t,e,n){for(;xh(t,e,n);)e++;return e}(e,o,n),n,t,r)}))})),vh(e.element(),Ch(e.rows()),e.rows())},Oh=function(t){return function(t,e){var n=aa(t.element()),r=tt.fromTag("tbody");return te(r,e),Qt(n,r),n}(t,function(t){return A(t.rows(),(function(t){var e=A(t.cells(),(function(t){var e=ua(t);return Ie(e,"colspan"),Ie(e,"rowspan"),e})),n=aa(t.element());return te(n,e),n}))}(t))},Th=function(t,e,n){return _h(t,e).bind((function(e){return _h(t,n).map((function(n){return function(t,e,n){var r=e.x(),o=e.y(),i=n.x(),a=n.y(),u=o<a?Sh(t,r,o,i,a):Sh(t,r,a,i,o);return vh(t.element(),Ch(u),u)}(t,e,n)}))}))},Eh=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},Ah=Eh,Dh=function(t){return z(t,(function(t){var e=Fa(t);return e?[tt.fromDom(e)]:[]}))},Nh=function(t){return Eh(t).length>1},Mh=function(t){return N(Dh(t),Vn)},Rh=function(t){return $i(t,"td[data-mce-selected],th[data-mce-selected]")},Ph=function(t,e){var n=Rh(e),r=Mh(t);return n.length>0?n:r},Bh=Ph,zh=function(t){return Ph(Ah(t.selection.getSel()),tt.fromDom(t.getBody()))},Ih=function(t,e){return P(t,(function(t){return"li"===oe(t)&&ph(t,e)})).fold(i([]),(function(e){return function(t){return P(t,(function(t){return"ul"===oe(t)||"ol"===oe(t)}))}(t).map((function(t){return[tt.fromTag("li"),tt.fromTag(oe(t))]})).getOr([])}))},Lh=function(t,e){var n=tt.fromDom(e.commonAncestorContainer),r=fh(n,t),o=N(r,(function(t){return Bn(t)||Rn(t)})),a=Ih(r,e),u=o.concat(a.length?a:function(t){return Fn(t)?jt(t).filter(Ln).fold(i([]),(function(e){return[t,e]})):Ln(t)?[t]:[]}(n));return A(u,aa)},Fh=function(){return uh([])},Hh=function(t,e){return n=tt.fromDom(e.cloneContents()),r=Lh(t,e),o=R(r,(function(t,e){return Qt(e,t),e}),n),r.length>0?uh([o]):o;var n,r,o},jh=function(t,e){return(n=t,r=e[0],Xi(r,"table",u(It,n))).bind((function(t){var n=e[0],r=e[e.length-1],o=kh(t);return Th(o,n,r).map((function(t){return uh([Oh(t)])}))})).getOrThunk(Fh);var n,r},Vh=function(t,e){var n=Bh(e,t);return n.length>0?jh(t,n):function(t,e){return e.length>0&&e[0].collapsed?Fh():Hh(t,e[0])}(t,e)},$h=function(t,e){if(void 0===e&&(e={}),e.get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return function(t){return p.from(t.selection.getRng()).map((function(e){var n=t.dom.add(t.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),r=ca.trim(n.innerText);return t.dom.remove(n),r})).getOr("")}(t);e.getInner=!0;var n=function(t,e){var n,r=t.selection.getRng(),o=t.dom.create("body"),i=t.selection.getSel(),a=ah(t,Ah(i));return(n=e.contextual?Vh(tt.fromDom(t.getBody()),a).dom():r.cloneContents())&&o.appendChild(n),t.selection.serializer.serialize(o,e)}(t,e);return"tree"===e.format?n:(e.content=t.selection.isCollapsed()?"":n,t.fire("GetContent",e),e.content)},Uh=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},Wh=function(t,e,n){return null!==function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(t,e,n)},qh=function(t,e,n){return Wh(t,e,(function(t){return t.nodeName===n}))},Xh=function(t){return t&&"TABLE"===t.nodeName},Gh=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Yh=function(t,e){return ha(t)&&!1===Wh(t,e,Iu)},Kh=function(t,e,n){for(var r=new hi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=r[n?"prev":"next"]();)if(Ne.isBr(e))return!0},Jh=function(t,e,n,r,o){var i,a,u=t.getRoot(),c=t.schema.getNonEmptyElements(),s=t.getParent(o.parentNode,t.isBlock)||u;if(r&&Ne.isBr(o)&&e&&t.isEmpty(s))return p.some(fu(o.parentNode,t.nodeIndex(o)));for(var l=new hi(o,s);a=l[r?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||Yh(a,u))return p.none();if(Ne.isText(a)&&a.nodeValue.length>0)return!1===qh(a,u,"A")?p.some(fu(a,r?a.nodeValue.length:0)):p.none();if(t.isBlock(a)||c[a.nodeName.toLowerCase()])return p.none();i=a}return n&&i?p.some(fu(i,0)):p.none()},Zh=function(t,e,n,r){var o,i,a,u,c,s,l=t.getRoot(),f=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],s=Ne.isElement(o)&&i===o.childNodes.length,u=t.schema.getNonEmptyElements(),c=n,ha(o))return p.none();if(Ne.isElement(o)&&i>o.childNodes.length-1&&(c=!1),Ne.isDocument(o)&&(o=l,i=0),o===l){if(c&&(a=o.childNodes[i>0?i-1:0])){if(ha(a))return p.none();if(u[a.nodeName]||Xh(a))return p.none()}if(o.hasChildNodes()){if(i=Math.min(!c&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Ne.isText(o)&&s?o.data.length:0,!e&&o===l.lastChild&&Xh(o))return p.none();if(function(t,e){for(;e&&e!==t;){if(Ne.isContentEditableFalse(e))return!0;e=e.parentNode}return!1}(l,o)||ha(o))return p.none();if(o.hasChildNodes()&&!1===Xh(o)){a=o;var d=new hi(o,l);do{if(Ne.isContentEditableFalse(a)||ha(a)){f=!1;break}if(Ne.isText(a)&&a.nodeValue.length>0){i=c?0:a.nodeValue.length,o=a,f=!0;break}if(u[a.nodeName.toLowerCase()]&&!Gh(a)){i=t.nodeIndex(a),o=a.parentNode,c||i++,f=!0;break}}while(a=c?d.next():d.prev())}}}return e&&(Ne.isText(o)&&0===i&&Jh(t,s,e,!0,o).each((function(t){o=t.container(),i=t.offset(),f=!0})),Ne.isElement(o)&&((a=o.childNodes[i])||(a=o.childNodes[i-1]),!a||!Ne.isBr(a)||function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e}(a,"A")||Kh(t,a,!1)||Kh(t,a,!0)||Jh(t,s,e,!0,a).each((function(t){o=t.container(),i=t.offset(),f=!0})))),c&&!e&&Ne.isText(o)&&i===o.nodeValue.length&&Jh(t,s,e,!1,o).each((function(t){o=t.container(),i=t.offset(),f=!0})),f?p.some(fu(o,i)):p.none()},Qh=function(t,e){var n=e.collapsed,r=e.cloneRange(),o=fu.fromRangeStart(e);return Zh(t,n,!0,r).each((function(t){n&&fu.isAbove(o,t)||r.setStart(t.container(),t.offset())})),n||Zh(t,n,!1,r).each((function(t){r.setEnd(t.container(),t.offset())})),n&&r.collapse(!0),Uh(e,r)?p.none():p.some(r)},tp=function(t){return 0===t.dom().length?(ne(t),p.none()):p.some(t)},ep=function(t,e,n){if((n=function(t,e){return(t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t}(n,e)).no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){var r=t.selection.getRng();!function(t,e){var n=p.from(e.firstChild).map(tt.fromDom),r=p.from(e.lastChild).map(tt.fromDom);t.deleteContents(),t.insertNode(e);var o=n.bind(Vt).filter(ue).bind(tp),i=r.bind($t).filter(ue).bind(tp);$a(o,n.filter(ue),(function(t,e){!function(t,e){t.insertData(0,e)}(e.dom(),t.dom().data),ne(t)})),$a(i,r.filter(ue),(function(e,n){var r=n.dom().length;n.dom().appendData(e.dom().data),t.setEnd(n.dom(),r),ne(e)})),t.collapse(!1)}(r,r.createContextualFragment(n.content)),t.selection.setRng(r),rh(t,r),n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)},np=function(t,e,n,r,o){var i=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;return p.from(i).map(tt.fromDom).map((function(t){return r&&e.collapsed?t:Xt(t,o(t,a)).getOr(t)})).bind((function(t){return ae(t)?p.some(t):jt(t)})).map((function(t){return t.dom()})).getOr(t)},rp=function(t,e,n){return np(t,e,!0,n,(function(t,e){return Math.min(t.dom().childNodes.length,e)}))},op=function(t,e,n){return np(t,e,!1,n,(function(t,e){return e>0?e-1:e}))},ip=function(t,e){for(var n=t;t&&Ne.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},ap=function(t,e,n){if(t&&t.hasOwnProperty(e)){var r=N(t[e],(function(t){return t!==n}));0===r.length?delete t[e]:t[e]=r}};var up=function(t){return!!t.select},cp=function(t){return!(!t||!t.ownerDocument)&&Lt(tt.fromDom(t.ownerDocument),tt.fromDom(t))},sp=function(t,e,n,r){var o,i,a,u,c=function(t,e){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},e.on("NodeChange",(function(e){var o=e.element,i=t.getParents(o,null,t.getRoot()),a={};Tn.each(n,(function(e,n){Tn.each(i,(function(o){if(t.is(o,n))return r[n]||(Tn.each(e,(function(t){t(!0,{node:o,selector:n,parents:i})})),r[n]=e),a[n]=e,!1}))})),Tn.each(r,(function(t,e){a[e]||(delete r[e],Tn.each(t,(function(t){t(!1,{node:o,selector:e,parents:i})})))}))}))),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){ap(n,o,i),ap(r,o,i)}}}}}(t,r).selectorChangedWithUnbind,s=function(t,e){return ep(r,t,e)},l=function(t){var e=d();e.collapse(!!t),h(e)},f=function(){return e.getSelection?e.getSelection():e.document.selection},d=function(){var n,o,i,c,s=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}};if(!e)return null;if(null==(c=e.document))return null;if(void 0!==r.bookmark&&!1===Pf(r)){var l=mf(r);if(l.isSome())return l.map((function(t){return ah(r,[t])[0]})).getOr(c.createRange())}try{(n=f())&&!Ne.isRestrictedNode(n.anchorNode)&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(t){}return(o=ah(r,[o])[0])||(o=c.createRange?c.createRange():c.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=t.getRoot(),o.setStart(i,0),o.setEnd(i,0)),a&&u&&(0===s(o.START_TO_START,o,a)&&0===s(o.END_TO_END,o,a)?o=u:(a=null,u=null)),o},h=function(t,e){var n,o;if(function(t){return!!t&&(!!up(t)||cp(t.startContainer)&&cp(t.endContainer))}(t)){var i=up(t)?t:null;if(i){u=null;try{i.select()}catch(t){}}else{if(n=f(),t=r.fire("SetSelectionRange",{range:t,forward:e}).range,n){u=t;try{n.removeAllRanges(),n.addRange(t)}catch(t){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),a=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||bn.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(o=t.startContainer.childNodes[t.startOffset])&&"IMG"===o.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(o,0,o,1)),r.fire("AfterSetSelectionRange",{range:t,forward:e})}}},m=function(){var e,n,r=f();return!(r&&r.anchorNode&&r.focusNode)||((e=t.createRng()).setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(r.focusNode,r.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)},g={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:r,collapse:l,setCursorLocation:function(e,n){var o=t.createRng();e?(o.setStart(e,n),o.setEnd(e,n),h(o),l(!1)):(mh(t,o,r.getBody(),!0),h(o))},getContent:function(t){return $h(r,t)},setContent:s,getBookmark:function(t,e){return o.getBookmark(t,e)},moveToBookmark:function(t){return o.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return p.from(e).map((function(e){var r=t.nodeIndex(e),o=t.createRng();return o.setStart(e.parentNode,r),o.setEnd(e.parentNode,r+1),n&&(mh(t,o,e,!0),mh(t,o,e,!1)),o}))}(t,e,n).each(h),e},isCollapsed:function(){var t=d(),e=f();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isForward:m,setNode:function(e){return s(t.getOuterHTML(e)),e},getNode:function(){return t=r.getBody(),(e=d())?(o=e.startContainer,i=e.endContainer,a=e.startOffset,u=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(o===i&&u-a<2&&o.hasChildNodes()&&(n=o.childNodes[a]),3===o.nodeType&&3===i.nodeType&&(o=o.length===a?ip(o.nextSibling,!0):o.parentNode,i=0===u?ip(i.previousSibling,!1):i.parentNode,o&&o===i))?o:n&&3===n.nodeType?n.parentNode:n):t;var t,e,n,o,i,a,u},getSel:f,setRng:h,getRng:d,getStart:function(t){return rp(r.getBody(),d(),t)},getEnd:function(t){return op(r.getBody(),d(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,r){var o,i,a=[];if(i=t.getRoot(),n=t.getParent(n||rp(i,e,e.collapsed),t.isBlock),r=t.getParent(r||op(i,e,e.collapsed),t.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r){o=n;for(var u=new hi(n,i);(o=u.next())&&o!==r;)t.isBlock(o)&&a.push(o)}return r&&n!==r&&r!==i&&a.push(r),a}(t,d(),e,n)},normalize:function(){var e=d(),n=f();if(!Nh(n)&&gh(r)){var o=Qh(t,e);return o.each((function(t){h(t,m())})),o.getOr(e)}return e},selectorChanged:function(t,e){return c(t,e),g},selectorChangedWithUnbind:c,getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return nh(r,t,e)},placeCaretAt:function(t,e){return h(ih(t,e,r.getDoc()))},getBoundingClientRect:function(){var t=d();return t.collapsed?hu.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=a=u=null,i.destroy()}};return o=Dd(g),i=Bd(g,r),g.bookmarkManager=o,g.controlSelection=i,g},lp=function(t,e,n){t.addNodeFilter("font",(function(t){D(t,(function(t){var r=e.parse(t.attr("style")),o=t.attr("color"),i=t.attr("face"),a=t.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(r)),function(t,e){D(e,(function(e){t.attr(e,null)}))}(t,["color","face","size"])}))}))},fp=function(t,e){var n=Rr();e.convert_fonts_to_spans&&lp(t,n,Tn.explode(e.font_size_legacy_values)),function(t,e){t.addNodeFilter("strike",(function(t){D(t,(function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))}))}))}(t,n)},dp=function(t,e){e.inline_styles&&fp(t,e)},hp=function(t,e,n,r){(t.padd_empty_with_br||e.insert)&&n[r.name]?r.empty().append(new Dl("br",1)).shortEnded=!0:r.empty().append(new Dl("#text",3)).value=""},pp=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},mp=function(t,e,n,r){return r.isEmpty(e,n,(function(e){return function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty}(t,e)}))},gp=Tn.makeMap,vp=Tn.each,bp=Tn.explode,yp=Tn.extend,wp=function(t,e){void 0===e&&(e=hr());var n={},r=[],o={},i={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a=function(t){var e,a,u;(a=t.name)in n&&((u=o[a])?u.push(t):o[a]=[t]),e=r.length;for(;e--;)(a=r[e].name)in t.attributes.map&&((u=i[a])?u.push(t):i[a]=[t]);return t},u={schema:e,addAttributeFilter:function(t,e){vp(bp(t),(function(t){var n;for(n=0;n<r.length;n++)if(r[n].name===t)return void r[n].callbacks.push(e);r.push({name:t,callbacks:[e]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(t,e){vp(bp(t),(function(t){var r=n[t];r||(n[t]=r=[]),r.push(e)}))},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:a,parse:function(u,c){var s,l,f,d,h,p,m,g,v,b,y,w=[];c=c||{},o={},i={},v=yp(gp("script,style,head,html,body,title,meta,param"),e.getBlockElements());var x=e.getNonEmptyElements(),C=e.children,_=t.validate,S=function(t){return!1===t?"":!0===t?"p":t}("forced_root_block"in c?c.forced_root_block:t.forced_root_block),k=e.getWhiteSpaceElements(),O=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;b=k.hasOwnProperty(c.context)||k.hasOwnProperty(t.root_name);var D=function(t,e){var r,i=new Dl(t,e);return t in n&&((r=o[t])?r.push(i):o[t]=[i]),i},N=function(t){var n,r,o,i,a=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if((o=n.value.replace(T,"")).length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}};s=Il({validate:_,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){y.append(D("#cdata",4)).value=t},text:function(t,e){var n;b||(t=t.replace(E," "),function(t,e){return t&&(e[t.name]||"br"===t.name)}(y.lastChild,v)&&(t=t.replace(O,""))),0!==t.length&&((n=D("#text",3)).raw=!!e,y.append(n).value=t)},comment:function(t){y.append(D("#comment",8)).value=t},pi:function(t,e){y.append(D(t,7)).value=e,N(y)},doctype:function(t){y.append(D("#doctype",10)).value=t,N(y)},start:function(t,n,o){var a,u,c,s,l;if(c=_?e.getElementRule(t):{}){for((a=D(c.outputName||t,1)).attributes=n,a.shortEnded=o,y.append(a),(l=C[y.name])&&C[a.name]&&!l[a.name]&&w.push(a),u=r.length;u--;)(s=r[u].name)in n.map&&((m=i[s])?m.push(a):i[s]=[a]);v[t]&&N(a),o||(y=a),!b&&k[t]&&(b=!0)}},end:function(n){var r,o,i,a,u;if(o=_?e.getElementRule(n):{}){if(v[n]&&!b){if((r=y.firstChild)&&3===r.type)if((i=r.value.replace(O,"")).length>0)r.value=i,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.next,(0===i.length||A.test(i))&&(r.remove(),r=a),r=a;if((r=y.lastChild)&&3===r.type)if((i=r.value.replace(T,"")).length>0)r.value=i,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.prev,(0===i.length||A.test(i))&&(r.remove(),r=a),r=a}if(b&&k[n]&&(b=!1),o.removeEmpty&&mp(e,x,k,y)&&!y.attr("name")&&!y.attr("id"))return u=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=u);o.paddEmpty&&(function(t){return pp(t,"#text")&&""===t.firstChild.value}(y)||mp(e,x,k,y))&&hp(t,c,v,y),y=y.parent}}},e);var M=y=new Dl(c.context||t.root_name,11);if(s.parse(u,c.format),_&&w.length&&(c.context?c.invalid=!0:function(t){var n,r,o,i,u,c,s,l,f,d,h,p,m,g,v,b;for(p=gp("tr,td,th,tbody,thead,tfoot,table"),d=e.getNonEmptyElements(),h=e.getWhiteSpaceElements(),m=e.getTextBlockElements(),g=e.getSpecialElements(),n=0;n<t.length;n++)if((r=t[n]).parent&&!r.fixed)if(m[r.name]&&"li"===r.parent.name){for(v=r.next;v&&m[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!e.isValidChild(o.name,r.name)&&!p[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),u=c=a(i[0].clone()),f=0;f<i.length-1;f++){for(e.isValidChild(c.name,i[f].name)?(s=a(i[f].clone()),c.append(s)):s=c,l=i[f].firstChild;l&&l!==i[f+1];)b=l.next,s.append(l),l=b;c=s}mp(e,d,h,u)?o.insert(r,i[0],!0):(o.insert(u,i[0],!0),o.insert(r,u)),o=i[0],(mp(e,d,h,o)||pp(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((v=r.prev)&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if((v=r.next)&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(a(new Dl("ul",1)));continue}e.isValidChild(r.parent.name,"div")&&e.isValidChild("div",r.name)?r.wrap(a(new Dl("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}}(w)),S&&("body"===M.name||c.isRootContent)&&function(){var n,r,o=M.firstChild,i=function(t){t&&((o=t.firstChild)&&3===o.type&&(o.value=o.value.replace(O,"")),(o=t.lastChild)&&3===o.type&&(o.value=o.value.replace(T,"")))};if(e.isValidChild(M.name,S.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?(r||((r=D(S,1)).attr(t.forced_root_block_attrs),M.insert(r,o)),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!c.invalid){for(g in o)if(o.hasOwnProperty(g)){for(m=n[g],h=(l=o[g]).length;h--;)l[h].parent||l.splice(h,1);for(f=0,d=m.length;f<d;f++)m[f](l,g,c)}for(f=0,d=r.length;f<d;f++)if((m=r[f]).name in i){for(h=(l=i[m.name]).length;h--;)l[h].parent||l.splice(h,1);for(h=0,p=m.callbacks.length;h<p;h++)m.callbacks[h](l,m.name,c)}}return M}};return function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,r,o){var i,a,u,c,s,l,f,d,h=t.length,p=Tn.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,i=0;i<h;i++)if(u=(a=t[i]).parent,p[a.parent.name]&&a===u.lastChild){for(s=a.prev;s;){if("span"!==(l=s.name)||"bookmark"!==s.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}s=s.prev}a&&(a.remove(),mp(n,m,g,u)&&(f=n.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&hp(e,o,p,u)))}else{for(c=a;u&&u.firstChild===c&&u.lastChild===c&&(c=u,!p[u.name]);)u=u.parent;c===u&&!0!==e.padd_empty_with_br&&((d=new Dl("#text",3)).value="",a.replace(d))}})),t.addAttributeFilter("href",(function(t){var n,r,o,i=t.length;if(!e.allow_unsafe_link_target)for(;i--;)"a"===(n=t[i]).name&&"_blank"===n.attr("target")&&n.attr("rel",(r=n.attr("rel"),o=void 0,o=r?Tn.trim(r):"",/\b(noopener)\b/g.test(o)?o:function(t){return t.split(" ").filter((function(t){return t.length>0})).concat(["noopener"]).sort().join(" ")}(o)))})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var e,n,r,o,i=t.length;i--;)if("a"===(o=t[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,e=o.lastChild;do{n=e.prev,r.insert(e,o),e=n}while(e)}})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var e,n,r=t.length;r--;)if("ul"===(n=(e=t[r]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var o=new Dl("li",1);o.attr("style","list-style-type: none"),e.wrap(o)}})),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",(function(t){for(var e,r,o,i,a,u,c,s=t.length,l=n.getValidClasses();s--;){for(r=(e=t[s]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],c=!1,(u=l["*"])&&u[i]&&(c=!0),u=l[e.name],!c&&u&&u[i]&&(c=!0),c&&(a&&(a+=" "),a+=i);a.length||(a=null),e.attr("class",a)}}))}(u,t),dp(u,t),u},xp=function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n,r=t.length;r--;)(n=t[r]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)})),t.addAttributeFilter("src,href,style",(function(t,r){for(var o,i,a=t.length,u="data-mce-"+r,c=e.url_converter,s=e.url_converter_scope;a--;)void 0!==(i=(o=t[a]).attr(u))?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):c&&(i=c.call(s,i,r,o.name)),o.attr(r,i.length>0?i:null))})),t.addAttributeFilter("class",(function(t){for(var e,n,r=t.length;r--;)(n=(e=t[r]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var r,o=t.length;o--;){if("bookmark"===(r=t[o]).attr("data-mce-type")&&!n.cleanup)p.from(r.firstChild).exists((function(t){return!ca.isZwsp(t.value)}))?r.unwrap():r.remove()}})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=rr.decode(e.value))})),t.addNodeFilter("script,style",(function(t,n){for(var r,o,i,a=t.length,u=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)o=(r=t[a]).firstChild?r.firstChild.value:"","script"===n?((i=r.attr("type"))&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===e.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===e.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+u(o)+"\n--\x3e")})),t.addNodeFilter("#comment",(function(t){for(var r,o=t.length;o--;)r=t[o],e.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n,r=t.length;r--;)7===(n=t[r]).type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(e){D(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))},Cp=function(t){var e,n,r=function(t){return t&&"br"===t.name};r(e=t.lastChild)&&r(n=e.prev)&&(e.remove(),n.remove())},_p=function(t,e,r){return function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events}(t,r)?function(t,e,r){var o,i,a,u=t.dom;return e=e.cloneNode(!0),(o=n.document.implementation).createHTMLDocument&&(i=o.createHTMLDocument(""),Tn.each("BODY"===e.nodeName?e.childNodes:[e],(function(t){i.body.appendChild(i.importNode(t,!0))})),e="BODY"!==e.nodeName?i.body.firstChild:i.body,a=u.doc,u.doc=i),function(t,e){t.fire("PreProcess",e)}(t,Z(Z({},r),{node:e})),a&&(u.doc=a),e}(t,e,r):e},Sp=function(t,e,n){-1===Tn.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))},kp=function(t,e,n,r,o){return function(t,e,n){return!e.no_events&&t?function(t,e){return t.fire("PostProcess",e)}(t,Z(Z({},e),{content:n})).content:n}(t,o,function(t,e,n){return $l(t,e).serialize(n)}(e,n,r))},Op=function(t,e){var n=["data-mce-selected"],r=e&&e.dom?e.dom:Ci.DOM,o=e&&e.schema?e.schema:hr(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i=wp(t,o);xp(i,t,r);return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(n,a){void 0===a&&(a={});var u=Z({format:"html"},a),c=_p(e,n,u),s=function(t,e,n){var r=ca.trim(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||$n(tt.fromDom(e))?r:Tn.trim(r)}(r,c,u),l=function(t,e,n){var r=n.selection?Z({forced_root_block:!1},n):n,o=t.parse(e,r);return Cp(o),o}(i,s,u);return"tree"===u.format?l:kp(e,t,o,l,u)},addRules:function(t){o.addValidElements(t)},setRules:function(t){o.setValidElements(t)},addTempAttr:u(Sp,i,n),getTempAttrs:function(){return n},getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},Tp=function(t,e){var n=Op(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},Ep=function(t){var e,n,r=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(r[0]))&&(e=n[1]),{type:e,data:r[1]}},Ap=function(t){return 0===t.indexOf("blob:")?function(t){return new on((function(e,r){var o=function(){r("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new n.XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){200===this.status?e(this.response):o()},i.onerror=o,i.send()}catch(t){o()}}))}(t):0===t.indexOf("data:")?(e=t,new on((function(t){var r,o,i,a=Ep(e);try{r=n.atob(a.data)}catch(e){return void t(new n.Blob([]))}for(o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);t(new n.Blob([o],{type:a.type}))}))):null;var e},Dp=function(t){return new on((function(e){var r=new n.FileReader;r.onloadend=function(){e(r.result)},r.readAsDataURL(t)}))},Np=Ep,Mp=0,Rp=function(t){return(t||"blobid")+Mp++};function Pp(t,e){var n={};return{findAll:function(r,o){var a;o||(o=i(!0)),a=N(function(t){return t?V(t.getElementsByTagName("img")):[]}(r),(function(e){var n=e.src;return!!bn.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!n||n===bn.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e)))))}));var u=A(a,(function(t){if(n[t.src])return new on((function(e){n[t.src].then((function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})}))}));var r=new on((function(n,r){!function(t,e,n,r){var o,i;0!==e.src.indexOf("blob:")?(o=Np(e.src).data,(i=t.findFirst((function(t){return t.base64()===o})))?n({image:e,blobInfo:i}):Ap(e.src).then((function(r){i=t.create(Rp(),r,o),t.add(i),n({image:e,blobInfo:i})}),(function(t){r(t)}))):(i=t.getByUri(e.src))?n({image:e,blobInfo:i}):Ap(e.src).then((function(r){Dp(r).then((function(a){o=Np(a).data,i=t.create(Rp(),r,o),t.add(i),n({image:e,blobInfo:i})}))}),(function(t){r(t)}))}(e,t,n,r)})).then((function(t){return delete n[t.image.src],t})).catch((function(e){return delete n[t.src],e}));return n[t.src]=r,r}));return on.all(u)}}}function Bp(t,e){var r={},o=function(t,r,o,i){var a,u;(a=new n.XMLHttpRequest).open("POST",e.url),a.withCredentials=e.credentials,a.upload.onprogress=function(t){i(t.loaded/t.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var t,n,i;a.status<200||a.status>=300?o("HTTP Error: "+a.status):(t=JSON.parse(a.responseText))&&"string"==typeof t.location?r((n=e.basePath,i=t.location,n?n.replace(/\/$/,"")+"/"+i.replace(/^\//,""):i)):o("Invalid JSON: "+a.responseText)},(u=new n.FormData).append("file",t.blob(),t.filename()),a.send(u)},i=function(t,e){return{url:e,blobInfo:t,status:!0}},a=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},u=function(t,e){Tn.each(r[t],(function(t){t(e)})),delete r[t]},c=function(n,o){return n=Tn.grep(n,(function(e){return!t.isUploaded(e.blobUri())})),on.all(Tn.map(n,(function(n){return t.isPending(n.blobUri())?function(t){var e=t.blobUri();return new on((function(t){r[e]=r[e]||[],r[e].push(t)}))}(n):function(e,n,r){return t.markPending(e.blobUri()),new on((function(o){var c,s=function(){};try{var l=function(){c&&(c.close(),s)};n(e,(function(n){l(),t.markUploaded(e.blobUri(),n),u(e.blobUri(),i(e,n)),o(i(e,n))}),(function(n){l(),t.removeFailed(e.blobUri()),u(e.blobUri(),a(e,n)),o(a(e,n))}),(function(t){t<0||t>100||(c||(c=r()),c.progressBar.value(t))}))}catch(t){o(a(e,t.message))}}))}(n,e.handler,o)})))};return!1===x(e.handler)&&(e.handler=o),{upload:function(t,n){return e.url||e.handler!==o?c(t,n):new on((function(t){t([])}))}}}var zp=0,Ip=function(t){return t+zp+++(e=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+e()+e()+e());var e},Lp=function(t){var e,r,o,a,u,c=function(){var t=[],e=function(t){var e,r,o;if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return e=t.id||Ip("blobid"),r=t.name||e,{id:i(e),name:i(r),filename:i(r+"."+(o=t.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[o.toLowerCase()]||"dat")),blob:i(t.blob),base64:i(t.base64),blobUri:i(t.blobUri||n.URL.createObjectURL(t.blob)),uri:i(t.uri)}},r=function(t){return o((function(e){return e.id()===t}))},o=function(e){return N(t,e)[0]};return{create:function(t,n,r,o){if(g(t))return e({id:t,name:o,blob:n,base64:r});if(v(t))return e(t);throw new Error("Unknown input type")},add:function(e){r(e.id())||t.push(e)},get:r,getByUri:function(t){return o((function(e){return e.blobUri()===t}))},findFirst:o,removeByUri:function(e){t=N(t,(function(t){return t.blobUri()!==e||(n.URL.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){D(t,(function(t){n.URL.revokeObjectURL(t.blobUri())})),t=[]}}}(),s=(o={},a=function(t,e){return{status:t,resultUri:e}},{hasBlobUri:u=function(t){return t in o},getResultUri:function(t){var e=o[t];return e?e.resultUri:null},isPending:function(t){return!!u(t)&&1===o[t].status},isUploaded:function(t){return!!u(t)&&2===o[t].status},markPending:function(t){o[t]=a(1,null)},markUploaded:function(t,e){o[t]=a(2,e)},removeFailed:function(t){delete o[t]},destroy:function(){o={}}}),l=[],f=function(e){return function(n){return t.selection?e(n):[]}},d=function(t,e,n){var r=0;do{-1!==(r=t.indexOf(e,r))&&(t=t.substring(0,r)+n+t.substr(r+e.length),r+=n.length-e.length+1)}while(-1!==r);return t},h=function(t,e,n){return t=d(t,'src="'+e+'"','src="'+n+'"'),t=d(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},p=function(e,n){D(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=A(t.fragments,(function(t){return h(t,e,n)})):t.content=h(t.content,e,n)}))},m=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},b=function(n){return e||(e=Bp(s,{url:bc(t),basePath:yc(t),credentials:wc(t),handler:xc(t)})),x().then(f((function(r){var o=A(r,(function(t){return t.blobInfo}));return e.upload(o,m).then(f((function(e){var o=A(e,(function(e,n){var o=r[n].image;return e.status&&vc(t)?function(e,n){var r;c.removeByUri(e.src),p(e.src,n),t.$(e).attr({src:gc(t)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":t.convertURL(n,"src")})}(o,e.url):e.error&&Td.uploadError(t,e.error),{element:o,status:e.status}}));return n&&n(o),o})))})))},y=function(e){if(mc(t))return b(e)},w=function(e){return!1!==I(l,(function(t){return t(e)}))&&(0!==e.getAttribute("src").indexOf("data:")||pc(t)(e))},x=function(){return r||(r=Pp(s,c)),r.findAll(t.getBody(),w).then(f((function(e){return e=N(e,(function(e){return"string"!=typeof e||(Td.displayError(t,e),!1)})),D(e,(function(t){p(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),e})))},C=function(e){return e.replace(/src="(blob:[^"]+)"/g,(function(e,n){var r=s.getResultUri(n);if(r)return'src="'+r+'"';var o=c.getByUri(n);return o||(o=R(t.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),null)),o?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':e}))};return t.on("SetContent",(function(){mc(t)?y():x()})),t.on("RawSaveContent",(function(t){t.content=C(t.content)})),t.on("GetContent",(function(t){t.source_view||"raw"===t.format||(t.content=C(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){D(t,(function(t){var e=t.attr("src");if(!c.getByUri(e)){var n=s.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:c,addFilter:function(t){l.push(t)},uploadImages:b,uploadImagesAuto:y,scanForImages:x,destroy:function(){c.destroy(),s.destroy(),r=e=null}}},Fp=function(t){var e=$i(t,"br"),n=N(function(t){for(var e=[],n=t.dom();n;)e.push(tt.fromDom(n)),n=n.lastChild;return e}(t).slice(-1),zn);e.length===n.length&&D(n,ne)},Hp=function(t){ee(t),Qt(t,tt.fromHtml('<br data-mce-bogus="1">'))},jp=function(t){Yt(t).each((function(e){Vt(e).each((function(n){Pn(t)&&zn(e)&&Pn(n)&&ne(e)}))}))},Vp=Qs,$p=function(t,e,n){var r=t.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&t.dom.is(e,r[o].selector))return!0;return!1},Up=function(t,e,n,r){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,(function(e){return!!$p(t,e,n)||(e.parentNode===o||!!Xp(t,e,n,r,!0))})),Xp(t,e,n,r))},Wp=function(t,e,n){return!!Vp(e,n.inline)||(!!Vp(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0))},qp=function(t,e,n,r,o,i){var a,u,c,s=n[r];if(n.onmatch)return n.onmatch(e,n,r);if(s)if(void 0===s.length){for(a in s)if(s.hasOwnProperty(a)){if(u="attributes"===r?t.getAttrib(e,a):el(t,e,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!Vp(u,tl(t,Zs(s[a],i),a)))return}}else for(c=0;c<s.length;c++)if("attributes"===r?t.getAttrib(e,s[c]):el(t,e,s[c]))return n;return n},Xp=function(t,e,n,r,o){var i,a,u,c,s=t.formatter.get(n),l=t.dom;if(s&&e)for(a=0;a<s.length;a++)if(i=s[a],Wp(t.dom,e,i)&&qp(l,e,i,"attributes",o,r)&&qp(l,e,i,"styles",o,r)){if(c=i.classes)for(u=0;u<c.length;u++)if(!t.dom.hasClass(e,c[u]))return;return i}},Gp=function(t,e,n,r){var o;return r?Up(t,r,e,n):(r=t.selection.getNode(),!!Up(t,r,e,n)||!((o=t.selection.getStart())===r||!Up(t,o,e,n)))},Yp=function(t,e,n){var r,o=[],i={};return r=t.selection.getStart(),t.dom.getParent(r,(function(r){var a,u;for(a=0;a<e.length;a++)u=e[a],!i[u]&&Xp(t,r,u,n)&&(i[u]=!0,o.push(u))}),t.dom.getRoot()),o},Kp=function(t,e){var n,r,o,i,a,u=t.formatter.get(e),c=t.dom;if(u)for(n=t.selection.getStart(),r=rl(c,n),i=u.length-1;i>=0;i--){if(!(a=u[i].selector)||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(c.is(r[o],a))return!0}return!1},Jp=function(t,e){return t.splitText(e)},Zp=function(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset;return e===r&&Ne.isText(e)?n>0&&n<e.nodeValue.length&&(e=(r=Jp(e,n)).previousSibling,o>n?(e=r=Jp(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(Ne.isText(e)&&n>0&&n<e.nodeValue.length&&(e=Jp(e,n),n=0),Ne.isText(r)&&o>0&&o<r.nodeValue.length&&(o=(r=Jp(r,o).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:r,endOffset:o}},Qp=function(t,e,n){if(0!==n){var r=t.data.slice(e,e+n),o=e+n>=t.data.length,i=0===e;t.replaceData(e,n,function(t,e,n){return R(t,(function(r,o){return Us(o)||$s(o)?r.previousCharIsSpace||""===r.str&&e||r.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:r.str+""}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}}),{previousCharIsSpace:!1,str:""}).str}(r,i,o))}},tm=function(t,e){var n,r=t.data.slice(e),o=r.length-(n=r,n.replace(/^\s+/g,"")).length;return Qp(t,e,o)},em=function(t,e){var n,r,o,i=tt.fromDom(t),a=tt.fromDom(e);return n=a,r="pre,code",o=u(It,i),Xi(n,r,o).isSome()},nm=function(t,e){return Aa(e)&&!1===function(t,e){return Ne.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===em(t,e)}(t,e)||function(t){return Ne.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")}(e)||rm(e)},rm=Ne.hasAttribute("data-mce-bookmark"),om=Ne.hasAttribute("data-mce-bogus"),im=Ne.hasAttributeValue("data-mce-bogus","all"),am=function(t,e){return void 0===e&&(e=!0),function(t,e){var n,r=0;if(nm(t,t))return!1;if(!(n=t.firstChild))return!0;var o=new hi(n,t);do{if(e){if(im(n)){n=o.next(!0);continue}if(om(n)){n=o.next();continue}}if(Ne.isBr(n))r++,n=o.next();else{if(nm(t,n))return!1;n=o.next()}}while(n);return r<=1}(t.dom(),e)},um=function(t,e){return function(t,e){var n=t.container(),r=t.offset();return!1===hu.isTextPosition(t)&&n===e.parentNode&&r>hu.before(e).offset()}(e,t)?hu(e.container(),e.offset()-1):e},cm=function(t){return Aa(t.previousSibling)?p.some((e=t.previousSibling,Ne.isText(e)?hu(e,e.data.length):hu.after(e))):t.previousSibling?Ms.lastPositionIn(t.previousSibling):p.none();var e},sm=function(t){return Aa(t.nextSibling)?p.some((e=t.nextSibling,Ne.isText(e)?hu(e,0):hu.before(e))):t.nextSibling?Ms.firstPositionIn(t.nextSibling):p.none();var e},lm=function(t,e){return cm(e).orThunk((function(){return sm(e)})).orThunk((function(){return function(t,e){var n=hu.before(e.previousSibling?e.previousSibling:e.parentNode);return Ms.prevPosition(t,n).fold((function(){return Ms.nextPosition(t,hu.after(e))}),p.some)}(t,e)}))},fm=function(t,e){return sm(e).orThunk((function(){return cm(e)})).orThunk((function(){return function(t,e){return Ms.nextPosition(t,hu.after(e)).fold((function(){return Ms.prevPosition(t,hu.before(e))}),p.some)}(t,e)}))},dm=function(t,e,n){return function(t,e,n){return t?fm(e,n):lm(e,n)}(t,e,n).map(u(um,n))},hm=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},pm=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(oe(e))},mm=function(t){if(am(t)){var e=tt.fromHtml('<br data-mce-bogus="1">');return ee(t),Qt(t,e),p.some(hu.before(e.dom()))}return p.none()},gm=function(t,e,n){var r,o,i,a,u=Vt(t).filter(ue),c=$t(t).filter(ue);return ne(t),(r=u,o=c,i=e,a=function(t,e,r){var o=t.dom(),i=e.dom(),a=o.data.length;return function(t,e,n){var r=vt(t.data).length;t.appendData(e.data),ne(tt.fromDom(e)),n&&tm(t,r)}(o,i,n),r.container()===i?hu(o,a):r},r.isSome()&&o.isSome()&&i.isSome()?p.some(a(r.getOrDie(),o.getOrDie(),i.getOrDie())):p.none()).orThunk((function(){return n&&(u.each((function(t){return e=t.dom(),n=t.dom().length,r=e.data.slice(0,n),o=r.length-vt(r).length,Qp(e,n-o,o);var e,n,r,o})),c.each((function(t){return tm(t.dom(),0)}))),e}))},vm=function(t,e,n,r){void 0===r&&(r=!0);var o,i=dm(e,t.getBody(),n.dom()),a=Wi(n,u(pm,t),(o=t.getBody(),function(t){return t.dom()===o})),c=gm(n,i,function(t,e){return J(t.schema.getTextInlineElements(),oe(e))}(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(mm).fold((function(){r&&hm(t,e,c)}),(function(n){r&&hm(t,e,p.some(n))}))},bm=ca.ZWSP,ym=function(t){return function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==bm||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e}(t).length>0},wm=function(t){if(t){var e=new hi(t,t);for(t=e.current();t;t=e.next())if(Ne.isText(t))return t}return null},xm=function(t){var e=tt.fromTag("span");return Be(e,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Qt(e,tt.fromText(bm)),e},Cm=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(ym(e))vm(t,!1,tt.fromDom(e),n);else{var i=o.getRng(),a=r.getParent(e,r.isBlock),u=function(t){var e=wm(t);return e&&e.nodeValue.charAt(0)===bm&&e.deleteData(0,1),e}(e);i.startContainer===u&&i.startOffset>0&&i.setStart(u,i.startOffset-1),i.endContainer===u&&i.endOffset>0&&i.setEnd(u,i.endOffset-1),r.remove(e,!0),a&&r.isEmpty(a)&&Hp(tt.fromDom(a)),o.setRng(i)}},_m=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(e)Cm(t,e,n);else if(!(e=Lu(t.getBody(),o.getStart())))for(;e=r.get("_mce_caret");)Cm(t,e,!1)},Sm=function(t,e,n){var r=t.dom,o=r.getParent(n,u(Ys,t));o&&r.isEmpty(o)?n.parentNode.replaceChild(e,n):(Fp(tt.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(e,n):r.insertAfter(e,n))},km=function(t,e){return t.appendChild(e),e},Om=function(t,e){var n=M(t,(function(t,e){return km(t,e.cloneNode(!1))}),e);return km(n,n.ownerDocument.createTextNode(bm))},Tm=function(t){t.on("mouseup keydown",(function(e){!function(t,e){var n=t.selection,r=t.getBody();_m(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==bm||_m(t,Lu(r,n.getStart())),37!==e&&39!==e||_m(t,Lu(r,n.getStart()))}(t,e.keyCode)}))},Em=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(oe(e))&&!Iu(e.dom())&&!Ne.isBogus(e.dom())},Am={},Dm=Cn.filter,Nm=Cn.each;!function(t,e){var n=Am[t];n||(Am[t]=n=[]),Am[t].push(e)}("pre",(function(t){var e,n,r=t.selection.getRng();e=Ne.matchNodeNames(["pre"]),r.collapsed||(n=t.selection.getSelectedBlocks(),Nm(Dm(Dm(n,e),(function(t){return e(t.previousSibling)&&-1!==Cn.indexOf(n,t.previousSibling)})),(function(t){var e,n;e=t.previousSibling,di(n=t).remove(),di(e).append("<br><br>").append(n.childNodes)})))}));var Mm=Tn.each,Rm=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var r=function(e){var n={};return Mm(t.getAttribs(e),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=t.getAttrib(e,o))})),n},o=function(t,e){var n,r;for(r in t)if(t.hasOwnProperty(r)){if(void 0===(n=e[r]))return!1;if(t[r]!==n)return!1;delete e[r]}for(r in e)if(e.hasOwnProperty(r))return!1;return!0};return!!o(r(e),r(n))&&(!!o(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))&&(!Vs(e)&&!Vs(n)))}},Pm=/^(src|href|style)$/,Bm=Tn.each,zm=Qs,Im=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},Lm=function(t,e,n){var r,o;if(r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],Ne.isElement(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return Ne.isText(r)&&n&&o>=r.nodeValue.length&&(r=new hi(r,t.getBody()).next()||r),Ne.isText(r)&&!n&&0===o&&(r=new hi(r,t.getBody()).prev()||r),r},Fm=function(t,e,n,r){var o=t.create(n,r);return e.parentNode.insertBefore(o,e),o.appendChild(e),o},Hm=function(t,e,n,r,o){var i=tt.fromDom(e),a=tt.fromDom(t.create(r,o)),u=n?Wt(i):Ut(i);return te(a,u),n?(Kt(i,a),Zt(a,i)):(Jt(i,a),Qt(a,i)),a.dom()},jm=function(t,e,n,r){return!(e=Gs(e,n,r))||"BR"===e.nodeName||t.isBlock(e)},Vm=function(t,e,n,r,o){var i,a=t.dom;if(!function(t,e,n){return!!zm(e,n.inline)||(!!zm(e,n.block)||(n.selector?Ne.isElement(e)&&t.is(e,n.selector):void 0))}(a,r,e)&&!function(t,e){return e.links&&"A"===t.nodeName}(r,e))return!1;var u=r;if("all"!==e.remove){Bm(e.styles,(function(t,r){t=tl(a,Zs(t,n),r),"number"==typeof r&&(r=t,o=null),(e.remove_similar||!o||zm(el(a,o,r),t))&&a.setStyle(u,r,""),i=!0})),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),Bm(e.attributes,(function(t,r){var i;if(t=Zs(t,n),"number"==typeof r&&(r=t,o=null),e.remove_similar||!o||zm(a.getAttrib(o,r),t)){if("class"===r&&(t=a.getAttrib(u,r))&&(i="",Bm(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(i+=(i?" ":"")+t)})),i))return void a.setAttrib(u,r,i);"class"===r&&u.removeAttribute("className"),Pm.test(r)&&u.removeAttribute("data-mce-"+r),u.removeAttribute(r)}})),Bm(e.classes,(function(t){t=Zs(t,n),o&&!a.hasClass(o,t)||a.removeClass(u,t)}));for(var c=a.getAttribs(u),s=0;s<c.length;s++){var l=c[s].nodeName;if(0!==l.indexOf("_")&&0!==l.indexOf("data-"))return!1}}return"none"!==e.remove?(function(t,e,n){var r,o=e.parentNode,i=t.dom,a=oc(t);n.block&&(a?o===i.getRoot()&&(n.list_block&&zm(e,n.list_block)||Bm(Tn.grep(e.childNodes),(function(e){Ks(t,a,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=Fm(i,e,a),i.setAttribs(r,t.settings.forced_root_block_attrs)):r=0}))):i.isBlock(e)&&!i.isBlock(o)&&(jm(i,e,!1)||jm(i,e.firstChild,!0,!0)||e.insertBefore(i.create("br"),e.firstChild),jm(i,e,!0)||jm(i,e.lastChild,!1,!0)||e.appendChild(i.create("br")))),n.selector&&n.inline&&!zm(n.inline,e)||i.remove(e,!0)}(t,u,e),!0):void 0},$m=function(t,e,n,r,o){var i,a,u=t.formatter.get(e),c=u[0],s=!0,l=t.dom,f=t.selection,d=function(r){var i=function(t,e,n,r,o){var i;return Bm(rl(t.dom,e.parentNode).reverse(),(function(e){var a;i||"_start"===e.id||"_end"===e.id||(a=Xp(t,e,n,r,o))&&!1!==a.split&&(i=e)})),i}(t,r,e,n,o);return function(t,e,n,r,o,i,a,u){var c,s,l,f,d,h,p=t.dom;if(n){for(h=n.parentNode,c=r.parentNode;c&&c!==h;c=c.parentNode){for(s=p.clone(c,!1),d=0;d<e.length;d++)if(Vm(t,e[d],u,s,s)){s=0;break}s&&(l&&s.appendChild(l),f||(f=s),l=s)}!i||a.mixed&&p.isBlock(n)||(r=p.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r}(t,u,i,r,r,!0,c,n)},h=function(e){var r,o,i,a,f;if(Ne.isElement(e)&&l.getContentEditable(e)&&(a=s,s="true"===l.getContentEditable(e),f=!0),r=Tn.grep(e.childNodes),s&&!f)for(o=0,i=u.length;o<i&&!Vm(t,u[o],n,e,e);o++);if(c.deep&&r.length){for(o=0,i=r.length;o<i;o++)h(r[o]);f&&(s=a)}},m=function(t){var e=l.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return function(t){return Vs(t)&&Ne.isElement(t)&&("_start"===t.id||"_end"===t.id)}(n)&&(n=n[t?"firstChild":"lastChild"]),Ne.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),l.remove(e,!0),n},g=function(e){var n,r,o=e.commonAncestorContainer,i=gl(t,e,u,!0);if(c.split){if(i=Zp(i),(n=Lm(t,i,!0))!==(r=Lm(t,i))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&function(t){return/^(TH|TD)$/.test(t.nodeName)}(r)&&r.firstChild&&(r=r.firstChild||r),Im(l,n,r)){var a=p.from(n.firstChild).getOr(n);return d(Hm(l,a,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void m(!0)}if(Im(l,r,n)){a=p.from(r.lastChild).getOr(r);return d(Hm(l,a,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void m(!1)}n=Fm(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Fm(l,r,"span",{id:"_end","data-mce-type":"bookmark"});var s=l.createRng();s.setStartAfter(n),s.setEndBefore(r),bl(l,s,(function(t){D(t,(function(t){Vs(t)||Vs(t.parentNode)||d(t)}))})),d(n),d(r),n=m(!0),r=m()}else n=r=d(n);i.startContainer=n.parentNode?n.parentNode:n,i.startOffset=l.nodeIndex(n),i.endContainer=r.parentNode?r.parentNode:r,i.endOffset=l.nodeIndex(r)+1}bl(l,i,(function(e){Bm(e,(function(e){h(e),Ne.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===nl(l,e.parentNode)&&Vm(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)}))}))};if(r)qs(r)?((a=l.createRng()).setStartBefore(r),a.setEndAfter(r),g(a)):g(r);else if("false"!==l.getContentEditable(f.getNode()))f.isCollapsed()&&c.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?function(t,e,n,r){var o,i,a,u,c,s,l,f=t.dom,d=t.selection,h=[],p=d.getRng();for(o=p.startContainer,i=p.startOffset,c=o,3===o.nodeType&&(i!==o.nodeValue.length&&(u=!0),c=c.parentNode);c;){if(Xp(t,c,e,n,r)){s=c;break}c.nextSibling&&(u=!0),h.push(c),c=c.parentNode}if(s)if(u){a=d.getBookmark(),p.collapse(!0);var m=gl(t,p,t.formatter.get(e),!0);m=Zp(m),t.formatter.remove(e,n,m),d.moveToBookmark(a)}else{l=Lu(t.getBody(),s);var g=xm(!1).dom(),v=Om(h,g);Sm(t,g,l||s),Cm(t,l,!1),d.setCursorLocation(v,1),f.isEmpty(s)&&f.remove(s)}}(t,e,n,o):(i=Pu.getPersistentBookmark(t.selection,!0),g(f.getRng()),f.moveToBookmark(i),c.inline&&Gp(t,e,n,f.getStart())&&Xs(l,f,f.getRng()),t.nodeChanged());else{r=f.getNode();for(var v=0,b=u.length;v<b&&(!u[v].ceFalseOverride||!Vm(t,u[v],n,r,r));v++);}},Um=Tn.each,Wm=function(t){return Ne.isElement(t)&&!Vs(t)&&!Iu(t)&&!Ne.isBogus(t)},qm=function(t,e){var n;for(n=t;n;n=n[e]){if(Ne.isText(n)&&0!==n.nodeValue.length)return t;if(Ne.isElement(n)&&!Vs(n))return n}return t},Xm=function(t,e,n){var r,o,i=new Rm(t);if(e&&n&&(e=qm(e,"previousSibling"),n=qm(n,"nextSibling"),i.compare(e,n))){for(r=e.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,e.appendChild(o);return t.remove(n),Tn.each(Tn.grep(n.childNodes),(function(t){e.appendChild(t)})),e}return n},Gm=function(t,e,n){Um(t.childNodes,(function(t){Wm(t)&&(e(t)&&n(t),t.hasChildNodes()&&Gm(t,e,n))}))},Ym=function(t,e){return u((function(e,n){return!(!n||!el(t,n,e))}),e)},Km=function(t,e,n){return u((function(e,n,r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),Jm(t,r)}),e,n)},Jm=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},Zm=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=nl(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},Qm=function(t,e,n,r){Um(e,(function(e){Um(t.dom.select(e.inline,r),(function(r){Wm(r)&&Vm(t,e,n,r,e.exact?r:null)})),function(t,e,n){if(e.clear_child_styles){var r=e.links?"*:not(a)":"*";Um(t.select(r,n),(function(n){Wm(n)&&Um(e.styles,(function(e,r){t.setStyle(n,r,"")}))}))}}(t.dom,e,r)}))},tg=function(t){var e=hu.fromRangeStart(t),r=hu.fromRangeEnd(t),o=t.commonAncestorContainer;return Ms.fromPosition(!1,o,r).map((function(i){return!Jc(e,r,o)&&Jc(e,i,o)?function(t,e,r,o){var i=n.document.createRange();return i.setStart(t,e),i.setEnd(r,o),i}(e.container(),e.offset(),i.container(),i.offset()):t})).getOr(t)},eg=function(t){return t.collapsed?t:tg(t)},ng=Tn.each,rg=function(t,e,n,r){var o,i,a=t.formatter.get(e),c=a[0],s=!r&&t.selection.isCollapsed(),l=t.dom,f=t.selection,d=function(t,e){if(e=e||c,t){if(e.onformat&&e.onformat(t,e,n,r),ng(e.styles,(function(e,r){l.setStyle(t,r,Zs(e,n))})),e.styles){var o=l.getAttrib(t,"style");o&&l.setAttrib(t,"data-mce-style",o)}ng(e.attributes,(function(e,r){l.setAttrib(t,r,Zs(e,n))})),ng(e.classes,(function(e){e=Zs(e,n),l.hasClass(t,e)||l.addClass(t,e)}))}},h=function(t,e){var n=!1;return!!c.selector&&(ng(t,(function(t){if(!("collapsed"in t&&t.collapsed!==s))return l.is(e,t.selector)&&!Iu(e)?(d(e,t),n=!0,!1):void 0})),n)},p=function(r,o,i,u){var s,l,f=[],p=!0;s=c.inline||c.block,l=r.create(s),d(l),bl(r,o,(function(o){var i,m=function(o){var g=!1,v=p,b=o.nodeName.toLowerCase(),y=o.parentNode.nodeName.toLowerCase();if(Ne.isElement(o)&&r.getContentEditable(o)&&(v=p,p="true"===r.getContentEditable(o),g=!0),Qs(b,"br"))return i=0,void(c.block&&r.remove(o));if(c.wrapper&&Xp(t,o,e,n))i=0;else{if(p&&!g&&c.block&&!c.wrapper&&Ys(t,b)&&Ks(t,y,s))return o=r.rename(o,s),d(o),f.push(o),void(i=0);if(c.selector){var w=h(a,o);if(!c.inline||w)return void(i=0)}!p||g||!Ks(t,s,b)||!Ks(t,y,s)||!u&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Iu(o)||c.inline&&r.isBlock(o)?(i=0,ng(Tn.grep(o.childNodes),m),g&&(p=v),i=0):(i||(i=r.clone(l,!1),o.parentNode.insertBefore(i,o),f.push(i)),i.appendChild(o))}};ng(o,m)})),!0===c.links&&ng(f,(function(t){var e=function(t){"A"===t.nodeName&&d(t,c),ng(Tn.grep(t.childNodes),e)};e(t)})),ng(f,(function(o){var i,u=function(t){var e=!1;return ng(t.childNodes,(function(t){if(function(t){return t&&1===t.nodeType&&!Vs(t)&&!Iu(t)&&!Ne.isBogus(t)}(t))return e=t,!1})),e};i=function(t){var e=0;return ng(t.childNodes,(function(t){(function(t){return t&&Ne.isText(t)&&0===t.length})(t)||Vs(t)||e++})),e}(o),!(f.length>1)&&r.isBlock(o)||0!==i?(c.inline||c.wrapper)&&(c.exact||1!==i||(o=function(t){var e,n;return(e=u(t))&&!Vs(e)&&Wp(r,e,c)&&(n=r.clone(e,!1),d(n),r.replace(n,t,!0),r.remove(e,!0)),n||t}(o)),Qm(t,a,n,o),function(t,e,n,r,o){Xp(t,o.parentNode,n,r)&&Vm(t,e,r,o)||e.merge_with_parents&&t.dom.getParent(o.parentNode,(function(i){if(Xp(t,i,n,r))return Vm(t,e,r,o),!0}))}(t,c,e,n,o),function(t,e,n,r){e.styles&&e.styles.backgroundColor&&Gm(r,Ym(t,"fontSize"),Km(t,"backgroundColor",Zs(e.styles.backgroundColor,n)))}(r,c,n,o),function(t,e,n,r){"sub"!==e.inline&&"sup"!==e.inline||(Gm(r,Ym(t,"fontSize"),Km(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",r),!0))}(r,c,0,o),function(t,e,n,r){r&&!1!==e.merge_siblings&&(r=Xm(t,Gs(r),r),r=Xm(t,r,Gs(r,!0)))}(r,c,0,o)):r.remove(o,!0)}))};if("false"!==l.getContentEditable(f.getNode())){if(c){if(r)qs(r)?h(a,r)||((i=l.createRng()).setStartBefore(r),i.setEndAfter(r),p(l,gl(t,i,a),0,!0)):p(l,r,0,!0);else if(s&&c.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length)!function(t,e,n){var r,o,i,a,u,c,s=t.selection;a=(r=s.getRng()).startOffset,c=r.startContainer.nodeValue,(o=Lu(t.getBody(),s.getStart()))&&(i=wm(o));var l,f,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;c&&a>0&&a<c.length&&d.test(c.charAt(a))&&d.test(c.charAt(a-1))?(u=s.getBookmark(),r.collapse(!0),r=gl(t,r,t.formatter.get(e)),r=Zp(r),t.formatter.apply(e,n,r),s.moveToBookmark(u)):(o&&i.nodeValue===bm||(l=t.getDoc(),f=xm(!0).dom(),i=(o=l.importNode(f,!0)).firstChild,r.insertNode(o),a=1),t.formatter.apply(e,n,o),s.setCursorLocation(i,a))}(t,e,n);else{var m=t.selection.getNode();t.settings.forced_root_block||!a[0].defaultBlock||l.getParent(m,l.isBlock)||rg(t,a[0].defaultBlock),t.selection.setRng(eg(t.selection.getRng())),o=Pu.getPersistentBookmark(t.selection,!0),p(l,gl(t,f.getRng(),a)),c.styles&&function(t,e,n,r){(e.styles.color||e.styles.textDecoration)&&(Tn.walk(r,u(Zm,t),"childNodes"),Zm(t,r))}(l,c,0,m),f.moveToBookmark(o),Xs(l,f,f.getRng()),t.nodeChanged()}!function(t,e){Nm(Am[t],(function(t){t(e)}))}(e,t)}}else{r=f.getNode();for(var g=0,v=a.length;g<v;g++)if(a[g].ceFalseOverride&&l.is(r,a[g].selector))return void d(r,a[g])}},og=function(t,e,n,r){var o=$(n.get()),i={},a={},u=N(rl(t.dom,e),(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}));W(r,(function(e,n){Tn.each(u,(function(r){return t.formatter.matchNode(r,n,{},e.similar)?(-1===o.indexOf(n)&&(D(e.callbacks,(function(t){t(!0,{node:r,format:n,parents:u})})),i[n]=e.callbacks),a[n]=e.callbacks,!1):!$p(t,r,n)&&void 0}))}));var c=ig(n.get(),a,e,u);n.set(Z(Z({},i),c))},ig=function(t,e,n,r){return Y(t,(function(t,o){return!!J(e,o)||(D(t,(function(t){t(!1,{node:n,format:o,parents:r})})),!1)})).t},ag=function(t,e,n,r,o){return null===e.get()&&function(t,e){var n=et({});t.set({}),e.on("NodeChange",(function(r){og(e,r.element,n,t.get())}))}(e,t),function(t,e,n,r){var o=t.get();D(e.split(","),(function(t){o[t]||(o[t]={similar:r,callbacks:[]}),o[t].callbacks.push(n)})),t.set(o)}(e,n,r,o),{unbind:function(){return function(t,e,n){var r=t.get();D(e.split(","),(function(t){r[t].callbacks=N(r[t].callbacks,(function(t){return t!==n})),0===r[t].callbacks.length&&delete r[t]})),t.set(r)}(e,n,r)}}},ug=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,r){Tn.each(r,(function(n,r){t.setAttrib(e,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Tn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){e[t]={block:t,remove:"all"}})),e};var cg,sg=Tn.each,lg=Ci.DOM,fg=function(t,e){var n,r,o,i=e&&e.schema||hr({}),a=function(t){var e;return r="string"==typeof t?{name:t,classes:[],attrs:{}}:t,function(t,e){e.classes.length&&lg.addClass(t,e.classes.join(" ")),lg.setAttribs(t,e.attrs)}(e=lg.create(r.name),r),e},u=function(t,e,n){var r,o,c,s=e.length>0&&e[0],l=s&&s.name;if(c=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(e&&-1!==Tn.inArray(o,e)?e:o[0])}(t,l))l===c?(o=e[0],e=e.slice(1)):o=c;else if(s)o=e[0],e=e.slice(1);else if(!n)return t;return o&&(r=a(o)).appendChild(t),n&&(r||(r=lg.create("div")).appendChild(t),Tn.each(n,(function(e){var n=a(e);r.insertBefore(n,t)}))),u(r,e,o&&o.siblings)};return t&&t.length?(r=t[0],n=a(r),(o=lg.create("div")).appendChild(u(n,t.slice(1),r.siblings)),o):""},dg=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=Tn.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,r,o,i){switch(e){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Tn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=e||"div",n},hg=function(t,e){var n,r,o,i,a,u,c="";if(!1===(u=t.settings.preview_styles))return"";"string"!=typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var s,l=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(u=e.preview)?"":(n=e.block||e.inline||"span",(i=(s=e.selector)&&"string"==typeof s?(s=(s=s.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Tn.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=Tn.map(t.split(/(?:~\+|~|\+)/),dg),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]).length?(i[0].name||(i[0].name=n),n=e.selector,r=fg(i,t)):r=fg([n],t),o=lg.select(n,r)[0]||r.firstChild,sg(e.styles,(function(t,e){(t=l(t))&&lg.setStyle(o,e,t)})),sg(e.attributes,(function(t,e){(t=l(t))&&lg.setAttrib(o,e,t)})),sg(e.classes,(function(t){t=l(t),lg.hasClass(o,t)||lg.addClass(o,t)})),t.fire("PreviewFormats"),lg.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),a=lg.getStyle(t.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,sg(u.split(" "),(function(e){var n=lg.getStyle(o,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=lg.getStyle(t.getBody(),e,!0),"#ffffff"===lg.toHex(n).toLowerCase())||"color"===e&&"#000000"===lg.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===e&&n&&(c+="padding:0 2px;"),c+=e+":"+n+";"}})),t.fire("AfterPreviewFormats"),lg.remove(r),c)},pg=function(t,e,n,r,o){var i=e.get(n);!Gp(t,n,r,o)||"toggle"in i[0]&&!i[0].toggle?rg(t,n,r,o):$m(t,n,r,o)},mg=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},gg=function(t){var e=function(t){var e={},n=function(t,r){t&&("string"!=typeof t?Tn.each(t,(function(t,e){n(e,t)})):(b(r)||(r=[r]),Tn.each(r,(function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),e[t]=r))};return n(ug(t.dom)),n(t.settings.formats),{get:function(t){return t?e[t]:e},has:function(t){return J(e,t)},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),n=et(null);return mg(t),Tm(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:u(rg,t),remove:u($m,t),toggle:u(pg,t,e),match:u(Gp,t),matchAll:u(Yp,t),matchNode:u(Xp,t),canApply:u(Kp,t),formatChanged:u(ag,t,n),getCssText:u(hg,t)}},vg=0,bg=2,yg=1,wg=function(t,e){var n=t.length+e.length+2,r=new Array(n),o=new Array(n),i=function(n,r,o,a,c){var s=u(n,r,o,a);if(null===s||s.start===r&&s.diag===r-a||s.end===n&&s.diag===n-o)for(var l=n,f=o;l<r||f<a;)l<r&&f<a&&t[l]===e[f]?(c.push([0,t[l]]),++l,++f):r-n>a-o?(c.push([2,t[l]]),++l):(c.push([1,e[f]]),++f);else{i(n,s.start,o,s.start-s.diag,c);for(var d=s.start;d<s.end;++d)c.push([0,t[d]]);i(s.end,r,s.end-s.diag,a,c)}},a=function(n,r,o,i){for(var a=n;a-r<i&&a<o&&t[a]===e[a-r];)++a;return function(t,e,n){return{start:t,end:e,diag:n}}(n,a,r)},u=function(n,i,u,c){var s=i-n,l=c-u;if(0===s||0===l)return null;var f,d,h,p,m,g=s-l,v=l+s,b=(v%2==0?v:v+1)/2;for(r[1+b]=n,o[1+b]=i+1,f=0;f<=b;++f){for(d=-f;d<=f;d+=2){for(h=d+b,d===-f||d!==f&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,m=(p=r[h])-n+u-d;p<i&&m<c&&t[p]===e[m];)r[h]=++p,++m;if(g%2!=0&&g-f<=d&&d<=g+f&&o[h-g]<=r[h])return a(o[h-g],d+n-u,i,c)}for(d=g-f;d<=g+f;d+=2){for(h=d+b-g,d===g-f||d!==g+f&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1],m=(p=o[h]-1)-n+u-d;p>=n&&m>=u&&t[p]===e[m];)o[h]=p--,m--;if(g%2==0&&-f<=d&&d<=f&&o[h]<=r[h+g])return a(o[h],d+n-u,i,c)}}},c=[];return i(0,t.length,0,e.length,c),c},xg=function(t){return Ne.isElement(t)?t.outerHTML:Ne.isText(t)?rr.encodeRaw(t.data,!1):Ne.isComment(t)?"\x3c!--"+t.data+"--\x3e":""},Cg=function(t,e,r){var o=function(t){var e,r,o;for(o=n.document.createElement("div"),e=n.document.createDocumentFragment(),t&&(o.innerHTML=t);r=o.firstChild;)e.appendChild(r);return e}(e);if(t.hasChildNodes()&&r<t.childNodes.length){var i=t.childNodes[r];i.parentNode.insertBefore(o,i)}else t.appendChild(o)},_g=function(t){return N(A(V(t.childNodes),xg),(function(t){return t.length>0}))},Sg=function(t,e){var n=A(V(e.childNodes),xg);return function(t,e){var n=0;D(t,(function(t){t[0]===vg?n++:t[0]===yg?(Cg(e,t[1],n),n++):t[0]===bg&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}}(e,n)}))}(wg(n,t),e),e},kg=et(p.none()),Og=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},Tg=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},Eg=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},Ag=function(t){var e=tt.fromTag("body",kg.get().getOrThunk((function(){var t=n.document.implementation.createHTMLDocument("undo");return kg.set(p.some(t)),t})));return oa(e,Eg(t)),D($i(e,"*[data-mce-bogus]"),re),e.dom().innerHTML},Dg=function(t){var e,n,r;return e=_g(t.getBody()),n=(r=z(e,(function(e){var n=Fl.trimInternal(t.serializer,e);return n.length>0?[n]:[]}))).join(""),-1!==n.indexOf("</iframe>")?Og(r):Tg(n)},Ng=function(t,e,n){"fragmented"===e.type?Sg(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},Mg=function(t,e){return!(!t||!e)&&(!!function(t,e){return Eg(t)===Eg(e)}(t,e)||function(t,e){return Ag(t)===Ag(e)}(t,e))},Rg=function(t){return 0===t.get()},Pg=function(t,e,n){Rg(n)&&(t.typing=e)},Bg=function(t,e){t.typing&&(Pg(t,!1,e),t.add())},zg=function(t){var e=et(p.none()),n=et(0),r=et(0),o={data:[],typing:!1,beforeChange:function(){!function(t,e,n){Rg(e)&&n.set(p.some(Pu.getUndoBookmark(t.selection)))}(t,n,e)},add:function(i,a){return function(t,e,n,r,o,i,a){var u=t.settings,c=Dg(t);if(i=i||{},i=Tn.extend(i,c),!1===Rg(r)||t.removed)return null;var s=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&Mg(s,i))return null;if(e.data[n.get()]&&o.get().each((function(t){e.data[n.get()].beforeBookmark=t})),u.custom_undo_redo_levels&&e.data.length>u.custom_undo_redo_levels){for(var l=0;l<e.data.length-1;l++)e.data[l]=e.data[l+1];e.data.length--,n.set(e.data.length)}i.bookmark=Pu.getUndoBookmark(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(i),n.set(e.data.length-1);var f={level:i,lastLevel:s,originalEvent:a};return t.fire("AddUndo",f),n.get()>0&&(t.setDirty(!0),t.fire("change",f)),i}(t,o,r,n,e,i,a)},undo:function(){return function(t,e,n,r){var o;return e.typing&&(e.add(),e.typing=!1,Pg(e,!1,n)),r.get()>0&&(r.set(r.get()-1),o=e.data[r.get()],Ng(t,o,!0),t.setDirty(!0),t.fire("Undo",{level:o})),o}(t,o,n,r)},redo:function(){return function(t,e,n){var r;return e.get()<n.length-1&&(e.set(e.get()+1),r=n[e.get()],Ng(t,r,!1),t.setDirty(!0),t.fire("Redo",{level:r})),r}(t,r,o.data)},clear:function(){!function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")}(t,o,r)},reset:function(){!function(t){t.clear(),t.add()}(o)},hasUndo:function(){return function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!Mg(Dg(t),e.data[0])}(t,o,r)},hasRedo:function(){return function(t,e){return e.get()<t.data.length-1&&!t.typing}(o,r)},transact:function(t){return function(t,e,n){return Bg(t,e),t.beforeChange(),t.ignore(n),t.add()}(o,n,t)},ignore:function(t){!function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}}(n,t)},extra:function(e,n){!function(t,e,n,r,o){if(e.transact(r)){var i=e.data[n.get()].bookmark,a=e.data[n.get()-1];Ng(t,a,!0),e.transact(o)&&(e.data[n.get()-1].beforeBookmark=i)}}(t,o,r,e,n)}};return function(t,e,n){var r=et(!1),o=function(t){Pg(e,!1,n),e.add({},t)};t.on("init",(function(){e.add()})),t.on("BeforeExecCommand",(function(t){var r=t.command;"Undo"!==r&&"Redo"!==r&&"mceRepaint"!==r&&(Bg(e,n),e.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&o(t)})),t.on("ObjectResizeStart cut",(function(){e.beforeChange()})),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),r.get()&&e.typing&&!1===Mg(Dg(t),e.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),r.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var i=t.keyCode;if(!t.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)e.typing&&o(t);else{var a=t.ctrlKey&&!t.altKey||t.metaKey;!(i<16||i>20)||224===i||91===i||e.typing||a||(e.beforeChange(),Pg(e,!0,n),e.add({},t),r.set(!0))}})),t.on("mousedown",(function(t){e.typing&&o(t)}));t.on("input",(function(t){t.inputType&&("insertReplacementText"===t.inputType||function(t){return"insertText"===t.inputType&&null===t.data}(t))&&o(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()}))}(t,o,n),function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")}(t),o},Ig=[9,27,Md.HOME,Md.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Md.DOWN,Md.UP,Md.LEFT,Md.RIGHT].concat(bn.browser.isFirefox()?[224]:[]),Lg=function(t){return"keydown"===t.type||"keyup"===t.type},Fg=function(t){var e=t.keyCode;return e===Md.BACKSPACE||e===Md.DELETE},Hg=function(t){var e=t.dom,n=oc(t),r=Rc(t),o=function(i,a){if(!function(t){if(Lg(t)){var e=t.keyCode;return!Fg(t)&&(Md.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||T(Ig,e))}return!1}(i)){var u=t.getBody(),c=!function(t){return Lg(t)&&!(Fg(t)||"keyup"===t.type&&229===t.keyCode)}(i)&&function(t,e,n){if(am(tt.fromDom(e),!1)){var r=""===n,o=e.firstElementChild;return!o||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&(r?!t.isBlock(o):n===o.nodeName.toLowerCase())}return!1}(e,u,n);(""!==e.getAttrib(u,"data-mce-placeholder")!==c||a)&&(e.setAttrib(u,"data-mce-placeholder",c?r:null),e.setAttrib(u,"aria-placeholder",c?r:null),function(t,e){t.fire("PlaceholderToggle",{state:e})}(t,c),t.on(c?"keydown":"keyup",o),t.off(c?"keyup":"keydown",o))}};r&&t.on("init",(function(n){o(n,!0),t.on("change SetContent ExecCommand",o),t.on("remove",(function(){var n=t.getBody();e.setAttrib(n,"data-mce-placeholder",null),e.setAttrib(n,"aria-placeholder",null)}))}))},jg=function(t){return void 0===t.touches||1!==t.touches.length?p.none():p.some(t.touches[0])},Vg=function(t){var e=et(p.none()),n=et(!1),r=Pi((function(e){t.fire("longpress",Z(Z({},e),{type:"longpress"})),n.set(!0)}),400);t.on("touchstart",(function(t){jg(t).each((function(o){r.cancel();var a={x:i(o.clientX),y:i(o.clientY),target:i(t.target)};r.throttle(t),n.set(!1),e.set(p.some(a))}))}),!0),t.on("touchmove",(function(o){r.cancel(),jg(o).each((function(r){e.get().each((function(o){(function(t,e){var n=Math.abs(t.clientX-e.x()),r=Math.abs(t.clientY-e.y());return n>5||r>5})(r,o)&&(e.set(p.none()),n.set(!1),t.fire("longpresscancel"))}))}))}),!0),t.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&e.get().filter((function(t){return t.target().isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():t.fire("tap",Z(Z({},o),{type:"tap"}))}))}),!0)},$g=function(t,e){return t.hasOwnProperty(e.nodeName)},Ug=function(t,e){return!!Ne.isText(e)||!!Ne.isElement(e)&&(!$g(t,e)&&!Vs(e))},Wg=function(t,e){if(Ne.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||$g(t,e.nextSibling)))return!0}return!1},qg=function(t){var e,n,r,o,i,a,u,c,s,l,f=t.dom,d=t.selection,h=t.schema,p=h.getBlockElements(),m=d.getStart(),g=t.getBody(),v=oc(t);if(m&&Ne.isElement(m)&&v&&(l=g.nodeName.toLowerCase(),h.isValidChild(l,v.toLowerCase())&&!function(t,e,n){return E(lh(tt.fromDom(n),tt.fromDom(e)),(function(e){return $g(t,e.dom())}))}(p,g,m))){for(n=(e=d.getRng()).startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,s=Pf(t),m=g.firstChild;m;)if(Ug(p,m)){if(Wg(p,m)){u=m,m=m.nextSibling,f.remove(u);continue}a||(a=f.create(v,ic(t)),m.parentNode.insertBefore(a,m),c=!0),u=m,m=m.nextSibling,a.appendChild(u)}else a=null,m=m.nextSibling;c&&s&&(e.setStart(n,r),e.setEnd(o,i),d.setRng(e),t.nodeChanged())}},Xg=function(t){oc(t)&&t.on("NodeChange",u(qg,t))},Gg=Ne.isText,Yg=function(t){return Gg(t)&&t.data[0]===ca.ZWSP},Kg=function(t){return Gg(t)&&t.data[t.data.length-1]===ca.ZWSP},Jg=function(t){return t.ownerDocument.createTextNode(ca.ZWSP)},Zg=function(t,e){return t?function(t){if(Gg(t.previousSibling))return Kg(t.previousSibling)||t.previousSibling.appendData(ca.ZWSP),t.previousSibling;if(Gg(t))return Yg(t)||t.insertData(0,ca.ZWSP),t;var e=Jg(t);return t.parentNode.insertBefore(e,t),e}(e):function(t){if(Gg(t.nextSibling))return Yg(t.nextSibling)||t.nextSibling.insertData(0,ca.ZWSP),t.nextSibling;if(Gg(t))return Kg(t)||t.appendData(ca.ZWSP),t;var e=Jg(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e}(e)},Qg=u(Zg,!0),tv=u(Zg,!1),ev=function(t,e){return Ne.isText(t.container())?Zg(e,t.container()):Zg(e,t.getNode())},nv=function(t,e){var n=e.get();return n&&t.container()===n&&da(n)},rv=function(t,e){return e.fold((function(e){Gu.remove(t.get());var n=Qg(e);return t.set(n),p.some(hu(n,n.length-1))}),(function(e){return Ms.firstPositionIn(e).map((function(e){if(nv(e,t))return hu(t.get(),1);Gu.remove(t.get());var n=ev(e,!0);return t.set(n),hu(n,1)}))}),(function(e){return Ms.lastPositionIn(e).map((function(e){if(nv(e,t))return hu(t.get(),t.get().length-1);Gu.remove(t.get());var n=ev(e,!1);return t.set(n),hu(n,n.length-1)}))}),(function(e){Gu.remove(t.get());var n=tv(e);return t.set(n),p.some(hu(n,1))}))},ov=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,iv=function(t,e){if(!e)return e;var n=e.container(),r=e.offset();return t?da(n)?Ne.isText(n.nextSibling)?hu(n.nextSibling,0):hu.after(n):ma(e)?hu(n,r+1):e:da(n)?Ne.isText(n.previousSibling)?hu(n.previousSibling,n.previousSibling.data.length):hu.before(n):ga(e)?hu(n,r-1):e},av={isInlineTarget:function(t,e){return Bt(tt.fromDom(e),Dc(t))},findRootInline:function(t,e,n){var r=function(t,e,n){return N(Ci.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return p.from(r[r.length-1])},isRtl:function(t){return"rtl"===Ci.DOM.getStyle(t,"direction",!0)||(e=t.textContent,ov.test(e));var e},isAtZwsp:function(t){return ma(t)||ga(t)},normalizePosition:iv,normalizeForwards:u(iv,!0),normalizeBackwards:u(iv,!1),hasSameParentBlock:function(t,e,n){var r=Kc(e,t),o=Kc(n,t);return r&&r===o}},uv=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return p.none()},cv=Gl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),sv=function(t,e){var n=Kc(e,t);return n||t},lv=function(t,e,n){var r=av.normalizeForwards(n),o=sv(e,r.container());return av.findRootInline(t,o,r).fold((function(){return Ms.nextPosition(o,r).bind(u(av.findRootInline,t,o)).map((function(t){return cv.before(t)}))}),p.none)},fv=function(t,e){return null===Lu(t,e)},dv=function(t,e,n){return av.findRootInline(t,e,n).filter(u(fv,e))},hv=function(t,e,n){var r=av.normalizeBackwards(n);return dv(t,e,r).bind((function(t){return Ms.prevPosition(t,r).isNone()?p.some(cv.start(t)):p.none()}))},pv=function(t,e,n){var r=av.normalizeForwards(n);return dv(t,e,r).bind((function(t){return Ms.nextPosition(t,r).isNone()?p.some(cv.end(t)):p.none()}))},mv=function(t,e,n){var r=av.normalizeBackwards(n),o=sv(e,r.container());return av.findRootInline(t,o,r).fold((function(){return Ms.prevPosition(o,r).bind(u(av.findRootInline,t,o)).map((function(t){return cv.after(t)}))}),p.none)},gv=function(t){return!1===av.isRtl(bv(t))},vv=function(t,e,n){return uv([lv,hv,pv,mv],[t,e,n]).filter(gv)},bv=function(t){return t.fold(a,a,a,a)},yv=function(t){return t.fold(i("before"),i("start"),i("end"),i("after"))},wv=function(t){return t.fold(cv.before,cv.before,cv.after,cv.after)},xv=function(t,e,n,r,o,i){return $a(av.findRootInline(e,n,r),av.findRootInline(e,n,o),(function(e,r){return e!==r&&av.hasSameParentBlock(n,e,r)?cv.after(t?e:r):i})).getOr(i)},Cv=function(t,e){return t.fold(i(!0),(function(t){return r=e,!(yv(n=t)===yv(r)&&bv(n)===bv(r));var n,r}))},_v=function(t,e){return t?e.fold(o(p.some,cv.start),p.none,o(p.some,cv.after),p.none):e.fold(p.none,o(p.some,cv.before),p.none,o(p.some,cv.end))},Sv=function(t,e,n,r){var o=av.normalizePosition(t,r),i=vv(e,n,o);return vv(e,n,o).bind(u(_v,t)).orThunk((function(){return function(t,e,n,r,o){var i=av.normalizePosition(t,o);return Ms.fromPosition(t,n,i).map(u(av.normalizePosition,t)).fold((function(){return r.map(wv)}),(function(o){return vv(e,n,o).map(u(xv,t,e,n,i,o)).filter(u(Cv,r))})).filter(gv)}(t,e,n,i,r)}))},kv=vv,Ov=Sv,Tv=(u(Sv,!1),u(Sv,!0),wv),Ev=function(t){return t.fold(cv.start,cv.start,cv.end,cv.end)},Av=function(t){return x(t.selection.getSel().modify)},Dv=function(t,e,n){var r=t?1:-1;return e.setRng(hu(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},Nv=function(t,e){var n=e.selection.getRng(),r=t?hu.fromRangeEnd(n):hu.fromRangeStart(n);return!!Av(e)&&(t&&ma(r)?Dv(!0,e.selection,r):!(t||!ga(r))&&Dv(!1,e.selection,r))},Mv=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},Rv=function(t){return!1!==t.settings.inline_boundaries},Pv=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},Bv=function(t,e,n){return rv(e,n).map((function(e){return Mv(t,e),n}))},zv=function(t,e,n){return function(){return!!Rv(e)&&Nv(t,e)}},Iv={move:function(t,e,n){return function(){return!!Rv(t)&&function(t,e,n){var r=t.getBody(),o=hu.fromRangeStart(t.selection.getRng()),i=u(av.isInlineTarget,t);return Ov(n,i,r,o).bind((function(n){return Bv(t,e,n)}))}(t,e,n).isSome()}},moveNextWord:u(zv,!0),movePrevWord:u(zv,!1),setupSelectedState:function(t){var e=et(null),n=u(av.isInlineTarget,t);return t.on("NodeChange",(function(r){Rv(t)&&(function(t,e,n){var r=N(e.select('*[data-mce-selected="inline-boundary"]'),t),o=N(n,t);D(F(r,o),u(Pv,!1)),D(F(o,r),u(Pv,!0))}(n,t.dom,r.parents),function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=hu.fromRangeStart(t.selection.getRng());hu.isTextPosition(n)&&!1===av.isAtZwsp(n)&&(Mv(t,Gu.removeAndReposition(e.get(),n)),e.set(null))}}(t,e),function(t,e,n,r){if(e.selection.isCollapsed()){var o=N(r,t);D(o,(function(r){var o=hu.fromRangeStart(e.selection.getRng());kv(t,e.getBody(),o).bind((function(t){return Bv(e,n,t)}))}))}}(n,t,e,r.parents))})),e},setCaretPosition:Mv},Lv=function(t){return R(t,(function(t,e){return t.concat(function(t){var e=function(e){return A(e,(function(e){return(e=Ra(e)).node=t,e}))};if(Ne.isElement(t))return e(t.getClientRects());if(Ne.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(e))}),[])};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(cg||(cg={}));var Fv,Hv=function(t,e,n,r,o,i){var a,u,c=0,s=[],l=function(r){var i,a,l;for(l=Lv([r]),-1===t&&(l=l.reverse()),i=0;i<l.length;i++)if(a=l[i],!n(a,u)){if(s.length>0&&e(a,Cn.last(s))&&c++,a.line=c,o(a))return!0;s.push(a)}};return(u=Cn.last(i.getClientRects()))?(l(a=i.getNode()),function(t,e,n,r){for(;r=Yc(r,t,Na,e);)if(n(r))return}(t,r,l,a),s):s},jv=u(Hv,cg.Up,za,Ia),Vv=u(Hv,cg.Down,Ia,za),$v=function(t){return function(e){return function(t,e){return e.line>t}(t,e)}},Uv=function(t){return function(e){return function(t,e){return e.line===t}(t,e)}},Wv=Ne.isContentEditableFalse,qv=Yc,Xv=function(t,e){return Math.abs(t.left-e)},Gv=function(t,e){return Math.abs(t.right-e)},Yv=function(t,e){return t>=e.left&&t<=e.right},Kv=function(t,e){return Cn.reduce(t,(function(t,n){var r,o;return r=Math.min(Xv(t,e),Gv(t,e)),o=Math.min(Xv(n,e),Gv(n,e)),Yv(e,n)?n:Yv(e,t)?t:o===r&&Wv(n.node)||o<r?n:t}))},Jv=function(t,e,n,r){for(;r=qv(r,t,Na,e);)if(n(r))return},Zv=function(t,e,n){var r,o=Lv(function(t){return N(V(t.getElementsByTagName("*")),Fc)}(t)),i=N(o,(function(t){return n>=t.top&&n<=t.bottom}));return(r=Kv(i,e))&&(r=Kv(function(t,e){var n=[],r=function(t,r){var o;return o=N(Lv([r]),(function(n){return!t(n,e)})),n=n.concat(o),0===o.length};return n.push(e),Jv(cg.Up,t,u(r,za),e.node),Jv(cg.Down,t,u(r,Ia),e.node),n}(t,r),e))&&Fc(r.node)?function(t,e){return{node:t.node,before:Xv(t,e)<Gv(t,e)}}(r,e):null},Qv=Ne.isContentEditableTrue,tb=Ne.isContentEditableFalse,eb=function(t,e,n,r,o){return e._selectionOverrides.showCaret(t,n,r,o)},nb=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e)},rb=function(t,e,n){var r=os(1,t.getBody(),e),o=hu.fromRangeStart(r),i=o.getNode();if(tb(i))return eb(1,t,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(tb(a))return eb(1,t,a,!1,!1);var u=t.dom.getParent(o.getNode(),(function(t){return tb(t)||Qv(t)}));return tb(u)?eb(1,t,u,!1,n):null},ob=function(t,e,n){if(!e||!e.collapsed)return e;var r=rb(t,e,n);return r||e},ib=function(t,e,n){return p.from(n.container()).filter(Ne.isText).exists((function(r){var o=t?0:-1;return e(r.data.charAt(n.offset()+o))}))},ab=u(ib,!0,Us),ub=u(ib,!1,Us),cb=function(t){var e=t.container();return Ne.isText(e)&&0===e.data.length},sb=function(t,e){return function(n){return p.from(Zc(t?0:-1,n)).filter(e).isSome()}},lb=function(t){return"IMG"===t.nodeName&&"block"===Le(tt.fromDom(t),"display")},fb=function(t){return Ne.isContentEditableFalse(t)&&!Ne.isBogusAll(t)},db=sb(!0,lb),hb=sb(!1,lb),pb=sb(!0,Ne.isTable),mb=sb(!1,Ne.isTable),gb=sb(!0,fb),vb=sb(!1,fb);!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(Fv||(Fv={}));var bb,yb,wb=function(t,e){return t===du.Backwards?L(e):e},xb=function(t,e,n){return t===du.Forwards?e.next(n):e.prev(n)},Cb=function(t,e,n,r){return Ne.isBr(r.getNode(e===du.Forwards))?Fv.Br:!1===Jc(n,r)?Fv.Block:Fv.Wrap},_b=function(t,e,n,r){for(var o,i=xs(n),a=r,u=[];a&&(o=xb(e,i,a));){if(Ne.isBr(o.getNode(!1)))return e===du.Forwards?{positions:wb(e,u).concat([o]),breakType:Fv.Br,breakAt:p.some(o)}:{positions:wb(e,u),breakType:Fv.Br,breakAt:p.some(o)};if(o.isVisible()){if(t(a,o)){var c=Cb(0,e,a,o);return{positions:wb(e,u),breakType:c,breakAt:p.some(o)}}u.push(o),a=o}else a=o}return{positions:wb(e,u),breakType:Fv.Eol,breakAt:p.none()}},Sb=function(t,e,n,r){return e(n,r).breakAt.map((function(r){var o=e(n,r).positions;return t===du.Backwards?o.concat(r):[r].concat(o)})).getOr([])},kb=function(t,e){return R(t,(function(t,n){return t.fold((function(){return p.some(n)}),(function(r){return $a(H(r.getClientRects()),H(n.getClientRects()),(function(t,o){var i=Math.abs(e-t.left);return Math.abs(e-o.left)<=i?n:r})).or(t)}))}),p.none())},Ob=function(t,e){return H(e.getClientRects()).bind((function(e){return kb(t,e.left)}))},Tb=u(_b,fu.isAbove,-1),Eb=u(_b,fu.isBelow,1),Ab=u(Sb,-1,Tb),Db=u(Sb,1,Eb),Nb=Ne.isContentEditableFalse,Mb=Fa,Rb=function(t,e,n,r){var o=t===du.Forwards,i=o?gb:vb;if(!r.collapsed){var a=Mb(r);if(Nb(a))return eb(t,e,a,t===du.Backwards,!0)}var u=function(t){return fa(t.startContainer)}(r),c=as(t,e.getBody(),r);if(i(c))return nb(e,c.getNode(!o));var s=av.normalizePosition(o,n(c));if(!s)return u?r:null;if(i(s))return eb(t,e,s.getNode(!o),o,!0);var l=n(s);return l&&i(l)&&ss(s,l)?eb(t,e,l.getNode(!o),o,!0):u?ob(e,s.toRange(),!0):null},Pb=function(t,e,n,r){var o,i,a,u,c,s,l,f,d;if(d=Mb(r),o=as(t,e.getBody(),r),i=n(e.getBody(),$v(1),o),a=N(i,Uv(1)),c=Cn.last(o.getClientRects()),(gb(o)||pb(o))&&(d=o.getNode()),(vb(o)||mb(o))&&(d=o.getNode(!0)),!c)return null;if(s=c.left,(u=Kv(a,s))&&Nb(u.node))return l=Math.abs(s-u.left),f=Math.abs(s-u.right),eb(t,e,u.node,l<f,!0);if(d){var h=function(t,e,n,r){var o,i,a,u,c,s,l=xs(e),f=[],d=0,h=function(t){return Cn.last(t.getClientRects())};1===t?(o=l.next,i=Ia,a=za,u=hu.after(r)):(o=l.prev,i=za,a=Ia,u=hu.before(r)),s=h(u);do{if(u.isVisible()&&!a(c=h(u),s)){if(f.length>0&&i(c,Cn.last(f))&&d++,(c=Ra(c)).position=u,c.line=d,n(c))return f;f.push(c)}}while(u=o(u));return f}(t,e.getBody(),$v(1),d);if(u=Kv(N(h,Uv(1)),s))return ob(e,u.position.toRange(),!0);if(u=Cn.last(N(h,Uv(0))))return ob(e,u.position.toRange(),!0)}},Bb=function(t,e,n){var r,o,i=xs(t.getBody()),a=u(cs,i.next),c=u(cs,i.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(r=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?a(hu.fromRangeStart(n)):c(hu.fromRangeStart(n)))||(o=function(t){var e=t.dom.create(oc(t));return(!bn.ie||bn.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(t),1===e?t.$(r).after(o):t.$(r).before(o),t.selection.select(o,!0),t.selection.collapse())}},zb=function(t,e){return function(){var n=function(t,e){var n,r=xs(t.getBody()),o=u(cs,r.next),i=u(cs,r.prev),a=e?du.Forwards:du.Backwards,c=e?o:i,s=t.selection.getRng();return(n=Rb(a,t,c,s))?n:(n=Bb(t,a,s))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},Ib=function(t,e){return function(){var n=function(t,e){var n,r=e?1:-1,o=e?Vv:jv,i=t.selection.getRng();return(n=Pb(r,t,o,i))?n:(n=Bb(t,r,i))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},Lb=function(t,e){return function(){var n=e?hu.fromRangeEnd(t.selection.getRng()):hu.fromRangeStart(t.selection.getRng()),r=e?Eb(t.getBody(),n):Tb(t.getBody(),n);return(e?j(r.positions):H(r.positions)).filter(function(t){return function(e){return t?vb(e):gb(e)}}(e)).fold(i(!1),(function(e){return t.selection.setRng(e.toRange()),!0}))}},Fb=function(t,e,n,r,o){var i=$i(tt.fromDom(n),"td,th,caption").map((function(t){return t.dom()}));return function(t,e,n){return R(t,(function(t,r){return t.fold((function(){return p.some(r)}),(function(t){var o=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),i=Math.sqrt(Math.abs(r.x-e)+Math.abs(r.y-n));return p.some(i<o?r:t)}))}),p.none())}(N(function(t,e){return z(e,(function(e){var n=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}}(Ra(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))}(t,i),(function(t){return e(t,o)})),r,o).map((function(t){return t.cell}))},Hb=u(Fb,(function(t){return t.bottom}),(function(t,e){return t.y<e})),jb=u(Fb,(function(t){return t.top}),(function(t,e){return t.y>e})),Vb=function(t,e){return H(e.getClientRects()).bind((function(e){return Hb(t,e.left,e.top)})).bind((function(t){return Ob((n=t,Ms.lastPositionIn(n).map((function(t){return Tb(n,t).positions.concat(t)})).getOr([])),e);var n}))},$b=function(t,e){return j(e.getClientRects()).bind((function(e){return jb(t,e.left,e.top)})).bind((function(t){return Ob((n=t,Ms.firstPositionIn(n).map((function(t){return[t].concat(Eb(n,t).positions)})).getOr([])),e);var n}))},Ub=function(t,e){t.selection.setRng(e),rh(t,e)},Wb=function(t,e,n){var r=t(e,n);return function(t){return t.breakType===Fv.Wrap&&0===t.positions.length}(r)||!Ne.isBr(n.getNode())&&function(t){return t.breakType===Fv.Br&&1===t.positions.length}(r)?!function(t,e,n){return n.breakAt.map((function(n){return t(e,n).breakAt.isSome()})).getOr(!1)}(t,e,r):r.breakAt.isNone()},qb=u(Wb,Tb),Xb=u(Wb,Eb),Gb=function(t,e,n,r){var o=t.selection.getRng(),i=e?1:-1;if(Lc()&&function(t,e,n){var r=hu.fromRangeStart(e);return Ms.positionIn(!t,n).map((function(t){return t.isEqual(r)})).getOr(!1)}(e,o,n)){var a=eb(i,t,n,!e,!0);return Ub(t,a),!0}return!1},Yb=function(t,e){var n=e.getNode(t);return Ne.isElement(n)&&"TABLE"===n.nodeName?p.some(n):p.none()},Kb=function(t,e,n){var r=Yb(!!e,n),o=!1===e;r.fold((function(){return Ub(t,n.toRange())}),(function(r){return Ms.positionIn(o,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return Ub(t,n.toRange())}),(function(o){return function(t,e,n,r){var o=oc(e);o?e.undoManager.transact((function(){var r=tt.fromTag(o);Be(r,ic(e)),Qt(r,tt.fromTag("br")),t?Jt(tt.fromDom(n),r):Kt(tt.fromDom(n),r);var i=e.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),Ub(e,i)})):Ub(e,r.toRange())}(e,t,r,n)}))}))},Jb=function(t,e,n,r){var o=t.selection.getRng(),i=hu.fromRangeStart(o),a=t.getBody();if(!e&&qb(r,i)){var u=function(t,e,n){return Vb(e,n).orThunk((function(){return H(n.getClientRects()).bind((function(n){return kb(Ab(t,hu.before(e)),n.left)}))})).getOr(hu.before(e))}(a,n,i);return Kb(t,e,u),!0}if(e&&Xb(r,i)){u=function(t,e,n){return $b(e,n).orThunk((function(){return H(n.getClientRects()).bind((function(n){return kb(Db(t,hu.after(e)),n.left)}))})).getOr(hu.after(e))}(a,n,i);return Kb(t,e,u),!0}return!1},Zb=function(t,e){return function(){return p.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return p.from(t.dom.getParent(n,"table")).map((function(n){return Gb(t,e,n)}))})).getOr(!1)}},Qb=function(t,e){return function(){return p.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return p.from(t.dom.getParent(n,"table")).map((function(r){return Jb(t,e,r,n)}))})).getOr(!1)}},ty=function(t){return T(["figcaption"],oe(t))},ey=function(t){var e=n.document.createRange();return e.setStartBefore(t.dom()),e.setEndBefore(t.dom()),e},ny=function(t,e,n){n?Qt(t,e):Zt(t,e)},ry=function(t,e,n,r){return""===e?function(t,e){var n=tt.fromTag("br");return ny(t,n,e),ey(n)}(t,r):function(t,e,n,r){var o=tt.fromTag(n),i=tt.fromTag("br");return Be(o,r),Qt(o,i),ny(t,o,e),ey(i)}(t,r,e,n)},oy=function(t,e,n){return e?function(t,e){return Eb(t,e).breakAt.isNone()}(t.dom(),n):function(t,e){return Tb(t,e).breakAt.isNone()}(t.dom(),n)},iy=function(t,e){var n=tt.fromDom(t.getBody()),r=hu.fromRangeStart(t.selection.getRng()),o=oc(t),i=ic(t);return function(t,e){var n=u(It,e);return qi(tt.fromDom(t.container()),Pn,n).filter(ty)}(r,n).exists((function(){if(oy(n,e,r)){var a=ry(n,o,i,e);return t.selection.setRng(a),!0}return!1}))},ay=function(t,e){return function(){return!!t.selection.isCollapsed()&&iy(t,e)}},uy=function(t,e){return z(function(t){return A(t,(function(t){return Z({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:r},t)}))}(t),(function(t){return function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey}(t,e)?[t]:[]}))},cy=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,r)}},sy=function(t,e){return P(uy(t,e),(function(t){return t.action()}))},ly=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){var r=kt().os;sy([{keyCode:Md.RIGHT,action:zb(t,!0)},{keyCode:Md.LEFT,action:zb(t,!1)},{keyCode:Md.UP,action:Ib(t,!1)},{keyCode:Md.DOWN,action:Ib(t,!0)},{keyCode:Md.RIGHT,action:Zb(t,!0)},{keyCode:Md.LEFT,action:Zb(t,!1)},{keyCode:Md.UP,action:Qb(t,!1)},{keyCode:Md.DOWN,action:Qb(t,!0)},{keyCode:Md.RIGHT,action:Iv.move(t,e,!0)},{keyCode:Md.LEFT,action:Iv.move(t,e,!1)},{keyCode:Md.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Iv.moveNextWord(t,e)},{keyCode:Md.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Iv.movePrevWord(t,e)},{keyCode:Md.UP,action:ay(t,!1)},{keyCode:Md.DOWN,action:ay(t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)}))},fy=function(t,e){return Lt(t,e)?qi(e,(function(t){return In(t)||Fn(t)}),function(t){return function(e){return It(t,tt.fromDom(e.dom().parentNode))}}(t)):p.none()},dy=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)}(t))},hy=function(t,e,n){return $a(Ms.firstPositionIn(n),Ms.lastPositionIn(n),(function(r,o){var i=av.normalizePosition(!0,r),a=av.normalizePosition(!1,o),u=av.normalizePosition(!1,e);return t?Ms.nextPosition(n,u).map((function(t){return t.isEqual(a)&&e.isEqual(i)})).getOr(!1):Ms.prevPosition(n,u).map((function(t){return t.isEqual(i)&&e.isEqual(a)})).getOr(!1)})).getOr(!0)},py=function(t,e){return{from:i(t),to:i(e)}},my=function(t,e){var n=tt.fromDom(t),r=tt.fromDom(e.container());return fy(n,r).map((function(t){return function(t,e){return{block:i(t),position:i(e)}}(t,e)}))},gy=function(t,e,n){var r=my(t,hu.fromRangeStart(n)),o=r.bind((function(n){return Ms.fromPosition(e,t,n.position()).bind((function(n){return my(t,n).map((function(n){return function(t,e,n){return Ne.isBr(n.position().getNode())&&!1===am(n.block())?Ms.positionIn(!1,n.block().dom()).bind((function(r){return r.isEqual(n.position())?Ms.fromPosition(e,t,r).bind((function(e){return my(t,e)})):p.some(n)})).getOr(n):n}(t,e,n)}))}))}));return $a(r,o,py).filter((function(t){return function(t){return!1===It(t.from().block(),t.to().block())}(t)&&function(t){return jt(t.from().block()).bind((function(e){return jt(t.to().block()).filter((function(t){return It(e,t)}))})).isSome()}(t)&&function(t){return!1===Ne.isContentEditableFalse(t.from().block().dom())&&!1===Ne.isContentEditableFalse(t.to().block().dom())}(t)}))},vy=function(t,e,n){return n.collapsed?gy(t,e,n):p.none()},by=function(t){var e=qt(t);return B(e,Pn).fold((function(){return e}),(function(t){return e.slice(0,t)}))},yy=function(t){var e=by(t);return D(e,ne),e},wy=function(t,e){var n=fh(e,t);return P(n.reverse(),(function(t){return am(t)})).each(ne)},xy=function(t,e,n,r){if(am(n))return Hp(n),Ms.firstPositionIn(n.dom());0===N(Ut(r),(function(t){return!am(t)})).length&&am(e)&&Kt(r,tt.fromTag("br"));var o=Ms.prevPosition(n.dom(),hu.before(r.dom()));return D(yy(e),(function(t){Kt(r,t)})),wy(t,e),o},Cy=function(t,e,n){if(am(n))return ne(n),am(e)&&Hp(e),Ms.firstPositionIn(e.dom());var r=Ms.lastPositionIn(n.dom());return D(yy(e),(function(t){Qt(n,t)})),wy(t,e),r},_y=function(t,e){return Lt(e,t)?function(t,e){var n=fh(e,t);return p.from(n[n.length-1])}(e,t):p.none()},Sy=function(t,e){Ms.positionIn(t,e.dom()).map((function(t){return t.getNode()})).map(tt.fromDom).filter(zn).each(ne)},ky=function(t,e,n){return Sy(!0,e),Sy(!1,n),_y(e,n).fold(u(Cy,t,e,n),u(xy,t,e,n))},Oy=function(t,e,n,r){return e?ky(t,r,n):ky(t,n,r)},Ty=function(t,e){var n=tt.fromDom(t.getBody()),r=vy(n.dom(),e,t.selection.getRng()).bind((function(t){return Oy(n,e,t.from().block(),t.to().block())}));return r.each((function(e){t.selection.setRng(e.toRange())})),r.isSome()},Ey=function(t,e){var n=tt.fromDom(e),r=u(It,t);return Wi(n,Vn,r).isSome()},Ay=function(t,e){var n=Ms.prevPosition(t.dom(),hu.fromRangeStart(e)).isNone(),r=Ms.nextPosition(t.dom(),hu.fromRangeEnd(e)).isNone();return!function(t,e){return Ey(t,e.startContainer)||Ey(t,e.endContainer)}(t,e)&&n&&r},Dy=function(t){var e=tt.fromDom(t.getBody()),n=t.selection.getRng();return Ay(e,n)?function(t){return t.setContent(""),t.selection.setCursorLocation(),!0}(t):function(t,e){var n=e.getRng();return $a(fy(t,tt.fromDom(n.startContainer)),fy(t,tt.fromDom(n.endContainer)),(function(r,o){return!1===It(r,o)&&(n.deleteContents(),Oy(t,!0,r,o).each((function(t){e.setRng(t.toRange())})),!0)})).getOr(!1)}(e,t.selection)},Ny=function(t,e){return!t.selection.isCollapsed()&&Dy(t)},My=function(t){return us(t).exists(zn)},Ry=function(t,e,n){var r=N(fh(tt.fromDom(n.container()),e),Pn),o=H(r).getOr(e);return Ms.fromPosition(t,o.dom(),n).filter(My)},Py=function(t,e){return us(e).exists(zn)||Ry(!0,t,e).isSome()},By=function(t,e){return function(t){return p.from(t.getNode(!0)).map(tt.fromDom)}(e).exists(zn)||Ry(!1,t,e).isSome()},zy=u(Ry,!1),Iy=u(Ry,!0),Ly=Gl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Fy=function(t,e,n,r){var o=r.getNode(!1===e);return fy(tt.fromDom(t),tt.fromDom(n.getNode())).map((function(t){return am(t)?Ly.remove(t.dom()):Ly.moveToElement(o)})).orThunk((function(){return p.some(Ly.moveToElement(o))}))},Hy=function(t,e,n){return Ms.fromPosition(e,t,n).bind((function(r){return o=r.getNode(),Vn(tt.fromDom(o))||Fn(tt.fromDom(o))||function(t,e,n,r){var o=function(e){return Bn(tt.fromDom(e))&&!Jc(n,r,t)};return is(!e,n).fold((function(){return is(e,r).fold(i(!1),o)}),o)}(t,e,n,r)?p.none():e&&Ne.isContentEditableFalse(r.getNode())||!1===e&&Ne.isContentEditableFalse(r.getNode(!0))?Fy(t,e,n,r):e&&vb(n)||!1===e&&gb(n)?p.some(Ly.moveToPosition(r)):p.none();var o}))},jy=function(t,e,n){return function(t,e){var n=e.getNode(!1===t),r=t?"after":"before";return Ne.isElement(n)&&n.getAttribute("data-mce-caret")===r}(e,n)?function(t,e){return t&&Ne.isContentEditableFalse(e.nextSibling)?p.some(Ly.moveToElement(e.nextSibling)):!1===t&&Ne.isContentEditableFalse(e.previousSibling)?p.some(Ly.moveToElement(e.previousSibling)):p.none()}(e,n.getNode(!1===e)).fold((function(){return Hy(t,e,n)}),p.some):Hy(t,e,n).bind((function(e){return function(t,e,n){return n.fold((function(t){return p.some(Ly.remove(t))}),(function(t){return p.some(Ly.moveToElement(t))}),(function(n){return Jc(e,n,t)?p.none():p.some(Ly.moveToPosition(n))}))}(t,n,e)}))},Vy=function(t,e){return p.from(Wy(t.getBody(),e))},$y=function(t,e){var n=t.selection.getNode();return Vy(t,n).filter(Ne.isContentEditableFalse).fold((function(){return function(t,e,n){var r=os(e?1:-1,t,n),o=hu.fromRangeStart(r),i=tt.fromDom(t);return!1===e&&vb(o)?p.some(Ly.remove(o.getNode(!0))):e&&gb(o)?p.some(Ly.remove(o.getNode())):!1===e&&gb(o)&&By(i,o)?zy(i,o).map((function(t){return Ly.remove(t.getNode())})):e&&vb(o)&&Py(i,o)?Iy(i,o).map((function(t){return Ly.remove(t.getNode())})):jy(t,e,o)}(t.getBody(),e,t.selection.getRng()).map((function(n){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),vm(t,e,tt.fromDom(n)),!0}}(t,e),function(t,e){return function(n){var r=e?hu.before(n):hu.after(n);return t.selection.setRng(r.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))})).getOr(!1)}),(function(){return!0}))},Uy=function(t,e){var n=t.selection.getNode();return!!Ne.isContentEditableFalse(n)&&Vy(t,n.parentNode).filter(Ne.isContentEditableFalse).fold((function(){var n;return n=tt.fromDom(t.getBody()),D($i(n,".mce-offscreen-selection"),ne),vm(t,e,tt.fromDom(t.selection.getNode())),dy(t),!0}),(function(){return!0}))},Wy=function(t,e){for(;e&&e!==t;){if(Ne.isContentEditableTrue(e)||Ne.isContentEditableFalse(e))return e;e=e.parentNode}return null},qy=function(t,e){return t.selection.isCollapsed()?$y(t,e):Uy(t,e)},Xy=function(t){var e,n=Wy(t.getBody(),t.selection.getNode());return Ne.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(hu.before(e).toRange())),!0},Gy=function(t,e,n,r,o,i){var a=eb(r,t,i.getNode(!o),o,!0);if(e.collapsed){var u=e.cloneRange();o?u.setEnd(a.startContainer,a.startOffset):u.setStart(a.endContainer,a.endOffset),u.deleteContents()}else e.deleteContents();return t.selection.setRng(a),function(t,e){Ne.isText(e)&&0===e.data.length&&t.remove(e)}(t.dom,n),!0},Yy=function(t,e){return function(t,e){var n=t.selection.getRng();if(!Ne.isText(n.commonAncestorContainer))return!1;var r=e?du.Forwards:du.Backwards,o=xs(t.getBody()),i=u(cs,o.next),a=u(cs,o.prev),c=e?i:a,s=e?gb:vb,l=as(r,t.getBody(),n),f=av.normalizePosition(e,c(l));if(!f||!ss(l,f))return!1;if(s(f))return Gy(t,n,l.getNode(),r,e,f);var d=c(f);return!!(d&&s(d)&&ss(f,d))&&Gy(t,n,l.getNode(),r,e,d)}(t,e)},Ky=function(t,e){return function(n){return rv(e,n).map((function(e){return Iv.setCaretPosition(t,e),!0})).getOr(!1)}},Jy=function(t,e,r,o){var i=t.getBody(),a=u(av.isInlineTarget,t);t.undoManager.ignore((function(){t.selection.setRng(function(t,e){var r=n.document.createRange();return r.setStart(t.container(),t.offset()),r.setEnd(e.container(),e.offset()),r}(r,o)),t.execCommand("Delete"),kv(a,i,hu.fromRangeStart(t.selection.getRng())).map(Ev).map(Ky(t,e))})),t.nodeChanged()},Zy=function(t,e,n,r){var o=function(t,e){var n=Kc(e,t);return n||t}(t.getBody(),r.container()),a=u(av.isInlineTarget,t),c=kv(a,o,r);return c.bind((function(t){return n?t.fold(i(p.some(Ev(t))),p.none,i(p.some(Tv(t))),p.none):t.fold(p.none,i(p.some(Tv(t))),p.none,i(p.some(Ev(t))))})).map(Ky(t,e)).getOrThunk((function(){var i=Ms.navigate(n,o,r),u=i.bind((function(t){return kv(a,o,t)}));return c.isSome()&&u.isSome()?av.findRootInline(a,o,r).map((function(e){return!!function(t){return $a(Ms.firstPositionIn(t),Ms.lastPositionIn(t),(function(e,n){var r=av.normalizePosition(!0,e),o=av.normalizePosition(!1,n);return Ms.nextPosition(t,r).map((function(t){return t.isEqual(o)})).getOr(!0)})).getOr(!0)}(e)&&(vm(t,n,tt.fromDom(e)),!0)})).getOr(!1):u.bind((function(o){return i.map((function(o){return n?Jy(t,e,r,o):Jy(t,e,o,r),!0}))})).getOr(!1)}))},Qy=function(t,e,n){if(t.selection.isCollapsed()&&function(t){return!1!==t.settings.inline_boundaries}(t)){var r=hu.fromRangeStart(t.selection.getRng());return Zy(t,e,n,r)}return!1},tw=function(t){return 1===qt(t).length},ew=function(t,e,n,r){var o=u(Em,e),i=A(N(r,o),(function(t){return t.dom()}));if(0===i.length)vm(e,t,n);else{var a=function(t,e){var n=xm(!1),r=Om(e,n.dom());return Kt(tt.fromDom(t),n),ne(tt.fromDom(t)),hu(r,0)}(n.dom(),i);e.selection.setRng(a.toRange())}},nw=function(t,e){var n=tt.fromDom(t.getBody()),r=tt.fromDom(t.selection.getStart()),o=N(function(t,e){var n=fh(e,t);return B(n,Pn).fold(i(n),(function(t){return n.slice(0,t)}))}(n,r),tw);return j(o).map((function(n){var r,i=hu.fromRangeStart(t.selection.getRng());return!(!hy(e,i,n.dom())||(r=n,Iu(r.dom())&&ym(r.dom())))&&(ew(e,t,n,o),!0)})).getOr(!1)},rw=function(t,e){return!!t.selection.isCollapsed()&&nw(t,e)},ow=function(t,e){return{start:i(t),end:i(e)}},iw=Gl([{removeTable:["element"]},{emptyCells:["cells"]}]),aw=function(t,e){return Yi(tt.fromDom(t),"td,th",e)},uw=function(t,e){return Xi(t,"table",e)},cw=function(t){return!1===It(t.start(),t.end())},sw=function(t,e){return uw(t.start(),e).bind((function(n){return uw(t.end(),e).bind((function(t){return e=It(n,t),r=n,e?p.some(r):p.none();var e,r}))}))},lw=function(t){return $i(t,"td,th")},fw=function(t,e){var n=aw(e.startContainer,t),r=aw(e.endContainer,t);return e.collapsed?p.none():$a(n,r,ow).fold((function(){return n.fold((function(){return r.bind((function(e){return uw(e,t).bind((function(t){return H(lw(t)).map((function(t){return ow(t,e)}))}))}))}),(function(e){return uw(e,t).bind((function(t){return j(lw(t)).map((function(t){return ow(e,t)}))}))}))}),(function(e){return dw(t,e)?p.none():function(t,e){return uw(t.start(),e).bind((function(e){return j(lw(e)).map((function(e){return ow(t.start(),e)}))}))}(e,t)}))},dw=function(t,e){return sw(e,t).isSome()},hw=function(t,e){return sw(t,e).map((function(e){return function(t,e,n){return{rng:i(t),table:i(e),cells:i(n)}}(t,e,lw(e))}))},pw=function(t,e){var n=function(t){return function(e){return It(t,e)}}(t);return function(t,e){var n=aw(t.startContainer,e),r=aw(t.endContainer,e);return $a(n,r,ow).filter(cw).filter((function(t){return dw(e,t)})).orThunk((function(){return fw(e,t)}))}(e,n).bind((function(t){return hw(t,n)}))},mw=function(t,e){return B(t,(function(t){return It(t,e)}))},gw=function(t){return function(t){return $a(mw(t.cells(),t.rng().start()),mw(t.cells(),t.rng().end()),(function(e,n){return t.cells().slice(e,n+1)}))}(t).map((function(e){var n=t.cells();return e.length===n.length?iw.removeTable(t.table()):iw.emptyCells(e)}))},vw=function(t,e){return D(e,Hp),t.selection.setCursorLocation(e[0].dom(),0),!0},bw=function(t,e){return vm(t,!1,e),!0},yw=function(t,e,n){return function(t,e){return pw(t,e).bind(gw)}(e,n).map((function(e){return e.fold(u(bw,t),u(vw,t))}))},ww=function(t,e,n,r){return Cw(e,r).fold((function(){return yw(t,e,n)}),(function(e){return function(t,e){return _w(t,e)}(t,e)})).getOr(!1)},xw=function(t,e){return P(fh(e,t),Vn)},Cw=function(t,e){return P(fh(e,t),(function(t){return"caption"===oe(t)}))},_w=function(t,e){return Hp(e),t.selection.setCursorLocation(e.dom(),0),p.some(!0)},Sw=function(t,e,n,r,o){return Ms.navigate(n,t.getBody(),o).bind((function(i){return function(t,e,n,r){return Ms.firstPositionIn(t.dom()).bind((function(o){return Ms.lastPositionIn(t.dom()).map((function(t){return e?n.isEqual(o)&&r.isEqual(t):n.isEqual(t)&&r.isEqual(o)}))})).getOr(!0)}(r,n,o,i)?function(t,e){return _w(t,e)}(t,r):function(t,e,n){return Cw(t,tt.fromDom(n.getNode())).map((function(t){return!1===It(t,e)}))}(e,r,i)})).or(p.some(!0))},kw=function(t,e,n,r){var o=hu.fromRangeStart(t.selection.getRng());return xw(n,r).bind((function(r){return am(r)?_w(t,r):function(t,e,n,r,o){return Ms.navigate(n,t.getBody(),o).bind((function(t){return xw(e,tt.fromDom(t.getNode())).map((function(t){return!1===It(t,r)}))}))}(t,n,e,r,o)})).getOr(!1)},Ow=function(t,e){return t?pb(e):mb(e)},Tw=function(t,e,n){var r=tt.fromDom(t.getBody());return Cw(r,n).fold((function(){return kw(t,e,r,n)||function(t,e){var n=hu.fromRangeStart(t.selection.getRng());return Ow(e,n)||Ms.fromPosition(e,t.getBody(),n).map((function(t){return Ow(e,t)})).getOr(!1)}(t,e)}),(function(n){return function(t,e,n,r){var o=hu.fromRangeStart(t.selection.getRng());return am(r)?_w(t,r):Sw(t,n,e,r,o)}(t,e,r,n).getOr(!1)}))},Ew=function(t,e){var n=tt.fromDom(t.selection.getStart(!0)),r=zh(t);return t.selection.isCollapsed()&&0===r.length?Tw(t,e,n):function(t,e){var n=tt.fromDom(t.getBody()),r=t.selection.getRng(),o=zh(t);return 0!==o.length?vw(t,o):ww(t,n,r,e)}(t,n)},Aw=function(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n=hu.fromRangeStart(t.selection.getRng());return Ms.fromPosition(e,t.getBody(),n).filter((function(t){return e?db(t):hb(t)})).bind((function(t){return p.from(Zc(e?0:-1,t))})).map((function(e){return t.selection.select(e),!0})).getOr(!1)}(t,e)},Dw=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},Nw=function(t,e){return(t||"table"===oe(e)?"margin":"padding")+("rtl"===Le(e,"direction")?"-right":"-left")},Mw=function(t){var e=Pw(t);return!0!==t.readonly&&(e.length>1||function(t,e){return I(e,(function(e){var n=Nw(Oc(t),e),r=He(e,n).map(Dw).getOr(0);return"false"!==t.dom.getContentEditable(e.dom())&&r>0}))}(t,e))},Rw=function(t){return Ln(t)||Fn(t)},Pw=function(t){return N(A(t.selection.getSelectedBlocks(),tt.fromDom),(function(t){return!Rw(t)&&!function(t){return jt(t).map(Rw).getOr(!1)}(t)&&qi(t,(function(t){return Ne.isContentEditableTrue(t.dom())||Ne.isContentEditableFalse(t.dom())})).exists((function(t){return Ne.isContentEditableTrue(t.dom())}))}))},Bw=function(t,e){var n=t.dom,r=t.selection,o=t.formatter,i=Tc(t),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),c=Oc(t),s=oc(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==s||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),D(Pw(t),(function(t){!function(t,e,n,r,o,i){var a=Nw(n,tt.fromDom(i));if("outdent"===e){var u=Math.max(0,Dw(i.style[a])-r);t.setStyle(i,a,u?u+o:"")}else{u=Dw(i.style[a])+r+o;t.setStyle(i,a,u)}}(n,e,c,u,a,t.dom())}))},zw=function(t,e,n){return Ms.navigateIgnore(t,e,n,cb)},Iw=function(t,e){return P(fh(tt.fromDom(e.container()),t),Pn)},Lw=function(t,e,n){return zw(t,e.dom(),n).forall((function(t){return Iw(e,n).fold((function(){return!1===Jc(t,n,e.dom())}),(function(r){return!1===Jc(t,n,e.dom())&&Lt(r,tt.fromDom(t.container()))}))}))},Fw=function(t,e,n){return Iw(e,n).fold((function(){return zw(t,e.dom(),n).forall((function(t){return!1===Jc(t,n,e.dom())}))}),(function(e){return zw(t,e.dom(),n).isNone()}))},Hw=u(Fw,!1),jw=u(Fw,!0),Vw=u(Lw,!1),$w=u(Lw,!0),Uw=function(t,e,n){if(t.selection.isCollapsed()&&Mw(t)){var r=t.dom,o=t.selection.getRng(),i=hu.fromRangeStart(o),a=r.getParent(o.startContainer,r.isBlock);if(null!==a&&Hw(tt.fromDom(a),i))return Bw(t,"outdent"),!0}return!1},Ww=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){sy([{keyCode:Md.BACKSPACE,action:cy(Uw,t,!1)},{keyCode:Md.BACKSPACE,action:cy(qy,t,!1)},{keyCode:Md.DELETE,action:cy(qy,t,!0)},{keyCode:Md.BACKSPACE,action:cy(Yy,t,!1)},{keyCode:Md.DELETE,action:cy(Yy,t,!0)},{keyCode:Md.BACKSPACE,action:cy(Qy,t,e,!1)},{keyCode:Md.DELETE,action:cy(Qy,t,e,!0)},{keyCode:Md.BACKSPACE,action:cy(Ew,t,!1)},{keyCode:Md.DELETE,action:cy(Ew,t,!0)},{keyCode:Md.BACKSPACE,action:cy(Aw,t,!1)},{keyCode:Md.DELETE,action:cy(Aw,t,!0)},{keyCode:Md.BACKSPACE,action:cy(Ny,t,!1)},{keyCode:Md.DELETE,action:cy(Ny,t,!0)},{keyCode:Md.BACKSPACE,action:cy(Ty,t,!1)},{keyCode:Md.DELETE,action:cy(Ty,t,!0)},{keyCode:Md.BACKSPACE,action:cy(rw,t,!1)},{keyCode:Md.DELETE,action:cy(rw,t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)})),t.on("keyup",(function(e){!1===e.isDefaultPrevented()&&function(t,e){sy([{keyCode:Md.BACKSPACE,action:cy(Xy,t)},{keyCode:Md.DELETE,action:cy(Xy,t)}],e)}(t,e)}))},qw=function(t){return p.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},Xw=function(t,e){var n,r,o=e,i=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var u=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(e.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&e.insertBefore(i.doc.createTextNode(""),e.firstChild)}if(r=i.createRng(),e.normalize(),e.hasChildNodes()){for(var c=new hi(e,e);n=c.current();){if(Ne.isText(n)){r.setStart(n,0),r.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}o=n,n=c.next()}n||(r.setStart(o,0),r.setEnd(o,0))}else Ne.isBr(e)?e.nextSibling&&i.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),rh(t,r)}},Gw=function(t,e){var n,r,o=t.getRoot();for(n=e;n!==o&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},Yw=qw,Kw=function(t){return qw(t).fold(i(""),(function(t){return t.nodeName.toUpperCase()}))},Jw=function(t){return qw(t).filter((function(t){return Fn(tt.fromDom(t))})).isSome()},Zw=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},Qw=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},tx=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},ex=function(t,e,n){for(var r=t[n?"firstChild":"lastChild"];r&&!Ne.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===e},nx=function(t,e,n,r,o){var i=t.dom,a=t.selection.getRng();if(n!==t.getBody()){var u;Qw(u=n)&&Qw(u.parentNode)&&(o="LI");var c=o?e(o):i.create("BR");if(ex(n,r,!0)&&ex(n,r,!1))Zw(n,"LI")?i.insertAfter(c,tx(n)):i.replace(c,n);else if(ex(n,r,!0))Zw(n,"LI")?(i.insertAfter(c,tx(n)),c.appendChild(i.doc.createTextNode(" ")),c.appendChild(n)):n.parentNode.insertBefore(c,n);else if(ex(n,r,!1))i.insertAfter(c,tx(n));else{n=tx(n);var s=a.cloneRange();s.setStartAfter(r),s.setEndAfter(n);var l=s.extractContents();"LI"===o&&function(t,e){return t.firstChild&&t.firstChild.nodeName===e}(l,"LI")?(c=l.firstChild,i.insertAfter(l,n)):(i.insertAfter(l,n),i.insertAfter(c,n))}i.remove(r),Xw(t,c)}},rx=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},ox=function(t){t.innerHTML='<br data-mce-bogus="1">'},ix=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},ax=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},ux=function(t,e,n){return!1===Ne.isText(e)?n:t?1===n&&e.data.charAt(n-1)===ca.ZWSP?0:n:n===e.data.length-1&&e.data.charAt(n)===ca.ZWSP?e.data.length:n},cx=function(t,e){var n,r,o=t.getRoot();for(n=e;n!==o&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},sx=function(t,e){var n=oc(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,ic(t))},lx=function(t,e){var n,r,o,i,a,u,c,s,l,f,d,h,p,m=t.dom,g=t.schema,v=g.getNonEmptyElements(),b=t.selection.getRng(),y=function(e){var n,i,u,c=o,s=g.getTextInlineElements();if(e||"TABLE"===f||"HR"===f?(n=m.create(e||h),sx(t,n)):n=a.cloneNode(!1),u=n,!1===cc(t))m.setAttrib(n,"style",null),m.setAttrib(n,"class",null);else do{if(s[c.nodeName]){if(Iu(c)||Vs(c))continue;i=c.cloneNode(!1),m.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(u=i,n.appendChild(i))}}while((c=c.parentNode)&&c!==r);return ox(u),n},w=function(t){var e,n,r=ux(t,o,i);if(Ne.isText(o)&&(t?r>0:r<o.nodeValue.length))return!1;if(o.parentNode===a&&p&&!t)return!0;if(t&&Ne.isElement(o)&&o===a.firstChild)return!0;if(ix(o,"TABLE")||ix(o,"HR"))return p&&!t||!p&&t;var u=new hi(o,a);for(Ne.isText(o)&&(t&&0===r?u.prev():t||r!==o.nodeValue.length||u.next());e=u.current();){if(Ne.isElement(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),v[n]&&"br"!==n))return!1}else if(Ne.isText(e)&&!/^[ \t\r\n]*$/.test(e.nodeValue))return!1;t?u.prev():u.next()}return!0},x=function(){c=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?y(h):y(),sc(t)&&ax(m,l)&&m.isEmpty(a)?c=m.split(l,a):m.insertAfter(c,a),Xw(t,c)};Qh(m,b).each((function(t){b.setStart(t.startContainer,t.startOffset),b.setEnd(t.endContainer,t.endOffset)})),o=b.startContainer,i=b.startOffset,h=oc(t),u=!(!e||!e.shiftKey);var C=!(!e||!e.ctrlKey);Ne.isElement(o)&&o.hasChildNodes()&&(p=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=p&&Ne.isText(o)?o.nodeValue.length:0),(r=cx(m,o))&&((h&&!u||!h&&u)&&(o=function(t,e,n,r,o){var i,a,u,c,s,l,f=e||"P",d=t.dom,h=cx(d,r);if(!(a=d.getParent(r,d.isBlock))||!ax(d,a)){if(l=(a=a||h)===t.getBody()||function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),sx(t,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(c=r;c.parentNode!==a;)c=c.parentNode;for(;c&&!d.isBlock(c);)u=c,c=c.previousSibling;if(u&&t.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),sx(t,i),u.parentNode.insertBefore(i,u),c=u;c&&!d.isBlock(c);)s=c.nextSibling,i.appendChild(c),c=s;n.setStart(r,o),n.setEnd(r,o)}}return r}(t,h,b,o,i)),a=m.getParent(o,m.isBlock),l=a?m.getParent(a.parentNode,m.isBlock):null,f=a?a.nodeName.toUpperCase():"","LI"!==(d=l?l.nodeName.toUpperCase():"")||C||(a=l,l=l.parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&m.isEmpty(a)?nx(t,y,l,a,h):h&&a===t.getBody()||(h=h||"P",fa(a)?(c=wa(a),m.isEmpty(a)&&ox(a),Xw(t,c)):w()?x():w(!0)?(c=a.parentNode.insertBefore(y(),a),Xw(t,ix(a,"HR")?c:a)):((n=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,ux(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,ux(!1,t.endContainer,t.endOffset)),e}(b).cloneRange()).setEndAfter(a),function(t){D(Vi(tt.fromDom(t),ue),(function(t){var e=t.dom();e.nodeValue=ca.trim(e.nodeValue)}))}(s=n.extractContents()),function(t){do{Ne.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)}(s),c=s.firstChild,m.insertAfter(s,a),function(t,e,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(t.isBlock(o))return;Ne.isElement(o)&&!e[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)(!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||rx(t,o))&&t.remove(o)}}(m,v,c),function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")}(m,a),m.isEmpty(a)&&ox(a),c.normalize(),m.isEmpty(c)?(m.remove(c),x()):Xw(t,c)),m.setAttrib(c,"id",""),t.fire("NewBlock",{newBlock:c})))},fx=function(t,e,n){var r=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),e.scrollIntoView(r),t.remove(r)},dx=function(t,e,n,r){var o=t.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),e.setRng(o)},hx=function(t,e){var n,r,o=t.selection,i=t.dom,a=o.getRng();Qh(i,a).each((function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)}));var u=a.startOffset,c=a.startContainer;if(1===c.nodeType&&c.hasChildNodes()){var s=u>c.childNodes.length-1;c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c,u=s&&3===c.nodeType?c.nodeValue.length:0}var l=i.getParent(c,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=!(!e||!e.ctrlKey);"LI"!==d||h||(l=f),c&&3===c.nodeType&&u>=c.nodeValue.length&&(function(t,e,n){for(var r,o=new hi(e,n),i=t.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0}(t.schema,c,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Su(i,a,n),fx(i,o,n),dx(i,o,n,r),t.undoManager.add()},px=function(t,e){var n=tt.fromTag("br");Kt(tt.fromDom(e),n),t.undoManager.add()},mx=function(t,e){gx(t.getBody(),e)||Jt(tt.fromDom(e),tt.fromTag("br"));var n=tt.fromTag("br");Jt(tt.fromDom(e),n),fx(t.dom,t.selection,n.dom()),dx(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},gx=function(t,e){return n=hu.after(e),!!Ne.isBr(n.getNode())||Ms.nextPosition(t,hu.after(e)).map((function(t){return Ne.isBr(t.getNode())})).getOr(!1);var n},vx=function(t){return t&&"A"===t.nodeName&&"href"in t},bx=function(t){return t.fold(i(!1),vx,vx,i(!1))},yx=function(t,e){e.fold(r,u(px,t),u(mx,t),r)},wx=function(t,e){var n=function(t){var e=u(av.isInlineTarget,t),n=hu.fromRangeStart(t.selection.getRng());return kv(e,t.getBody(),n).filter(bx)}(t);n.isSome()?n.each(u(yx,t)):hx(t,e)},xx=function(t,e){return Yw(t).filter((function(t){return e.length>0&&Bt(tt.fromDom(t),e)})).isSome()},Cx=function(t){return xx(t,ac(t))},_x=function(t){return xx(t,uc(t))},Sx=Gl([{br:[]},{block:[]},{none:[]}]),kx=function(t,e){return _x(t)},Ox=function(t){return function(e,n){return""===oc(e)===t}},Tx=function(t){return function(e,n){return Jw(e)===t}},Ex=function(t,e){return function(n,r){return Kw(n)===t.toUpperCase()===e}},Ax=function(t){return Ex("pre",t)},Dx=function(t){return function(e,n){return rc(e)===t}},Nx=function(t,e){return Cx(t)},Mx=function(t,e){return e},Rx=function(t){var e=oc(t),n=Gw(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},Px=function(t,e){return function(n,r){return R(t,(function(t,e){return t&&e(n,r)}),!0)?p.some(e):p.none()}},Bx=function(t,e){return uv([Px([kx],Sx.none()),Px([Ex("summary",!0)],Sx.br()),Px([Ax(!0),Dx(!1),Mx],Sx.br()),Px([Ax(!0),Dx(!1)],Sx.block()),Px([Ax(!0),Dx(!0),Mx],Sx.block()),Px([Ax(!0),Dx(!0)],Sx.br()),Px([Tx(!0),Mx],Sx.br()),Px([Tx(!0)],Sx.block()),Px([Ox(!0),Mx,Rx],Sx.block()),Px([Ox(!0)],Sx.br()),Px([Nx],Sx.br()),Px([Ox(!1),Mx],Sx.br()),Px([Rx],Sx.block())],[t,!(!e||!e.shiftKey)]).getOr(Sx.none())},zx=function(t,e){Bx(t,e).fold((function(){wx(t,e)}),(function(){lx(t,e)}),r)},Ix=function(t){t.on("keydown",(function(e){e.keyCode===Md.ENTER&&function(t,e){var n;e.isDefaultPrevented()||(e.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),zx(t,e)})))}(t,e)}))},Lx=function(t,e){var n=e.container(),r=e.offset();return Ne.isText(n)?(n.insertData(r,t),p.some(fu(n,r+t.length))):us(e).map((function(n){var r=tt.fromText(t);return e.isAtEnd()?Jt(n,r):Kt(n,r),fu(r.dom(),t.length)}))},Fx=u(Lx,""),Hx=u(Lx," "),jx=function(t){return fu.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},Vx=function(t,e){var n=N(fh(tt.fromDom(e.container()),t),Pn);return H(n).getOr(t)},$x=function(t,e){return jx(e)?ub(e):ub(e)||Ms.prevPosition(Vx(t,e).dom(),e).exists(ub)},Ux=function(t,e){return jx(e)?ab(e):ab(e)||Ms.nextPosition(Vx(t,e).dom(),e).exists(ab)},Wx=function(t){return us(t).bind((function(t){return qi(t,ae)})).exists((function(t){return function(t){return T(["pre","pre-wrap"],t)}(Le(t,"white-space"))}))},qx=function(t,e){return function(t,e){return Ms.prevPosition(t.dom(),e).isNone()}(t,e)||function(t,e){return Ms.nextPosition(t.dom(),e).isNone()}(t,e)||Hw(t,e)||jw(t,e)||By(t,e)||Py(t,e)},Xx=function(t,e){var n=function(t){var e=t.container(),n=t.offset();return Ne.isText(e)&&n<e.data.length?fu(e,n+1):t}(e);return!Wx(n)&&(jw(t,n)||$w(t,n)||Py(t,n)||Ux(t,n))},Gx=function(t,e){return function(t,e){return!Wx(e)&&(Hw(t,e)||Vw(t,e)||By(t,e)||$x(t,e))}(t,e)||Xx(t,e)},Yx=function(t,e){return $s(t.charAt(e))},Kx=function(t){var e=t.container();return Ne.isText(e)&&pt(e.data,"")},Jx=function(t){var e=t.data,n=function(t){var e=t.split("");return A(e,(function(t,n){return $s(t)&&n>0&&n<e.length-1&&Ws(e[n-1])&&Ws(e[n+1])?" ":t})).join("")}(e);return n!==e&&(t.data=n,!0)},Zx=function(t,e){return p.some(e).filter(Kx).bind((function(e){var n=e.container();return function(t,e){var n=e.data,r=fu(e,0);return!(!Yx(n,0)||Gx(t,r))&&(e.data=" "+n.slice(1),!0)}(t,n)||Jx(n)||function(t,e){var n=e.data,r=fu(e,n.length-1);return!(!Yx(n,n.length-1)||Gx(t,r))&&(e.data=n.slice(0,-1)+" ",!0)}(t,n)?p.some(e):p.none()}))},Qx=function(t){var e=tt.fromDom(t.getBody());t.selection.isCollapsed()&&Zx(e,fu.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))},tC=function(t,e){return function(n){return function(t,e){return!Wx(e)&&(qx(t,e)||$x(t,e)||Ux(t,e))}(t,n)?Fx(e):Hx(e)}},eC=function(t){var e=hu.fromRangeStart(t.selection.getRng()),n=tt.fromDom(t.getBody());if(t.selection.isCollapsed()){var r=u(av.isInlineTarget,t),o=hu.fromRangeStart(t.selection.getRng());return kv(r,t.getBody(),o).bind(function(t){return function(e){return e.fold((function(e){return Ms.prevPosition(t.dom(),hu.before(e))}),(function(t){return Ms.firstPositionIn(t)}),(function(t){return Ms.lastPositionIn(t)}),(function(e){return Ms.nextPosition(t.dom(),hu.after(e))}))}}(n)).bind(tC(n,e)).exists(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(t))}return!1},nC=function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){sy([{keyCode:Md.SPACEBAR,action:cy(eC,t)}],e).each((function(t){e.preventDefault()}))}(t,e)}))},rC=function(t,e){e.hasAttribute("data-mce-caret")&&(wa(e),function(t){t.selection.setRng(t.selection.getRng())}(t),t.selection.scrollIntoView(e))},oC=function(t,e){var n=function(t){return Gi(tt.fromDom(t.getBody()),"*[data-mce-caret]").fold(i(null),(function(t){return t.dom()}))}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void rC(t,n)):void(pa(n)&&(rC(t,n),t.undoManager.add()))},iC=function(t){t.on("keyup compositionstart",u(oC,t))},aC=kt().browser,uC=function(t){!function(t){var e=Ri((function(){t.composing||Qx(t)}),0);aC.isIE()&&(t.on("keypress",(function(t){e.throttle()})),t.on("remove",(function(t){e.cancel()})))}(t),t.on("input",(function(e){!1===e.isComposing&&Qx(t)}))},cC=function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){sy([{keyCode:Md.END,action:Lb(t,!0)},{keyCode:Md.HOME,action:Lb(t,!1)}],e).each((function(t){e.preventDefault()}))}(t,e)}))},sC=function(t){var e=Iv.setupSelectedState(t);iC(t),ly(t,e),Ww(t,e),Ix(t),nC(t),uC(t),cC(t)},lC=function(){function t(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(n){var r,o;o={startContainer:(r=t.selection.getRng()).startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&Uh(o,e)||t.fire("SelectionChange"),e=o})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);!e||!bn.range&&t.selection.isCollapsed()||gh(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(e){!e.isDefaultPrevented()&&gh(t)&&("IMG"===t.selection.getNode().nodeName?sn.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}return t.prototype.nodeChanged=function(t){var e,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.settings.disable_nodechange&&!this.editor.readonly&&(r=this.editor.getBody(),(e=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,r)||(e=r),n=[],this.editor.dom.getParent(e,(function(t){if(t===r)return!0;n.push(t)})),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n;if((n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t)).length===this.lastPath.length){for(e=n.length;e>=0&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),fC=function(t){!function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))}(t),function(t){t.parser.addNodeFilter("details",(function(t){D(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){D(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",g(e)?e:null),t.attr("data-mce-open",null)}))}))}(t)},dC=function(t){return Ne.isElement(t)&&In(tt.fromDom(t))},hC=function(t){t.on("click",(function(e){e.detail>=3&&function(t){var e=t.selection.getRng(),n=fu.fromRangeStart(e),r=fu.fromRangeEnd(e);if(fu.isElementPosition(n)){var o=n.container();dC(o)&&Ms.firstPositionIn(o).each((function(t){return e.setStart(t.container(),t.offset())}))}if(fu.isElementPosition(r)){o=n.container();dC(o)&&Ms.lastPositionIn(o).each((function(t){return e.setEnd(t.container(),t.offset())}))}t.selection.setRng(eg(e))}(t)}))},pC=function(t){var e,n,r,o;return o=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,r=e.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},mC=function(t,e){return function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}}(function(t){return t.inline?pC(t.getBody()):{left:0,top:0}}(t),function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=pC(t.getContentAreaContainer()),r=function(t){var e=t.getBody(),n=t.getDoc().documentElement,r={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?r:o}(t);return{left:e.pageX-n.left+r.left,top:e.pageY-n.top+r.top}}return{left:e.pageX,top:e.pageY}}(t,e))},gC=Ne.isContentEditableFalse,vC=Ne.isContentEditableTrue,bC=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},yC=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var r=P(e.dom.getParents(n.target),qa(gC,vC)).getOr(null);if(u=e.getBody(),gC(c=r)&&c!==u){var o=e.dom.getPos(r),i=e.getBody(),a=e.getDoc().documentElement;t.element=r,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?i.scrollWidth:a.offsetWidth)-2,t.maxY=(e.inline?i.scrollHeight:a.offsetHeight)-2,t.relX=n.pageX-o.x,t.relY=n.pageY-o.y,t.width=r.offsetWidth,t.height=r.offsetHeight,t.ghost=function(t,e,n,r){var o=e.cloneNode(!0);t.dom.setStyles(o,{width:n,height:r}),t.dom.setAttrib(o,"data-mce-selected",null);var i=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),t.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i}(e,r,t.width,t.height)}}var u,c}},wC=function(t,e){return function(n){if(t.dragging&&function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!gC(e)}(e,(u=e.selection,3===(c=u.getSel().getRangeAt(0).startContainer).nodeType?c.parentNode:c),t.element)){var r=(i=t.element,(a=i.cloneNode(!0)).removeAttribute("data-mce-selected"),a),o=e.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,e.undoManager.transact((function(){bC(t.element),e.insertContent(e.dom.getOuterHTML(r)),e._selectionOverrides.hideFakeCaret()})))}var i,a,u,c;xC(t)}},xC=function(t){t.dragging=!1,t.element=null,bC(t.ghost)},CC=function(t){var e,r,o,i,a,u,c={};e=Ci.DOM,u=n.document,r=yC(c,t),o=function(t,e){var n=sn.throttle((function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)}),0);return function(r){var o,i,a=Math.max(Math.abs(r.screenX-t.screenX),Math.abs(r.screenY-t.screenY));if(function(t){return t.element}(t)&&!t.dragging&&a>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var u=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,mC(e,r));o=t.ghost,i=e.getBody(),o.parentNode!==i&&i.appendChild(o),function(t,e,n,r,o,i){var a=0,u=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(a=e.pageX+n-o),e.pageY+r>i&&(u=e.pageY+r-i),t.style.width=n-a+"px",t.style.height=r-u+"px"}(t.ghost,u,t.width,t.height,t.maxX,t.maxY),n(r.clientX,r.clientY)}}}(c,t),i=wC(c,t),a=function(t,e){return function(){t.dragging&&e.fire("dragend"),xC(t)}}(c,t),t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",i),e.bind(u,"mousemove",o),e.bind(u,"mouseup",a),t.on("remove",(function(){e.unbind(u,"mousemove",o),e.unbind(u,"mouseup",a)}))},_C=function(t){CC(t),function(t){t.on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(gC(n)||gC(t.dom.getContentEditableParent(n)))&&e.preventDefault()}))}(t)},SC=function(t){var e=Ri((function(){if(!t.removed&&t.getBody().contains(n.document.activeElement)&&t.selection.getRng().collapsed){var e=ob(t,t.selection.getRng(),!1);t.selection.setRng(e)}}),0);t.on("focus",(function(){e.throttle()})),t.on("blur",(function(){e.cancel()}))},kC=Ne.isContentEditableTrue,OC=Ne.isContentEditableFalse,TC=function(t,e){for(var n=t.getBody();e&&e!==n;){if(kC(e)||OC(e))return e;e=e.parentNode}return null},EC=function(t){var e,n=t.getBody(),r=Ic(t,n,(function(e){return t.dom.isBlock(e)}),(function(){return Pf(t)})),o="sel-"+t.dom.uniqueId(),i=function(e){e&&t.selection.setRng(e)},a=function(){return t.selection.getRng()},u=function(e,n,o,i){return void 0===i&&(i=!0),t.fire("ShowCaret",{target:n,direction:e,before:o}).isDefaultPrevented()?null:(i&&t.selection.scrollIntoView(n,-1===e),r.show(o,n))},c=function(t){return ha(t)||ba(t)||ya(t)},s=function(t){return c(t.startContainer)||c(t.endContainer)},l=function(e){var n=t.schema.getShortEndedElements(),r=t.dom.createRng(),o=e.startContainer,i=e.startOffset,a=e.endContainer,u=e.endOffset;return J(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),J(n,a.nodeName.toLowerCase())?0===u?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,u),r},f=function(r,i){var a,c,l,f,d,p,m,g,v,b,y=t.$,w=t.dom;if(!r)return null;if(r.collapsed){if(!s(r))if(!1===i){if(g=as(-1,n,r),Fc(g.getNode(!0)))return u(-1,g.getNode(!0),!1,!1);if(Fc(g.getNode()))return u(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=as(1,n,r),Fc(g.getNode()))return u(1,g.getNode(),!g.isAtEnd(),!1);if(Fc(g.getNode(!0)))return u(1,g.getNode(!0),!1,!1)}return null}if(f=r.startContainer,d=r.startOffset,p=r.endOffset,3===f.nodeType&&0===d&&OC(f.parentNode)&&(f=f.parentNode,d=w.nodeIndex(f),f=f.parentNode),1!==f.nodeType)return null;if(p===d+1&&f===r.endContainer&&(a=f.childNodes[d]),!OC(a))return null;if(v=b=a.cloneNode(!0),(m=t.fire("ObjectSelected",{target:a,targetClone:v})).isDefaultPrevented())return null;c=Gi(tt.fromDom(t.getBody()),"#"+o).fold((function(){return y([])}),(function(t){return y([t.dom()])})),v=m.targetClone,0===c.length&&(c=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(t.getBody()),r=t.dom.createRng(),v===b&&bn.ie?(c.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(v),r.setStartAfter(c[0].firstChild.firstChild),r.setEndAfter(v)):(c.empty().append("").append(v).append(""),r.setStart(c[0].firstChild,1),r.setEnd(c[0].lastChild,0)),c.css({top:w.getPos(a,t.getBody()).y}),c[0].focus(),(l=t.selection.getSel()).removeAllRanges(),l.addRange(r);var x=tt.fromDom(a);return D($i(tt.fromDom(t.getBody()),"*[data-mce-selected]"),(function(t){It(x,t)||Ie(t,"data-mce-selected")})),t.dom.getAttrib(a,"data-mce-selected")||a.setAttribute("data-mce-selected","1"),e=a,h(),r},d=function(){e&&(e.removeAttribute("data-mce-selected"),Gi(tt.fromDom(t.getBody()),"#"+o).each(ne),e=null),Gi(tt.fromDom(t.getBody()),"#"+o).each(ne),e=null},h=function(){r.hide()};return bn.ceFalse&&function(){t.on("mouseup",(function(e){var n=a();n.collapsed&&gd(t,e.clientX,e.clientY)&&i(rb(t,n,!1))})),t.on("click",(function(e){var n;(n=TC(t,e.target))&&(OC(n)&&(e.preventDefault(),t.focus()),kC(n)&&t.dom.isChildOf(n,t.selection.getNode())&&d())})),t.on("blur NewBlock",(function(){d()})),t.on("ResizeWindow FullscreenStateChanged",(function(){return r.reposition()}));var c=function(e,n){var r,o,i=t.dom.getParent(e,t.dom.isBlock),a=t.dom.getParent(n,t.dom.isBlock);return!(!i||!t.dom.isChildOf(i,a)||!1!==OC(TC(t,i)))||i&&(r=i,o=a,!(t.dom.getParent(r,t.dom.isBlock)===t.dom.getParent(o,t.dom.isBlock)))&&function(t){var e=xs(t);if(!t.firstChild)return!1;var n=hu.before(t.firstChild),r=e.next(n);return r&&!gb(r)&&!vb(r)}(i)};!function(t){t.on("tap",(function(e){var n=TC(t,e.target);OC(n)&&(e.preventDefault(),f(nb(t,n)))}),!0)}(t),t.on("mousedown",(function(e){var r,o=e.target;if((o===n||"HTML"===o.nodeName||t.dom.isChildOf(o,n))&&!1!==gd(t,e.clientX,e.clientY))if(r=TC(t,o))OC(r)?(e.preventDefault(),f(nb(t,r))):(d(),kC(r)&&e.shiftKey||Nd(e.clientX,e.clientY,t.selection.getRng())||(h(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===Fc(o)){d(),h();var a=Zv(n,e.clientX,e.clientY);if(a&&!c(e.target,a.node)){e.preventDefault();var s=u(1,a.node,a.before,!1);t.getBody().focus(),i(s)}}})),t.on("keypress",(function(e){Md.modifierPressed(e)||(e.keyCode,OC(t.selection.getNode())&&e.preventDefault())})),t.on("GetSelectionRange",(function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);(n=n.cloneRange()).selectNode(e),t.range=n}})),t.on("SetSelectionRange",(function(t){t.range=l(t.range);var e=f(t.range,t.forward);e&&(t.range=e)}));t.on("AfterSetSelectionRange",(function(e){var n,r=e.range;s(r)||"mcepastebin"===r.startContainer.parentNode.id||h(),n=r.startContainer.parentNode,t.dom.hasClass(n,"mce-offscreen-selection")||d()})),t.on("copy",(function(e){var n,r=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!bn.ie){var i=(n=t.dom.get(o))?n.getElementsByTagName("*")[0]:n;i&&(e.preventDefault(),r.clearData(),r.setData("text/html",i.outerHTML),r.setData("text/plain",i.outerText))}})),_C(t),SC(t)}(),{showCaret:u,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(wa(e),i(a()),t.selection.scrollIntoView(e))},hideFakeCaret:h,destroy:function(){r.destroy(),e=null}}},AC=function(t){var e,r,o,i=Tn.each,a=Md.BACKSPACE,u=Md.DELETE,c=t.dom,s=t.selection,l=t.settings,f=t.parser,d=bn.gecko,h=bn.ie,p=bn.webkit,m=h?"Text":"URL",g=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},v=function(t){return t.isDefaultPrevented()},b=function(){t.shortcuts.add("meta+a",null,"SelectAll")},y=function(){t.on("keydown",(function(t){if(!v(t)&&t.keyCode===a&&s.isCollapsed()&&0===s.getRng().startOffset){var e=s.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}}))},w=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(e){var n;if("HTML"===e.target.nodeName){if(bn.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}})))};return t.on("keydown",(function(e){var n,r,o,i,a;if(!v(e)&&e.keyCode===Md.BACKSPACE&&(r=(n=s.getRng()).startContainer,o=n.startOffset,i=c.getRoot(),a=r,n.collapsed&&0===o)){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==i;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(t.formatter.toggle("blockquote",null,a),(n=c.createRng()).setStart(r,0),n.setEnd(r,0),s.setRng(n))}})),e=function(t){var e=c.create("body"),n=t.cloneContents();return e.appendChild(n),s.serializer.serialize(e,{format:"html"})},t.on("keydown",(function(n){var r,o,i=n.keyCode;if(!v(n)&&(i===u||i===a)){if(r=t.selection.isCollapsed(),o=t.getBody(),r&&!c.isEmpty(o))return;if(!r&&!function(n){var r=e(n),o=c.createRng();return o.selectNode(t.getBody()),r===e(o)}(t.selection.getRng()))return;n.preventDefault(),t.setContent(""),o.firstChild&&c.isBlock(o.firstChild)?t.selection.setCursorLocation(o.firstChild,0):t.selection.setCursorLocation(o,0),t.nodeChanged()}})),bn.windowsPhone||t.on("keyup focusin mouseup",(function(t){Md.modifierPressed(t)||s.normalize()}),!0),p&&(t.inline||c.bind(t.getDoc(),"mousedown mouseup",(function(e){var n;if(e.target===t.getDoc().documentElement)if(n=s.getRng(),t.getBody().focus(),"mousedown"===e.type){if(ha(n.startContainer))return;s.placeCaretAt(e.clientX,e.clientY)}else s.setRng(n)})),t.on("click",(function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==c.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&c.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),s.select(n))})),l.forced_root_block&&t.on("init",(function(){g("DefaultParagraphSeparator",oc(t))})),t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(t){t.preventDefault()}))})),y(),f.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})),bn.iOS?(t.inline||t.on("keydown",(function(){n.document.activeElement===n.document.body&&t.getWin().focus()})),w(),t.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),bn.ie>=11&&(w(),y()),bn.ie&&(b(),g("AutoUrlDetect",!1),t.on("dragstart",(function(e){!function(e){var n,r;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&s.select(e.target),(n=t.selection.getContent()).length>0&&(r="data:text/mce-internal,"+escape(t.id)+","+escape(n),e.dataTransfer.setData(m,r)))}(e)})),t.on("drop",(function(e){if(!v(e)){var n=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(m))&&e.indexOf("data:text/mce-internal,")>=0?(e=e.substr("data:text/mce-internal,".length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}(e);if(n&&n.id!==t.id){e.preventDefault();var r=ih(e.x,e.y,t.getDoc());s.setRng(r),o=n.html,i=!0,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:o,internal:i}):t.execCommand("mceInsertContent",!1,o)}}var o,i}))),d&&(t.on("keydown",(function(e){if(!v(e)&&e.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(s.isCollapsed()&&0===s.getRng().startOffset){var n=s.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return c.remove(n),void e.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(c.remove(r),e.preventDefault())}}})),n.Range.prototype.getClientRects||t.on("mousedown",(function(e){if(!v(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),sn.setEditorTimeout(t,(function(){n.focus()}))}})),r=function(){var e=c.getAttribs(s.getStart().cloneNode(!1));return function(){var n=s.getStart();n!==t.getBody()&&(c.setAttrib(n,"style",null),i(e,(function(t){n.setAttributeNode(t.cloneNode(!0))})))}},o=function(){return!s.isCollapsed()&&c.getParent(s.getStart(),c.isBlock)!==c.getParent(s.getEnd(),c.isBlock)},t.on("keypress",(function(e){var n;if(!v(e)&&(8===e.keyCode||46===e.keyCode)&&o())return n=r(),t.getDoc().execCommand("delete",!1,null),n(),e.preventDefault(),!1})),c.bind(t.getDoc(),"cut",(function(e){var n;!v(e)&&o()&&(n=r(),sn.setEditorTimeout(t,(function(){n()})))})),l.readonly||t.on("BeforeExecCommand mousedown",(function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),l.object_resizing||g("enableObjectResizing",!1)})),t.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||i(c.select("a"),(function(t){var e=t.parentNode,n=c.getRoot();if(e.lastChild===t){for(;e&&!c.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}c.add(e,"br",{"data-mce-bogus":1})}}))})),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),bn.mac&&t.on("keydown",(function(e){!Md.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})),y()),{refreshContentEditable:function(){},isHidden:function(){var e;return!(!d||t.removed)&&(!(e=t.selection.getSel())||!e.rangeCount||0===e.rangeCount)}}},DC=Ci.DOM,NC=function(t){t.bindPendingEventDelegates(),t.initialized=!0,function(t){t.fire("Init")}(t),t.focus(!0),function(t){var e=t.dom.getRoot();t.inline||gh(t)&&t.selection.getStart(!0)!==e||Ms.firstPositionIn(e).each((function(e){var n=e.getNode(),r=Ne.isTable(n)?Ms.firstPositionIn(n).getOr(e):e;t.selection.setRng(r.toRange())}))}(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),function(t){t.settings.auto_focus&&sn.setEditorTimeout(t,(function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()}),100)}(t)},MC=function(t,e){var r,o,i=t.settings,a=t.getElement(),u=t.getDoc();i.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(u.open(),u.write(t.iframeHTML),u.close()),t.inline&&(t.on("remove",(function(){var t=this.getBody();DC.removeClass(t,"mce-content-body"),DC.removeClass(t,"mce-edit-focus"),DC.setAttrib(t,"contentEditable",null)})),DC.addClass(a,"mce-content-body"),t.contentDocument=u=n.document,t.contentWindow=n.window,t.bodyElement=a,t.contentAreaContainer=a,i.root_name=a.nodeName.toLowerCase()),(r=t.getBody()).disabled=!0,t.readonly=i.readonly,t.readonly||(t.inline&&"static"===DC.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=t.getParam("content_editable_state",!0)),r.disabled=!1,t.editorUpload=Lp(t),t.schema=hr(i),t.dom=Ci(u,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:i.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:Cc(t),referrerPolicy:_c(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=function(t){var e=wp(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){for(var r,o,i,a=e.length,u=t.dom;a--;)if(o=(r=e[a]).attr(n),i="data-mce-"+n,!r.attr(i)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?((o=u.serializeStyle(u.parseStyle(o),r.name)).length||(o=null),r.attr(i,o),r.attr(n,o)):"tabindex"===n?(r.attr(i,o),r.attr(n,null)):r.attr(i,t.convertURL(o,n,r.name))}})),e.addNodeFilter("script",(function(t){for(var e,n,r=t.length;r--;)0!==(n=(e=t[r]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)})),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",(function(e){for(var n,r=e.length;r--;)(n=e[r]).type=8,n.name="#comment",n.value="[CDATA["+t.dom.encode(n.value)+"]]"})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var n,r=e.length,o=t.schema.getNonEmptyElements();r--;)(n=e[r]).isEmpty(o)&&0===n.getAll("br").length&&(n.append(new Dl("br",1)).shortEnded=!0)})),e}(t),t.serializer=Tp(i,t),t.selection=sp(t.dom,t.getWin(),t.serializer,t),t.annotator=kl(t),t.formatter=gg(t),t.undoManager=zg(t),t._nodeChangeDispatcher=new lC(t),t._selectionOverrides=EC(t),Vg(t),fC(t),hC(t),sC(t),Xg(t),Hg(t),function(t){t.fire("PreInit")}(t),i.browser_spellcheck||i.gecko_spellcheck||(u.body.spellcheck=!1,DC.setAttrib(r,"spellcheck","false")),t.quirks=AC(t),function(t){t.fire("PostRender")}(t);var c=Ac(t);void 0!==c&&(r.dir=c),i.protect&&t.on("BeforeSetContent",(function(t){Tn.each(i.protect,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",(function(e){t.composing="compositionstart"===e.type})),t.contentStyles.length>0&&(o="",Tn.each(t.contentStyles,(function(t){o+=t+"\r\n"})),t.dom.addStyle(o)),function(t){return t.inline?DC.styleSheetLoader:t.dom.styleSheetLoader}(t).loadAll(t.contentCSS,(function(e){NC(t)}),(function(e){NC(t)})),i.content_style&&function(t,e){var n=tt.fromDom(t.getDoc().head),r=tt.fromTag("style");Pe(r,"type","text/css"),Qt(r,tt.fromText(e)),Qt(n,r)}(t,i.content_style)},RC=Ci.DOM,PC=function(t,e){var r=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),o=function(t,e,n,r){var o=tt.fromTag("iframe");return Be(o,r),Be(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),Fi(o,"tox-edit-area__iframe"),o}(t.id,r,e.height,Ju(t)).dom();o.onload=function(){o.onload=null,t.fire("load")};var i=function(t,e){if(n.document.domain!==n.window.location.hostname&&bn.browser.isIE()){var r=Ip("mce");t[r]=function(){MC(t)};var o='javascript:(function(){document.open();document.domain="'+n.document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return RC.setAttrib(e,"src",o),!0}return!1}(t,o);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=o,t.iframeHTML=function(t){var e,n,r;return r=Zu(t)+"<html><head>",Qu(t)!==t.documentBaseUrl&&(r+='<base href="'+t.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=tc(t),n=ec(t),nc(t)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+nc(t)+'" />'),r+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'}(t),RC.add(e.iframeContainer,o),i},BC=function(t,e){var n=PC(t,e);e.editorContainer&&(RC.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=RC.isHidden(e.editorContainer)),t.getElement().style.display="none",RC.setAttrib(t.id,"aria-hidden","true"),n||MC(t)},zC=Ci.DOM,IC=function(t,e,n){var r=yd.get(n),o=yd.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=Tn.trim(n),r&&-1===Tn.inArray(e,n)){if(Tn.each(yd.dependencies(n),(function(n){IC(t,e,n)})),t.plugins[n])return;try{var i=new r(t,o,t.$);t.plugins[n]=i,i.init&&(i.init(t,o),e.push(n))}catch(e){Td.pluginInitError(t,n,e)}}},LC=function(t){return t.replace(/^\-/,"")},FC=function(t){return{editorContainer:t,iframeContainer:t}},HC=function(t){var e=t.getElement();return t.inline?FC(null):function(t){var e=zC.create("div");return zC.insertAfter(e,t),FC(e)}(e)},jC=function(t){t.fire("ScriptsLoaded"),function(t){var e=Tn.trim(t.settings.icons),n=t.ui.registry.getAll().icons,r=Z(Z({},{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',"sort-asc":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M4 8h5a1 1 0 1 1 0 2H4a1 1 0 1 1 0-2zm0 8h8a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0-4h7a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"/><path fill-rule="nonzero" d="M16 8.4l-2.3 2.3a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L18 8.4V18a1 1 0 0 1-2 0V8.4z"/></g></svg>',"sort-dsc":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M4 16h5a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2zm0-8h8a1 1 0 0 0 0-2H4a1 1 0 1 0 0 2zm0 4h7a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2z"/><path fill-rule="nonzero" d="M16 15.6l-2.3-2.3a1 1 0 0 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 0 0-1.4-1.4L18 15.6V6a1 1 0 0 0-2 0v9.6z"/></g></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 0 1-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 0 1-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 0 1 2 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}),sd.get(e).icons);W(r,(function(e,r){J(n,r)||t.ui.registry.addIcon(r,e)}))}(t),function(t){var e=t.settings.theme;if(g(e)){t.settings.theme=LC(e);var n=wd.get(e);t.theme=new n(t,wd.urls[e]),t.theme.init&&t.theme.init(t,wd.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}}(t),function(t){var e=[];Tn.each(t.settings.plugins.split(/[ ,]/),(function(n){IC(t,e,LC(n))}))}(t);var e=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,g(t.settings.theme)?function(t){return t.theme.renderUI()}(t):x(t.settings.theme)?function(t){var e=t.getElement(),n=(0,t.settings.theme)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n}(t):HC(t)}(t);return t.editorContainer=e.editorContainer?e.editorContainer:null,Ed(t),t.inline?MC(t):BC(t,e)},VC=Ci.DOM,$C=function(t){return"-"===t.charAt(0)},UC=function(t,e){(function(t){return p.from(hc(t)).filter((function(t){return t.length>0})).map((function(t){return{url:t,name:p.none()}}))})(e).orThunk((function(){return function(t){return p.from(dc(t)).filter((function(t){return t.length>0&&!sd.has(t)})).map((function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons.js",name:p.some(e)}}))}(e)})).each((function(n){t.add(n.url,r,void 0,(function(){Td.iconsLoadError(e,n.url,n.name.getOrUndefined())}))}))},WC=function(t,e){var n=Oi.ScriptLoader;!function(t,e,n,r){var o=e.settings,i=o.theme;if(g(i)){if(!$C(i)&&!wd.urls.hasOwnProperty(i)){var a=o.theme_url;a?wd.load(i,e.documentBaseURI.toAbsolute(a)):wd.load(i,"themes/"+i+"/theme"+n+".js")}t.loadQueue((function(){wd.waitFor(i,r)}))}else r()}(n,t,e,(function(){!function(t,e){var n=Sc(e),o=kc(e);if(!1===Di.hasCode(n)&&"en"!==n){var i=""!==o?o:e.editorManager.baseURL+"/langs/"+n+".js";t.add(i,r,void 0,(function(){Td.languageLoadError(e,i,n)}))}}(n,t),UC(n,t),function(t,e,n){b(e.plugins)&&(e.plugins=e.plugins.join(" ")),Tn.each(e.external_plugins,(function(n,o){yd.load(o,n,r,void 0,(function(){Td.pluginLoadError(t,n,o)})),e.plugins+=" "+o})),Tn.each(e.plugins.split(/[ ,]/),(function(e){if((e=Tn.trim(e))&&!yd.urls[e])if($C(e)){e=e.substr(1,e.length);var o=yd.dependencies(e);Tn.each(o,(function(e){var o={prefix:"plugins/",resource:e,suffix:"/plugin"+n+".js"},i=yd.createUrl(o,e);yd.load(i.resource,i,r,void 0,(function(){Td.pluginLoadError(t,i.prefix+i.resource+i.suffix,i.resource)}))}))}else{var i={prefix:"plugins/",resource:e,suffix:"/plugin"+n+".js"};yd.load(e,i,r,void 0,(function(){Td.pluginLoadError(t,i.prefix+i.resource+i.suffix,e)}))}}))}(t,t.settings,e),n.loadQueue((function(){t.removed||jC(t)}),t,(function(){t.removed||jC(t)}))}))},qC=function(t){var e=t.settings,r=t.id;Di.setCode(Sc(t));var o=function(){VC.unbind(n.window,"ready",o),t.render()};if(Vr.Event.domLoaded){if(t.getElement()&&bn.contentEditable){e.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var i=t.getElement().form||VC.getParent(r,"form");i&&(t.formElement=i,e.hidden_input&&!Ne.isTextareaOrInput(t.getElement())&&(VC.insertAfter(VC.create("input",{type:"hidden",name:r}),r),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},VC.bind(i,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.resetContent()})),!e.submit_patch||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=xd(t),t.notificationManager=bd(t),"xml"===e.encoding&&t.on("GetContent",(function(t){t.save&&(t.content=VC.encode(t.content))})),e.add_form_submit_trigger&&t.on("submit",(function(){t.initialized&&t.save()})),e.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),WC(t,t.suffix)}}else VC.bind(n.window,"ready",o)},XC=function(t){return Tn.grep(t.childNodes,(function(t){return"LI"===t.nodeName}))},GC=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&function(t){return""===t.data||Ne.isBr(t)}(t.firstChild)},YC=function(t){return t.length>0&&(!(e=t[t.length-1]).firstChild||GC(e))?t.slice(0,-1):t;var e},KC=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},JC=function(t,e){var n=hu.after(t),r=xs(e).prev(n);return r?r.toRange():null},ZC=function(t,e,n){var r=t.parentNode;return Tn.each(e,(function(e){r.insertBefore(e,t)})),function(t,e){var n=hu.before(t),r=xs(e).next(n);return r?r.toRange():null}(t,n)},QC=function(t,e){var n=e.firstChild,r=e.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&function(t){return t.firstChild&&t.firstChild===t.lastChild}(e)&&function(t){return"br"===t.name||""===t.value}(e.firstChild)}(t,e))}(t,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},t_=function(t,e,n,r){var o=function(t,e,n){var r=e.serialize(n);return function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t}(t.createFragment(r))}(e,t,r),i=KC(e,n.startContainer),a=YC(XC(o.firstChild)),u=e.getRoot(),c=function(t){var r=hu.fromRangeStart(n),o=xs(e.getRoot()),a=1===t?o.prev(r):o.next(r);return!a||KC(e,a.getNode())!==i};return c(1)?ZC(i,a,u):c(2)?function(t,e,n,r){return r.insertAfter(e.reverse(),t),JC(e[0],n)}(i,a,u,e):function(t,e,n,r){var o=function(t,e){var n=e.cloneRange(),r=e.cloneRange();return n.setStartBefore(t),r.setEndAfter(t),[n.cloneContents(),r.cloneContents()]}(t,r),i=t.parentNode;return i.insertBefore(o[0],t),Tn.each(e,(function(e){i.insertBefore(e,t)})),i.insertBefore(o[1],t),i.removeChild(t),JC(e[e.length-1],n)}(i,a,u,n)},e_=function(t,e){return!!KC(t,e)},n_=Ne.matchNodeNames(["td","th"]),r_=function(t,e){var n=t.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&function(t,e){return Ne.isText(t)&&""===t.nodeValue[e-1]}(r,o)&&Ne.isText(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),t.selection.setRng(n)),t.selection.setContent(e)},o_=function(t,e,n){var r,o,i,a,u,c,s,l,f,d,h,m=t.selection,g=t.dom;if(/^ | $/.test(e)&&(e=function(t,e){var n,r;n=t.startContainer,r=t.startOffset;var o=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(m.getRng(),e)),r=t.parser,h=n.merge,o=$l({validate:t.settings.validate},t.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',c={content:e,format:"html",selection:!0,paste:n.paste},(c=t.fire("BeforeSetContent",c)).isDefaultPrevented())t.fire("SetContent",{content:c.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=c.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,d);var v=(l=m.getRng()).startContainer||(l.parentElement?l.parentElement():null),b=t.getBody();v===b&&m.isCollapsed()&&g.isBlock(b.firstChild)&&function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]}(t,b.firstChild)&&g.isEmpty(b.firstChild)&&((l=g.createRng()).setStart(b.firstChild,0),l.setEnd(b.firstChild,0),m.setRng(l)),m.isCollapsed()||(t.selection.setRng(eg(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),e=function(t,e){var n,r;return n=t.startContainer,r=t.startOffset,3===n.nodeType&&t.collapsed&&(""===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(e)||(e+=" ")):""===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e}(t.selection.getRng(),e));var y,w={context:(i=m.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(u=r.parse(e,w),!0===n.paste&&QC(t.schema,u)&&e_(g,i))return l=t_(o,g,t.selection.getRng(),u),t.selection.setRng(l),void t.fire("SetContent",c);if(function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(u),"mce_marker"===(f=u.lastChild).attr("id"))for(s=f,f=f.prev;f;f=f.walk(!0))if(3===f.type||!g.isBlock(f.name)){t.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(s,f,"br"===f.name);break}if(t._selectionOverrides.showBlockCaretContainer(i),w.invalid){for(r_(t,d),i=m.getNode(),a=t.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)i=f,f=f.parentNode;e=i===a?a.innerHTML:g.getOuterHTML(i),e=o.serialize(r.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return o.serialize(u)})))),i===a?g.setHTML(a,e):g.setOuterHTML(i,e)}else!function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?t.dom.setHTML(n,e):r_(t,e)}}(t,e=o.serialize(u),i);!function(t,e){var n=t.schema.getTextInlineElements(),r=t.dom;if(e){var o=t.getBody(),i=new Rm(r);Tn.each(r.select("*[data-mce-fragment]"),(function(t){for(var e=t.parentNode;e&&e!==o;e=e.parentNode)n[t.nodeName.toLowerCase()]&&i.compare(e,t)&&r.remove(t,!0)}))}}(t,h),function(t,e){var n,r,o,i,a,u=t.dom,c=t.selection;if(e){if(t.selection.scrollIntoView(e),n=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null}(e))return u.remove(e),void c.select(n);var s=u.createRng();(i=e.previousSibling)&&3===i.nodeType?(s.setStart(i,i.nodeValue.length),bn.ie||(a=e.nextSibling)&&3===a.nodeType&&(i.appendData(a.data),a.parentNode.removeChild(a))):(s.setStartBefore(e),s.setEndBefore(e));r=u.getParent(e,u.isBlock),u.remove(e),r&&u.isEmpty(r)&&(t.$(r).empty(),s.setStart(r,0),s.setEnd(r,0),n_(r)||function(t){return!!t.getAttribute("data-mce-fragment")}(r)||!(o=function(e){var n=hu.fromRangeStart(e);if(n=xs(t.getBody()).next(n))return n.toRange()}(s))?u.add(r,u.create("br",{"data-mce-bogus":"1"})):(s=o,u.remove(r))),c.setRng(s)}}(t,g.get("mce_marker")),y=t.getBody(),Tn.each(y.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")})),function(t,e){p.from(t.getParent(e,"td,th")).map(tt.fromDom).each(jp)}(t.dom,t.selection.getStart()),t.fire("SetContent",c),t.addVisual()}},i_=function(t,e){var n=function(t){var e;return"string"!=typeof t?(e=Tn.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}}(e);o_(t,n.content,n.details)},a_=function(t,e){t.getDoc().execCommand(e,!1,null)},u_=function(t){Uw(t,!1)||qy(t,!1)||Yy(t,!1)||Qy(t,!1)||Ty(t,!1)||Ew(t)||Ny(t,!1)||rw(t,!1)||(a_(t,"Delete"),dy(t))},c_=function(t){qy(t,!0)||Yy(t,!0)||Qy(t,!0)||Ty(t,!0)||Ew(t)||Ny(t,!0)||rw(t,!0)||a_(t,"ForwardDelete")},s_=function(t,e,n){return e(t).orThunk((function(){return n(t)?p.none():function(t,e,n){for(var r=t.dom(),o=x(n)?n:i(!1);r.parentNode;){r=r.parentNode;var a=tt.fromDom(r),u=e(a);if(u.isSome())return u;if(o(a))break}return p.none()}(t,e,n)}))},l_={"font-size":"size","font-family":"face"},f_=function(t,e,n){var r=function(e){return He(e,t).orThunk((function(){return"font"===oe(e)?K(l_,t).bind((function(t){return n=e,r=t,p.from(ze(n,r));var n,r})):p.none()}))};return s_(tt.fromDom(n),(function(t){return r(t)}),(function(t){return It(tt.fromDom(e),t)}))},d_=function(t){return function(e,n){return p.from(n).map(tt.fromDom).filter(ae).bind((function(n){return f_(t,e,n.dom()).or(function(t,e){return p.from(Ci.DOM.getStyle(e,t,!0))}(t,n.dom()))})).getOr("")}},h_={getFontSize:d_("font-size"),getFontFamily:o((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),d_("font-family")),toPt:function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t}},p_=function(t){return Ms.firstPositionIn(t.getBody()).map((function(t){var e=t.container();return Ne.isText(e)?e.parentNode:e}))},m_=function(t){return p.from(t.selection.getRng()).bind((function(e){return function(t,e){return t.startContainer===e&&0===t.startOffset}(e,t.getBody())?p.none():p.from(t.selection.getStart(!0))}))},g_=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var r=lc(t),o=fc(t);return o?o[n-1]||e:r[n-1]||e}return e}return e},v_=function(t){var e=t.split(/\s*,\s*/);return A(e,(function(t){return-1===t.indexOf(" ")||mt(t,'"')||mt(t,"'")?t:"'"+t+"'"})).join(",")},b_=Tn.each,y_=Tn.map,w_=Tn.inArray,x_=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,e,n,r){var o,i,a=!1,u=this;if(!u.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?pf(u.editor):u.editor.focus(),(r=u.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;if(i=t.toLowerCase(),o=u.commands.exec[i])return o(i,e,n),u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(b_(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(t,e,n))return u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),a=!0,!1})),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,e,n))return u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{a=u.editor.getDoc().execCommand(t,e,n)}catch(t){}return!!a&&(u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(t){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(t){}}},t.prototype.addCommands=function(t,e){var n=this;e=e||"exec",b_(t,(function(t,r){b_(r.toLowerCase().split(","),(function(r){n.commands[e][r]=t}))}))},t.prototype.addCommand=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,o,i,a){return e.call(n||r.editor,o,i,a)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(t){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||r.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||r.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var e=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=t.getDoc();try{e.execNativeCommand(n)}catch(t){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");bn.mac&&(i=i.replace(/Ctrl\+/g,"+")),t.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),b_("left,center,right,justify".split(","),(function(e){r!==e&&t.formatter.remove("align"+e)})),"none"!==r&&e.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r,o;e.execNativeCommand(n),(r=t.dom.getParent(t.selection.getNode(),"ol,ul"))&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(e.storeSelection(),t.dom.split(o,r),e.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,r){e.toggleFormat(t,r)},FontName:function(e,n,r){!function(t,e){var n=g_(t,e);t.formatter.toggle("fontname",{value:v_(n)}),t.nodeChanged()}(t,r)},FontSize:function(e,n,r){!function(t,e){t.formatter.toggle("fontsize",{value:g_(t,e)}),t.nodeChanged()}(t,r)},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,r){return e.toggleFormat(r||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,r,o){var i=o||t.selection.getNode();i!==t.getBody()&&(e.storeSelection(),t.dom.remove(i,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,r){var o=0;t.dom.getParent(t.selection.getNode(),(function(e){if(1===e.nodeType&&o++===r)return t.selection.select(e),!1}),t.getBody())},mceSelectNode:function(e,n,r){t.selection.select(r)},mceInsertContent:function(e,n,r){i_(t,r)},mceInsertRawHTML:function(e,n,r){t.selection.setContent("tiny_mce_marker");var o=t.getContent();t.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(e,n,r){zx(t,r)},mceToggleFormat:function(t,n,r){e.toggleFormat(r)},mceSetContent:function(e,n,r){t.setContent(r)},"Indent,Outdent":function(e){Bw(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,r){var o;"string"==typeof r&&(r={href:r}),o=t.dom.getParent(t.selection.getNode(),"a"),r.href=r.href.replace(/ /g,"%20"),o&&r.href||t.formatter.remove("link"),r.href&&t.formatter.apply("link",r,o)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),Ne.isContentEditableTrue);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},delete:function(){u_(t)},forwardDelete:function(){c_(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,r){return wx(t,r),!0}});var n=function(e){return function(){var n=t.selection.isCollapsed()?[t.dom.getParent(t.selection.getNode(),t.dom.isBlock)]:t.selection.getSelectedBlocks(),r=y_(n,(function(n){return!!t.formatter.matchNode(n,e)}));return-1!==w_(r,!0)}};e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return Mw(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",(function(){return function(t){return m_(t).fold((function(){return p_(t).map((function(e){return h_.getFontFamily(t.getBody(),e)})).getOr("")}),(function(e){return h_.getFontFamily(t.getBody(),e)}))}(t)}),this),e.addQueryValueHandler("FontSize",(function(){return function(t){return m_(t).fold((function(){return p_(t).map((function(e){return h_.getFontSize(t.getBody(),e)})).getOr("")}),(function(e){return h_.getFontSize(t.getBody(),e)}))}(t)}),this)},t}(),C_=Tn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),__=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||s}return t.isNative=function(t){return!!C_[t.toLowerCase()]},t.prototype.fire=function(t,e){var n,r,o,i;if(t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=this.scope),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=l},e.stopPropagation=function(){e.isPropagationStopped=l},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=l},e.isDefaultPrevented=s,e.isPropagationStopped=s,e.isImmediatePropagationStopped=s),this.settings.beforeFire&&this.settings.beforeFire(e),n=this.bindings[t])for(r=0,o=n.length;r<o;r++){if((i=n[r]).once&&this.off(t,i.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===i.func.call(this.scope,e))return e.preventDefault(),e}return e},t.prototype.on=function(t,e,n,r){var o,i,a;if(!1===e&&(e=s),e){var u={func:e};for(r&&Tn.extend(u,r),a=(i=t.toLowerCase().split(" ")).length;a--;)t=i[a],(o=this.bindings[t])||(o=this.bindings[t]=[],this.toggleEvent(t,!0)),n?o.unshift(u):o.push(u)}return this},t.prototype.off=function(t,e){var n,r,o,i,a;if(t)for(n=(i=t.toLowerCase().split(" ")).length;n--;){if(t=i[n],r=this.bindings[t],!t){for(o in this.bindings)this.toggleEvent(o,!1),delete this.bindings[o];return this}if(r){if(e)for(a=r.length;a--;)r[a].func===e&&(r=r.slice(0,a).concat(r.slice(a+1)),this.bindings[t]=r);else r.length=0;r.length||(this.toggleEvent(t,!1),delete this.bindings[t])}}else{for(t in this.bindings)this.toggleEvent(t,!1);this.bindings={}}return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),S_=function(t){return t._eventDispatcher||(t._eventDispatcher=new __({scope:t,toggleEvent:function(e,n){__.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},k_={fire:function(t,e,n){if(this.removed&&"remove"!==t&&"detach"!==t)return e;var r=S_(this).fire(t,e);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(t,r,!1),o=o.parent();return r},on:function(t,e,n){return S_(this).on(t,e,n)},off:function(t,e){return S_(this).off(t,e)},once:function(t,e){return S_(this).once(t,e)},hasEventListeners:function(t){return S_(this).has(t)}},O_=function(t,e,n){ji(t,e)&&!1===n?function(t,e){zi(t)?t.dom().classList.remove(e):Li(t,e);Hi(t)}(t,e):n&&Fi(t,e)},T_=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},E_=function(t,e){t.dom().contentEditable=e?"true":"false"},A_=function(t,e){var n=tt.fromDom(t.getBody());O_(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),function(t){p.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))}(t),t.readonly=!0,E_(n,!1),D($i(n,'*[contenteditable="true"]'),(function(t){Pe(t,"data-mce-contenteditable","true"),E_(t,!1)}))):(t.readonly=!1,E_(n,!0),function(t){D($i(t,'*[data-mce-contenteditable="true"]'),(function(t){Ie(t,"data-mce-contenteditable"),E_(t,!0)}))}(n),T_(t,"StyleWithCSS",!1),T_(t,"enableInlineTableEditing",!1),T_(t,"enableObjectResizing",!1),Bf(t)&&t.focus(),function(t){t.selection.setRng(t.selection.getRng())}(t),t.nodeChanged())},D_=function(t){return!0===t.readonly},N_=function(t){t.parser.addAttributeFilter("contenteditable",(function(e){D_(t)&&D(e,(function(t){t.attr("data-mce-contenteditable",t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter("data-mce-contenteditable",(function(e){D_(t)&&D(e,(function(t){t.attr("contenteditable",t.attr("data-mce-contenteditable"))}))})),t.serializer.addTempAttr("data-mce-contenteditable")},M_=Ci.DOM,R_=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=M_.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},P_=function(t,e,n){!function(t){return!t.hidden&&!D_(t)}(t)?D_(t)&&function(t,e){var n=e.target;(function(t){return"click"===t.type})(e)&&!Md.metaKeyPressed(e)&&function(t,e){return null!==t.dom.getParent(e,"a")}(t,n)&&e.preventDefault()}(t,n):t.fire(e,n)},B_=function(t,e){var n,r;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=R_(t,e),t.settings.event_root){if(bb||(bb={},t.editorManager.on("removeEditor",(function(){var e;if(!t.editorManager.activeEditor&&bb){for(e in bb)t.dom.unbind(R_(t,e));bb=null}}))),bb[e])return;r=function(n){for(var r=n.target,o=t.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||M_.isChildOf(r,a))&&P_(o[i],e,n)}},bb[e]=r,M_.bind(n,e,r)}else r=function(n){P_(t,e,n)},M_.bind(n,e,r),t.delegates[e]=r},z_=Z(Z({},k_),{bindPendingEventDelegates:function(){var t=this;Tn.each(t._pendingNativeEvents,(function(e){B_(t,e)}))},toggleNativeEvent:function(t,e){"focus"!==t&&"blur"!==t&&(e?this.initialized?B_(this,t):this._pendingNativeEvents?this._pendingNativeEvents.push(t):this._pendingNativeEvents=[t]:this.initialized&&(this.dom.unbind(R_(this,t),t,this.delegates[t]),delete this.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this.getBody(),n=this.dom;if(this.delegates){for(t in this.delegates)this.dom.unbind(R_(this,t),t,this.delegates[t]);delete this.delegates}!this.inline&&e&&n&&(e.onload=null,n.unbind(this.getWin()),n.unbind(this.getDoc())),n&&(n.unbind(e),n.unbind(this.getContainer()))}}),I_=["design","readonly"],L_=function(t,e,r,o){var i=r[e.get()],a=r[o];try{a.activate()}catch(t){return void n.console.error("problem while activating editor mode "+o+":",t)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&A_(t,a.editorReadOnly),e.set(o),function(t,e){t.fire("SwitchMode",{mode:e})}(t,o)},F_=function(t){var e=et("design"),o=et({design:{activate:r,deactivate:r,editorReadOnly:!1},readonly:{activate:r,deactivate:r,editorReadOnly:!0}});return function(t){t.serializer?N_(t):t.on("PreInit",(function(){N_(t)}))}(t),function(t){t.on("ShowCaret",(function(e){D_(t)&&e.preventDefault()})),t.on("ObjectSelected",(function(e){D_(t)&&e.preventDefault()}))}(t),{isReadOnly:function(){return D_(t)},set:function(n){return function(t,e,n,r){if(r!==n.get()){if(!J(e,r))throw new Error("Editor mode '"+r+"' is invalid");t.initialized?L_(t,n,e,r):t.on("init",(function(){return L_(t,n,e,r)}))}}(t,o.get(),e,n)},get:function(){return e.get()},register:function(t,e){o.set(function(t,e,r){var o;if(T(I_,e))throw new Error("Cannot override default mode "+e);return Z(Z({},t),((o={})[e]=Z(Z({},r),{deactivate:function(){try{r.deactivate()}catch(t){n.console.error("problem while deactivating editor mode "+e+":",t)}}}),o))}(o.get(),t,e))}}},H_=Tn.each,j_=Tn.explode,V_={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},$_=Tn.makeMap("alt,ctrl,shift,meta,access"),U_=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",(function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(H_(e.shortcuts,(function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0})),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))}))}return t.prototype.add=function(t,e,n,r){var o,i=this;return o=n,"string"==typeof n?n=function(){i.editor.execCommand(o,!1,null)}:Tn.isArray(o)&&(n=function(){i.editor.execCommand(o[0],o[1],o[2])}),H_(j_(Tn.trim(t)),(function(t){var o=i.createShortcut(t,e,n,r);i.shortcuts[o.id]=o})),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.parseShortcut=function(t){var e,n,r={};for(n in H_(j_(t.toLowerCase(),"+"),(function(t){t in $_?r[t]=!0:/^[0-9]{2,}$/.test(t)?r.keyCode=parseInt(t,10):(r.charCode=t.charCodeAt(0),r.keyCode=V_[t]||t.toUpperCase().charCodeAt(0))})),e=[r.keyCode],$_)r[n]?e.push(n):r[n]=!1;return r.id=e.join(","),r.access&&(r.alt=!0,bn.mac?r.ctrl=!0:r.shift=!0),r.meta&&(bn.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},t.prototype.createShortcut=function(t,e,n,r){var o;return(o=Tn.map(j_(t,">"),this.parseShortcut))[o.length-1]=Tn.extend(o[o.length-1],{func:n,scope:r||this.editor}),Tn.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&(e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&(e.alt===t.altKey&&e.shift===t.shiftKey&&(!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0))))},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),W_=function(){var t=function(){var t={},e={},n={},r={},o={},i={},a={},u=function(t,e){return function(n,r){return t[n.toLowerCase()]=Z(Z({},r),{type:e})}};return{addButton:u(t,"button"),addGroupToolbarButton:u(t,"grouptoolbarbutton"),addToggleButton:u(t,"togglebutton"),addMenuButton:u(t,"menubutton"),addSplitButton:u(t,"splitbutton"),addMenuItem:u(e,"menuitem"),addNestedMenuItem:u(e,"nestedmenuitem"),addToggleMenuItem:u(e,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:function(t,e){return r[t.toLowerCase()]=e},getAll:function(){return{buttons:t,menuItems:e,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}}();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},q_=Tn.each,X_=Tn.trim,G_="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Y_={ftp:21,http:80,https:443,mailto:25},K_=function(){function t(e,r){e=X_(e),this.settings=r||{};var o=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))i.source=e;else{var a=0===e.indexOf("//");if(0!==e.indexOf("/")||a||(e=(o&&o.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var u=this.settings.base_uri?this.settings.base_uri.path:new t(n.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+i.toAbsPath(u,e);else{var c=/([^#?]*)([#?]?.*)/.exec(e);e=(o&&o.protocol||"http")+"://mce_host"+i.toAbsPath(u,c[1])+c[2]}}e=e.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);q_(G_,(function(t,e){var n=s[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[t]=n})),o&&(i.protocol||(i.protocol=o.protocol),i.userInfo||(i.userInfo=o.userInfo),i.port||"mce_host"!==i.host||(i.port=o.port),i.host&&"mce_host"!==i.host||(i.host=o.host),i.source=""),a&&(i.protocol="")}}return t.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},t.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},t.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},t.prototype.toRelative=function(e){var n;if("./"===e)return e;var r=new t(e,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},t.prototype.toAbsolute=function(e,n){var r=new t(e,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},t.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=Y_[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},t.prototype.toRelPath=function(t,e){var n,r,o,i=0,a="",u=t.substring(0,t.lastIndexOf("/")).split("/");if(n=e.split("/"),u.length>=n.length)for(r=0,o=u.length;r<o;r++)if(r>=n.length||u[r]!==n[r]){i=r+1;break}if(u.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=u.length||u[r]!==n[r]){i=r+1;break}if(1===i)return e;for(r=0,o=u.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},t.prototype.toAbsPath=function(t,e){var n,r,o,i=0,a=[];r=/\/$/.test(e)?"/":"";var u=t.split("/"),c=e.split("/");for(q_(u,(function(t){t&&a.push(t)})),u=a,n=c.length-1,a=[];n>=0;n--)0!==c[n].length&&"."!==c[n]&&(".."!==c[n]?i>0?i--:a.push(c[n]):i++);return 0!==(o=(n=u.length-i)<=0?L(a).join("/"):u.slice(0,n).join("/")+"/"+L(a).join("/")).indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},t.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},t}(),J_=Ci.DOM,Z_=Tn.extend,Q_=Tn.each,tS=Tn.resolve,eS=bn.ie,nS=function(){function t(t,e,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,Z_(this,z_),this.settings=ad(this,t,this.documentBaseUrl,n.defaultSettings,e),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Oi.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ci.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Mi.languageLoad=this.settings.language_load,Mi.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new K_(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new U_(this),this.editorCommands=new x_(this),this.settings.cache_suffix&&(bn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:W_()};var o=F_(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=di.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return t.prototype.render=function(){qC(this)},t.prototype.focus=function(t){Rf(this,t)},t.prototype.hasFocus=function(){return Pf(this)},t.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o=this,i=o.settings[t];if(i)return o.callbackLookup&&(r=o.callbackLookup[t])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=(r=i.replace(/\.\w+$/,""))?tS(r):0,i=tS(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[t]={func:i,scope:r}),i.apply(r||o,Array.prototype.slice.call(arguments,1))},t.prototype.translate=function(t){return Di.translate(t)},t.prototype.getParam=function(t,e,n){return cd(this,t,e,n)},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},t.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},t.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},t.prototype.addShortcut=function(t,e,n,r){this.shortcuts.add(t,e,n,r)},t.prototype.execCommand=function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(J_.show(this.getContainer()),J_.hide(this.id)),this.load(),this.fire("show"))},t.prototype.hide=function(){var t=this.getDoc();this.hidden||(eS&&t&&!this.inline&&t.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable="false",this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(J_.hide(this.getContainer()),J_.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},t.prototype.load=function(t){var e,n=this.getElement();if(this.removed)return"";if(n){(t=t||{}).load=!0;var r=Ne.isTextareaOrInput(n)?n.value:n.innerHTML;return e=this.setContent(r,t),t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,e}},t.prototype.save=function(t){var e,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(t=t||{}).save=!0,t.element=o,t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),e=t.content,Ne.isTextareaOrInput(o)?o.value=e:(!t.is_removing&&r.inline||(o.innerHTML=e),(n=J_.getParent(r.id,"form"))&&Q_(n.elements,(function(t){if(t.name===r.id)return t.value=e,!1}))),t.element=o=null,!1!==t.set_dirty&&r.setDirty(!1),e},t.prototype.setContent=function(t,e){return Lf(this,t,e)},t.prototype.getContent=function(t){return function(t,e){return void 0===e&&(e={}),p.from(t.getBody()).fold(i("tree"===e.format?new Dl("body",11):""),(function(n){return Hl(t,e,n)}))}(this,t)},t.prototype.insertContent=function(t,e){e&&(t=Z_({content:t},e)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){void 0===t?Lf(this,this.startContent,{format:"raw"}):Lf(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},t.prototype.getContainer=function(){return this.container||(this.container=J_.get(this.editorContainer||this.id+"_parent")),this.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=J_.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},t.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,e,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,r.remove_script_host)},t.prototype.addVisual=function(t){var e,n=this,r=n.settings,o=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),Q_(o.select("table,a",t),(function(t){var i;switch(t.nodeName){case"TABLE":return e=r.visual_table_class||"mce-item-table",void((i=o.getAttrib(t,"border"))&&"0"!==i||!n.hasVisual?o.removeClass(t,e):o.addClass(t,e));case"A":return void(o.getAttrib(t,"href")||(i=o.getAttrib(t,"name")||t.id,e=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(t,e):o.removeClass(t,e)))}})),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},t.prototype.remove=function(){jf(this)},t.prototype.destroy=function(t){Vf(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),rS=Ci.DOM,oS=Tn.explode,iS=Tn.each,aS=Tn.extend,uS=0,cS=!1,sS=[],lS=[],fS=function(t){var e=t.type;iS(mS.get(),(function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}}))},dS=function(t){t!==cS&&(t?di(window).on("resize scroll",fS):di(window).off("resize scroll",fS),cS=t)},hS=function(t){var e=lS;delete sS[t.id];for(var n=0;n<sS.length;n++)if(sS[n]===t){sS.splice(n,1);break}return lS=N(lS,(function(e){return t!==e})),mS.activeEditor===t&&(mS.activeEditor=lS.length>0?lS[0]:null),mS.focusedEditor===t&&(mS.focusedEditor=null),e.length!==lS.length},pS="CSS1Compat"!==n.document.compatMode,mS=Z(Z({},k_),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:di,majorVersion:"5",minorVersion:"2.0",releaseDate:"2020-02-13",editors:sS,i18n:Di,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,e,r="";e=K_.getDocumentBaseUrl(n.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,r=o.suffix;else{for(var i=n.document.getElementsByTagName("script"),a=0;a<i.length;a++){var u;if(""!==(u=i[a].src||"")){var c=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==c.indexOf(".min")&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&n.document.currentScript)-1!==(u=n.document.currentScript.src).indexOf(".min")&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}this.baseURL=new K_(e).toAbsolute(t),this.documentBaseURL=e,this.baseURI=new K_(this.baseURL),this.suffix=r,Sf(this)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&this._setBaseUrl(e),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var r=t.plugin_base_urls;for(var o in r)Mi.PluginManager.urls[o]=r[o]},init:function(t){var e,r,o=this;r=Tn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var i=function(t){var e=t.id;return e||(e=(e=t.name)&&!rS.get(e)?t.name:rS.uniqueId(),t.setAttribute("id",e)),e},a=function(t,e){return e.constructor===RegExp?e.test(t.className):rS.hasClass(t,e)},u=function(t){e=t},c=function(){var e,s=0,l=[],f=function(t,n,r){var i=new nS(t,n,o);l.push(i),i.on("init",(function(){++s===e.length&&u(l)})),i.targetElm=i.targetElm||r,i.render()};rS.unbind(window,"ready",c),function(e){var n=t[e];if(n)n.apply(o,Array.prototype.slice.call(arguments,2))}("onpageload"),e=di.unique(function(t){var e,r=[];if(bn.browser.isIE()&&bn.browser.version.major<11)return Td.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(pS)return Td.initError("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return iS(t.types,(function(t){r=r.concat(rS.select(t.selector))})),r;if(t.selector)return rS.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":(e=t.elements||"").length>0&&iS(oS(e),(function(t){var e;(e=rS.get(t))?r.push(e):iS(n.document.forms,(function(e){iS(e.elements,(function(e){e.name===t&&(t="mce_editor_"+uS++,rS.setAttrib(e,"id",t),r.push(e))}))}))}));break;case"textareas":case"specific_textareas":iS(rS.select("textarea"),(function(e){t.editor_deselector&&a(e,t.editor_deselector)||t.editor_selector&&!a(e,t.editor_selector)||r.push(e)}))}return r}(t)),t.types?iS(t.types,(function(n){Tn.each(e,(function(e){return!rS.is(e,n.selector)||(f(i(e),aS({},t,n),e),!1)}))})):(Tn.each(e,(function(t){var e;(e=o.get(t.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(hS(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)})),0===(e=Tn.grep(e,(function(t){return!o.get(t.id)}))).length?u([]):iS(e,(function(e){!function(t,e){return t.inline&&e.tagName.toLowerCase()in r}(t,e)?f(i(e),t,e):Td.initError("Could not initialize inline editor on invalid inline target element",e)})))};return o.settings=t,rS.bind(window,"ready",c),new on((function(t){e?t(e):u=function(e){t(e)}}))},get:function(t){return 0===arguments.length?lS.slice(0):g(t)?P(lS,(function(e){return e.id===t})).getOr(null):C(t)&&lS[t]?lS[t]:null},add:function(t){var e=this;return sS[t.id]===t||(null===e.get(t.id)&&("length"!==t.id&&(sS[t.id]=t),sS.push(t),lS.push(t)),dS(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),yb||(yb=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",yb))),t},createEditor:function(t,e){return this.add(new nS(t,e,this))},remove:function(t){var e,n,r=this;if(t){if(!g(t))return n=t,y(r.get(n.id))?null:(hS(n)&&r.fire("RemoveEditor",{editor:n}),0===lS.length&&window.removeEventListener("beforeunload",yb),n.remove(),dS(lS.length>0),n);iS(rS.select(t),(function(t){(n=r.get(t.id))&&r.remove(n)}))}else for(e=lS.length-1;e>=0;e--)r.remove(lS[e])},execCommand:function(t,e,n){var r=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new nS(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){iS(lS,(function(t){t.save()}))},addI18n:function(t,e){Di.add(t,e)},translate:function(t){return Di.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new K_(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new K_(this.baseURL)}});function gS(t){return{walk:function(e,n){return bl(t,e,n)},split:Zp,normalize:function(e){return Qh(t,e).fold(i(!1),(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}}mS.setup(),function(t){t.compareRanges=Uh,t.getCaretRangeFromPoint=ih,t.getSelectedNode=Fa,t.getNode=Ha}(gS||(gS={}));var vS,bS,yS,wS,xS=gS,CS=(vS={},bS={},{load:function(t,e){var r='Script at URL "'+e+'" failed to load',o='Script at URL "'+e+"\" did not call `tinymce.Resource.add('"+t+"', data)` within 1 second";if(void 0!==vS[t])return vS[t];var i=new on((function(i,a){var u=function(t,e,r){void 0===r&&(r=1e3);var o=!1,i=null,a=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];o||(o=!0,null!==i&&(n.clearTimeout(i),i=null),t.apply(null,e))}},u=a(t),c=a(e);return{start:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o||null!==i||(i=n.setTimeout((function(){return c.apply(null,t)}),r))},resolve:u,reject:c}}(i,a);bS[t]=u.resolve,Oi.ScriptLoader.loadScript(e,(function(){return u.start(o)}),(function(){return u.reject(r)}))}));return vS[t]=i,i},add:function(t,e){void 0!==bS[t]&&(bS[t](e),delete bS[t]),vS[t]=on.resolve(e)}}),_S=Math.min,SS=Math.max,kS=Math.round,OS=function(t,e,n){var r,o,i,a,u,c;return r=e.x,o=e.y,i=t.w,a=t.h,u=e.w,c=e.h,"b"===(n=(n||"").split(""))[0]&&(o+=c),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=kS(c/2)),"c"===n[1]&&(r+=kS(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=kS(a/2)),"c"===n[4]&&(r-=kS(i/2)),TS(r,o,i,a)},TS=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},ES={inflate:function(t,e,n){return TS(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:OS,findBestRelativePosition:function(t,e,n,r){var o,i;for(i=0;i<r.length;i++)if((o=OS(t,e,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(t,e){var n,r,o,i;return n=SS(t.x,e.x),r=SS(t.y,e.y),o=_S(t.x+t.w,e.x+e.w),i=_S(t.y+t.h,e.y+e.h),o-n<0||i-r<0?null:TS(n,r,o-n,i-r)},clamp:function(t,e,n){var r,o,i,a,u,c,s,l,f,d;return u=t.x,c=t.y,s=t.x+t.w,l=t.y+t.h,f=e.x+e.w,d=e.y+e.h,r=SS(0,e.x-u),o=SS(0,e.y-c),i=SS(0,s-f),a=SS(0,l-d),u+=r,c+=o,n&&(s+=r,l+=o,u-=i,c-=a),TS(u,c,(s-=i)-u,(l-=a)-c)},create:TS,fromClientRect:function(t){return TS(t.left,t.top,t.width,t.height)}},AS=Tn.each,DS=Tn.extend,NS=function(){};NS.extend=yS=function(t){var e,n,r,o=this.prototype,i=function(){var t,e,n,r=this;if(!wS&&(r.init&&r.init.apply(r,arguments),e=r.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(r,arguments)},a=function(){return this},u=function(t,e){return function(){var n,r=this,i=r._super;return r._super=o[t],n=e.apply(r,arguments),r._super=i,n}};for(n in wS=!0,e=new this,wS=!1,t.Mixins&&(AS(t.Mixins,(function(e){for(var n in e)"init"!==n&&(t[n]=e[n])})),o.Mixins&&(t.Mixins=o.Mixins.concat(t.Mixins))),t.Methods&&AS(t.Methods.split(","),(function(e){t[e]=a})),t.Properties&&AS(t.Properties.split(","),(function(e){var n="_"+e;t[e]=function(t){return void 0!==t?(this[n]=t,this):this[n]}})),t.Statics&&AS(t.Statics,(function(t,e){i[e]=t})),t.Defaults&&o.Defaults&&(t.Defaults=DS({},o.Defaults,t.Defaults)),t)"function"==typeof(r=t[n])&&o[n]?e[n]=u(n,r):e[n]=r;return i.prototype=e,i.constructor=i,i.extend=yS,i};var MS,RS=Math.min,PS=Math.max,BS=Math.round,zS={serialize:function(t){var e=JSON.stringify(t);return g(e)?e.replace(/[\u0080-\uFFFF]/g,(function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e})):e},parse:function(t){try{return JSON.parse(t)}catch(t){}}},IS={callbacks:{},count:0,send:function(t){var e=this,n=Ci.DOM,r=void 0!==t.count?t.count:e.count,o="tinymce_jsonp_"+r;e.callbacks[r]=function(i){n.remove(o),delete e.callbacks[r],t.callback(i)},n.add(n.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),e.count++}},LS=Z(Z({},k_),{send:function(t){var e,r=0,o=function(){!t.async||4===e.readyState||r++>1e4?(t.success&&r<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,r>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):sn.setTimeout(o,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",LS.fire("beforeInitialize",{settings:t}),e=new n.XMLHttpRequest){if(e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&Tn.each(t.requestheaders,(function(t){e.setRequestHeader(t.key,t.value)})),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=LS.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return o();sn.setTimeout(o,10)}}}),FS=Tn.extend,HS=function(){function t(t){this.settings=FS({},t),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(t){var e=t.error,n=t.success,r=FS(this.settings,t);r.success=function(t,o){void 0===(t=zS.parse(t))&&(t={error:"JSON Parse error."}),t.error?e.call(r.error_scope||r.scope,t.error,o):n.call(r.success_scope||r.scope,t.result)},r.error=function(t,n){e&&e.call(r.error_scope||r.scope,t,n)},r.data=zS.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",LS.send(r)},t}();try{MS=n.window.localStorage}catch(t){MS=function(){var t={},e=[],n={getItem:function(e){var n=t[e];return n||null},setItem:function(n,r){e.push(n),t[n]=String(r)},key:function(t){return e[t]},removeItem:function(n){e=e.filter((function(t){return t===n})),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()}var jS={geom:{Rect:ES},util:{Promise:on,Delay:sn,Tools:Tn,VK:Md,URI:K_,Class:NS,EventDispatcher:__,Observable:k_,I18n:Di,XHR:LS,JSON:zS,JSONRequest:HS,JSONP:IS,LocalStorage:MS,Color:function(t){var e={},n=0,r=0,o=0,i=function(t){var i;return"object"==typeof t?"r"in t?(n=t.r,r=t.g,o=t.b):"v"in t&&function(t,e,i){var a,u,c,s;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,i=parseInt(i,10)/100,e=PS(0,RS(e,1)),i=PS(0,RS(i,1)),0!==e){switch(a=t/60,c=(u=i*e)*(1-Math.abs(a%2-1)),s=i-u,Math.floor(a)){case 0:n=u,r=c,o=0;break;case 1:n=c,r=u,o=0;break;case 2:n=0,r=u,o=c;break;case 3:n=0,r=c,o=u;break;case 4:n=c,r=0,o=u;break;case 5:n=u,r=0,o=c;break;default:n=r=o=0}n=BS(255*(n+s)),r=BS(255*(r+s)),o=BS(255*(o+s))}else n=r=o=BS(255*i)}(t.h,t.s,t.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,e};return t&&i(t),e.toRgb=function(){return{r:n,g:r,b:o}},e.toHsv=function(){return function(t,e,n){var r,o,i,a;return 0,0,o=0,(i=RS(t/=255,RS(e/=255,n/=255)))===(a=PS(t,PS(e,n)))?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,o=a,{h:BS(60*((t===i?3:n===i?1:5)-(t===i?e-n:n===i?t-e:n-t)/(a-i))),s:BS(100*r),v:BS(100*o)})}(n,r,o)},e.toHex=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(n)+t(r)+t(o)},e.parse=i,e}},dom:{EventUtils:Vr,Sizzle:So,DomQuery:di,TreeWalker:hi,TextSeeker:zu,DOMUtils:Ci,ScriptLoader:Oi,RangeUtils:xS,Serializer:Tp,ControlSelection:Bd,BookmarkManager:Dd,Selection:sp,Event:Vr.Event},html:{Styles:Rr,Entities:rr,Node:Dl,Schema:hr,SaxParser:Il,DomParser:wp,Writer:Vl,Serializer:$l},Env:bn,AddOnManager:Mi,Annotator:kl,Formatter:gg,UndoManager:zg,EditorCommands:x_,WindowManager:xd,NotificationManager:bd,EditorObservable:z_,Shortcuts:U_,Editor:nS,FocusManager:gf,EditorManager:mS,DOM:Ci.DOM,ScriptLoader:Oi.ScriptLoader,PluginManager:Mi.PluginManager,ThemeManager:Mi.ThemeManager,IconManager:sd,Resource:CS,trim:Tn.trim,isArray:Tn.isArray,is:Tn.is,toArray:Tn.toArray,makeMap:Tn.makeMap,each:Tn.each,map:Tn.map,grep:Tn.grep,inArray:Tn.inArray,extend:Tn.extend,create:Tn.create,walk:Tn.walk,createNS:Tn.createNS,resolve:Tn.resolve,explode:Tn.explode,_addCacheSuffix:Tn._addCacheSuffix,isOpera:bn.opera,isWebKit:bn.webkit,isIE:bn.ie,isGecko:bn.gecko,isMac:bn.mac},VS=Tn.extend(mS,jS);!function(t){window.tinymce=t,window.tinyMCE=t}(VS),function(e){try{t.exports=e}catch(t){}}(VS)}(window)}).call(this,n(1))},function(t,e,n){n(76)},function(t,e,n){(function(t){!function(e){"use strict";var n=function(){},r=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},o=function(t){return function(){return t}},i=function(t){return t};function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var u=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},c=function(t){return function(){throw new Error(t)}},s=o(!1),l=o(!0),f=tinymce.util.Tools.resolve("tinymce.ThemeManager"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function p(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var m,g=function(){return v},v=function(){var t=function(t){return t.isNone()},e=function(t){return t()},r=function(t){return t},i={fold:function(t,e){return t()},is:s,isSome:s,isNone:l,getOr:r,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:e,map:g,each:n,bind:g,exists:s,forall:l,filter:g,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(i),i}(),b=function(t){var e=o(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return b(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:v},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return i},y={some:b,none:g,from:function(t){return null==t?v:b(t)}},w=function(t){return{is:function(e){return t===e},isValue:l,isError:s,getOr:o(t),getOrThunk:o(t),getOrDie:o(t),or:function(e){return w(t)},orThunk:function(e){return w(t)},fold:function(e,n){return n(t)},map:function(e){return w(e(t))},mapError:function(e){return w(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return y.some(t)}}},x=function(t){return{is:s,isValue:s,isError:l,getOr:i,getOrThunk:function(t){return t()},getOrDie:function(){return c(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return x(t)},mapError:function(e){return x(e(t))},each:n,bind:function(e){return x(t)},exists:s,forall:l,toOption:y.none}},C={value:w,error:x,fromOption:function(t,e){return t.fold((function(){return x(e)}),w)}},_=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},S=_("string"),k=_("object"),O=_("array"),T=_("boolean"),E=_("function"),A=_("number"),D=function(t,e){if(O(t)){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n]))return!1;return!0}return!1},N=Array.prototype.slice,M=Array.prototype.indexOf,R=Array.prototype.push,P=function(t,e){return M.call(t,e)},B=function(t,e){return P(t,e)>-1},z=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return!0}return!1},I=function(t,e){for(var n=[],r=0;r<t.length;r+=e){var o=N.call(t,r,r+e);n.push(o)}return n},L=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},F=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},H=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},j=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}}(t,(function(t){n=e(n,t)})),n},V=function(t,e,n){return F(t,(function(t){n=e(n,t)})),n},$=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return y.some(o)}return y.none()},U=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return y.some(n)}return y.none()},W=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!O(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);R.apply(e,t[n])}return e},q=function(t,e){return W(L(t,e))},X=function(t,e){for(var n=0,r=t.length;n<r;++n){if(!0!==e(t[n],n))return!1}return!0},G=function(t){var e=N.call(t,0);return e.reverse(),e},Y=function(t,e){return H(t,(function(t){return!B(e,t)}))},K=function(t){return[t]},J=function(t,e){var n=N.call(t,0);return n.sort(e),n},Z=function(t){return 0===t.length?y.none():y.some(t[0])},Q=function(t){return 0===t.length?y.none():y.some(t[t.length-1])},tt=E(Array.from)?Array.from:function(t){return N.call(t)},et=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return y.none()},nt=Object.keys,rt=Object.hasOwnProperty,ot=function(t,e){for(var n=nt(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},it=function(t,e){return at(t,(function(t,n){return{k:n,v:e(t,n)}}))},at=function(t,e){var n={};return ot(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},ut=function(t,e){var n=[];return ot(t,(function(t,r){n.push(e(t,r))})),n},ct=function(t,e){for(var n=nt(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];if(e(a,i,t))return y.some(a)}return y.none()},st=function(t){return ut(t,(function(t){return t}))},lt=function(t,e){return ft(t,e)?y.from(t[e]):y.none()},ft=function(t,e){return rt.call(t,e)},dt=function(t,e){return ft(t,e)&&void 0!==t[e]&&null!==t[e]},ht=function(t){if(!O(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return F(t,(function(o,i){var a=nt(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],c=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!O(c))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var s=function(t){var e=nt(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!X(n,(function(t){return B(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[u].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[i];return e.apply(null,o)},match:s,log:function(t){e.console.log(t,{constructors:n,constructor:u,params:o})}}}})),r},pt=Object.prototype.hasOwnProperty,mt=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)pt.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},gt=mt((function(t,e){return k(t)&&k(e)?gt(t,e):e})),vt=mt((function(t,e){return e})),bt=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}};!function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"}(m||(m={}));var yt=function(t,e,n){return t.stype===m.Error?e(t.serror):n(t.svalue)},wt=function(t){return{stype:m.Value,svalue:t}},xt=function(t){return{stype:m.Error,serror:t}},Ct=function(t){return t.fold(xt,wt)},_t=function(t){return yt(t,C.error,C.value)},St=wt,kt=function(t){var e=[],n=[];return F(t,(function(t){yt(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},Ot=xt,Tt=function(t,e){return t.stype===m.Value?e(t.svalue):t},Et=function(t,e){return t.stype===m.Error?e(t.serror):t},At=function(t,e){return t.stype===m.Value?{stype:m.Value,svalue:e(t.svalue)}:t},Dt=function(t,e){return t.stype===m.Error?{stype:m.Error,serror:e(t.serror)}:t},Nt=ht([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Mt=function(t){return Nt.defaultedThunk(o(t))},Rt=function(t){return Nt.mergeWithThunk(o(t))},Pt=Nt.strict,Bt=Nt.asOption,zt=Nt.defaultedThunk,It=(Nt.asDefaultedOptionThunk,Nt.mergeWithThunk),Lt=function(t,e){var n;return(n={})[t]=e,n},Ft=(ht([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t,e){return function(t,e){var n={};return ot(t,(function(t,r){B(e,r)||(n[r]=t)})),n}(t,e)}),Ht=function(t,e){return Lt(t,e)},jt=function(t){return function(t){var e={};return F(t,(function(t){e[t.key]=t.value})),e}(t)},Vt=function(t,e){var n,r=function(t){var e=[],n=[];return F(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}(t);return r.errors.length>0?(n=r.errors,C.error(W(n))):function(t,e){return 0===t.length?C.value(e):C.value(gt(e,vt.apply(void 0,t)))}(r.values,e)},$t=function(t){return r(Ot,W)(t)},Ut=function(t,e){var n=kt(t);return n.errors.length>0?$t(n.errors):function(t,e){return t.length>0?St(gt(e,vt.apply(void 0,t))):St(e)}(n.values,e)},Wt=function(t){var e=kt(t);return e.errors.length>0?$t(e.errors):St(e.values)},qt=function(t){return k(t)&&nt(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Xt=function(t,e){return Ot([{path:t,getErrorInfo:e}])},Gt=ht([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Yt=function(t,e,n){return lt(e,n).fold((function(){return function(t,e,n){return Xt(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+qt(n)}))}(t,n,e)}),St)},Kt=function(t,e,n){var r=lt(t,e).fold((function(){return n(t)}),i);return St(r)},Jt=function(t,e,n,r){return n.fold((function(n,i,a,u){var c=function(e){var o=u.extract(t.concat([n]),r,e);return At(o,(function(t){return Lt(i,r(t))}))},s=function(e){return e.fold((function(){var t=Lt(i,r(y.none()));return St(t)}),(function(e){var o=u.extract(t.concat([n]),r,e);return At(o,(function(t){return Lt(i,r(y.some(t)))}))}))};return a.fold((function(){return Tt(Yt(t,e,n),c)}),(function(t){return Tt(Kt(e,n,t),c)}),(function(){return Tt(function(t,e){return St(lt(t,e))}(e,n),s)}),(function(t){return Tt(function(t,e,n){var r=lt(t,e).map((function(e){return!0===e?n(t):e}));return St(r)}(e,n,t),s)}),(function(t){var r=t(e),i=At(Kt(e,n,o({})),(function(t){return gt(r,t)}));return Tt(i,c)}))}),(function(t,n){var o=n(e);return St(Lt(t,r(o)))}))},Zt=function(t){return{extract:function(e,n,r){return Et(t(r,n),(function(t){return function(t,e){return Xt(t,(function(){return e}))}(e,t)}))},toString:function(){return"val"}}},Qt=function(t){var e=nt(t);return H(e,(function(e){return dt(t,e)}))},te=function(t){var e=ee(t),n=j(t,(function(t,e){return e.fold((function(e){return gt(t,Ht(e,!0))}),o(t))}),{});return{extract:function(t,r,o){var i=T(o)?[]:Qt(o),a=H(i,(function(t){return!dt(n,t)}));return 0===a.length?e.extract(t,r,o):function(t,e){return Xt(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))}(t,a)},toString:e.toString}},ee=function(t){return{extract:function(e,n,r){return function(t,e,n,r){var o=L(n,(function(n){return Jt(t,e,n,r)}));return Ut(o,{})}(e,r,t,n)},toString:function(){return"obj{\n"+L(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))})).join("\n")+"}"}}},ne=function(t){return{extract:function(e,n,r){var o=L(r,(function(r,o){return t.extract(e.concat(["["+o+"]"]),n,r)}));return Wt(o)},toString:function(){return"array("+t.toString()+")"}}},re=function(t,e){return{extract:function(n,r,o){var a=nt(o),u=function(e,n){return ne(Zt(t)).extract(e,i,n)}(n,a);return Tt(u,(function(t){var i=L(t,(function(t){return Gt.field(t,t,Pt(),e)}));return ee(i).extract(n,r,o)}))},toString:function(){return"setOf("+e.toString()+")"}}},oe=o(Zt(St)),ie=r(ne,ee),ae=Gt.state,ue=Gt.field,ce=function(t,e,n,r,o){return lt(r,o).fold((function(){return function(t,e,n){return Xt(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+qt(e)}))}(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),e,n)}))},se=function(t,e){return{extract:function(n,r,o){return lt(o,t).fold((function(){return function(t,e){return Xt(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}(n,t)}),(function(t){return ce(n,r,o,e,t)}))},toString:function(){return"chooseOn("+t+"). Possible values: "+nt(e)}}},le=Zt(St),fe=function(t){return ie(t)},de=function(t){return{extract:function(e,n,r){return t().extract(e,n,r)},toString:function(){return t().toString()}}},he=function(t){return Zt((function(e){return t(e).fold(Ot,St)}))},pe=function(t,e){return re((function(e){return Ct(t(e))}),e)},me=function(t,e,n){return _t(function(t,e,n,r){var o=e.extract([t],n,r);return Dt(o,(function(t){return{input:r,errors:t}}))}(t,e,i,n))},ge=function(t){return t.fold((function(t){throw new Error(be(t))}),i)},ve=function(t,e,n){return ge(me(t,e,n))},be=function(t){return"Errors: \n"+(e=t.errors,n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e,L(n,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))).join("\n")+"\n\nInput object: "+qt(t.input);var e,n},ye=function(t,e){return se(t,e)},we=function(t,e){return se(t,it(e,ee))},xe=o(le),Ce=function(t,e){return Zt((function(n){var r=typeof n;return t(n)?St(n):Ot("Expected type: "+e+" but got: "+r)}))},_e=Ce(A,"number"),Se=Ce(S,"string"),ke=Ce(T,"boolean"),Oe=Ce(E,"function"),Te=function(t){var e=function(t,e){for(var n=t.next();!n.done;){if(!e(n.value))return!1;n=t.next()}return!0};if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every((function(e){return Te(t[e])}));case"Map":return e(t.keys(),Te)&&e(t.values(),Te);case"Set":return e(t.keys(),Te);default:return!1}},Ee=Zt((function(t){return Te(t)?St(t):Ot("Expected value to be acceptable for sending via postMessage")})),Ae=function(t){return he((function(e){return B(t,e)?C.value(e):C.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')}))},De=function(t){return ue(t,t,Pt(),oe())},Ne=function(t,e){return ue(t,t,Pt(),e)},Me=function(t){return Ne(t,_e)},Re=function(t){return Ne(t,Se)},Pe=function(t,e){return ue(t,t,Pt(),Ae(e))},Be=function(t){return Ne(t,Oe)},ze=function(t,e){return ue(t,t,Pt(),ee(e))},Ie=function(t,e){return ue(t,t,Pt(),ie(e))},Le=function(t,e){return ue(t,t,Pt(),ne(e))},Fe=function(t){return ue(t,t,Bt(),oe())},He=function(t,e){return ue(t,t,Bt(),e)},je=function(t){return He(t,_e)},Ve=function(t){return He(t,Se)},$e=function(t){return He(t,Oe)},Ue=function(t,e){return He(t,ee(e))},We=function(t,e){return ue(t,t,Mt(e),oe())},qe=function(t,e,n){return ue(t,t,Mt(e),n)},Xe=function(t,e){return qe(t,e,_e)},Ge=function(t,e){return qe(t,e,Se)},Ye=function(t,e,n){return qe(t,e,Ae(n))},Ke=function(t,e){return qe(t,e,ke)},Je=function(t,e){return qe(t,e,Oe)},Ze=function(t,e,n){return qe(t,e,ee(n))},Qe=function(t,e){return ae(t,e)},tn=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return tn(n())}}},en=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:o(t)}},nn={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return en(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return en(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return en(r)},fromDom:en,fromPoint:function(t,e,n){var r=t.dom();return y.from(r.elementFromPoint(e,n)).map(en)}},rn=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},on=function(t,n){return rn(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},an=function(){return un(0,0)},un=function(t,e){return{major:t,minor:e}},cn={nu:un,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?an():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return un(r(1),r(2))}(t,n)},unknown:an},sn=function(t,e){return function(){return e===t}},ln=function(t){var e=t.current;return{current:e,version:t.version,isEdge:sn("Edge",e),isChrome:sn("Chrome",e),isIE:sn("IE",e),isOpera:sn("Opera",e),isFirefox:sn("Firefox",e),isSafari:sn("Safari",e)}},fn={unknown:function(){return ln({current:void 0,version:cn.unknown()})},nu:ln,edge:o("Edge"),chrome:o("Chrome"),ie:o("IE"),opera:o("Opera"),firefox:o("Firefox"),safari:o("Safari")},dn=function(t,e){return function(){return e===t}},hn=function(t){var e=t.current;return{current:e,version:t.version,isWindows:dn("Windows",e),isiOS:dn("iOS",e),isAndroid:dn("Android",e),isOSX:dn("OSX",e),isLinux:dn("Linux",e),isSolaris:dn("Solaris",e),isFreeBSD:dn("FreeBSD",e),isChromeOS:dn("ChromeOS",e)}},pn={unknown:function(){return hn({current:void 0,version:cn.unknown()})},nu:hn,windows:o("Windows"),ios:o("iOS"),android:o("Android"),linux:o("Linux"),osx:o("OSX"),solaris:o("Solaris"),freebsd:o("FreeBSD"),chromeos:o("ChromeOS")},mn=function(t,e){var n=String(e).toLowerCase();return $(t,(function(t){return t.search(n)}))},gn=function(t,e){return mn(t,e).map((function(t){var n=cn.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},vn=function(t,e){return mn(t,e).map((function(t){var n=cn.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},bn=function(t,e){return-1!==t.indexOf(e)},yn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,wn=function(t){return function(e){return bn(e,t)}},xn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return bn(t,"edge/")&&bn(t,"chrome")&&bn(t,"safari")&&bn(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yn],search:function(t){return bn(t,"chrome")&&!bn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return bn(t,"msie")||bn(t,"trident")}},{name:"Opera",versionRegexes:[yn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:wn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:wn("firefox")},{name:"Safari",versionRegexes:[yn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(bn(t,"safari")||bn(t,"mobile/"))&&bn(t,"applewebkit")}}],Cn=[{name:"Windows",search:wn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return bn(t,"iphone")||bn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:wn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:wn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:wn("linux"),versionRegexes:[]},{name:"Solaris",search:wn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:wn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:wn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_n={browsers:o(xn),oses:o(Cn)},Sn=function(t,e){var n=_n.browsers(),r=_n.oses(),i=gn(n,t).fold(fn.unknown,fn.nu),a=vn(r,t).fold(pn.unknown,pn.nu),u=function(t,e,n,r){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),c=u||r("(pointer:coarse)"),s=i||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!s,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!s&&!f;return{isiPad:o(i),isiPhone:o(a),isTablet:o(s),isPhone:o(l),isTouch:o(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:o(f),isDesktop:o(d)}}(a,i,t,e);return{browser:i,os:a,deviceType:u}},kn=tn(Sn(e.navigator.userAgent,(function(t){return e.window.matchMedia(t).matches}))),On=function(){return kn.get()},Tn=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),En=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),An=e.Node.TEXT_NODE,Dn=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,En),Nn=Tn,Mn=function(t,e){var n=t.dom();if(n.nodeType!==Dn)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Rn=function(t){return t.nodeType!==Dn&&t.nodeType!==Nn||0===t.childElementCount},Pn=function(t,n){var r=void 0===n?e.document:n.dom();return Rn(r)?[]:L(r.querySelectorAll(t),nn.fromDom)},Bn=function(t,e){return t.dom()===e.dom()},zn=On().browser,In=zn.isIE()?function(t,e){return on(t.dom(),e.dom())}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},Ln=function(t,e,n){for(var r=t.dom(),i=E(n)?n:o(!1);r.parentNode;){r=r.parentNode;var a=nn.fromDom(r),u=e(a);if(u.isSome())return u;if(i(a))break}return y.none()},Fn=function(t,e,n){return e(t).orThunk((function(){return n(t)?y.none():Ln(t,e,n)}))},Hn=function(t,e){return Bn(t.element(),e.event().target())},jn=function(t){if(!dt(t,"can")&&!dt(t,"abort")&&!dt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return ve("Extracting event.handler",te([We("can",o(!0)),We("abort",o(!1)),We("run",n)]),t)},Vn=function(t){var e=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return V(t,(function(t,r){return t&&e(r).apply(void 0,n)}),!0)}}(t,(function(t){return t.can})),n=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return V(t,(function(t,r){return t||e(r).apply(void 0,n)}),!1)}}(t,(function(t){return t.abort}));return jn({can:e,abort:n,run:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];F(t,(function(t){t.run.apply(void 0,e)}))}})},$n=o("touchstart"),Un=o("touchmove"),Wn=o("touchend"),qn=o("touchcancel"),Xn=o("mousedown"),Gn=o("mousemove"),Yn=o("mouseout"),Kn=o("mouseup"),Jn=o("mouseover"),Zn=o("focusin"),Qn=o("focusout"),tr=o("keydown"),er=o("keyup"),nr=o("input"),rr=o("change"),or=o("click"),ir=o("transitionend"),ar=o("selectstart"),ur={tap:o("alloy.tap")},cr=o("alloy.focus"),sr=o("alloy.blur.post"),lr=o("alloy.paste.post"),fr=o("alloy.receive"),dr=o("alloy.execute"),hr=o("alloy.focus.item"),pr=ur.tap,mr=o("alloy.longpress"),gr=o("alloy.sandbox.close"),vr=o("alloy.typeahead.cancel"),br=o("alloy.system.init"),yr=o("alloy.system.touchmove"),wr=o("alloy.system.touchend"),xr=o("alloy.system.scroll"),Cr=o("alloy.system.resize"),_r=o("alloy.system.attached"),Sr=o("alloy.system.detached"),kr=o("alloy.system.dismissRequested"),Or=o("alloy.system.repositionRequested"),Tr=o("alloy.focusmanager.shifted"),Er=o("alloy.slotcontainer.visibility"),Ar=o("alloy.change.tab"),Dr=o("alloy.dismiss.tab"),Nr=o("alloy.highlight"),Mr=o("alloy.dehighlight"),Rr=function(t,e){Ir(t,t.element(),e,{})},Pr=function(t,e,n){Ir(t,t.element(),e,n)},Br=function(t){Rr(t,dr())},zr=function(t,e,n){Ir(t,e,n,{})},Ir=function(t,e,n,r){var i=d({target:e},r);t.getSystem().triggerEvent(n,e,it(i,o))},Lr=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event())},Fr=function(t){return jt(t)},Hr=function(t,e){return{key:t,value:jn({abort:e})}},jr=function(t){return{key:t,value:jn({run:function(t,e){e.event().prevent()}})}},Vr=function(t,e){return{key:t,value:jn({run:e})}},$r=function(t,e,n){return{key:t,value:jn({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},Ur=function(t){return function(e){return{key:t,value:jn({run:function(t,n){Hn(t,n)&&e(t,n)}})}}},Wr=function(t,e,n){return function(t,e){return Vr(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){Lr(e,e.element(),t,r)}))}))}(t,e.partUids[n])},qr=function(t,e){return Vr(t,(function(t,n){var r=n.event(),i=t.getSystem().getByDom(r.target()).fold((function(){return Fn(r.target(),(function(e){return t.getSystem().getByDom(e).toOption()}),o(!1)).getOr(t)}),(function(t){return t}));e(t,i,n)}))},Xr=function(t){return Vr(t,(function(t,e){e.cut()}))},Gr=function(t){return Vr(t,(function(t,e){e.stop()}))},Yr=function(t,e){return Ur(t)(e)},Kr=Ur(_r()),Jr=Ur(Sr()),Zr=Ur(br()),Qr=function(t){return function(e){return Vr(t,e)}}(dr()),to=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return F(t,(function(t,n){r[t]=o(e[n])})),r}},eo=function(t){return t.slice(0).sort()},no=function(t,e){if(!O(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");F(e,(function(e){if(!S(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},ro=function(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return no("required",t),no("optional",e),function(t){var e=eo(t);$(e,(function(t,n){return n<e.length-1&&t===e[n+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))}(n),function(r){var i=nt(r);X(t,(function(t){return B(i,t)}))||function(t,e){throw new Error("All required keys ("+eo(t).join(", ")+") were not specified. Specified keys were: "+eo(e).join(", ")+".")}(t,i);var a=H(i,(function(t){return!B(n,t)}));a.length>0&&function(t){throw new Error("Unsupported keys for object: "+eo(t).join(", "))}(a);var u={};return F(t,(function(t){u[t]=o(r[t])})),F(e,(function(t){u[t]=o(Object.prototype.hasOwnProperty.call(r,t)?y.some(r[t]):y.none())})),u}},oo=function(t){return nn.fromDom(t.dom().ownerDocument)},io=function(t){return nn.fromDom(t.dom().ownerDocument.documentElement)},ao=function(t){return nn.fromDom(t.dom().ownerDocument.defaultView)},uo=function(t){return y.from(t.dom().parentNode).map(nn.fromDom)},co=function(t){return y.from(t.dom().offsetParent).map(nn.fromDom)},so=function(t){return L(t.dom().childNodes,nn.fromDom)},lo=function(t,e){var n=t.dom().childNodes;return y.from(n[e]).map(nn.fromDom)},fo=(to("element","offset"),function(t,e){uo(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),ho=function(t,e){(function(t){return y.from(t.dom().nextSibling).map(nn.fromDom)})(t).fold((function(){uo(t).each((function(t){mo(t,e)}))}),(function(t){fo(t,e)}))},po=function(t,e){(function(t){return lo(t,0)})(t).fold((function(){mo(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},mo=function(t,e){t.dom().appendChild(e.dom())},go=function(t,e){F(e,(function(e){mo(t,e)}))},vo=function(t){t.dom().textContent="",F(so(t),(function(t){bo(t)}))},bo=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},yo=function(t){var e,n=so(t);n.length>0&&(e=t,F(n,(function(t){fo(e,t)}))),bo(t)},wo=function(t){return t.dom().innerHTML},xo=function(t,n){var r,o,i=oo(t).dom(),a=nn.fromDom(i.createDocumentFragment()),u=(r=n,(o=(i||e.document).createElement("div")).innerHTML=r,so(nn.fromDom(o)));go(a,u),vo(t),mo(t,a)},Co=(void 0!==e.window?e.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),_o=function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}},So=_o(En),ko=_o(An),Oo=function(t,n,r){if(!(S(r)||T(r)||A(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},To=function(t,e,n){Oo(t.dom(),e,n)},Eo=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Ao=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},Do=function(t,e){t.dom().removeAttribute(e)},No=function(t){return function(t,e){return nn.fromDom(t.dom().cloneNode(e))}(t,!1)},Mo=function(t){return function(t){var e=nn.fromTag("div"),n=nn.fromDom(t.dom().cloneNode(!0));return mo(e,n),wo(e)}(No(t))},Ro=function(t){return Mo(t)},Po=Fr([function(t,e){return{key:t,value:jn({can:e})}}(cr(),(function(t,n){var r=n.event().originator(),o=n.event().target();return!function(t,e,n){return Bn(e,t.element())&&!Bn(e,n)}(t,r,o)||(e.console.warn(cr()+" did not get interpreted by the desired target. \nOriginator: "+Ro(r)+"\nTarget: "+Ro(o)+"\nCheck the "+cr()+" event handlers"),!1)}))]),Bo=Object.freeze({__proto__:null,events:Po}),zo=0,Io=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++zo+String(e)},Lo=o("alloy-id-"),Fo=o("data-alloy-id"),Ho=Lo(),jo=Fo(),Vo=function(t,e){Object.defineProperty(t.dom(),jo,{value:e,writable:!0})},$o=function(t){var e=So(t)?t.dom()[jo]:null;return y.from(e)},Uo=function(t){return Io(t)},Wo=i,qo=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+Ro(t().element())+" is not in context.":""))}};return{debugInfo:o("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:o(!1)}},Xo=qo(),Go=function(t){return L(t,(function(t){return function(t,e){return function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(n,n+e.length)===e}(t,e,t.length-e.length)}(t,"/*")?t.substring(0,t.length-"/*".length):t}))},Yo=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Go(i)}},t},Ko=Io("alloy-premade"),Jo=function(t){return Ht(Ko,t)},Zo=function(t){return function(t,e){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Go(i.slice(1))}},t}((function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.apply(void 0,[e.getApis()].concat([e].concat(n)))}),t)},Qo={init:function(){return ti({readState:function(){return"No State required"}})}},ti=function(t){return t},ei=function(t,e){var n={};return ot(t,(function(t,r){ot(t,(function(t,o){var i=lt(n,o).getOr([]);n[o]=i.concat([e(r,t)])}))})),n},ni=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}},ri=function(t,e){return n=a.apply(void 0,[t.handler].concat(e)),r=t.purpose(),{cHandler:n,purpose:o(r)};var n,r},oi=function(t){return t.cHandler},ii=function(t,e){return{name:o(t),handler:o(e)}},ai=function(t,e,n){var r=d(d({},n),function(t,e){var n={};return F(t,(function(t){n[t.name()]=t.handlers(e)})),n}(e,t));return ei(r,ii)},ui=function(t){var e=function(t){return E(t)?{can:o(!0),abort:o(!1),run:t}:t}(t);return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[t,n].concat(r);e.abort.apply(void 0,i)?n.stop():e.can.apply(void 0,i)&&e.run.apply(void 0,i)}},ci=function(t,e,n){var r=e[n];return r?function(t,e,n,r){try{var o=J(n,(function(n,o){var i=n[e](),a=o[e](),u=r.indexOf(i),c=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===c)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<c?-1:c<u?1:0}));return C.value(o)}catch(t){return C.error([t])}}("Event: "+n,"name",t,r).map((function(t){var e=L(t,(function(t){return t.handler()}));return Vn(e)})):function(t,e){return C.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(L(e,(function(t){return t.name()})),null,2)])}(n,t)},si=function(t,e){var n=ut(t,(function(t,n){return(1===t.length?C.value(t[0].handler()):ci(t,e,n)).map((function(r){var i=ui(r),a=t.length>1?H(e[n],(function(e){return z(t,(function(t){return t.name()===e}))})).join(" > "):t[0].name();return Ht(n,function(t,e){return{handler:t,purpose:o(e)}}(i,a))}))}));return Vt(n,{})},li=function(t){return t.events},fi=function(t,e){var n=Eo(t,e);return void 0===n||""===n?[]:n.split(" ")},di=function(t){return void 0!==t.dom().classList},hi=function(t,e){return function(t,e,n){var r=fi(t,e).concat([n]);return To(t,e,r.join(" ")),!0}(t,"class",e)},pi=function(t,e){return function(t,e,n){var r=H(fi(t,e),(function(t){return t!==n}));return r.length>0?To(t,e,r.join(" ")):Do(t,e),!1}(t,"class",e)},mi=function(t,e){di(t)?t.dom().classList.add(e):hi(t,e)},gi=function(t){0===(di(t)?t.dom().classList:function(t){return fi(t,"class")}(t)).length&&Do(t,"class")},vi=function(t,e){di(t)?t.dom().classList.remove(e):pi(t,e);gi(t)},bi=function(t,e){return di(t)&&t.dom().classList.contains(e)},yi=function(t,e){F(e,(function(e){mi(t,e)}))},wi=function(t,e){F(e,(function(e){vi(t,e)}))},xi=function(t){return void 0!==t.style&&E(t.style.getPropertyValue)},Ci=function(t){var e=ko(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},_i=bt((function(){return Si(nn.fromDom(e.document))})),Si=function(t){var e=t.dom().body;if(null==e)throw new Error("Body is not available yet");return nn.fromDom(e)},ki=function(t,n,r){if(!S(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);xi(t)&&t.style.setProperty(n,r)},Oi=function(t,e){xi(t)&&t.style.removeProperty(e)},Ti=function(t,e,n){var r=t.dom();ki(r,e,n)},Ei=function(t,e){var n=t.dom();ot(e,(function(t,e){ki(n,e,t)}))},Ai=function(t,e){var n=t.dom();ot(e,(function(t,e){t.fold((function(){Oi(n,e)}),(function(t){ki(n,e,t)}))}))},Di=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r).getPropertyValue(n),i=""!==o||Ci(t)?o:Ni(r,n);return null===i?void 0:i},Ni=function(t,e){return xi(t)?t.style.getPropertyValue(e):""},Mi=function(t,e){var n=t.dom(),r=Ni(n,e);return y.from(r).filter((function(t){return t.length>0}))},Ri=function(t){var e={},n=t.dom();if(xi(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},Pi=function(t,e,n){var r=nn.fromTag(t);return Ti(r,e,n),Mi(r,e).isSome()},Bi=function(t,e){var n=t.dom();Oi(n,e),Ao(t,"style")&&""===Eo(t,"style").replace(/^\s+|\s+$/g,"")&&Do(t,"style")},zi=function(t){return t.dom().offsetWidth},Ii=function(t){return t.dom().value},Li=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom().value=e},Fi=function(t){var e=nn.fromTag(t.tag);!function(t,e){var n=t.dom();ot(e,(function(t,e){Oo(n,e,t)}))}(e,t.attributes),yi(e,t.classes),Ei(e,t.styles),t.innerHtml.each((function(t){return xo(e,t)}));var n=t.domChildren;return go(e,n),t.value.each((function(t){Li(e,t)})),t.uid,Vo(e,t.uid),e},Hi=function(t,e){return function(t,e){var n=L(e,(function(t){return Ue(t.name(),[De("config"),We("state",Qo)])})),r=me("component.behaviours",ee(n),t.behaviours).fold((function(e){throw new Error(be(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}));return{list:e,data:it(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return function(){return e}}))}}(t,e)},ji=function(t){var e=function(t){var e=lt(t,"behaviours").getOr({}),n=H(nt(e),(function(t){return void 0!==e[t]}));return L(n,(function(t){return e[t].me}))}(t);return Hi(t,e)},Vi=function(t,e,n){var r,o,i,a=d(d({},(r=t).dom),{uid:r.uid,domChildren:L(r.components,(function(t){return t.element()}))}),u=function(t){return t.domModification.fold((function(){return ni({})}),ni)}(t),c={"alloy.base.modification":u},s=e.length>0?function(t,e,n,r){var o=d({},e);F(n,(function(e){o[e.name()]=e.exhibit(t,r)}));var i=ei(o,(function(t,e){return{name:t,modification:e}})),a=function(t){return j(t,(function(t,e){return d(d({},e.modification),t)}),{})},u=j(i.classes,(function(t,e){return e.modification.concat(t)}),[]),c=a(i.attributes),s=a(i.styles);return ni({classes:u,attributes:c,styles:s})}(n,c,e,a):u;return i=s,d(d({},o=a),{attributes:d(d({},o.attributes),i.attributes),styles:d(d({},o.styles),i.styles),classes:o.classes.concat(i.classes)})},$i=function(t,e,n){var r={"alloy.base.behaviour":li(t)};return function(t,e,n,r){var o=ai(t,n,r);return si(o,e)}(n,t.eventOrder,e,r).getOrDie()},Ui=function(t){var e=function(){return d},n=tn(Xo),r=ge(function(t){return me("custom.definition",ee([ue("dom","dom",Pt(),ee([De("tag"),We("styles",{}),We("classes",[]),We("attributes",{}),Fe("value"),Fe("innerHtml")])),De("components"),De("uid"),We("events",{}),We("apis",{}),ue("eventOrder","eventOrder",Rt({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"]}),xe()),Fe("domModification")]),t)}(t)),i=ji(t),a=function(t){return t.list}(i),u=function(t){return t.data}(i),c=Vi(r,a,u),s=Fi(c),l=$i(r,a,u),f=tn(r.components),d={getSystem:n.get,config:function(e){var n=u;return(E(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))})()},hasConfigured:function(t){return E(u[t.name()])},spec:o(t),readState:function(t){return u[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(t){n.set(t)},disconnect:function(){n.set(qo(e))},element:o(s),syncComponents:function(){var t=so(s),e=q(t,(function(t){return n.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}));f.set(e)},components:f.get,events:o(l)};return d},Wi=function(t){var e=Wo(t),n=e.events,r=h(e,["events"]),o=function(t){var e=lt(t,"components").getOr([]);return L(e,Yi)}(r),i=d(d({},r),{events:d(d({},Bo),n),components:o});return C.value(Ui(i))},qi=function(t){var e=nn.fromText(t);return Xi({element:e})},Xi=function(t){var e=ve("external.component",te([De("element"),Fe("uid")]),t),r=tn(qo());e.uid.each((function(t){Vo(e.element,t)}));var i={getSystem:r.get,config:y.none,hasConfigured:o(!1),connect:function(t){r.set(t)},disconnect:function(){r.set(qo((function(){return i})))},getApis:function(){return{}},element:o(e.element),spec:o(t),readState:o("No state"),syncComponents:n,components:o([]),events:o({})};return Jo(i)},Gi=Uo,Yi=function(t){return function(t){return lt(t,Ko)}(t).fold((function(){var e=t.hasOwnProperty("uid")?t:d({uid:Gi("")},t);return Wi(e).getOrDie()}),(function(t){return t}))},Ki=Jo;function Ji(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var o=Di(n,t);return parseFloat(o)||0}return r},r=function(t,e){return V(e,(function(e,n){var r=Di(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!A(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();xi(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}var Zi=Ji("height",(function(t){var e=t.dom();return Ci(t)?e.getBoundingClientRect().height:e.offsetHeight})),Qi=function(t){return Zi.get(t)},ta=function(t){return Zi.getOuter(t)},ea=function(t,e){return{left:o(t),top:o(e),translate:function(n,r){return ea(t+n,e+r)}}},na=ea,ra=function(t,e){return void 0!==t?t:void 0!==e?e:0},oa=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom())return na(n.offsetLeft,n.offsetTop);var i=ra(r.pageYOffset,o.scrollTop),a=ra(r.pageXOffset,o.scrollLeft),u=ra(o.clientTop,n.clientTop),c=ra(o.clientLeft,n.clientLeft);return ia(t).translate(a-c,i-u)},ia=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?na(n.offsetLeft,n.offsetTop):Ci(t)?function(t){var e=t.getBoundingClientRect();return na(e.left,e.top)}(e):na(0,0)},aa=Ji("width",(function(t){return t.dom().offsetWidth})),ua=function(t){return aa.get(t)},ca=function(t){return aa.getOuter(t)},sa=function(t){var e=nn.fromDom(t.target),n=function(){t.stopPropagation()},i=function(){t.preventDefault()},a=r(i,n);return function(t,e,n,r,i,a,u){return{target:o(t),x:o(e),y:o(n),stop:r,prevent:i,kill:a,raw:o(u)}}(e,t.clientX,t.clientY,n,i,a,t)},la=function(t,e,n,r,o){var i=function(t,e){return function(n){t(n)&&e(sa(n))}}(n,r);return t.dom().addEventListener(e,i,o),{unbind:a(fa,t,e,i,o)}},fa=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},da=(On().browser.isSafari(),function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return na(r,o)}),ha=function(t,n,r){(void 0!==r?r.dom():e.document).defaultView.scrollTo(t,n)},pa=function(t,e,n,r){return{x:o(t),y:o(e),width:o(n),height:o(r),right:o(t+n),bottom:o(e+r)}},ma=function(t){var n=void 0===t?e.window:t,r=n.document,o=da(nn.fromDom(r));return function(t){var n=void 0===t?e.window:t;return y.from(n.visualViewport)}(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,r=t.clientHeight;return pa(o.left(),o.top(),e,r)}),(function(t){return pa(Math.max(t.pageLeft,o.left()),Math.max(t.pageTop,o.top()),t.width,t.height)}))},ga=function(t,e){return t.view(e).fold(o([]),(function(e){var n=t.owner(e),r=ga(t,n);return[e].concat(r)}))},va=Object.freeze({__proto__:null,view:function(t){return(t.dom()===e.document?y.none():y.from(t.dom().defaultView.frameElement)).map(nn.fromDom)},owner:function(t){return oo(t)}}),ba=function(t){var n=nn.fromDom(e.document),r=da(n);return function(t,e){var n=e.owner(t),r=ga(e,n);return y.some(r)}(t,va).fold(a(oa,t),(function(e){var n=ia(t),o=j(e,(function(t,e){var n=ia(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return na(o.left+n.left()+r.left(),o.top+n.top()+r.top())}))},ya=to("point","width","height"),wa=to("x","y","width","height"),xa=function(t,e,n,r){return{x:o(t),y:o(e),width:o(n),height:o(r),right:o(t+n),bottom:o(e+r)}},Ca=function(t){var e=oa(t),n=ca(t),r=ta(t);return xa(e.left(),e.top(),n,r)},_a=function(t){var e=ba(t),n=ca(t),r=ta(t);return xa(e.left(),e.top(),n,r)},Sa=function(){return ma(e.window)};function ka(t,e,n,r,o){return t(n,r)?y.some(n):E(o)&&o(n)?y.none():e(n,r,o)}var Oa,Ta=function(t,e,n){for(var r=t.dom(),i=E(n)?n:o(!1);r.parentNode;){r=r.parentNode;var a=nn.fromDom(r);if(e(a))return y.some(a);if(i(a))break}return y.none()},Ea=function(t,e,n){return ka((function(t,e){return e(t)}),Ta,t,e,n)},Aa=function(t,e,n){return Ea(t,e,n).isSome()},Da=function(t,e,n){return Ta(t,(function(t){return Mn(t,e)}),n)},Na=function(t,n){return function(t,n){var r=void 0===n?e.document:n.dom();return Rn(r)?y.none():y.from(r.querySelector(t)).map(nn.fromDom)}(n,t)},Ma=function(t,e,n){return ka(Mn,Da,t,e,n)},Ra=function(){var t=Io("aria-owns");return{id:o(t),link:function(e){To(e,"aria-owns",t)},unlink:function(t){Do(t,"aria-owns")}}},Pa=function(t,e){return function(t){return Ea(t,(function(t){if(!So(t))return!1;var e=Eo(t,"id");return void 0!==e&&e.indexOf("aria-owns")>-1})).bind((function(t){var e=Eo(t,"id"),n=oo(t);return Na(n,'[aria-owns="'+e+'"]')}))}(e).exists((function(e){return Ba(t,e)}))},Ba=function(t,e){return Aa(e,(function(e){return Bn(e,t.element())}),o(!1))||Pa(t,e)};!function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"}(Oa||(Oa={}));var za,Ia=tn({}),La=function(t,n,r){switch(lt(Ia.get(),t).orThunk((function(){var e=nt(Ia.get());return et(e,(function(e){return t.indexOf(e)>-1?y.some(Ia.get()[e]):y.none()}))})).getOr(Oa.NORMAL)){case Oa.NORMAL:return r(ja());case Oa.LOGGING:var o=function(t,n){var r=[],o=(new Date).getTime();return{logEventCut:function(t,e,n){r.push({outcome:"cut",target:e,purpose:n})},logEventStopped:function(t,e,n){r.push({outcome:"stopped",target:e,purpose:n})},logNoParent:function(t,e,n){r.push({outcome:"no-parent",target:e,purpose:n})},logEventNoHandlers:function(t,e){r.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,n){r.push({outcome:"response",purpose:n,target:e})},write:function(){var i=(new Date).getTime();B(["mousemove","mouseover","mouseout",br()],t)||e.console.log(t,{event:t,time:i-o,target:n.dom(),sequence:L(r,(function(t){return B(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Ro(t.target)+")":t.outcome}))})}}}(t,n),i=r(o);return o.write(),i;case Oa.STOP:return!0}},Fa=["alloy/data/Fields","alloy/debugging/Debugging"],Ha=function(t,e,n){return La(t,e,n)},ja=o({logEventCut:n,logEventStopped:n,logNoParent:n,logEventNoHandlers:n,logEventResponse:n,write:n}),Va=o([De("menu"),De("selectedMenu")]),$a=o([De("item"),De("selectedItem")]),Ua=(o(ee($a().concat(Va()))),o(ee($a()))),Wa=ze("initSize",[De("numColumns"),De("numRows")]),qa=function(){return ze("markers",[De("backgroundMenu")].concat(Va()).concat($a()))},Xa=function(t){return ze("markers",L(t,De))},Ga=function(t,e,n){!function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");return $(e,(function(t){return t.indexOf("alloy")>0&&!z(Fa,(function(e){return t.indexOf(e)>-1}))})).getOr("unknown")}}();return ue(e,e,n,he((function(t){return C.value((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(void 0,e)}))})))},Ya=function(t){return Ga(0,t,Mt(n))},Ka=function(t){return Ga(0,t,Mt(y.none))},Ja=function(t){return Ga(0,t,Pt())},Za=function(t){return Ga(0,t,Pt())},Qa=function(t,e){return Qe(t,o(e))},tu=function(t){return Qe(t,i)},eu=o(Wa),nu=to("x","y","bubble","direction","label"),ru=ht([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ou=ru.southeast,iu=ru.southwest,au=ru.northeast,uu=ru.northwest,cu=ru.south,su=ru.north,lu=ru.east,fu=ru.west,du=function(t){return t.x()},hu=function(t,e){return t.x()+t.width()/2-e.width()/2},pu=function(t,e){return t.x()+t.width()-e.width()},mu=function(t,e){return t.y()-e.height()},gu=function(t){return t.y()+t.height()},vu=function(t,e){return t.y()+t.height()/2-e.height()/2},bu=function(t,e,n){return nu(du(t),gu(t),n.southeast(),ou(),"layout-se")},yu=function(t,e,n){return nu(pu(t,e),gu(t),n.southwest(),iu(),"layout-sw")},wu=function(t,e,n){return nu(du(t),mu(t,e),n.northeast(),au(),"layout-ne")},xu=function(t,e,n){return nu(pu(t,e),mu(t,e),n.northwest(),uu(),"layout-nw")},Cu=function(t,e,n){return nu(hu(t,e),mu(t,e),n.north(),su(),"layout-n")},_u=function(t,e,n){return nu(hu(t,e),gu(t),n.south(),cu(),"layout-s")},Su=function(t,e,n){return nu(function(t){return t.x()+t.width()}(t),vu(t,e),n.east(),lu(),"layout-e")},ku=function(t,e,n){return nu(function(t,e){return t.x()-e.width()}(t,e),vu(t,e),n.west(),fu(),"layout-w")},Ou=function(){return[bu,yu,wu,xu,_u,Cu,Su,ku]},Tu=function(){return[yu,bu,xu,wu,_u,Cu,Su,ku]},Eu=function(){return[wu,xu,bu,yu,Cu,_u]},Au=function(){return[bu,yu,wu,xu,_u,Cu]},Du=function(){return[yu,bu,xu,wu,_u,Cu]},Nu=function(t,e,n){return Zr((function(r,o){n(r,t,e)}))},Mu=function(t,e,n){return function(t,e,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Go(a.slice(0,1).concat(a.slice(3)))}},t}((function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var u=[r].concat(i);return r.config({name:o(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(u,1);return e.apply(void 0,[r,t.config,t.state].concat(n))}))}),n,e)},Ru=function(t){return{key:t,value:void 0}},Pu=function(t,e,n,r,o,i,u){var c=function(t){return dt(t,n)?t[n]():y.none()},s=it(o,(function(t,e){return Mu(n,t,e)})),l=it(i,(function(t,e){return Yo(t,e)})),f=d(d(d({},l),s),{revoke:a(Ru,n),config:function(e){var r=ve(n+"-config",t,e);return{key:n,value:{config:r,me:f,configAsRaw:bt((function(){return ve(n+"-config",t,e)})),initialConfig:e,state:u}}},schema:function(){return e},exhibit:function(t,e){return c(t).bind((function(t){return lt(r,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(ni({}))},name:function(){return n},handlers:function(t){return c(t).map((function(t){return lt(r,"events").getOr((function(){return{}}))(t.config,t.state)})).getOr({})}});return f},Bu=function(t){return jt(t)},zu=te([De("fields"),De("name"),We("active",{}),We("apis",{}),We("state",Qo),We("extra",{})]),Iu=function(t){var e=ve("Creating behaviour: "+t.name,zu,t);return function(t,e,n,r,o,i){var a,u,c=te(t),s=Ue(e,[(a="config",u=t,He(a,te(u)))]);return Pu(c,s,e,n,r,o,i)}(e.fields,e.name,e.active,e.apis,e.extra,e.state)},Lu=te([De("branchKey"),De("branches"),De("name"),We("active",{}),We("apis",{}),We("state",Qo),We("extra",{})]),Fu=function(t){var e=ve("Creating behaviour: "+t.name,Lu,t);return function(t,e,n,r,o,i){var a=t,u=Ue(e,[He("config",t)]);return Pu(a,u,e,n,r,o,i)}(we(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},Hu=o(void 0),ju=Object.freeze({__proto__:null,events:function(t){return Fr([Vr(fr(),(function(e,n){var r=t.channels,o=nt(r),i=n,a=function(t,e){return e.universal()?t:H(t,(function(t){return B(e.channels(),t)}))}(o,i);F(a,(function(t){var n=r[t],o=n.schema,a=ve("channel["+t+"] data\nReceiver: "+Ro(e.element()),o,i.data());n.onReceive(e,a)}))}))])}}),Vu=[Ne("channels",pe(C.value,te([Ja("onReceive"),We("schema",xe())])))],$u=Iu({fields:Vu,name:"receiving",active:ju}),Uu=Object.freeze({__proto__:null,exhibit:function(t,e){return ni({classes:[],styles:e.useFixed()?{}:{position:"relative"}})}}),Wu=function(t){t.dom().focus()},qu=function(t){var n=void 0!==t?t.dom():e.document;return y.from(n.activeElement).map(nn.fromDom)},Xu=function(t){return qu(oo(t)).filter((function(e){return t.dom().contains(e.dom())}))},Gu=function(t,e){var r=oo(e),o=qu(r).bind((function(t){var n,r,o=function(e){return Bn(t,e)};return o(e)?y.some(e):(n=o,(r=function(t){for(var e=0;e<t.childNodes.length;e++){var o=nn.fromDom(t.childNodes[e]);if(n(o))return y.some(o);var i=r(t.childNodes[e]);if(i.isSome())return i}return y.none()})(e.dom()))})),i=t(e);return o.each((function(t){qu(r).filter((function(e){return Bn(e,t)})).fold((function(){Wu(t)}),n)})),i},Yu=to("position","left","top","right","bottom"),Ku=function(t,e){var n=function(t){return t+"px"};Ai(t,{position:y.some(e.position()),left:e.left().map(n),top:e.top().map(n),right:e.right().map(n),bottom:e.bottom().map(n)})},Ju=ht([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Zu=function(t,e,n,r,o,i){var a=e.x()-n,u=e.y()-r,c=o-(a+e.width()),s=i-(u+e.height()),l=y.some(a),f=y.some(u),d=y.some(c),h=y.some(s),p=y.none();return function(t,e,n,r,o,i,a,u,c){return t.fold(e,n,r,o,i,a,u,c)}(e.direction(),(function(){return Yu(t,l,f,p,p)}),(function(){return Yu(t,p,f,d,p)}),(function(){return Yu(t,l,p,p,h)}),(function(){return Yu(t,p,p,d,h)}),(function(){return Yu(t,l,f,p,p)}),(function(){return Yu(t,l,p,p,h)}),(function(){return Yu(t,l,f,p,p)}),(function(){return Yu(t,p,f,d,p)}))},Qu=function(t,e){var n=a(ba,e),r=t.fold(n,n,(function(){var t=da();return ba(e).translate(-t.left(),-t.top())})),o=ca(e),i=ta(e);return xa(r.left(),r.top(),o,i)},tc=function(t,e){return e.fold((function(){return t.fold(Sa,Sa,xa)}),(function(e){return t.fold(e,e,(function(){var n=e(),r=ec(t,n.x(),n.y());return xa(r.left(),r.top(),n.width(),n.height())}))}))},ec=function(t,e,n){var r=na(e,n);return t.fold(o(r),o(r),(function(){var t=da();return r.translate(-t.left(),-t.top())}))},nc=(Ju.none,Ju.relative),rc=Ju.fixed,oc=to("anchorBox","origin"),ic=function(t,e){return oc(t,e)},ac=function(t,e,n,r){var o=t+e;return o>r?n:o<n?r:o},uc=function(t,e,n){return Math.min(Math.max(t,e),n)},cc=ro(["x","y","width","height","maxHeight","maxWidth","direction","classes","label","candidateYforTest"],[]),sc=ht([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),lc=function(t,e,n,r){var i=t.x(),a=t.y(),u=t.bubble().offset().left(),c=t.bubble().offset().top(),s=r.y(),l=r.bottom(),f=r.x(),d=r.right(),h=a+c,p=function(t,e,n,r,o){var i=o.x(),a=o.y(),u=o.width(),c=o.height(),s=t>=i,l=e>=a,f=s&&l,d=t+n<=i+u&&e+r<=a+c,h=Math.abs(Math.min(n,s?i+u-t:i-(t+n))),p=Math.abs(Math.min(r,l?a+c-e:a-(e+r)));return{originInBounds:f,sizeInBounds:d,limitX:uc(t,o.x(),o.right()),limitY:uc(e,o.y(),o.bottom()),deltaW:h,deltaH:p}}(i+u,h,e,n,r),m=p.originInBounds,g=p.sizeInBounds,v=p.limitX,b=p.limitY,y=p.deltaW,w=p.deltaH,x=o(b+w-s),C=o(l-b),_=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)}(t.direction(),C,C,x),S=o(v+y-f),k=o(d-v),O=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)}(t.direction(),k,k,S),T=cc({x:v,y:b,width:y,height:w,maxHeight:_,maxWidth:O,direction:t.direction(),classes:{on:t.bubble().classesOn(),off:t.bubble().classesOff()},label:t.label(),candidateYforTest:h});return m&&g?sc.fit(T):sc.nofit(T,y,w)},fc=function(t,e,n,r){Bi(e,"max-height"),Bi(e,"max-width");var u,c={width:o(ca(u=e)),height:o(ta(u))};return function(t,e,n,r,o){var u=n.width(),c=n.height(),s=function(t,i,a,s){var l=t(e,n,r);return lc(l,u,c,o).fold(sc.fit,(function(t,e,n){return n>s||e>a?sc.nofit(t,e,n):sc.nofit(i,a,s)}))};return V(t,(function(t,e){var n=a(s,e);return t.fold(sc.fit,n)}),sc.nofit(cc({x:e.x(),y:e.y(),width:n.width(),height:n.height(),maxHeight:n.height(),maxWidth:n.width(),direction:ou(),classes:{on:[],off:[]},label:"none",candidateYforTest:e.y()}),-1,-1)).fold(i,i)}(r.preference(),t,c,n,r.bounds())},dc=function(t,e,n){Ku(t,function(t,e){return t.fold((function(){return Yu("absolute",y.some(e.x()),y.some(e.y()),y.none(),y.none())}),(function(t,n,r,o){return Zu("absolute",e,t,n,r,o)}),(function(t,n,r,o){return Zu("fixed",e,t,n,r,o)}))}(n.origin(),e))},hc=function(t,e){!function(t,e){var n=Zi.max(t,e,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ti(t,"max-height",n+"px")}(t,Math.floor(e))},pc=o((function(t,e){hc(t,e),Ei(t,{"overflow-x":"hidden","overflow-y":"auto"})})),mc=o((function(t,e){hc(t,e)})),gc=ro(["bounds","origin","preference","maxHeightFunction","maxWidthFunction"],[]),vc=function(t,e,n){return void 0===t[e]?n:t[e]},bc=function(t,e,n,r){var o=fc(t,e,n,r);dc(e,o,r),function(t,e){var n=e.classes();wi(t,n.off),yi(t,n.on)}(e,o),function(t,e,n){n.maxHeightFunction()(t,e.maxHeight())}(e,o,r),function(t,e,n){n.maxWidthFunction()(t,e.maxWidth())}(e,o,r)},yc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],wc=function(t,e,n){var r=function(t){return lt(n,t).getOr([])},o=function(t,e,n){var o=Y(yc,n);return{offset:function(){return na(t,e)},classesOn:function(){return q(n,r)},classesOff:function(){return q(o,r)}}};return{southeast:function(){return o(-t,e,["top","alignLeft"])},southwest:function(){return o(t,e,["top","alignRight"])},south:function(){return o(-t/2,e,["top","alignCentre"])},northeast:function(){return o(-t,-e,["bottom","alignLeft"])},northwest:function(){return o(t,-e,["bottom","alignRight"])},north:function(){return o(-t/2,-e,["bottom","alignCentre"])},east:function(){return o(t,-e/2,["valignCentre","left"])},west:function(){return o(-t,-e/2,["valignCentre","right"])},innerNorthwest:function(){return o(-t,e,["top","alignRight"])},innerNortheast:function(){return o(t,e,["top","alignLeft"])},innerNorth:function(){return o(-t/2,e,["top","alignCentre"])},innerSouthwest:function(){return o(-t,-e,["bottom","alignRight"])},innerSoutheast:function(){return o(t,-e,["bottom","alignLeft"])},innerSouth:function(){return o(-t/2,-e,["bottom","alignCentre"])},innerWest:function(){return o(t,-e/2,["valignCentre","right"])},innerEast:function(){return o(-t,-e/2,["valignCentre","left"])}}},xc=function(){return wc(0,0,{})},Cc=function(t,e){return function(n){return"rtl"===_c(n)?e:t}},_c=function(t){return"rtl"===Di(t,"direction")?"rtl":"ltr"};!function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"}(za||(za={}));var Sc="data-alloy-vertical-dir",kc=function(t){return Aa(t,(function(t){return So(t)&&Eo(t,Sc)===za.BottomToTop}))},Oc=function(){return Ue("layouts",[De("onLtr"),De("onRtl"),Fe("onBottomLtr"),Fe("onBottomRtl")])},Tc=function(t,e,n,r,o,i,a){var u=a.map(kc).getOr(!1),c=e.layouts.map((function(e){return e.onLtr(t)})),s=e.layouts.map((function(e){return e.onRtl(t)})),l=u?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(c).getOr(o):c.getOr(n),f=u?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(s).getOr(i):s.getOr(r);return Cc(l,f)(t)},Ec=[De("hotspot"),Fe("bubble"),We("overrides",{}),Oc(),Qa("placement",(function(t,e,n){var r=e.hotspot,o=Qu(n,r.element()),i=Tc(t.element(),e,Au(),Du(),Eu(),[xu,wu,yu,bu,Cu,_u],y.some(e.hotspot.element()));return y.some({anchorBox:o,bubble:e.bubble.getOr(xc()),overrides:e.overrides,layouts:i,placer:y.none()})}))],Ac=[De("x"),De("y"),We("height",0),We("width",0),We("bubble",xc()),We("overrides",{}),Oc(),Qa("placement",(function(t,e,n){var r=ec(n,e.x,e.y),o=xa(r.left(),r.top(),e.width,e.height),i=Tc(t.element(),e,Ou(),Tu(),Ou(),Tu(),y.none());return y.some({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:i,placer:y.none()})}))],Dc={create:to("start","soffset","finish","foffset")},Nc=ht([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mc=(Nc.before,Nc.on,Nc.after,function(t){return t.fold(i,i,i)}),Rc=ht([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pc={domRange:Rc.domRange,relative:Rc.relative,exact:Rc.exact,exactFromRange:function(t){return Rc.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return nn.fromDom(t.startContainer)},relative:function(t,e){return Mc(t)},exact:function(t,e,n,r){return t}})}(t);return ao(e)},range:Dc.create},Bc=function(t,e,n){var r,o=t.document.createRange();return r=o,e.fold((function(t){r.setStartBefore(t.dom())}),(function(t,e){r.setStart(t.dom(),e)}),(function(t){r.setStartAfter(t.dom())})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom())}),(function(e,n){t.setEnd(e.dom(),n)}),(function(e){t.setEndAfter(e.dom())}))}(o,n),o},zc=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},Ic=function(t){return{left:o(t.left),top:o(t.top),right:o(t.right),bottom:o(t.bottom),width:o(t.width),height:o(t.height)}},Lc=ht([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Fc=function(t,e,n){return e(nn.fromDom(n.startContainer),n.startOffset,nn.fromDom(n.endContainer),n.endOffset)},Hc=function(t,e){return function(t,e){var n=e.ltr();return n.collapsed?e.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return Lc.rtl(nn.fromDom(t.endContainer),t.endOffset,nn.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return Fc(0,Lc.ltr,n)})):Fc(0,Lc.ltr,n)}(0,function(t,e){return e.match({domRange:function(t){return{ltr:o(t),rtl:y.none}},relative:function(e,n){return{ltr:bt((function(){return Bc(t,e,n)})),rtl:bt((function(){return y.some(Bc(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:bt((function(){return zc(t,e,n,r,o)})),rtl:bt((function(){return y.some(zc(t,r,o,e,n))}))}}})}(t,e))};Lc.ltr,Lc.rtl;var jc=function(t,e){var n=function(e){return t(e)?y.from(e.dom().nodeValue):y.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r}}}(ko,"text"),Vc=function(t){return jc.getOption(t)},$c=["img","br"],Uc=function(t){return Vc(t).filter((function(t){return 0!==t.trim().length||t.indexOf("")>-1})).isSome()||B($c,Co(t))},Wc=function(t,e){var n=function(t){for(var r=so(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return y.some(i);var a=n(i);if(a.isSome())return a}return y.none()};return n(t)},qc=function(t,e){return Pn(e,t)},Xc=function(t,e,n,r){var o=function(t,e,n,r){var o=oo(t).dom().createRange();return o.setStart(t.dom(),e),o.setEnd(n.dom(),r),o}(t,e,n,r),i=Bn(t,n)&&e===r;return o.collapsed&&!i},Gc=function(t){var e=nn.fromDom(t.anchorNode),n=nn.fromDom(t.focusNode);return Xc(e,t.anchorOffset,n,t.focusOffset)?y.some(Dc.create(e,t.anchorOffset,n,t.focusOffset)):function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return y.some(Dc.create(nn.fromDom(e.startContainer),e.startOffset,nn.fromDom(n.endContainer),n.endOffset))}return y.none()}(t)},Yc=function(t,e){return function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?y.some(n).map(Ic):y.none()}(function(t,e){return Hc(t,e).match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom(),o),i.setEnd(e.dom(),n),i}})}(t,e))},Kc=to("element","offset"),Jc=function(t,e){var n=so(t);if(0===n.length)return Kc(t,e);if(e<n.length)return Kc(n[e],0);var r=n[n.length-1],o=ko(r)?function(t){return jc.get(t)}(r).length:so(r).length;return Kc(r,o)},Zc=ht([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Qc=function(t){return t.fold(i,(function(t,e,n){return t.translate(-e,-n)}))},ts=function(t){return t.fold(i,i)},es=function(t){return V(t,(function(t,e){return t.translate(e.left(),e.top())}),na(0,0))},ns=function(t){var e=L(t,ts);return es(e)},rs=Zc.screen,os=Zc.absolute,is=function(t,e,n){var r=oo(t.element()),o=da(r),i=function(t,e,n){var r=ao(n.root).dom();return y.from(r.frameElement).map(nn.fromDom).filter((function(e){var n=oo(e),r=oo(t.element());return Bn(n,r)})).map(oa)}(t,0,n).getOr(o);return os(i,o.left(),o.top())},as=function(t,e,n,r){var o=t,i=e,a=n,u=r;t<0&&(o=0,a=n+t),e<0&&(i=0,u=r+e);var c=rs(na(o,i));return y.some(ya(c,a,u))},us=function(t,e,n,r,o){return t.map((function(t){var i,a,u,c=[e,t.point()],s=(i=function(){return ns(c)},a=function(){return ns(c)},u=function(){return function(t){var e=L(t,Qc);return es(e)}(c)},r.fold(i,a,u)),l=wa(s.left(),s.top(),t.width(),t.height()),f=n.showAbove?Eu():Au(),d=(n.showAbove,Du()),h=Tc(o,n,f,d,f,d,y.none());return{anchorBox:l,bubble:n.bubble.getOr(xc()),overrides:n.overrides,layouts:h,placer:y.none()}}))},cs=to("element","offset"),ss=function(t,e){return ko(t)?cs(t,e):Jc(t,e)},ls=function(t,e){return e.getSelection.getOrThunk((function(){return function(){return function(t){return y.from(t.getSelection()).filter((function(t){return t.rangeCount>0})).bind(Gc)}(t)}}))().map((function(t){var e=ss(t.start(),t.soffset()),n=ss(t.finish(),t.foffset());return Pc.range(e.element(),e.offset(),n.element(),n.offset())}))},fs=[Fe("getSelection"),De("root"),Fe("bubble"),Oc(),We("overrides",{}),We("showAbove",!1),Qa("placement",(function(t,e,n){var r=ao(e.root).dom(),o=is(t,0,e),i=ls(r,e).bind((function(t){return Yc(r,Pc.exactFromRange(t)).orThunk((function(){var e=nn.fromText("\ufeff");return fo(t.start(),e),Yc(r,Pc.exact(e,0,e,1)).map((function(t){return bo(e),t}))})).bind((function(t){return as(t.left(),t.top(),t.width(),t.height())}))})),a=ls(r,e).bind((function(t){return So(t.start())?y.some(t.start()):uo(t.start())})).getOr(t.element());return us(i,o,e,n,a)}))],ds=[De("node"),De("root"),Fe("bubble"),Oc(),We("overrides",{}),We("showAbove",!1),Qa("placement",(function(t,e,n){var r=is(t,0,e);return e.node.bind((function(o){var i=o.dom().getBoundingClientRect(),a=as(i.left,i.top,i.width,i.height),u=e.node.getOr(t.element());return us(a,r,e,n,u)}))}))],hs=function(t){return t.x()+t.width()},ps=function(t,e){return t.x()-e.width()},ms=function(t,e){return t.y()-e.height()+t.height()},gs=function(t){return t.y()},vs=function(t,e,n){return nu(hs(t),gs(t),n.southeast(),ou(),"link-layout-se")},bs=function(t,e,n){return nu(ps(t,e),gs(t),n.southwest(),iu(),"link-layout-sw")},ys=function(t,e,n){return nu(hs(t),ms(t,e),n.northeast(),au(),"link-layout-ne")},ws=function(t,e,n){return nu(ps(t,e),ms(t,e),n.northwest(),uu(),"link-layout-nw")},xs=function(){return[vs,bs,ys,ws]},Cs=function(){return[bs,vs,ws,ys]},_s=[De("item"),Oc(),We("overrides",{}),Qa("placement",(function(t,e,n){var r=Qu(n,e.item.element()),o=Tc(t.element(),e,xs(),Cs(),xs(),Cs(),y.none());return y.some({anchorBox:r,bubble:xc(),overrides:e.overrides,layouts:o,placer:y.none()})}))],Ss=we("anchor",{selection:fs,node:ds,hotspot:Ec,submenu:_s,makeshift:Ac}),ks=function(t,e,r,o,i){!function(t,e,r,o,i,a){var u=vc(a,"maxHeightFunction",pc()),c=vc(a,"maxWidthFunction",n),s=t.anchorBox(),l=t.origin(),f=gc({bounds:tc(l,i),origin:l,preference:o,maxHeightFunction:u,maxWidthFunction:c});bc(s,e,r,f)}(ic(r.anchorBox,e),i.element(),r.bubble,r.layouts,o,r.overrides)},Os=function(t,e,n,r,o,i){var a=i.map(Ca);return Ts(t,e,n,r,o,a)},Ts=function(t,n,r,i,a,u){var c=ve("positioning anchor.info",Ss,i);Gu((function(){Ti(a.element(),"position","fixed");var r=Mi(a.element(),"visibility");Ti(a.element(),"visibility","hidden");var i,s=n.useFixed()?(i=e.document.documentElement,rc(0,0,i.clientWidth,i.clientHeight)):function(t){var e=oa(t.element()),n=t.element().dom().getBoundingClientRect();return nc(e.left(),e.top(),n.width,n.height)}(t),l=c.placement,f=u.map(o).or(n.getBounds);l(t,c,s).each((function(e){e.placer.getOr(ks)(t,s,e,f,a)})),r.fold((function(){Bi(a.element(),"visibility")}),(function(t){Ti(a.element(),"visibility",t)})),Mi(a.element(),"left").isNone()&&Mi(a.element(),"top").isNone()&&Mi(a.element(),"right").isNone()&&Mi(a.element(),"bottom").isNone()&&Mi(a.element(),"position").is("fixed")&&Bi(a.element(),"position")}),a.element())},Es=Object.freeze({__proto__:null,position:function(t,e,n,r,o){Os(t,e,n,r,o,y.none())},positionWithin:Os,positionWithinBounds:Ts,getMode:function(t,e,n){return e.useFixed()?"fixed":"absolute"}}),As=[We("useFixed",s),Fe("getBounds")],Ds=Iu({fields:As,name:"positioning",active:Uu,apis:Es}),Ns=function(t){Rr(t,Sr());var e=t.components();F(e,Ns)},Ms=function(t){var e=t.components();F(e,Ms),Rr(t,_r())},Rs=function(t,e){mo(t.element(),e.element())},Ps=function(t,e){var n=t.components();!function(t){F(t.components(),(function(t){return bo(t.element())})),vo(t.element()),t.syncComponents()}(t);var r=Y(n,e);F(r,(function(e){Ns(e),t.getSystem().removeFromWorld(e)})),F(e,(function(e){e.getSystem().isConnected()?Rs(t,e):(t.getSystem().addToWorld(e),Rs(t,e),Ci(t.element())&&Ms(e)),t.syncComponents()}))},Bs=function(t,e){zs(t,e,mo)},zs=function(t,e,n){t.getSystem().addToWorld(e),n(t.element(),e.element()),Ci(t.element())&&Ms(e),t.syncComponents()},Is=function(t){Ns(t),bo(t.element()),t.getSystem().removeFromWorld(t)},Ls=function(t){var e=uo(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}));Is(t),e.each((function(t){t.syncComponents()}))},Fs=function(t){var e=t.components();F(e,Is),vo(t.element()),t.syncComponents()},Hs=function(t,e){js(t,e,mo)},js=function(t,e,n){n(t,e.element());var r=so(e.element());F(r,(function(t){e.getByDom(t).each(Ms)}))},Vs=function(t){var e=so(t.element());F(e,(function(e){t.getByDom(e).each(Ns)})),bo(t.element())},$s=function(t,e,n,r){n.get().each((function(e){Fs(t)}));var o=e.getAttachPoint(t);Bs(o,t);var i=t.getSystem().build(r);return Bs(t,i),n.set(i),i},Us=function(t,e,n,r){var o=$s(t,e,n,r);return e.onOpen(t,o),o},Ws=function(t,e,n){n.get().each((function(r){Fs(t),Ls(t),e.onClose(t,r),n.clear()}))},qs=function(t,e,n){return n.isOpen()},Xs=function(t,e,n){var r=e.getAttachPoint(t);Ti(t.element(),"position",Ds.getMode(r)),function(t,e,n,r){Mi(t.element(),e).fold((function(){Do(t.element(),n)}),(function(e){To(t.element(),n,e)})),Ti(t.element(),e,r)}(t,"visibility",e.cloakVisibilityAttr,"hidden")},Gs=function(t,e,n){(function(t){return z(["top","left","right","bottom"],(function(e){return Mi(t,e).isSome()}))})(t.element())||Bi(t.element(),"position"),function(t,e,n){if(Ao(t.element(),n)){var r=Eo(t.element(),n);Ti(t.element(),e,r)}else Bi(t.element(),e)}(t,"visibility",e.cloakVisibilityAttr)},Ys=Object.freeze({__proto__:null,cloak:Xs,decloak:Gs,open:Us,openWhileCloaked:function(t,e,n,r,o){Xs(t,e),Us(t,e,n,r),o(),Gs(t,e)},close:Ws,isOpen:qs,isPartOf:function(t,e,n,r){return qs(0,0,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))},getState:function(t,e,n){return n.get()},setContent:function(t,e,n,r){return n.get().map((function(){return $s(t,e,n,r)}))}}),Ks=Object.freeze({__proto__:null,events:function(t,e){return Fr([Vr(gr(),(function(n,r){Ws(n,t,e)}))])}}),Js=[Ya("onOpen"),Ya("onClose"),De("isPartOf"),De("getAttachPoint"),We("cloakVisibilityAttr","data-precloak-visibility")],Zs=Iu({fields:Js,name:"sandboxing",active:Ks,apis:Ys,state:Object.freeze({__proto__:null,init:function(){var t=tn(y.none()),e=o("not-implemented");return ti({readState:e,isOpen:function(){return t.get().isSome()},clear:function(){t.set(y.none())},set:function(e){t.set(y.some(e))},get:function(){return t.get()}})}})}),Qs=o("dismiss.popups"),tl=o("reposition.popups"),el=o("mouse.released"),nl=te([We("isExtraPart",o(!1)),Ue("fireEventInstead",[We("event",kr())])]),rl=function(t){var e,n=ve("Dismissal",nl,t);return(e={})[Qs()]={schema:te([De("target")]),onReceive:function(t,e){Zs.isOpen(t)&&(Zs.isPartOf(t,e.target)||n.isExtraPart(t,e.target)||n.fireEventInstead.fold((function(){return Zs.close(t)}),(function(e){return Rr(t,e.event)})))}},e},ol=te([We("isExtraPart",o(!1)),Ue("fireEventInstead",[We("event",Or())]),Be("doReposition")]),il=function(t){var e,n=ve("Reposition",ol,t);return(e={})[tl()]={onReceive:function(t){Zs.isOpen(t)&&n.fireEventInstead.fold((function(){return n.doReposition(t)}),(function(e){return Rr(t,e.event)}))}},e},al=function(t,e,n){e.store.manager.onLoad(t,e,n)},ul=function(t,e,n){e.store.manager.onUnload(t,e,n)},cl=Object.freeze({__proto__:null,onLoad:al,onUnload:ul,setValue:function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},getValue:function(t,e,n){return e.store.manager.getValue(t,e,n)},getState:function(t,e,n){return n}}),sl=Object.freeze({__proto__:null,events:function(t,e){var n=t.resetOnDom?[Kr((function(n,r){al(n,t,e)})),Jr((function(n,r){ul(n,t,e)}))]:[Nu(t,e,al)];return Fr(n)}}),ll=function(){var t=tn(null);return ti({set:t.set,get:t.get,isNotSet:function(){return null===t.get()},clear:function(){t.set(null)},readState:function(){return{mode:"memory",value:t.get()}}})},fl=function(){var t=tn({}),e=tn({});return ti({readState:function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},lookup:function(n){return lt(t.get(),n).orThunk((function(){return lt(e.get(),n)}))},update:function(n){var r=t.get(),o=e.get(),i={},a={};F(n,(function(t){i[t.value]=t,lt(t,"meta").each((function(e){lt(e,"text").each((function(e){a[e]=t}))}))})),t.set(d(d({},r),i)),e.set(d(d({},o),a))},clear:function(){t.set({}),e.set({})}})},dl=Object.freeze({__proto__:null,memory:ll,dataset:fl,manual:function(){return ti({readState:function(){}})},init:function(t){return t.store.manager.state(t)}}),hl=function(t,e,n,r){var o=e.store;n.update([r]),o.setValue(t,r),e.onSetValue(t,r)},pl=[Fe("initialValue"),De("getFallbackEntry"),De("getDataKey"),De("setValue"),Qa("manager",{setValue:hl,getValue:function(t,e,n){var r=e.store,o=r.getDataKey(t);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))},onLoad:function(t,e,n){e.store.initialValue.each((function(r){hl(t,e,n,r)}))},onUnload:function(t,e,n){n.clear()},state:fl})],ml=[De("getValue"),We("setValue",n),Fe("initialValue"),Qa("manager",{setValue:function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},getValue:function(t,e,n){return e.store.getValue(t)},onLoad:function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},onUnload:n,state:Qo.init})],gl=[Fe("initialValue"),Qa("manager",{setValue:function(t,e,n,r){n.set(r),e.onSetValue(t,r)},getValue:function(t,e,n){return n.get()},onLoad:function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},onUnload:function(t,e,n){n.clear()},state:ll})],vl=[qe("store",{mode:"memory"},we("mode",{memory:gl,manual:ml,dataset:pl})),Ya("onSetValue"),We("resetOnDom",!1)],bl=Iu({fields:vl,name:"representing",active:sl,apis:cl,extra:{setValueFrom:function(t,e){var n=bl.getValue(e);bl.setValue(t,n)}},state:dl}),yl=function(t,e){return Ze(t,{},L(e,(function(e){return n=e.name(),r="Cannot configure "+e.name()+" for "+t,ue(n,n,Bt(),Zt((function(t){return Ot("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([Qe("dump",i)]))},wl=function(t){return t.dump},xl=function(t,e){return d(d({},t.dump),Bu(e))},Cl=yl,_l=xl,Sl=ht([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),kl=function(t){return ft(t,"uiType")},Ol=function(t,e,n,r){return kl(n)&&"placeholder"===n.uiType?function(t,e,n,r){return t.exists((function(t){return t!==n.owner}))?Sl.single(!0,o(n)):lt(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+nt(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))}(t,0,n,r):Sl.single(!1,o(n))},Tl=function(t,e,n,r){return Ol(t,0,n,r).fold((function(o,i){var a=kl(n)?i(e,n.config,n.validated):i(e),u=lt(a,"components").getOr([]),c=q(u,(function(n){return Tl(t,e,n,r)}));return[d(d({},a),{components:c})]}),(function(t,r){if(kl(n)){var o=r(e,n.config,n.validated);return n.validated.preprocess.getOr(i)(o)}return r(e)}))},El=function(t,e,n,r){var i=it(r,(function(t,e){return r=t,i=!1,{name:o(n=e),required:function(){return r.fold((function(t,e){return t}),(function(t,e){return t}))},used:function(){return i},replace:function(){if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,r}};var n,r,i})),a=function(t,e,n,r){return q(n,(function(n){return Tl(t,e,n,r)}))}(t,e,n,i);return ot(i,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),a},Al=Sl.single,Dl=Sl.multiple,Nl=o("placeholder"),Ml=ht([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Rl=We("factory",{sketch:i}),Pl=We("schema",[]),Bl=De("name"),zl=ue("pname","pname",zt((function(t){return"<alloy."+Io(t.name)+">"})),xe()),Il=Qe("schema",(function(){return[Fe("preprocess")]})),Ll=We("defaults",o({})),Fl=We("overrides",o({})),Hl=ee([Rl,Pl,Bl,zl,Ll,Fl]),jl=ee([Rl,Pl,Bl,Ll,Fl]),Vl=ee([Rl,Pl,Bl,zl,Ll,Fl]),$l=ee([Rl,Il,Bl,De("unit"),zl,Ll,Fl]),Ul=function(t){return t.fold(y.some,y.none,y.some,y.some)},Wl=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},ql=function(t,e){return function(n){var r=ve("Converting part type",e,n);return t(r)}},Xl=ql(Ml.required,Hl),Gl=ql(Ml.external,jl),Yl=ql(Ml.optional,Vl),Kl=ql(Ml.group,$l),Jl=o("entirety"),Zl=Object.freeze({__proto__:null,required:Xl,external:Gl,optional:Yl,group:Kl,asNamedPart:Ul,name:Wl,asCommon:function(t){return t.fold(i,i,i,i)},original:Jl}),Ql=function(t,e,n,r){return gt(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},tf=function(t,e){var n={};return F(e,(function(e){Ul(e).each((function(e){var r=ef(t,e.pname);n[e.name]=function(n){var o=ve("Part: "+e.name+" in "+t,ee(e.schema),n);return d(d({},r),{config:n,validated:o})}}))})),n},ef=function(t,e){return{uiType:Nl(),owner:t,name:e}},nf=function(t,e,n){return{uiType:Nl(),owner:t,name:e,config:n,validated:{}}},rf=function(t){return q(t,(function(t){return t.fold(y.none,y.some,y.none,y.none).map((function(t){return ze(t.name,t.schema.concat([tu(Jl())]))})).toArray()}))},of=function(t){return L(t,Wl)},af=function(t,e,n){return function(t,e,n){var r={},i={};return F(n,(function(t){t.fold((function(t){r[t.pname]=Al(!0,(function(e,n,r){return t.factory.sketch(Ql(e,t,n,r))}))}),(function(t){var n=e.parts[t.name];i[t.name]=o(t.factory.sketch(Ql(e,t,n[Jl()]),n))}),(function(t){r[t.pname]=Al(!1,(function(e,n,r){return t.factory.sketch(Ql(e,t,n,r))}))}),(function(t){r[t.pname]=Dl(!0,(function(e,n,r){var o=e[t.name];return L(o,(function(n){return t.factory.sketch(gt(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))})),{internals:o(r),externals:o(i)}}(0,e,n)},uf=function(t,e,n){return El(y.some(t),e,e.components,n)},cf=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOption()},sf=function(t,e,n){return cf(t,e,n).getOrDie("Could not find part: "+n)},lf=function(t,e,n){var r={},i=e.partUids,a=t.getSystem();return F(n,(function(t){r[t]=o(a.getByUid(i[t]))})),r},ff=function(t,e){var n=t.getSystem();return it(e.partUids,(function(t,e){return o(n.getByUid(t))}))},df=function(t){return nt(t.partUids)},hf=function(t,e,n){var r={},i=e.partUids,a=t.getSystem();return F(n,(function(t){r[t]=o(a.getByUid(i[t]).getOrDie())})),r},pf=function(t,e){var n=of(e);return jt(L(n,(function(e){return{key:e,value:t+"-"+e}})))},mf=function(t){return ue("partUids","partUids",It((function(e){return pf(e.uid,t)})),xe())},gf=Object.freeze({__proto__:null,generate:tf,generateOne:nf,schemas:rf,names:of,substitutes:af,components:uf,defaultUids:pf,defaultUidsSchema:mf,getAllParts:ff,getAllPartNames:df,getPart:cf,getPartOrDie:sf,getParts:lf,getPartsOrDie:hf}),vf=function(t,e,n,r,o){var i=function(t,e){return(t.length>0?[ze("parts",t)]:[]).concat([De("uid"),We("dom",{}),We("components",[]),tu("originalSpec"),We("debug.sketcher",{})]).concat(e)}(r,o);return ve(t+" [SpecSchema]",te(i.concat(e)),n)},bf=function(t,e,n,r,o){var i=yf(o),a=rf(n),u=mf(n),c=vf(t,e,i,a,[u]),s=af(0,c,n);return r(c,uf(t,c,s.internals()),i,s.externals())},yf=function(t){return function(t){return ft(t,"uid")}(t)?t:d(d({},t),{uid:Uo("uid")})};var wf,xf=te([De("name"),De("factory"),De("configFields"),We("apis",{}),We("extraApis",{})]),Cf=te([De("name"),De("factory"),De("configFields"),De("partFields"),We("apis",{}),We("extraApis",{})]),_f=function(t){var e=ve("Sketcher for "+t.name,xf,t),n=it(e.apis,Zo),r=it(e.extraApis,(function(t,e){return Yo(t,e)}));return d(d({name:o(e.name),configFields:o(e.configFields),sketch:function(t){return function(t,e,n,r){var o=yf(r);return n(vf(t,e,o,[],[]),o)}(e.name,e.configFields,e.factory,t)}},n),r)},Sf=function(t){var e=ve("Sketcher for "+t.name,Cf,t),n=tf(e.name,e.partFields),r=it(e.apis,Zo),i=it(e.extraApis,(function(t,e){return Yo(t,e)}));return d(d({name:o(e.name),partFields:o(e.partFields),configFields:o(e.configFields),sketch:function(t){return bf(e.name,e.configFields,e.partFields,e.factory,t)},parts:o(n)},r),i)},kf=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Of=function(t){return"input"===Co(t)&&"radio"!==Eo(t,"type")||"textarea"===Co(t)},Tf=Object.freeze({__proto__:null,getCurrent:function(t,e,n){return e.find(t)}}),Ef=[De("find")],Af=Iu({fields:Ef,name:"composing",apis:Tf}),Df=function(t,e,n,r){var o=qc(t.element(),"."+e.highlightClass);F(o,(function(n){z(r,(function(t){return t.element()===n}))||(vi(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),Rr(n,Mr())})))}))},Nf=function(t,e,n,r){Df(t,e,0,[r]),Mf(t,e,n,r)||(mi(r.element(),e.highlightClass),e.onHighlight(t,r),Rr(r,Nr()))},Mf=function(t,e,n,r){return bi(r.element(),e.highlightClass)},Rf=function(t,e,n,r){var o=qc(t.element(),"."+e.itemClass);return y.from(o[r]).fold((function(){return C.error("No element found with index "+r)}),t.getSystem().getByDom)},Pf=function(t,e,n){return Na(t.element(),"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},Bf=function(t,e,n){var r=qc(t.element(),"."+e.itemClass);return(r.length>0?y.some(r[r.length-1]):y.none()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},zf=function(t,e,n,r){var o=qc(t.element(),"."+e.itemClass);return U(o,(function(t){return bi(t,e.highlightClass)})).bind((function(e){var n=ac(e,r,0,o.length-1);return t.getSystem().getByDom(o[n]).toOption()}))},If=function(t,e,n){var r=qc(t.element(),"."+e.itemClass);return kf(L(r,(function(e){return t.getSystem().getByDom(e).toOption()})))},Lf=Object.freeze({__proto__:null,dehighlightAll:function(t,e,n){return Df(t,e,0,[])},dehighlight:function(t,e,n,r){Mf(t,e,n,r)&&(vi(r.element(),e.highlightClass),e.onDehighlight(t,r),Rr(r,Mr()))},highlight:Nf,highlightFirst:function(t,e,n){Pf(t,e).each((function(r){Nf(t,e,n,r)}))},highlightLast:function(t,e,n){Bf(t,e).each((function(r){Nf(t,e,n,r)}))},highlightAt:function(t,e,n,r){Rf(t,e,n,r).fold((function(t){throw new Error(t)}),(function(r){Nf(t,e,n,r)}))},highlightBy:function(t,e,n,r){var o=If(t,e);$(o,r).each((function(r){Nf(t,e,n,r)}))},isHighlighted:Mf,getHighlighted:function(t,e,n){return Na(t.element(),"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},getFirst:Pf,getLast:Bf,getPrevious:function(t,e,n){return zf(t,e,0,-1)},getNext:function(t,e,n){return zf(t,e,0,1)},getCandidates:If}),Ff=[De("highlightClass"),De("itemClass"),Ya("onHighlight"),Ya("onDehighlight")],Hf=Iu({fields:Ff,name:"highlighting",apis:Lf}),jf=function(t,e,n){var r=G(t.slice(0,e)),o=G(t.slice(e+1));return $(r.concat(o),n)},Vf=function(t,e,n){var r=G(t.slice(0,e));return $(r,n)},$f=function(t,e,n){var r=t.slice(0,e),o=t.slice(e+1);return $(o.concat(r),n)},Uf=function(t,e,n){var r=t.slice(e+1);return $(r,n)},Wf=function(t){return function(e){var n=e.raw();return B(t,n.which)}},qf=function(t){return function(e){return X(t,(function(t){return t(e)}))}},Xf=function(t){return!0===t.raw().shiftKey},Gf=function(t){return!0===t.raw().ctrlKey},Yf=u(Xf),Kf=function(t,e){return{matches:t,classification:e}},Jf=function(t,e,n){e.exists((function(t){return n.exists((function(e){return Bn(e,t)}))}))||Pr(t,Tr(),{prevFocus:e,newFocus:n})},Zf=function(){var t=function(t){return Xu(t.element())};return{get:t,set:function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element());var o=t(e);Jf(e,r,o)}}},Qf=function(){var t=function(t){return Hf.getHighlighted(t).map((function(t){return t.element()}))};return{get:t,set:function(e,r){var o=t(e);e.getSystem().getByDom(r).fold(n,(function(t){Hf.highlight(e,t)}));var i=t(e);Jf(e,o,i)}}};!function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"}(wf||(wf={}));var td,ed,nd=function(t,e,n,r,o){var i=function(t,e,n,r,o){var i,a,u=n(t,e,r,o);return(i=u,a=e.event(),$(i,(function(t){return t.matches(a)})).map((function(t){return t.classification}))).bind((function(n){return n(t,e,r,o)}))},a={schema:function(){return t.concat([We("focusManager",Zf()),qe("focusInside","onFocus",he((function(t){return B(["onFocus","onEnterOrSpace","onApi"],t)?C.value(t):C.error("Invalid value for focusInside")}))),Qa("handler",a),Qa("state",e),Qa("sendFocusIn",o)])},processKey:i,toEvents:function(t,e){var a=t.focusInside!==wf.OnFocusMode?y.none():o(t).map((function(n){return Vr(cr(),(function(r,o){n(r,t,e),o.stop()}))}));return Fr(a.toArray().concat([Vr(tr(),(function(r,a){i(r,a,n,t,e).fold((function(){!function(n,r){var i=Wf([32].concat([13]))(r.event());t.focusInside===wf.OnEnterOrSpaceMode&&i&&Hn(n,r)&&o(t).each((function(o){o(n,t,e),r.stop()}))}(r,a)}),(function(t){a.stop()}))})),Vr(er(),(function(n,o){i(n,o,r,t,e).each((function(t){o.stop()}))}))]))}};return a},rd=function(t){var e=[Fe("onEscape"),Fe("onEnter"),We("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),We("firstTabstop",0),We("useTabstopAt",o(!0)),Fe("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return Ma(e,t)})).getOr(e);return Qi(n)>0},r=function(t,e,r){(function(t,e){var r=qc(t.element(),e.selector),o=H(r,(function(t){return n(e,t)}));return y.from(o[e.firstTabstop])})(t,e).each((function(n){e.focusManager.set(t,n)}))},i=function(t,e,r,o,i){return i(e,r,(function(t){return function(t,e){return n(t,e)&&t.useTabstopAt(e)}(o,t)})).fold((function(){return o.cyclic?y.some(!0):y.none()}),(function(e){return o.focusManager.set(t,e),y.some(!0)}))},u=function(t,e,n,r){var o=qc(t.element(),n.selector);return function(t,e){return e.focusManager.get(t).bind((function(t){return Ma(t,e.selector)}))}(t,n).bind((function(e){return U(o,a(Bn,e)).bind((function(e){return i(t,o,e,n,r)}))}))},c=o([Kf(qf([Xf,Wf([9])]),(function(t,e,n){var r=n.cyclic?jf:Vf;return u(t,0,n,r)})),Kf(Wf([9]),(function(t,e,n){var r=n.cyclic?$f:Uf;return u(t,0,n,r)})),Kf(Wf([27]),(function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))})),Kf(qf([Yf,Wf([13])]),(function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))}))]),s=o([]);return nd(e,Qo.init,c,s,(function(){return y.some(r)}))},od=rd(Qe("cyclic",o(!1))),id=rd(Qe("cyclic",o(!0))),ad=function(t,e,n){return Of(n)&&Wf([32])(e.event())?y.none():function(t,e,n){return zr(t,n,dr()),y.some(!0)}(t,0,n)},ud=function(t,e){return y.some(!0)},cd=[We("execute",ad),We("useSpace",!1),We("useEnter",!0),We("useControlEnter",!1),We("useDown",!1)],sd=function(t,e,n){return n.execute(t,e,t.element())},ld=nd(cd,Qo.init,(function(t,e,n,r){var o=n.useSpace&&!Of(t.element())?[32]:[],i=n.useEnter?[13]:[],a=n.useDown?[40]:[],u=o.concat(i).concat(a);return[Kf(Wf(u),sd)].concat(n.useControlEnter?[Kf(qf([Gf,Wf([13])]),sd)]:[])}),(function(t,e,n,r){return n.useSpace&&!Of(t.element())?[Kf(Wf([32]),ud)]:[]}),(function(){return y.none()})),fd=function(){var t=tn(y.none());return ti({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows()),numColumns:String(t.numColumns())}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(e,n){t.set(y.some({numRows:o(e),numColumns:o(n)}))},getNumRows:function(){return t.get().map((function(t){return t.numRows()}))},getNumColumns:function(){return t.get().map((function(t){return t.numColumns()}))}})},dd=Object.freeze({__proto__:null,flatgrid:fd,init:function(t){return t.state(t)}}),hd=function(t){return function(e,n,r,o){var i=t(e.element());return vd(i,e,n,r,o)}},pd=function(t,e){var n=Cc(t,e);return hd(n)},md=function(t,e){var n=Cc(e,t);return hd(n)},gd=function(t){return function(e,n,r,o){return vd(t,e,n,r,o)}},vd=function(t,e,n,r,o){return r.focusManager.get(e).bind((function(n){return t(e.element(),n,r,o)})).map((function(t){return r.focusManager.set(e,t),!0}))},bd=gd,yd=gd,wd=gd,xd=function(t){return!function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}(t.dom())},Cd=function(t,e,n){var r=qc(t,n);return function(t,e){return U(t,e).map((function(e){return{index:o(e),candidates:o(t)}}))}(H(r,xd),(function(t){return Bn(t,e)}))},_d=function(t,e){return U(t,(function(t){return Bn(e,t)}))},Sd=function(t,e,n,r){return r(Math.floor(e/n),e%n).bind((function(e){var r=e.row()*n+e.column();return r>=0&&r<t.length?y.some(t[r]):y.none()}))},kd=function(t,e,n,r,i){return Sd(t,e,r,(function(e,a){var u=e===n-1?t.length-e*r:r,c=ac(a,i,0,u-1);return y.some({row:o(e),column:o(c)})}))},Od=function(t,e,n,r,i){return Sd(t,e,r,(function(e,a){var u=ac(e,i,0,n-1),c=u===n-1?t.length-u*r:r,s=uc(a,0,c-1);return y.some({row:o(u),column:o(s)})}))},Td=[De("selector"),We("execute",ad),Ka("onEscape"),We("captureTab",!1),eu()],Ed=function(t,e,n){Na(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},Ad=function(t){return function(e,n,r,o){return Cd(e,n,r.selector).bind((function(e){return t(e.candidates(),e.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Dd=function(t,e,n){return n.captureTab?y.some(!0):y.none()},Nd=Ad((function(t,e,n,r){return kd(t,e,n,r,-1)})),Md=Ad((function(t,e,n,r){return kd(t,e,n,r,1)})),Rd=Ad((function(t,e,n,r){return Od(t,e,n,r,-1)})),Pd=Ad((function(t,e,n,r){return Od(t,e,n,r,1)})),Bd=o([Kf(Wf([37]),pd(Nd,Md)),Kf(Wf([39]),md(Nd,Md)),Kf(Wf([38]),bd(Rd)),Kf(Wf([40]),yd(Pd)),Kf(qf([Xf,Wf([9])]),Dd),Kf(qf([Yf,Wf([9])]),Dd),Kf(Wf([27]),(function(t,e,n){return n.onEscape(t,e)})),Kf(Wf([32].concat([13])),(function(t,e,n,r){return function(t,e){return e.focusManager.get(t).bind((function(t){return Ma(t,e.selector)}))}(t,n).bind((function(r){return n.execute(t,e,r)}))}))]),zd=o([Kf(Wf([32]),ud)]),Id=nd(Td,fd,Bd,zd,(function(){return y.some(Ed)})),Ld=function(t,e,n,r){var o=function(t,e,n){var i,a=ac(e,r,0,n.length-1);return a===t?y.none():(i=n[a],"button"===Co(i)&&"disabled"===Eo(i,"disabled")?o(t,a,n):y.from(n[a]))};return Cd(t,n,e).bind((function(t){var e=t.index(),n=t.candidates();return o(e,e,n)}))},Fd=[De("selector"),We("getInitial",y.none),We("execute",ad),Ka("onEscape"),We("executeOnMove",!1),We("allowVertical",!0)],Hd=function(t,e,n){return function(t,e){return e.focusManager.get(t).bind((function(t){return Ma(t,e.selector)}))}(t,n).bind((function(r){return n.execute(t,e,r)}))},jd=function(t,e,n){e.getInitial(t).orThunk((function(){return Na(t.element(),e.selector)})).each((function(n){e.focusManager.set(t,n)}))},Vd=function(t,e,n){return Ld(t,n.selector,e,-1)},$d=function(t,e,n){return Ld(t,n.selector,e,1)},Ud=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?Hd(e,n,r):y.some(!0)}))}},Wd=function(t,e,n){return n.onEscape(t,e)},qd=o([Kf(Wf([32]),ud)]),Xd=nd(Fd,Qo.init,(function(t,e,n,r){var o=[37].concat(n.allowVertical?[38]:[]),i=[39].concat(n.allowVertical?[40]:[]);return[Kf(Wf(o),Ud(pd(Vd,$d))),Kf(Wf(i),Ud(md(Vd,$d))),Kf(Wf([13]),Hd),Kf(Wf([32]),Hd),Kf(Wf([27]),Wd)]}),qd,(function(){return y.some(jd)})),Gd=ro(["rowIndex","columnIndex","cell"],[]),Yd=function(t,e,n){return y.from(t[e]).bind((function(t){return y.from(t[n]).map((function(t){return Gd({rowIndex:e,columnIndex:n,cell:t})}))}))},Kd=function(t,e,n,r){var o=t[e].length,i=ac(n,r,0,o-1);return Yd(t,e,i)},Jd=function(t,e,n,r){var o=ac(n,r,0,t.length-1),i=t[o].length,a=uc(e,0,i-1);return Yd(t,o,a)},Zd=function(t,e,n,r){var o=t[e].length,i=uc(n+r,0,o-1);return Yd(t,e,i)},Qd=function(t,e,n,r){var o=uc(n+r,0,t.length-1),i=t[o].length,a=uc(e,0,i-1);return Yd(t,o,a)},th=[ze("selectors",[De("row"),De("cell")]),We("cycles",!0),We("previousSelector",y.none),We("execute",ad)],eh=function(t,e,n){e.previousSelector(t).orThunk((function(){var n=e.selectors;return Na(t.element(),n.cell)})).each((function(n){e.focusManager.set(t,n)}))},nh=function(t,e){return function(n,r,o){var i=o.cycles?t:e;return Ma(r,o.selectors.row).bind((function(t){var e=qc(t,o.selectors.cell);return _d(e,r).bind((function(e){var r=qc(n,o.selectors.row);return _d(r,t).bind((function(t){var n=function(t,e){return L(t,(function(t){return qc(t,e.selectors.cell)}))}(r,o);return i(n,t,e).map((function(t){return t.cell()}))}))}))}))}},rh=nh((function(t,e,n){return Kd(t,e,n,-1)}),(function(t,e,n){return Zd(t,e,n,-1)})),oh=nh((function(t,e,n){return Kd(t,e,n,1)}),(function(t,e,n){return Zd(t,e,n,1)})),ih=nh((function(t,e,n){return Jd(t,n,e,-1)}),(function(t,e,n){return Qd(t,n,e,-1)})),ah=nh((function(t,e,n){return Jd(t,n,e,1)}),(function(t,e,n){return Qd(t,n,e,1)})),uh=o([Kf(Wf([37]),pd(rh,oh)),Kf(Wf([39]),md(rh,oh)),Kf(Wf([38]),bd(ih)),Kf(Wf([40]),yd(ah)),Kf(Wf([32].concat([13])),(function(t,e,n){return Xu(t.element()).bind((function(r){return n.execute(t,e,r)}))}))]),ch=o([Kf(Wf([32]),ud)]),sh=nd(th,Qo.init,uh,ch,(function(){return y.some(eh)})),lh=[De("selector"),We("execute",ad),We("moveOnTab",!1)],fh=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))},dh=function(t,e,n){Na(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},hh=function(t,e,n){return Ld(t,n.selector,e,-1)},ph=function(t,e,n){return Ld(t,n.selector,e,1)},mh=o([Kf(Wf([38]),wd(hh)),Kf(Wf([40]),wd(ph)),Kf(qf([Xf,Wf([9])]),(function(t,e,n,r){return n.moveOnTab?wd(hh)(t,e,n,r):y.none()})),Kf(qf([Yf,Wf([9])]),(function(t,e,n,r){return n.moveOnTab?wd(ph)(t,e,n,r):y.none()})),Kf(Wf([13]),fh),Kf(Wf([32]),fh)]),gh=o([Kf(Wf([32]),ud)]),vh=nd(lh,Qo.init,mh,gh,(function(){return y.some(dh)})),bh=[Ka("onSpace"),Ka("onEnter"),Ka("onShiftEnter"),Ka("onLeft"),Ka("onRight"),Ka("onTab"),Ka("onShiftTab"),Ka("onUp"),Ka("onDown"),Ka("onEscape"),We("stopSpaceKeyup",!1),Fe("focusIn")],yh=nd(bh,Qo.init,(function(t,e,n){return[Kf(Wf([32]),n.onSpace),Kf(qf([Yf,Wf([13])]),n.onEnter),Kf(qf([Xf,Wf([13])]),n.onShiftEnter),Kf(qf([Xf,Wf([9])]),n.onShiftTab),Kf(qf([Yf,Wf([9])]),n.onTab),Kf(Wf([38]),n.onUp),Kf(Wf([40]),n.onDown),Kf(Wf([37]),n.onLeft),Kf(Wf([39]),n.onRight),Kf(Wf([32]),n.onSpace),Kf(Wf([27]),n.onEscape)]}),(function(t,e,n){return n.stopSpaceKeyup?[Kf(Wf([32]),ud)]:[]}),(function(t){return t.focusIn})),wh=od.schema(),xh=id.schema(),Ch=Xd.schema(),_h=Id.schema(),Sh=sh.schema(),kh=ld.schema(),Oh=vh.schema(),Th=yh.schema(),Eh=Fu({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:wh,cyclic:xh,flow:Ch,flatgrid:_h,matrix:Sh,execution:kh,menu:Oh,special:Th}),name:"keying",active:{events:function(t,e){return t.handler.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element(),t.element())}),(function(r){r(t,e,n)}))},setGridSize:function(t,n,r,o,i){!function(t){return dt(t,"setGridSize")}(r)?e.console.error("Layout does not support setGridSize"):r.setGridSize(o,i)}},state:dd}),Ah=function(t,e,n,r){var o=t.getSystem().build(r);zs(t,o,n)},Dh=function(t,e,n,r){var o=Nh(t);$(o,(function(t){return Bn(r.element(),t.element())})).each(Ls)},Nh=function(t,e){return t.components()},Mh=function(t,e,n,r,o){var i=Nh(t);return y.from(i[r]).map((function(e){return Dh(t,0,0,e),o.each((function(e){Ah(t,0,(function(t,e){!function(t,e,n){lo(t,n).fold((function(){mo(t,e)}),(function(t){fo(t,e)}))}(t,e,r)}),e)})),e}))},Rh=Iu({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(t,e,n,r){Ah(t,0,mo,r)},prepend:function(t,e,n,r){Ah(t,0,po,r)},remove:Dh,replaceAt:Mh,replaceBy:function(t,e,n,r,o){var i=Nh(t);return U(i,r).bind((function(e){return Mh(t,0,0,e,o)}))},set:function(t,e,n,r){Gu((function(){var e=L(r,t.getSystem().build);Ps(t,e)}),t.element())},contents:Nh})}),Ph=function(t,e){return{key:t,value:{config:{},me:function(t,e){var n=Fr(e);return Iu({fields:[De("enabled")],name:t,active:{events:o(n)}})}(t,e),configAsRaw:o({}),initialConfig:{},state:Qo}}},Bh=function(t,e){e.ignore||(Wu(t.element()),e.onFocus(t))},zh=Object.freeze({__proto__:null,focus:Bh,blur:function(t,e){e.ignore||function(t){t.dom().blur()}(t.element())},isFocused:function(t){return function(t){var e=oo(t).dom();return t.dom()===e.activeElement}(t.element())}}),Ih=Object.freeze({__proto__:null,exhibit:function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return ni(n)},events:function(t){return Fr([Vr(cr(),(function(e,n){Bh(e,t),n.stop()}))].concat(t.stopMousedown?[Vr(Xn(),(function(t,e){e.event().prevent()}))]:[]))}}),Lh=[Ya("onFocus"),We("stopMousedown",!1),We("ignore",!1)],Fh=Iu({fields:Lh,name:"focusing",active:Ih,apis:zh}),Hh=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},jh=function(t,e,n){e.toggleClass.each((function(e){n.get()?mi(t.element(),e):vi(t.element(),e)}))},Vh=function(t,e,n){Wh(t,e,n,!n.get())},$h=function(t,e,n){n.set(!0),jh(t,e,n),Hh(t,e,n)},Uh=function(t,e,n){n.set(!1),jh(t,e,n),Hh(t,e,n)},Wh=function(t,e,n,r){(r?$h:Uh)(t,e,n)},qh=function(t,e,n){Wh(t,e,n,e.selected)},Xh=Object.freeze({__proto__:null,onLoad:qh,toggle:Vh,isOn:function(t,e,n){return n.get()},on:$h,off:Uh,set:Wh}),Gh=Object.freeze({__proto__:null,exhibit:function(){return ni({})},events:function(t,e){var n,r,o,i=(n=t,r=e,o=Vh,Qr((function(t){o(t,n,r)}))),a=Nu(t,e,qh);return Fr(W([t.toggleOnExecute?[i]:[],[a]]))}}),Yh=function(t,e,n){To(t.element(),"aria-expanded",n)},Kh=[We("selected",!1),Fe("toggleClass"),We("toggleOnExecute",!0),qe("aria",{mode:"none"},we("mode",{pressed:[We("syncWithExpanded",!1),Qa("update",(function(t,e,n){To(t.element(),"aria-pressed",n),e.syncWithExpanded&&Yh(t,e,n)}))],checked:[Qa("update",(function(t,e,n){To(t.element(),"aria-checked",n)}))],expanded:[Qa("update",Yh)],selected:[Qa("update",(function(t,e,n){To(t.element(),"aria-selected",n)}))],none:[Qa("update",n)]}))],Jh=Iu({fields:Kh,name:"toggling",active:Gh,apis:Xh,state:(td=!1,{init:function(){var t=tn(td);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(td)},readState:function(){return t.get()}}}})}),Zh=function(){var t=function(t,e){e.stop(),Br(t)};return[Vr(or(),t),Vr(pr(),t),Xr($n()),Xr(Xn())]},Qh=function(t){return Fr(W([t.map((function(t){return Qr((function(e,n){t(e),n.stop()}))})).toArray(),Zh()]))},tp=function(t){(Xu(t.element()).isNone()||Fh.isFocused(t))&&(Fh.isFocused(t)||Fh.focus(t),Pr(t,"alloy.item-hover",{item:t}))},ep=function(t){Pr(t,"alloy.item-focus",{item:t})},np=o("alloy.item-hover"),rp=o("alloy.item-focus"),op=[De("data"),De("components"),De("dom"),We("hasSubmenu",!1),Fe("toggling"),Cl("itemBehaviours",[Jh,Fh,Eh,bl]),We("ignoreFocus",!1),We("domModification",{}),Qa("builder",(function(t){return{dom:t.dom,domModification:d(d({},t.domModification),{attributes:d(d(d({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:_l(t.itemBehaviours,[t.toggling.fold(Jh.revoke,(function(t){return Jh.config(d({aria:{mode:"checked"}},t))})),Fh.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){ep(t)}}),Eh.config({mode:"execution"}),bl.config({store:{mode:"memory",initialValue:t.data}}),Ph("item-type-events",p(Zh(),[Vr(Jn(),tp),Vr(hr(),Fh.focus)]))]),components:t.components,eventOrder:t.eventOrder}})),We("eventOrder",{})],ip=[De("dom"),De("components"),Qa("builder",(function(t){return{dom:t.dom,components:t.components,events:Fr([Gr(hr())])}}))],ap=o([Xl({name:"widget",overrides:function(t){return{behaviours:Bu([bl.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:function(){}}})])}}})]),up=[De("uid"),De("data"),De("components"),De("dom"),We("autofocus",!1),We("ignoreFocus",!1),Cl("widgetBehaviours",[bl,Fh,Eh]),We("domModification",{}),mf(ap()),Qa("builder",(function(t){var e=af(0,t,ap()),n=uf("item-widget",t,e.internals()),r=function(e){return cf(e,t,"widget").map((function(t){return Eh.focusIn(t),t}))},o=function(e,n){return Of(n.event().target())?y.none():t.autofocus?(n.setSource(e.element()),y.none()):y.none()};return{dom:t.dom,components:n,domModification:t.domModification,events:Fr([Qr((function(t,e){r(t).each((function(t){e.stop()}))})),Vr(Jn(),tp),Vr(hr(),(function(e,n){t.autofocus?r(e):Fh.focus(e)}))]),behaviours:_l(t.widgetBehaviours,[bl.config({store:{mode:"memory",initialValue:t.data}}),Fh.config({ignore:t.ignoreFocus,onFocus:function(t){ep(t)}}),Eh.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:Hu(),onLeft:o,onRight:o,onEscape:function(e,n){return Fh.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element()),y.none()):y.none():(Fh.focus(e),y.some(!0))}})])}}))],cp=we("type",{widget:up,item:op,separator:ip}),sp=o([Kl({factory:{sketch:function(t){var e=ve("menu.spec item",cp,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:d(d({},e),{uid:Uo("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),lp=o([De("value"),De("items"),De("dom"),De("components"),We("eventOrder",{}),yl("menuBehaviours",[Hf,bl,Af,Eh]),qe("movement",{mode:"menu",moveOnTab:!0},we("mode",{grid:[eu(),Qa("config",(function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}}))],matrix:[Qa("config",(function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}})),De("rowSelector")],menu:[We("moveOnTab",!0),Qa("config",(function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}}))]})),Ne("markers",Ua()),We("fakeFocus",!1),We("focusManager",Zf()),Ya("onHighlight")]),fp=o("alloy.menu-focus"),dp=Sf({name:"Menu",configFields:lp(),partFields:sp(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:xl(t.menuBehaviours,[Hf.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),bl.config({store:{mode:"memory",initialValue:t.value}}),Af.config({find:y.some}),Eh.config(t.movement.config(t,t.movement))]),events:Fr([Vr(rp(),(function(t,e){var n=e.event();t.getSystem().getByDom(n.target()).each((function(n){Hf.highlight(t,n),e.stop(),Pr(t,fp(),{menu:t,item:n})}))})),Vr(np(),(function(t,e){var n=e.event().item();Hf.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}}),hp=function(t,e,n,r){return lt(n,r).bind((function(r){return lt(t,r).bind((function(r){var o=hp(t,e,n,r);return y.some([r].concat(o))}))})).getOr([])},pp=function(t,e){var n={};ot(t,(function(t,e){F(t,(function(t){n[t]=e}))}));var r=e,o=at(e,(function(t,e){return{k:t,v:e}})),i=it(o,(function(t,e){return[e].concat(hp(n,r,o,e))}));return it(n,(function(t){return lt(i,t).getOr([t])}))},mp=function(t){return"prepared"===t.type?y.some(t.menu):y.none()},gp={init:function(){var t=tn({}),e=tn({}),n=tn({}),r=tn(y.none()),o=tn({}),i=function(e,n,r){return a(e).bind((function(o){return function(e){return ct(t.get(),(function(t,n){return t===e}))}(e).bind((function(t){return n(t).map((function(t){return{triggeredMenu:o,triggeringItem:t,triggeringPath:r}}))}))}))},a=function(t){return u(t).bind(mp)},u=function(t){return lt(e.get(),t)},c=function(e){return lt(t.get(),e)};return{setMenuBuilt:function(t,n){var r;e.set(d(d({},e.get()),((r={})[t]={type:"prepared",menu:n},r)))},setContents:function(i,a,u,c){r.set(y.some(i)),t.set(u),e.set(a),o.set(c);var s=pp(c,u);n.set(s)},expand:function(e){return lt(t.get(),e).map((function(t){var r=lt(n.get(),e).getOr([]);return[t].concat(r)}))},refresh:function(t){return lt(n.get(),t)},collapse:function(t){return lt(n.get(),t).bind((function(t){return t.length>1?y.some(t.slice(1)):y.none()}))},lookupMenu:u,lookupItem:c,otherMenus:function(t){var e=o.get();return Y(nt(e),t)},getPrimary:function(){return r.get().bind(a)},getMenus:function(){return e.get()},clear:function(){t.set({}),e.set({}),n.set({}),r.set(y.none())},isClear:function(){return r.get().isNone()},getTriggeringPath:function(t,e){var o=H(c(t).toArray(),(function(t){return a(t).isSome()}));return lt(n.get(),t).bind((function(t){var n=G(o.concat(t));return function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return y.none();e.push(r.getOrDie())}return y.some(e)}(q(n,(function(t,o){return i(t,e,n.slice(0,o+1)).fold((function(){return r.get().is(t)?[]:[y.none()]}),(function(t){return[y.some(t)]}))})))}))}}},extractPreparedMenu:mp},vp=o("collapse-item"),bp=_f({name:"TieredMenu",configFields:[Za("onExecute"),Za("onEscape"),Ja("onOpenMenu"),Ja("onOpenSubmenu"),Ya("onRepositionMenu"),Ya("onCollapseMenu"),We("highlightImmediately",!0),ze("data",[De("primary"),De("menus"),De("expansions")]),We("fakeFocus",!1),Ya("onHighlight"),Ya("onHover"),qa(),De("dom"),We("navigateOnHover",!0),We("stayInDom",!1),yl("tmenuBehaviours",[Eh,Hf,Af,Rh]),We("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:function(t,e){var n,r=tn(y.none()),o=gp.init(),i=function(e){var n=function(e,n,r){return it(r,(function(r,o){var i=function(){return dp.sketch(d(d({dom:r.dom},r),{value:o,items:r.items,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?Qf():Zf()}))};return o===n?{type:"prepared",menu:e.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))}(e,t.data.primary,t.data.menus),r=u();return o.setContents(t.data.primary,n,t.data.expansions,r),o.getPrimary()},a=function(t){return bl.getValue(t).value},u=function(e){return it(t.data.menus,(function(t,e){return q(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},c=function(t,e){Hf.highlight(t,e),Hf.getHighlighted(e).orThunk((function(){return Hf.getFirst(e)})).each((function(e){zr(t,e.element(),hr())}))},s=function(t,e){return kf(L(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?y.some(t.menu):y.none()}))})))},l=function(e,n,r){var o=s(n,n.otherMenus(r));F(o,(function(n){wi(n.element(),[t.markers.backgroundMenu]),t.stayInDom||Rh.remove(e,n)}))},f=function(e,n){var o=function(e){return r.get().getOrThunk((function(){var n={},o=qc(e.element(),"."+t.markers.item),i=H(o,(function(t){return"true"===Eo(t,"aria-haspopup")}));return F(i,(function(t){e.getSystem().getByDom(t).each((function(t){var e=a(t);n[e]=t}))})),r.set(y.some(n)),n}))}(e);ot(o,(function(t,e){var r=B(n,e);To(t.element(),"aria-expanded",r)}))},h=function(e,n,r){return y.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return y.none();var i=o.menu,a=s(n,r.slice(1));return F(a,(function(e){mi(e.element(),t.markers.backgroundMenu)})),Ci(i.element())||Rh.append(e,Ki(i)),wi(i.element(),[t.markers.backgroundMenu]),c(e,i),l(e,n,r),y.some(i)}))}))};!function(t){t[t.HighlightSubmenu=0]="HighlightSubmenu",t[t.HighlightParent=1]="HighlightParent"}(n||(n={}));var p=function(e,r,i){void 0===i&&(i=n.HighlightSubmenu);var u=a(r);return o.expand(u).bind((function(a){return f(e,a),y.from(a[0]).bind((function(u){return o.lookupMenu(u).bind((function(c){var s=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return o.setMenuBuilt(e,r),r}return n.menu}(e,u,c);return Ci(s.element())||Rh.append(e,Ki(s)),t.onOpenSubmenu(e,r,s,G(a)),i===n.HighlightSubmenu?(Hf.highlightFirst(s),h(e,o,a)):(Hf.dehighlightAll(s),y.some(r))}))}))}))},m=function(e,n){var r=a(n);return o.collapse(r).bind((function(r){return f(e,r),h(e,o,r).map((function(r){return t.onCollapseMenu(e,n,r),r}))}))},g=function(e){return function(n,r){return Ma(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOption().bind((function(t){return e(n,t).map((function(){return!0}))}))}))}},v=Fr([Vr(fp(),(function(t,e){var n=e.event().item();o.lookupItem(a(n)).each((function(){var n=e.event().menu();Hf.highlight(t,n);var r=a(e.event().item());o.refresh(r).each((function(e){return l(t,o,e)}))}))})),Qr((function(e,r){var o=r.event().target();e.getSystem().getByDom(o).each((function(r){0===a(r).indexOf("collapse-item")&&m(e,r),p(e,r,n.HighlightSubmenu).fold((function(){t.onExecute(e,r)}),(function(){}))}))})),Kr((function(e,n){i(e).each((function(n){Rh.append(e,Ki(n)),t.onOpenMenu(e,n),t.highlightImmediately&&c(e,n)}))}))].concat(t.navigateOnHover?[Vr(np(),(function(e,r){var i=r.event().item();!function(t,e){var n=a(e);o.refresh(n).bind((function(e){return f(t,e),h(t,o,e)}))}(e,i),p(e,i,n.HighlightParent),t.onHover(e,i)}))]:[])),b=function(t){return Hf.getHighlighted(t).bind(Hf.getHighlighted)},w={collapseMenu:function(t){b(t).each((function(e){m(t,e)}))},highlightPrimary:function(t){o.getPrimary().each((function(e){c(t,e)}))},repositionMenus:function(e){o.getPrimary().bind((function(t){return b(e).bind((function(t){var e=a(t),n=st(o.getMenus()),r=kf(L(n,gp.extractPreparedMenu));return o.getTriggeringPath(e,(function(t){return function(t,e,n){return et(e,(function(t){if(!t.getSystem().isConnected())return y.none();var e=Hf.getCandidates(t);return $(e,(function(t){return a(t)===n}))}))}(0,r,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))})).fold((function(){(function(t){return y.from(t.components()[0]).filter((function(t){return"menu"===Eo(t.element(),"role")}))})(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;t.onRepositionMenu(e,r,o)}))}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:xl(t.tmenuBehaviours,[Eh.config({mode:"special",onRight:g((function(t,e){return Of(e.element())?y.none():p(t,e,n.HighlightSubmenu)})),onLeft:g((function(t,e){return Of(e.element())?y.none():m(t,e)})),onEscape:g((function(e,n){return m(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))})),focusIn:function(t,e){o.getPrimary().each((function(e){zr(t,e.element(),hr())}))}}),Hf.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Af.config({find:function(t){return Hf.getHighlighted(t)}}),Rh.config({})]),eventOrder:t.eventOrder,apis:w,events:v}},extraApis:{tieredData:function(t,e,n){return{primary:t,menus:e,expansions:n}},singleData:function(t,e){return{primary:t,menus:Ht(t,e),expansions:{}}},collapseItem:function(t){return{value:Io(vp()),meta:{text:t}}}}}),yp=_f({name:"InlineView",configFields:[De("lazySink"),Ya("onShow"),Ya("onHide"),$e("onEscape"),yl("inlineBehaviours",[Zs,bl,$u]),Ue("fireDismissalEventInstead",[We("event",kr())]),Ue("fireRepositionEventInstead",[We("event",Or())]),We("getRelated",y.none),We("eventOrder",y.none)],factory:function(t,e){var n=function(t,e,n,o){r(t,e,n,(function(){return o.map((function(t){return Ca(t)}))}))},r=function(e,n,r,o){var i=t.lazySink(e).getOrDie();Zs.openWhileCloaked(e,r,(function(){return Ds.positionWithinBounds(i,n,e,o())})),bl.setValue(e,y.some({mode:"position",anchor:n,getBounds:o}))},i=function(e,n,r,o){var i=function(t,e,n,r,o){var i=function(){return t.lazySink(e)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Au()},onRtl:function(){return Du()}}}:{},u=function(t){return function(t){return 2===t.length}(t)?a:{}};return bp.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return Zs.close(e),t.onEscape.map((function(t){return t(e)})),y.some(!0)},onExecute:function(){return y.some(!0)},onOpenMenu:function(t,e){Ds.positionWithinBounds(i().getOrDie(),n,e,o())},onOpenSubmenu:function(t,e,n,r){var o=i().getOrDie();Ds.position(o,d({anchor:"submenu",item:e},u(r)),n)},onRepositionMenu:function(t,e,r){var a=i().getOrDie();Ds.positionWithinBounds(a,n,e,o()),F(r,(function(t){var e=u(t.triggeringPath);Ds.position(a,d({anchor:"submenu",item:t.triggeringItem},e),t.triggeredMenu)}))}})}(t,e,n,r,o);Zs.open(e,i),bl.setValue(e,y.some({mode:"menu",menu:i}))},a=function(e){Zs.isOpen(e)&&bl.getValue(e).each((function(n){switch(n.mode){case"menu":Zs.getState(e).each((function(t){bp.repositionMenus(t)}));break;case"position":var r=t.lazySink(e).getOrDie();Ds.positionWithinBounds(r,n.anchor,e,n.getBounds())}}))},u={setContent:function(t,e){Zs.setContent(t,e)},showAt:function(t,e,r){n(t,e,r,y.none())},showWithin:n,showWithinBounds:r,showMenuAt:function(t,e,n){i(t,e,n,(function(){return y.none()}))},showMenuWithinBounds:i,hide:function(t){Zs.isOpen(t)&&(bl.setValue(t,y.none()),Zs.close(t))},getContent:function(t){return Zs.getState(t)},reposition:a,isOpen:Zs.isOpen};return{uid:t.uid,dom:t.dom,behaviours:xl(t.inlineBehaviours,[Zs.config({isPartOf:function(e,n,r){return Ba(n,r)||function(e,n){return t.getRelated(e).exists((function(t){return Ba(t,n)}))}(e,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),bl.config({store:{mode:"memory",initialValue:y.none()}}),$u.config({channels:d(d({},rl(d({isExtraPart:o(!1)},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),il(d(d({isExtraPart:o(!1)},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:a})))})]),eventOrder:t.eventOrder,apis:u}},apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithin:function(t,e,n,r,o){t.showWithin(e,n,r,o)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}}),wp=function(t){return t.x()},xp=function(t,e){return t.x()+t.width()/2-e.width()/2},Cp=function(t,e){return t.x()+t.width()-e.width()},_p=function(t){return t.y()},Sp=function(t,e){return t.y()+t.height()-e.height()},kp=function(t,e,n){return nu(wp(t),Sp(t,e),n.innerSoutheast(),ou(),"layout-se")},Op=function(t,e,n){return nu(Cp(t,e),Sp(t,e),n.innerSouthwest(),iu(),"layout-sw")},Tp=function(t,e,n){return nu(wp(t),_p(t),n.innerNortheast(),au(),"layout-ne")},Ep=function(t,e,n){return nu(Cp(t,e),_p(t),n.innerNorthwest(),uu(),"layout-nw")},Ap=function(t,e,n){return nu(xp(t,e),_p(t),n.innerNorth(),su(),"layout-n")},Dp=function(t,e,n){return nu(xp(t,e),Sp(t,e),n.innerSouth(),cu(),"layout-s")},Np=tinymce.util.Tools.resolve("tinymce.util.Delay"),Mp=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Rp=tinymce.util.Tools.resolve("tinymce.EditorManager"),Pp=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},Bp=function(t){return t.getParam("width",Mp.DOM.getStyle(t.getElement(),"width"))},zp=function(t){return y.from(t.settings.min_width).filter(A)},Ip=function(t){return y.from(t.settings.min_height).filter(A)},Lp=function(t){return y.from(t.getParam("max_width")).filter(A)},Fp=function(t){return y.from(t.getParam("max_height")).filter(A)},Hp=function(t){return!1!==t.getParam("menubar",!0,"boolean")},jp=function(t){var e=t.getParam("toolbar",!0),n=!0===e,r=S(e),o=O(e)&&e.length>0;return!$p(t)&&(o||r||n)},Vp=function(t){var e=nt(t.settings),n=H(e,(function(t){return/^toolbar([1-9])$/.test(t)})),r=L(n,(function(e){return t.getParam(e,!1,"string")})),o=H(r,(function(t){return"string"==typeof t}));return o.length>0?y.some(o):y.none()},$p=function(t){return Vp(t).fold((function(){return t.getParam("toolbar",[],"string[]").length>0}),(function(){return!0}))};!function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"}(ed||(ed={}));var Up,Wp=function(t){return t.getParam("toolbar_mode","","string")};!function(t){t.top="top",t.bottom="bottom"}(Up||(Up={}));var qp=function(t){return t.getParam("toolbar_location",Up.top,"string")!==Up.bottom},Xp=function(t){var e=function(t){return t.getParam("fixed_toolbar_container","","string")}(t);return e.length>0&&t.inline?Na(_i(),e):y.none()},Gp=function(t){return t.inline&&Xp(t).isSome()},Yp=function(t){return t.inline&&!Hp(t)&&!jp(t)&&!$p(t)},Kp=function(t){return(t.getParam("toolbar_sticky",!1,"boolean")||t.inline)&&!Gp(t)&&!Yp(t)},Jp=_f({name:"Button",factory:function(t){var e=Qh(t.action),n=t.dom.tag,r=function(e){return lt(t.dom,"attributes").bind((function(t){return lt(t,e)}))};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:_l(t.buttonBehaviours,[Fh.config({}),Eh.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var t=r("type").getOr("button"),e=r("role").map((function(t){return{role:t}})).getOr({});return d({type:t},e)}return{role:r("role").getOr("button")}}()},eventOrder:t.eventOrder}},configFields:[We("uid",void 0),De("dom"),We("components",[]),Cl("buttonBehaviours",[Fh,Eh]),Fe("action"),Fe("role"),We("eventOrder",{})]}),Zp=function(t){var e=function(t){return void 0!==t.uid}(t)&&dt(t,"uid")?t.uid:Uo("memento");return{get:function(t){return t.getSystem().getByUid(e).getOrDie()},getOpt:function(t){return t.getSystem().getByUid(e).toOption()},asSpec:function(){return d(d({},t),{uid:e})}}},Qp=function(t){return y.from(t()["temporary-placeholder"]).getOr("!not found!")},tm=function(t,e){return y.from(e()[t]).getOrThunk((function(){return Qp(e)}))},em=function(t,e){return et(t,(function(t){return y.from(e()[t])})).getOrThunk((function(){return Qp(e)}))},nm={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},rm=_f({name:"Notification",factory:function(t){var e=Zp({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Bu([Rh.config({})])}),n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},o=Zp({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Bu([Rh.config({})])}),i={updateProgress:function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){Rh.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))},updateText:function(t,n){if(t.getSystem().isConnected()){var r=e.get(t);Rh.set(r,[qi(n)])}}},a=W([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return y.from(nm[t])})).toArray()]);return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:em(a,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:Bu([Rh.config({})])}].concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[Jp.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tm("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(e){t.onAction(e)}})]:[]),apis:i}},configFields:[Fe("level"),De("progress"),De("icon"),De("onAction"),De("text"),De("iconProvider"),De("translationProvider"),Ke("closeButton",!0)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}});function om(t,e,n){var r=e.backstage,o=qp(t);return{open:function(t,i){var a=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0),u=function(){i(),yp.hide(s)},c=Yi(rm.sketch({text:t.text,level:B(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:y.from(t.icon),closeButton:!a,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),s=Yi(yp.sketch(d({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:e.backstage.shared.getSink,fireDismissalEventInstead:{}},o?{}:{fireRepositionEventInstead:{}})));return n.add(s),t.timeout>0&&Np.setTimeout((function(){u()}),t.timeout),{close:u,moveTo:function(t,e){yp.showAt(s,{anchor:"makeshift",x:t,y:e},Ki(c))},moveRel:function(t,n){if("banner"!==n){var r=function(t){switch(t){case"bc-bc":return Dp;case"tc-tc":return Ap;case"tc-bc":return Cu;case"bc-tc":default:return _u}}(n),o={anchor:"node",root:_i(),node:y.some(nn.fromDom(t)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};yp.showAt(s,o,Ki(c))}else yp.showAt(s,e.backstage.shared.anchors.banner(),Ki(c))},text:function(t){rm.updateText(c,t)},settings:t,getEl:function(){return c.element().dom()},progressBar:{value:function(t){rm.updateProgress(c,t)}}}},close:function(t){t.close()},reposition:function(t){!function(t){F(t,(function(t){return t.moveTo(0,0)}))}(t),function(t){t.length>0&&(Z(t).each((function(t){return t.moveRel(null,"banner")})),F(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})))}(t)},getArgs:function(t){return t.settings}}}var im,am=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout((function(){t.apply(null,o),r=null}),n)}}},um=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),cm=function(t,e,n,r,o){var i=um(t,(function(e){return function(t,e){return t.isBlock(e)||B(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}(t,e)}));return y.from(i.backwards(e,n,r,o))},sm=function(t,e){return lm(nn.fromDom(t.selection.getNode())).getOrThunk((function(){var n=nn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return mo(n,nn.fromDom(e.extractContents())),e.insertNode(n.dom()),uo(n).each((function(t){return t.dom().normalize()})),function(t){return Wc(t,Uc)}(n).map((function(e){t.selection.setCursorLocation(e.dom(),function(t){return"img"===Co(t)?1:Vc(t).fold((function(){return so(t).length}),(function(t){return t.length}))}(e))})),n}))},lm=function(t){return Ma(t,"[data-mce-autocompleter]")},fm=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},dm=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},hm=function(t,e){return t.substring(e.length)},pm=function(t,e,n,r){if(void 0===r&&(r=0),!(o=e).collapsed||3!==o.startContainer.nodeType)return y.none();var o,i=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return cm(t,e.startContainer,e.startOffset,(function(t,e,r){return function(t,e,n){var r;for(r=e-1;r>=0;r--){var o=t.charAt(r);if(dm(o))return y.none();if(o===n)break}return y.some(r)}(r,e,n).getOr(e)}),i).bind((function(t){var o=e.cloneRange();if(o.setStart(t.container,t.offset),o.setEnd(e.endContainer,e.endOffset),o.collapsed)return y.none();var i=fm(o);return 0!==i.lastIndexOf(n)||hm(i,n).length<r?y.none():y.some({text:hm(i,n),range:o,triggerChar:n})}))},mm=function(t,e,n,r){return void 0===r&&(r=0),lm(nn.fromDom(e.startContainer)).fold((function(){return pm(t,e,n,r)}),(function(e){var r=t.createRng();r.selectNode(e.dom());var o=fm(r);return y.some({range:r,text:hm(o,n),triggerChar:n})}))},gm=function(t,e){e.on("keypress compositionend",t.onKeypress.throttle),e.on("remove",t.onKeypress.cancel);var n=function(t,e){Pr(t,tr(),{raw:e})};e.on("keydown",(function(e){var r=function(){return t.getView().bind(Hf.getHighlighted)};8===e.which&&t.onKeypress.throttle(e),t.isActive()&&(27===e.which&&t.cancelIfNecessary(),t.isMenuOpen()?13===e.which?(r().each(Br),e.preventDefault()):40===e.which?(r().fold((function(){t.getView().each(Hf.highlightFirst)}),(function(t){n(t,e)})),e.preventDefault(),e.stopImmediatePropagation()):37!==e.which&&38!==e.which&&39!==e.which||r().each((function(t){n(t,e),e.preventDefault(),e.stopImmediatePropagation()})):13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary())})),e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&lm(nn.fromDom(e.element)).isNone()&&t.cancelIfNecessary()}))},vm=tinymce.util.Tools.resolve("tinymce.util.Promise"),bm=function(t,e){return{container:t,offset:e}},ym=function(t){if(function(t){return t.nodeType===e.Node.TEXT_NODE}(t))return bm(t,t.data.length);var n=t.childNodes;return n.length>0?ym(n[n.length-1]):bm(t,n.length)},wm=function(t,n){var r=t.childNodes;return r.length>0&&n<r.length?wm(r[n],0):r.length>0&&function(t){return t.nodeType===e.Node.ELEMENT_NODE}(t)&&r.length===n?ym(r[r.length-1]):bm(t,n)},xm=function(t){return function(e){var n=wm(e.startContainer,e.startOffset);return!function(t,e){return cm(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),t.getRoot()).filter((function(t){var e=t.container.data.charAt(t.offset-1);return!dm(e)})).isSome()}(t,n)}},Cm=function(t,e){var n=e(),r=t.selection.getRng();return function(t,e,n){return et(n.triggerChars,(function(n){return mm(t,e,n)}))}(t.dom,r,n).bind((function(n){return _m(t,e,n)}))},_m=function(t,e,n,r){void 0===r&&(r={});var o=e(),i=t.selection.getRng().startContainer.nodeValue,a=H(o.lookupByChar(n.triggerChar),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return xm(t.dom)}))(n.range,i,n.text)}));if(0===a.length)return y.none();var u=vm.all(L(a,(function(t){return t.fetch(n.text,t.maxResults,r).then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction}}))})));return y.some({lookupData:u,context:n})},Sm=ee([Re("type"),Ve("text")]),km=ee([Qe("type",(function(){return"autocompleteitem"})),Qe("active",(function(){return!1})),Qe("disabled",(function(){return!1})),We("meta",{}),Re("value"),Ve("text"),Ve("icon")]),Om=ee([Re("type"),Re("ch"),Xe("minChars",1),We("columns",1),Xe("maxResults",10),$e("matches"),Be("fetch"),Be("onAction")]),Tm=function(t){var e=t.ui.registry.getAll().popups,n=it(e,(function(t){return(e=t,me("Autocompleter",Om,e)).fold((function(t){throw new Error(be(t))}),(function(t){return t}));var e})),r=function(t){var e={};return F(t,(function(t){e[t]={}})),nt(e)}(ut(n,(function(t){return t.ch}))),o=st(n);return{dataset:n,triggerChars:r,lookupByChar:function(t){return H(o,(function(e){return e.ch===t}))}}},Em=[Ke("disabled",!1),Ve("text"),Ve("shortcut"),ue("value","value",zt((function(){return Io("menuitem-value")})),xe()),We("meta",{})],Am=ee([Re("type"),Je("onSetup",(function(){return n})),Je("onAction",n),Ve("icon")].concat(Em)),Dm=ee([Re("type"),Be("getSubmenuItems"),Je("onSetup",(function(){return n})),Ve("icon")].concat(Em)),Nm=ee([Re("type"),Ke("active",!1),Je("onSetup",(function(){return n})),Be("onAction")].concat(Em)),Mm=ee([Re("type"),Ke("active",!1),Ve("icon")].concat(Em)),Rm=ee([Re("type"),Pe("fancytype",["inserttable","colorswatch"]),Je("onAction",n)]),Pm=function(t,e,n){var r=qc(t.element(),"."+n);if(r.length>0){var o=U(r,(function(t){var n=t.dom().getBoundingClientRect().top,o=r[0].dom().getBoundingClientRect().top;return Math.abs(n-o)>e})).getOr(r.length);return y.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return y.none()},Bm=function(t,e){return Bu([Ph(t,e)])},zm=function(t){return Bm(Io("unnamed-events"),t)},Im=[De("lazySink"),De("tooltipDom"),We("exclusive",!0),We("tooltipComponents",[]),We("delay",300),Ye("mode","normal",["normal","follow-highlight"]),We("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:o([_u,Cu,bu,wu,yu,xu]),onRtl:o([_u,Cu,bu,wu,yu,xu])}}})),Ya("onHide"),Ya("onShow")],Lm=Object.freeze({__proto__:null,init:function(){var t=tn(y.none()),n=tn(y.none()),r=function(){t.get().each((function(t){e.clearTimeout(t)}))},i=o("not-implemented");return ti({getTooltip:function(){return n.get()},isShowing:function(){return n.get().isSome()},setTooltip:function(t){n.set(y.some(t))},clearTooltip:function(){n.set(y.none())},clearTimer:r,resetTimer:function(n,o){r(),t.set(y.some(e.setTimeout((function(){n()}),o)))},readState:i})}}),Fm=Io("tooltip.exclusive"),Hm=Io("tooltip.show"),jm=Io("tooltip.hide"),Vm=function(t,e,n){t.getSystem().broadcastOn([Fm],{})},$m=Object.freeze({__proto__:null,hideAllExclusive:Vm,setComponents:function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&Rh.set(t,r)}))}}),Um=Iu({fields:Im,name:"tooltipping",active:Object.freeze({__proto__:null,events:function(t,e){var n=function(n){e.getTooltip().each((function(r){Ls(r),t.onHide(n,r),e.clearTooltip()})),e.clearTimer()};return Fr(W([[Vr(Hm,(function(n){e.resetTimer((function(){!function(n){if(!e.isShowing()){Vm(n);var r=t.lazySink(n).getOrDie(),o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Fr("normal"===t.mode?[Vr(Jn(),(function(t){Rr(n,Hm)})),Vr(Yn(),(function(t){Rr(n,jm)}))]:[]),behaviours:Bu([Rh.config({})])});e.setTooltip(o),Bs(r,o),t.onShow(n,o),Ds.position(r,t.anchor(n),o)}}(n)}),t.delay)})),Vr(jm,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),Vr(fr(),(function(t,e){B(e.channels(),Fm)&&n(t)})),Jr((function(t){n(t)}))],"normal"===t.mode?[Vr(Zn(),(function(t){Rr(t,Hm)})),Vr(sr(),(function(t){Rr(t,jm)})),Vr(Jn(),(function(t){Rr(t,Hm)})),Vr(Yn(),(function(t){Rr(t,jm)}))]:[Vr(Nr(),(function(t,e){Rr(t,Hm)})),Vr(Mr(),(function(t){Rr(t,jm)}))]]))}}),state:Lm,apis:$m}),Wm=tinymce.util.Tools.resolve("tinymce.util.I18n"),qm="tox-menu-nav__js",Xm="tox-collection__item",Gm={normal:qm,color:"tox-swatch"},Ym="tox-collection__item-label",Km="tox-collection__item--active",Jm=function(t){return lt(Gm,t).getOr(qm)},Zm=tinymce.util.Tools.resolve("tinymce.Env"),Qm=function(t){var e=Zm.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},n=t.split("+"),r=L(n,(function(t){var n=t.toLowerCase().trim();return ft(e,n)?e[n]:t}));return Zm.mac?r.join(""):r.join("+")},tg=function(t){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:t}}},eg=function(t){return{dom:{tag:"div",classes:[Ym]},components:[qi(Wm.translate(t))]}},ng=function(t,e){return{dom:{tag:"div",classes:[Ym]},components:[{dom:{tag:t.tag,styles:t.styles},components:[qi(Wm.translate(e))]}]}},rg=function(t){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:Qm(t)}}},og=function(t){return{dom:{tag:"div",classes:["tox-collection__item-icon","tox-collection__item-checkmark"],innerHtml:tm("checkmark",t)}}},ig=function(t,e,n,r,o){var i=n?t.checkMark.orThunk((function(){return e.or(y.some("")).map(tg)})):y.none(),a=t.ariaLabel.map((function(t){return{attributes:{title:Wm.translate(t)}}})).getOr({});return{dom:d({tag:"div",classes:[qm,Xm].concat(o?["tox-collection__item-icon-rtl"]:[])},a),optComponents:[i,t.htmlContent.fold((function(){return t.textContent.map(r)}),(function(t){return y.some(function(t){return{dom:{tag:"div",classes:[Ym],innerHtml:t}}}(t))})),t.shortcutContent.map(rg),t.caret]}},ag=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],ug=["list-bull-circle","list-bull-default","list-bull-square"],cg=function(t,e,n,r){void 0===r&&(r=y.none());var o,i=Wm.isRtl()&&t.iconContent.exists((function(t){return B(ug,t)})),u=(o=t.iconContent,o.map((function(t){return Wm.isRtl()&&B(ag,t)?t+"-rtl":t}))).map((function(t){return function(t,e,n){return y.from(e()[t]).or(n).getOrThunk((function(){return Qp(e)}))}(t,e.icons,r)})),c=y.from(t.meta).fold((function(){return eg}),(function(t){return ft(t,"style")?a(ng,t.style):eg}));return"color"===t.presets?function(t,e,n,r){var o,i;return{dom:(o=n.getOr(""),i={tag:"div",attributes:t.map((function(t){return{title:r.translate(t)}})).getOr({}),classes:["tox-swatch"]},d(d({},i),"custom"===e?{tag:"button",classes:p(i.classes,["tox-swatches__picker-btn"]),innerHtml:o}:"remove"===e?{classes:p(i.classes,["tox-swatch--remove"]),innerHtml:o}:{attributes:d(d({},i.attributes),{"data-mce-color":e}),styles:{"background-color":e}})),optComponents:[]}}(t.ariaLabel,t.value,u,e):ig(t,u,n,c,i)},sg=["input","button","textarea","select"],lg=function(t,e,n){e.disabled&&gg(t,e)},fg=function(t,e){return!0===e.useNative&&B(sg,Co(t.element()))},dg=function(t){To(t.element(),"disabled","disabled")},hg=function(t){Do(t.element(),"disabled")},pg=function(t){To(t.element(),"aria-disabled","true")},mg=function(t){To(t.element(),"aria-disabled","false")},gg=function(t,e,n){e.disableClass.each((function(e){mi(t.element(),e)})),(fg(t,e)?dg:pg)(t),e.onDisabled(t)},vg=function(t,e,n){e.disableClass.each((function(e){vi(t.element(),e)})),(fg(t,e)?hg:mg)(t),e.onEnabled(t)},bg=function(t,e){return fg(t,e)?function(t){return Ao(t.element(),"disabled")}(t):function(t){return"true"===Eo(t.element(),"aria-disabled")}(t)},yg=Object.freeze({__proto__:null,enable:vg,disable:gg,isDisabled:bg,onLoad:lg,set:function(t,e,n,r){(r?gg:vg)(t,e,n)}}),wg=Object.freeze({__proto__:null,exhibit:function(t,e){return ni({classes:e.disabled?e.disableClass.map(K).getOr([]):[]})},events:function(t,e){return Fr([Hr(dr(),(function(e,n){return bg(e,t)})),Nu(t,e,lg)])}}),xg=[We("disabled",!1),We("useNative",!0),Fe("disableClass"),Ya("onDisabled"),Ya("onEnabled")],Cg=Iu({fields:xg,name:"disabling",active:wg,apis:yg}),_g=function(t){return Cg.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},Sg=function(t){return Cg.config({disabled:t})},kg=function(t){return Cg.config({disabled:t,disableClass:"tox-tbtn--disabled"})},Og=function(t){return Cg.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Tg=function(t,e){var n=t.getApi(e);return function(t){t(n)}},Eg=function(t,e){return Kr((function(n){Tg(t,n)((function(n){var r=t.onSetup(n);null!=r&&e.set(r)}))}))},Ag=function(t,e){return Jr((function(n){return Tg(t,n)(e.get())}))};!function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(im||(im={}));var Dg=im,Ng=function(t,e){return Qr((function(n,r){Tg(t,n)(t.onAction),t.triggersSubmenu||e!==Dg.CLOSE_ON_EXECUTE||(Rr(n,gr()),r.stop())}))},Mg={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},Rg=function(t){return q(t,(function(t){return t.toArray()}))},Pg=function(t,e,r){var o=tn(n);return{type:"item",dom:e.dom,components:Rg(e.optComponents),data:t.data,eventOrder:Mg,hasSubmenu:t.triggersSubmenu,itemBehaviours:Bu([Ph("item-events",[Ng(t,r),Eg(t,o),Ag(t,o)]),_g(t.disabled),Rh.config({})].concat(t.itemBehaviours))}},Bg=function(t){return{value:t.value,meta:d({text:t.text.getOr("")},t.meta)}},zg=function(t,e){return lt(t,"tooltipWorker").map((function(t){return[Um.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:mc}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){Um.setComponents(e,[Xi({element:nn.fromDom(t)})])}))}})]})).getOr([])},Ig=function(t,e){var n=function(t){return Mp.DOM.encode(t)}(Wm.translate(t));if(e.length>0){var r=new RegExp(function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"gi");return n.replace(r,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return n},Lg=o(tf("item-widget",ap())),Fg=Io("cell-over"),Hg=Io("cell-execute"),jg=function(t,e,n){var r,o=function(n){return Pr(n,Hg,{row:t,col:e})},i=function(t,e){e.stop(),o(t)};return Yi({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Bu([Ph("insert-table-picker-cell",[Vr(Jn(),Fh.focus),Vr(dr(),o),Vr(or(),i),Vr(pr(),i)]),Jh.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Fh.config({onFocus:function(n){return Pr(n,Fg,{row:t,col:e})}})])})},Vg=function(t){return q(t,(function(t){return L(t,Ki)}))},$g=function(t,e){return qi(e+1+"x"+(t+1))};var Ug=function(t){return{value:o(t)}},Wg=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,qg=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Xg=function(t){return Wg.test(t)||qg.test(t)},Gg=function(t){var e=function(t){var e=t.value().replace(Wg,(function(t,e,n,r){return e+e+n+n+r+r}));return{value:o(e)}}(t),n=qg.exec(e.value());return null===n?["FFFFFF","FF","FF","FF"]:n},Yg=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},Kg=function(t){var e=Yg(t.red())+Yg(t.green())+Yg(t.blue());return Ug(e)},Jg=Math.min,Zg=Math.max,Qg=Math.round,tv=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,ev=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,nv=function(t,e,n,r){return{red:o(t),green:o(e),blue:o(n),alpha:o(r)}},rv=function(t){var e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},ov=function(t){var e,n,r,o=(t.hue()||0)%360,i=t.saturation()/100,a=t.value()/100;if(i=Zg(0,Jg(i,1)),a=Zg(0,Jg(a,1)),0===i)return e=n=r=Qg(255*a),nv(e,n,r,1);var u=o/60,c=a*i,s=c*(1-Math.abs(u%2-1)),l=a-c;switch(Math.floor(u)){case 0:e=c,n=s,r=0;break;case 1:e=s,n=c,r=0;break;case 2:e=0,n=c,r=s;break;case 3:e=0,n=s,r=c;break;case 4:e=s,n=0,r=c;break;case 5:e=c,n=0,r=s;break;default:e=n=r=0}return e=Qg(255*(e+l)),n=Qg(255*(n+l)),r=Qg(255*(r+l)),nv(e,n,r,1)},iv=function(t){var e=Gg(t),n=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16);return nv(n,r,o,1)},av=function(t,e,n,r){var o=parseInt(t,10),i=parseInt(e,10),a=parseInt(n,10),u=parseFloat(r);return nv(o,i,a,u)},uv=function(t){return"rgba("+t.red()+","+t.green()+","+t.blue()+","+t.alpha()+")"},cv=o(nv(255,0,0,1)),sv=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");var lv="choiceitem",fv=[{type:lv,text:"Light Green",value:"#BFEDD2"},{type:lv,text:"Light Yellow",value:"#FBEEB8"},{type:lv,text:"Light Red",value:"#F8CAC6"},{type:lv,text:"Light Purple",value:"#ECCAFA"},{type:lv,text:"Light Blue",value:"#C2E0F4"},{type:lv,text:"Green",value:"#2DC26B"},{type:lv,text:"Yellow",value:"#F1C40F"},{type:lv,text:"Red",value:"#E03E2D"},{type:lv,text:"Purple",value:"#B96AD9"},{type:lv,text:"Blue",value:"#3598DB"},{type:lv,text:"Dark Turquoise",value:"#169179"},{type:lv,text:"Orange",value:"#E67E23"},{type:lv,text:"Dark Red",value:"#BA372A"},{type:lv,text:"Dark Purple",value:"#843FA1"},{type:lv,text:"Dark Blue",value:"#236FA1"},{type:lv,text:"Light Gray",value:"#ECF0F1"},{type:lv,text:"Medium Gray",value:"#CED4D9"},{type:lv,text:"Gray",value:"#95A5A6"},{type:lv,text:"Dark Gray",value:"#7E8C8D"},{type:lv,text:"Navy Blue",value:"#34495E"},{type:lv,text:"Black",value:"#000000"},{type:lv,text:"White",value:"#ffffff"}],dv=function(t){void 0===t&&(t=10);var e,n=sv.getItem("tinymce-custom-colors"),r=S(n)?JSON.parse(n):[],o=t-(e=r).length<0?e.slice(0,t):e,i=function(t){o.splice(t,1)};return{add:function(e){(function(t,e){var n=P(t,e);return-1===n?y.none():y.some(n)})(o,e).each(i),o.unshift(e),o.length>t&&o.pop(),sv.setItem("tinymce-custom-colors",JSON.stringify(o))},state:function(){return o.slice(0)}}}(10),hv=function(t){var n=[],r=e.document.createElement("canvas");r.height=1,r.width=1;for(var o=r.getContext("2d"),i=function(t,e){var n=e/255;return("0"+Math.round(t*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase();o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var e=o.getImageData(0,0,1,1).data,n=e[0],a=e[1],u=e[2],c=e[3];return"#"+i(n,c)+i(a,c)+i(u,c)},u=0;u<t.length;u+=2)n.push({text:t[u+1],value:a(t[u]),type:"choiceitem"});return n},pv=function(t){return t.getParam("color_map")},mv=function(t,e){return t.getParam("color_cols",e,"number")},gv=function(t){return!1!==t.getParam("custom_colors")},vv=function(t){var e=pv(t);return void 0!==e?hv(e):fv},bv=function(){return L(dv.state(),(function(t){return{type:lv,text:t,value:t}}))},yv=function(t){dv.add(t)},wv=function(t){return t.fire("SkinLoaded")},xv=function(t,e){return t.fire("SkinLoadError",e)},Cv=function(t){return t.fire("ResizeEditor")},_v=function(t,e){return t.fire("ScrollContent",e)},Sv=function(t,e){return t.fire("ResizeContent",e)},kv=function(t,e){return t.fire("TextColorChange",e)},Ov=function(t,e){var n;return t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===e?"color":"background-color"])&&(n=n||r)})),n},Tv=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},Ev=function(t){var e=vv(t),n=Tv(e.length);return mv(t,n)},Av=function(t,e,n,r){"custom"===n?Bv(t)((function(n){n.each((function(n){yv(n),t.execCommand("mceApplyTextcolor",e,n),r(n)}))}),"#000000"):"remove"===n?(r(""),t.execCommand("mceRemoveTextcolor",e)):(r(n),t.execCommand("mceApplyTextcolor",e,n))},Dv=function(t,e){return t.concat(bv().concat(function(t){var e={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[e,{type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"}]:[e]}(e)))},Nv=function(t,e){return function(n){n(Dv(t,e))}},Mv=function(t,e,n){var r,o;r="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",o=n,t.setIconFill(r,o),t.setIconStroke(r,o)},Rv=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){return y.from(Ov(t,n)).bind((function(t){return function(t){if("transparent"===t)return y.some(nv(0,0,0,0));var e=tv.exec(t);if(null!==e)return y.some(av(e[1],e[2],e[3],"1"));var n=ev.exec(t);return null!==n?y.some(av(n[1],n[2],n[3],n[4])):y.none()}(t).map((function(t){var n=Kg(t).value();return bn(e.toLowerCase(),n)}))})).getOr(!1)},columns:Ev(t),fetch:Nv(vv(t),gv(t)),onAction:function(e){null!==o.get()&&Av(t,n,o.get(),(function(){}))},onItemAction:function(r,i){Av(t,n,i,(function(n){o.set(n),kv(t,{name:e,color:n})}))},onSetup:function(n){null!==o.get()&&Mv(n,e,o.get());var r=function(t){t.name===e&&Mv(n,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},Pv=function(t,e,r,o){t.ui.registry.addNestedMenuItem(e,{text:o,icon:"forecolor"===e?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(e){Av(t,r,e.value,n)}}]}})},Bv=function(t){return function(e,n){var r={colorpicker:n},o=function(t){return function(e){var n=e.getData();t(y.from(n.colorpicker)),e.close()}}(e);t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:function(t,e){"hex-valid"===e.name&&(e.value?t.enable("ok"):t.disable("ok"))},onSubmit:o,onClose:function(){},onCancel:function(){e(y.none())}})}},zv={register:function(t){!function(t){t.addCommand("mceApplyTextcolor",(function(e,n){!function(t,e,n){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()}))}(t,e,n)})),t.addCommand("mceRemoveTextcolor",(function(e){!function(t,e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()}))}(t,e)}))}(t);var e=tn(null),n=tn(null);Rv(t,"forecolor","forecolor","Text color",e),Rv(t,"backcolor","hilitecolor","Background color",n),Pv(t,"forecolor","forecolor","Text color"),Pv(t,"backcolor","hilitecolor","Background color")},getColors:Dv,getFetch:Nv,colorPickerDialog:Bv,getCurrentColor:Ov,getColorCols:Ev,calcCols:Tv},Iv=function(t){return"color"===t?"tox-swatches":"tox-menu"},Lv=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Iv(t),tieredMenu:"tox-tiered-menu"}},Fv=function(t){var e=Lv(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:Jm(t)}},Hv=function(t,e,n){var r=Lv(n);return{tag:"div",classes:W([[r.menu,"tox-menu-"+e+"-column"],t?[r.hasIcons]:[]])}},jv=[dp.parts().items({})],Vv=function(t,e,n){var r=Lv(n);return{dom:{tag:"div",classes:W([[r.tieredMenu]])},markers:Fv(n)}},$v=function(t,e){return function(n){var r=I(n,e);return L(r,(function(e){return{dom:t,components:e}}))}},Uv=function(t,e){var n=[],r=[];return F(t,(function(t,o){e(t,o)?(r.length>0&&n.push(r),r=[],ft(t.dom,"innerHtml")&&r.push(t)):r.push(t)})),r.length>0&&n.push(r),L(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},Wv=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[dp.parts().items({preprocess:function(n){return"auto"!==t&&t>1?$v({tag:"div",classes:["tox-collection__group"]},t)(n):Uv(n,(function(t,n){return"separator"===e[n].type}))}})]}},qv=function(t){return void 0!==t.icon||"togglemenuitem"===t.type||"choicemenuitem"===t.type},Xv=function(t){return e.console.error(be(t)),e.console.log(t),y.none()},Gv=function(t,e,n,r,o){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[dp.parts().items({preprocess:function(t){return Uv(t,(function(t,e){return"separator"===i[e].type}))}})]});return{value:t,dom:a.dom,components:a.components,items:n}},Yv=function(t,e,n,r,o){var a;return"color"===o?{value:t,dom:(a=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[dp.parts().items({preprocess:"auto"!==t?$v({tag:"div",classes:["tox-swatches__row"]},t):i})]}]}}(r)).dom,components:a.components,items:n}:"normal"===o&&"auto"===r?{value:t,dom:(a=Wv(r,n)).dom,components:a.components,items:n}:"normal"===o&&1===r?{value:t,dom:(a=Wv(1,n)).dom,components:a.components,items:n}:"normal"===o?{value:t,dom:(a=Wv(r,n)).dom,components:a.components,items:n}:"listpreview"===o&&"auto"!==r?{value:t,dom:(a=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[dp.parts().items({preprocess:$v({tag:"div",classes:["tox-collection__group"]},t)})]}}(r)).dom,components:a.components,items:n}:{value:t,dom:Hv(e,r,o),components:jv,items:n}},Kv=function(t,e,n,r,o,i,a,u){var c=z(e,qv),s=Jv(e,n,r,"color"!==o?"normal":"color",i,a,u);return Yv(t,c,s,r,o)},Jv=function(t,e,n,r,o,i,a){return kf(L(t,(function(t){return"choiceitem"===t.type?(u=t,me("choicemenuitem",Mm,u)).fold(Xv,(function(u){return y.some(function(t,e,n,r,o,i,a){var u=cg({presets:n,textContent:e?t.text:y.none(),htmlContent:y.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:y.none(),checkMark:e?y.some(og(a.icons)):y.none(),caret:y.none(),value:t.value},a,!0);return gt(Pg({data:Bg(t),disabled:t.disabled,getApi:function(t){return{setActive:function(e){Jh.set(t,e)},isActive:function(){return Jh.isOn(t)},isDisabled:function(){return Cg.isDisabled(t)},setDisabled:function(e){return Cg.set(t,e)}}},onAction:function(e){return r(t.value)},onSetup:function(t){return t.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},u,i),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})}(u,1===n,r,e,i(t.value),o,a))})):y.none();var u})))},Zv=function(t,e){var n=Fv(e);return 1===t?{mode:"menu",moveOnTab:!0}:"auto"===t?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===e?"tox-swatches__row":"tox-collection__group")}};var Qv,tb={inserttable:function(t){var e=Io("size-label"),n=function(t,e,n){for(var r=[],o=0;o<e;o++){for(var i=[],a=0;a<n;a++)i.push(jg(o,a,t));r.push(i)}return r}(e,10,10),r=Zp({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:e}},components:[qi("0x0")],behaviours:Bu([Rh.config({})])});return{type:"widget",data:{value:Io("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Lg().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Vg(n).concat(r.asSpec()),behaviours:Bu([Ph("insert-table-picker",[qr(Fg,(function(t,e,o){var i=o.event().row(),a=o.event().col();!function(t,e,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)Jh.set(t[i][a],i<=e&&a<=n)}(n,i,a,10,10),Rh.set(r.get(t),[$g(i,a)])})),qr(Hg,(function(e,n,r){t.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),Rr(e,gr())}))]),Eh.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(t,e){var n=zv.getColors(e.colorinput.getColors(),e.colorinput.hasCustomColors()),r=e.colorinput.getColorCols(),o=Kv(Io("menu-value"),n,(function(e){t.onAction({value:e})}),r,"color",Dg.CLOSE_ON_EXECUTE,(function(){return!1}),e.shared.providers),i=d(d({},o),{markers:Fv("color"),movement:Zv(r,"color")});return{type:"widget",data:{value:Io("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Lg().widget(dp.sketch(i))]}}},eb=function(t,e,n,r,o,i,a,u){void 0===u&&(u=!0);var c=cg({presets:r,textContent:y.none(),htmlContent:n?t.text.map((function(t){return Ig(t,e)})):y.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:y.none(),checkMark:y.none(),caret:y.none(),value:t.value},a.providers,u,t.icon);return Pg({data:Bg(t),disabled:t.disabled,getApi:function(){return{}},onAction:function(e){return o(t.value,t.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:zg(t.meta,a)},c,i)},nb=function(t){var e=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}));return{type:"separator",dom:d({tag:"div",classes:[Xm,"tox-collection__group-heading"]},e),components:[]}},rb=function(t,e,n,r){void 0===r&&(r=!0);var o=cg({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:y.none(),ariaLabel:t.text,caret:y.none(),checkMark:y.none(),shortcutContent:t.shortcut},n,r);return Pg({data:Bg(t),getApi:function(t){return{isDisabled:function(){return Cg.isDisabled(t)},setDisabled:function(e){return Cg.set(t,e)}}},disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,e)},ob=function(t,e,r,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var a,u=i?(a=r.icons,{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:tm("chevron-down",a)}}):function(t){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:tm("chevron-right",t)}}}(r.icons),c=cg({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:y.none(),ariaLabel:t.text,caret:y.some(u),checkMark:y.none(),shortcutContent:t.shortcut},r,o);return Pg({data:Bg(t),getApi:function(t){return{isDisabled:function(){return Cg.isDisabled(t)},setDisabled:function(e){return Cg.set(t,e)}}},disabled:t.disabled,onAction:n,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},c,e)},ib=function(t,e,n){var r=cg({iconContent:y.none(),textContent:t.text,htmlContent:y.none(),ariaLabel:t.text,checkMark:y.some(og(n.icons)),caret:y.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,!0);return gt(Pg({data:Bg(t),disabled:t.disabled,getApi:function(t){return{setActive:function(e){Jh.set(t,e)},isActive:function(){return Jh.isOn(t)},isDisabled:function(){return Cg.isDisabled(t)},setDisabled:function(e){return Cg.set(t,e)}}},onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,e),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})},ab=function(t,e){return(n=tb,r=t.fancytype,Object.prototype.hasOwnProperty.call(n,r)?y.some(n[r]):y.none()).map((function(n){return n(t,e)}));var n,r};!function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"}(Qv||(Qv={}));var ub=function(t){return void 0!==t.icon||"togglemenuitem"===t.type||"choicemenuitem"===t.type},cb=function(t){return z(t,ub)},sb=function(t,n,r,o,i){var a,u=r.shared.providers,c=function(t){return i?d(d({},t),{shortcut:y.none(),icon:t.text.isSome()?y.none():t.icon}):t};switch(t.type){case"menuitem":return(a=t,me("menuitem",Am,a)).fold(Xv,(function(t){return y.some(rb(c(t),n,u,o))}));case"nestedmenuitem":return function(t){return me("nestedmenuitem",Dm,t)}(t).fold(Xv,(function(t){return y.some(ob(c(t),n,u,o,i))}));case"togglemenuitem":return function(t){return me("togglemenuitem",Nm,t)}(t).fold(Xv,(function(t){return y.some(ib(c(t),n,u))}));case"separator":return function(t){return me("separatormenuitem",Sm,t)}(t).fold(Xv,(function(t){return y.some(nb(t))}));case"fancymenuitem":return function(t){return me("fancymenuitem",Rm,t)}(t).fold(Xv,(function(t){return ab(c(t),r)}));default:return e.console.error("Unknown item in general menu",t),y.none()}},lb=function(t,e,n,r,o,i){var a=1===r,u=!a||cb(t);return kf(L(t,(function(t){return"separator"===t.type?(r=t,me("Autocompleter.Separator",Sm,r)).fold(Xv,(function(t){return y.some(nb(t))})):function(t){return me("Autocompleter.Item",km,t)}(t).fold(Xv,(function(t){return y.some(eb(t,e,a,"normal",n,o,i,u))}));var r})))},fb=function(t,e,n,r,o){var i=cb(e),a=kf(L(e,(function(t){var e=function(t){return sb(t,n,r,function(t){return o?!t.hasOwnProperty("text"):i}(t),o)};return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?e(d(d({},t),{disabled:!0})):e(t)})));return(o?Gv:Yv)(t,i,a,1,"normal")},db=function(t){return bp.singleData(t.value,t)},hb=function(t,n){var r=tn(y.none()),o=tn(!1),i=Yi(yp.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Bu([Ph("dismissAutocompleter",[Vr(kr(),(function(){return c()}))])]),lazySink:n.getSink})),a=function(){return r.get().isSome()},u=function(){a()&&yp.hide(i)},c=function(){if(a()){var e=r.get().map((function(t){return t.element}));lm(e.getOr(nn.fromDom(t.selection.getNode()))).each(yo),u(),r.set(y.none()),o.set(!1)}},s=bt((function(){return Tm(t)})),l=function(e,n,r,o){e.matchLength=n.text.length;var a=et(r,(function(t){return y.from(t.columns)})).getOr(1);yp.showAt(i,{anchor:"node",root:nn.fromDom(t.getBody()),node:y.from(e.element)},dp.sketch(function(t,e,n,r){var o=n===Qv.ContentFocus?Qf():Zf(),i=Zv(e,r),a=Fv(r);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===Qv.ContentFocus,focusManager:o,menuBehaviours:zm("auto"!==e?[]:[Kr((function(t,e){Pm(t,4,a.item).each((function(e){var n=e.numColumns,r=e.numRows;Eh.setGridSize(t,r,n)}))}))])}}(Yv("autocompleter-value",!0,o,a,"normal"),a,Qv.ContentFocus,"normal"))),yp.getContent(i).each(Hf.highlightFirst)},f=function(i){(function(e){return r.get().map((function(n){return mm(t.dom,t.selection.getRng(),n.triggerChar).bind((function(n){return _m(t,s,n,e)}))})).getOrThunk((function(){return Cm(t,s)}))})(i).fold(c,(function(i){!function(e){if(!a()){var n=sm(t,e.range);r.set(y.some({triggerChar:e.triggerChar,element:n,matchLength:e.text.length})),o.set(!1)}}(i.context),i.lookupData.then((function(a){r.get().map((function(r){var s,d,h,p=i.context;if(r.triggerChar===p.triggerChar){var m=(s=p.triggerChar,h=et(d=a,(function(t){return y.from(t.columns)})).getOr(1),q(d,(function(r){var i=r.items;return lb(i,r.matchText,(function(n,i){var a=t.selection.getRng();mm(t.dom,a,s).fold((function(){return e.console.error("Lost context. Cursor probably moved")}),(function(t){var e=t.range,a={hide:function(){c()},reload:function(t){u(),f(t)}};o.set(!0),r.onAction(a,e,n,i),o.set(!1)}))}),h,Dg.BUBBLE_TO_SANDBOX,n)})));m.length>0?l(r,p,a,m):p.text.length-r.matchLength>=10?c():u()}}))}))}))},d={onKeypress:am((function(t){27!==t.which&&f()}),50),cancelIfNecessary:c,isMenuOpen:function(){return yp.isOpen(i)},isActive:a,isProcessingAction:o.get,getView:function(){return yp.getContent(i)}};gm(d,t)},pb=o(!0),mb=function(t,e,n){return function(t,e,n,r){return la(t,e,n,r,!1)}(t,e,pb,n)},gb=function(t,e,n){return function(t,e,n,r){return la(t,e,n,r,!0)}(t,e,pb,n)},vb=sa,bb=function(t,e,n){return Ma(t,e,n).isSome()};function yb(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},schedule:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r=e.setTimeout((function(){t.apply(null,o),r=null}),n)}}}var wb=function(t){var e=t.raw();return void 0===e.touches||1!==e.touches.length?y.none():y.some(e.touches[0])},xb=function(t){var e=tn(y.none()),n=tn(!1),r=yb((function(e){t.triggerEvent(mr(),e),n.set(!0)}),400),i=jt([{key:$n(),value:function(t){return wb(t).each((function(i){r.cancel();var a={x:o(i.clientX),y:o(i.clientY),target:t.target};r.schedule(t),n.set(!1),e.set(y.some(a))})),y.none()}},{key:Un(),value:function(t){return r.cancel(),wb(t).each((function(t){e.get().each((function(n){(function(t,e){var n=Math.abs(t.clientX-e.x()),r=Math.abs(t.clientY-e.y());return n>5||r>5})(t,n)&&e.set(y.none())}))})),y.none()}},{key:Wn(),value:function(o){r.cancel();return e.get().filter((function(t){return Bn(t.target(),o.target())})).map((function(e){return n.get()?(o.prevent(),!1):t.triggerEvent(pr(),o)}))}}]);return{fireIfReady:function(t,e){return lt(i,e).bind((function(e){return e(t)}))}}},Cb=On().browser.isFirefox(),_b=te([Be("triggerEvent"),We("stopBackspace",!0)]),Sb=function(t,n){var r=ve("Getting GUI events settings",_b,n),o=xb(r),i=L(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return mb(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()})),r.triggerEvent(e,t)&&t.kill()}))})),a=tn(y.none()),u=mb(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()})),r.triggerEvent("paste",t)&&t.kill(),a.set(y.some(e.setTimeout((function(){r.triggerEvent(lr(),t)}),0)))})),c=mb(t,"keydown",(function(t){r.triggerEvent("keydown",t)?t.kill():!0===r.stopBackspace&&function(t){return 8===t.raw().which&&!B(["input","textarea"],Co(t.target()))&&!bb(t.target(),'[contenteditable="true"]')}(t)&&t.prevent()})),s=function(t,e){return Cb?gb(t,"focus",e):mb(t,"focusin",e)}(t,(function(t){r.triggerEvent("focusin",t)&&t.kill()})),l=tn(y.none()),f=function(t,e){return Cb?gb(t,"blur",e):mb(t,"focusout",e)}(t,(function(t){r.triggerEvent("focusout",t)&&t.kill(),l.set(y.some(e.setTimeout((function(){r.triggerEvent(sr(),t)}),0)))}));return{unbind:function(){F(i,(function(t){t.unbind()})),c.unbind(),s.unbind(),f.unbind(),u.unbind(),a.get().each(e.clearTimeout),l.get().each(e.clearTimeout)}}},kb=function(t,e){var n=lt(t,"target").map((function(t){return t()})).getOr(e);return tn(n)},Ob=ht([{stopped:[]},{resume:["element"]},{complete:[]}]),Tb=function(t,e,n,r,i,a){var u=t(e,r),c=function(t,e){var n=tn(!1),r=tn(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:o(t),setSource:e.set,getSource:e.get}}(n,i);return u.fold((function(){return a.logEventNoHandlers(e,r),Ob.complete()}),(function(t){var n=t.descHandler();return oi(n)(c),c.isStopped()?(a.logEventStopped(e,t.element(),n.purpose()),Ob.stopped()):c.isCut()?(a.logEventCut(e,t.element(),n.purpose()),Ob.complete()):uo(t.element()).fold((function(){return a.logNoParent(e,t.element(),n.purpose()),Ob.complete()}),(function(r){return a.logEventResponse(e,t.element(),n.purpose()),Ob.resume(r)}))}))},Eb=function(t,e,n,r,o,i){return Tb(t,e,n,r,o,i).fold((function(){return!0}),(function(r){return Eb(t,e,n,r,o,i)}),(function(){return!1}))},Ab=function(t,e,r){var i=function(t){var e=tn(!1);return{stop:function(){e.set(!0)},cut:n,isStopped:e.get,isCut:o(!1),event:o(t),setSource:c("Cannot set source of a broadcasted event"),getSource:c("Cannot get source of a broadcasted event")}}(e);return F(t,(function(t){var e=t.descHandler();oi(e)(i)})),i.isStopped()},Db=function(t,e,n,r,o){var i=kb(n,r);return Eb(t,e,n,r,i,o)},Nb=to("element","descHandler");function Mb(){var t={};return{registerId:function(e,n,r){ot(r,(function(r,o){var i=void 0!==t[o]?t[o]:{};i[n]=ri(r,e),t[o]=i}))},unregisterId:function(e){ot(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))},filterByType:function(e){return lt(t,e).map((function(t){return ut(t,(function(t,e){return function(t,e){return{id:o(t),descHandler:o(e)}}(e,t)}))})).getOr([])},find:function(e,n,r){var o=lt(t,n);return Fn(r,(function(t){return function(t,e){return $o(e).fold((function(){return y.none()}),(function(n){return t.bind((function(t){return lt(t,n)})).map((function(t){return Nb(e,t)}))}))}(o,t)}),e)}}}function Rb(){var t=Mb(),e={},n=function(t){var e=t.element();return $o(e).fold((function(){return function(t,e){var n=Io(Ho+t);return Vo(e,n),n}("uid-",t.element())}),(function(t){return t}))},r=function(n){$o(n.element()).each((function(n){delete e[n],t.unregisterId(n)}))};return{find:function(e,n,r){return t.find(e,n,r)},filter:function(e){return t.filterByType(e)},register:function(o){var i=n(o);dt(e,i)&&function(t,n){var o=e[n];if(o!==t)throw new Error('The tagId "'+n+'" is already used by: '+Ro(o.element())+"\nCannot use it for: "+Ro(t.element())+"\nThe conflicting element is"+(Ci(o.element())?" ":" not ")+"already in the DOM");r(t)}(o,i);var a=[o];t.registerId(a,i,o.events()),e[i]=o},unregister:r,getById:function(t){return lt(e,t)}}}var Pb=_f({name:"Container",factory:function(t){var e=t.dom,n=e.attributes,r=h(e,["attributes"]);return{uid:t.uid,dom:d({tag:"div",attributes:d({role:"presentation"},n)},r),components:t.components,behaviours:wl(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[We("components",[]),yl("containerBehaviours",[]),We("events",{}),We("domModification",{}),We("eventOrder",{})]}),Bb=function(t){var e=function(e){return uo(t.element()).fold((function(){return!0}),(function(t){return Bn(e,t)}))},r=Rb(),i=function(t,n){return r.find(e,t,n)},a=Sb(t.element(),{triggerEvent:function(t,e){return Ha(t,e.target(),(function(n){return function(t,e,n,r){var o=n.target();return Db(t,e,n,o,r)}(i,t,e,n)}))}}),u={debugInfo:o("real"),triggerEvent:function(t,e,n){Ha(t,e,(function(r){return Db(i,t,n,e,r)}))},triggerFocus:function(t,e){$o(t).fold((function(){Wu(t)}),(function(r){Ha(cr(),t,(function(r){return function(t,e,n,r,o){var i=kb(n,r);Tb(t,e,n,r,i,o)}(i,cr(),{originator:o(e),kill:n,prevent:n,target:o(t)},t,r),!1}))}))},triggerEscape:function(t,e){u.triggerEvent("keydown",t.element(),e.event())},getByUid:function(t){return g(t)},getByDom:function(t){return v(t)},build:Yi,addToGui:function(t){l(t)},removeFromGui:function(t){f(t)},addToWorld:function(t){c(t)},removeFromWorld:function(t){s(t)},broadcast:function(t){h(t)},broadcastOn:function(t,e){p(t,e)},broadcastEvent:function(t,e){m(t,e)},isConnected:o(!0)},c=function(t){t.connect(u),ko(t.element())||(r.register(t),F(t.components(),c),u.triggerEvent(br(),t.element(),{target:o(t.element())}))},s=function(t){ko(t.element())||(F(t.components(),s),r.unregister(t)),t.disconnect()},l=function(e){Bs(t,e)},f=function(t){Ls(t)},d=function(t){var e=r.filter(fr());F(e,(function(e){var n=e.descHandler();oi(n)(t)}))},h=function(t){d({universal:o(!0),data:o(t)})},p=function(t,e){d({universal:o(!1),channels:o(t),data:o(e)})},m=function(t,e){var n=r.filter(t);return Ab(n,e)},g=function(t){return r.getById(t).fold((function(){return C.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),C.value)},v=function(t){var e=$o(t).getOr("not found");return g(e)};return c(t),{root:o(t),element:t.element,destroy:function(){a.unbind(),bo(t.element())},add:l,remove:f,getByUid:g,getByDom:v,addToWorld:c,removeFromWorld:s,broadcast:h,broadcastOn:p,broadcastEvent:m}},zb=Io("form-component-change"),Ib=Io("form-close"),Lb=Io("form-cancel"),Fb=Io("form-action"),Hb=Io("form-submit"),jb=Io("form-block"),Vb=Io("form-unblock"),$b=Io("form-tabchange"),Ub=Io("form-resize"),Wb=o([We("prefix","form-field"),yl("fieldBehaviours",[Af,bl])]),qb=o([Yl({schema:[De("dom")],name:"label"}),Yl({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[De("text")],name:"aria-descriptor"}),Xl({factory:{sketch:function(t){var e=Ft(t,["factory"]);return t.factory.sketch(e)}},schema:[De("factory")],name:"field"})]),Xb=Sf({name:"FormField",configFields:Wb(),partFields:qb(),factory:function(t,e,n,r){var o=xl(t.fieldBehaviours,[Af.config({find:function(e){return cf(e,t,"field")}}),bl.config({store:{mode:"manual",getValue:function(t){return Af.getCurrent(t).bind(bl.getValue)},setValue:function(t,e){Af.getCurrent(t).each((function(t){bl.setValue(t,e)}))}}})]),i=Fr([Kr((function(e,n){var r=lf(e,t,["label","field","aria-descriptor"]);r.field().each((function(e){var n=Io(t.prefix);r.label().each((function(t){To(t.element(),"for",n),To(e.element(),"id",n)})),r["aria-descriptor"]().each((function(n){var r=Io(t.prefix);To(n.element(),"id",r),To(e.element(),"aria-describedby",r)}))}))}))]),a={getField:function(e){return cf(e,t,"field")},getLabel:function(e){return cf(e,t,"label")}};return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:i,apis:a}},apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),Gb=o([Fe("data"),We("inputAttributes",{}),We("inputStyles",{}),We("tag","input"),We("inputClasses",[]),Ya("onSetValue"),We("styles",{}),We("eventOrder",{}),yl("inputBehaviours",[bl,Fh]),We("selectOnFocus",!0)]),Yb=function(t){return Bu([Fh.config({onFocus:t.selectOnFocus?function(t){var e=t.element(),n=Ii(e);e.dom().setSelectionRange(0,n.length)}:n})])},Kb=function(t){return d(d({},Yb(t)),xl(t.inputBehaviours,[bl.config({store:d(d({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return Ii(t.element())},setValue:function(t,e){Ii(t.element())!==e&&Li(t.element(),e)}}),onSetValue:t.onSetValue})]))},Jb=function(t){return{tag:t.tag,attributes:d({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},Zb=_f({name:"Input",configFields:Gb(),factory:function(t,e){return{uid:t.uid,dom:Jb(t),components:[],behaviours:Kb(t),eventOrder:t.eventOrder}}}),Qb={},ty={exports:Qb};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(e,n,r){function i(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof o&&o;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};e[u][0].call(f.exports,(function(t){return i(e[u][1][t]||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var s,l=[],f=!1,d=-1;function h(){f&&s&&(f=!1,s.length?l=s.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=c(h);f=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||f||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void c(e.promise,t)}u(e.promise,r)}else(1===t._state?u:c)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,s(t)}catch(e){c(t,e)}var r,o}function c(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(t){if(n)return;n=!0,c(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function s(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,Qb,ty,void 0);var ey,ny=ty.exports.boltExport,ry=function(t){var n=y.none(),r=[],o=function(t){i()?u(t):r.push(t)},i=function(){return n.isSome()},a=function(t){F(t,u)},u=function(t){n.each((function(n){e.setTimeout((function(){t(n)}),0)}))};return t((function(t){n=y.some(t),a(r),r=[]})),{get:o,map:function(t){return ry((function(e){o((function(n){e(t(n))}))}))},isReady:i}},oy={nu:ry,pure:function(t){return ry((function(e){e(t)}))}},iy=function(t){e.setTimeout((function(){throw t}),0)},ay=function(t){var e=function(e){t().then(e,iy)};return{map:function(e){return ay((function(){return t().then(e)}))},bind:function(e){return ay((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return ay((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return oy.nu(e)},toCached:function(){var e=null;return ay((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},uy=function(t){return ay((function(){return new ny(t)}))},cy=function(t){return ay((function(){return ny.resolve(t)}))},sy=["input","textarea"],ly=function(t){var e=Co(t);return B(sy,e)},fy=function(t,e){var n=e.getRoot(t).getOr(t.element());vi(n,e.invalidClass),e.notify.each((function(e){ly(t.element())&&To(t.element(),"aria-invalid",!1),e.getContainer(t).each((function(t){xo(t,e.validHtml)})),e.onValid(t)}))},dy=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element());mi(o,e.invalidClass),e.notify.each((function(e){ly(t.element())&&To(t.element(),"aria-invalid",!0),e.getContainer(t).each((function(t){xo(t,r)})),e.onInvalid(t,r)}))},hy=function(t,e,n){return e.validator.fold((function(){return cy(C.value(!0))}),(function(e){return e.validate(t)}))},py=function(t,e,n){return e.notify.each((function(e){e.onValidate(t)})),hy(t,e).map((function(n){return t.getSystem().isConnected()?n.fold((function(n){return dy(t,e,0,n),C.error(n)}),(function(n){return fy(t,e),C.value(n)})):C.error("No longer in system")}))},my=Object.freeze({__proto__:null,markValid:fy,markInvalid:dy,query:hy,run:py,isInvalid:function(t,e){var n=e.getRoot(t).getOr(t.element());return bi(n,e.invalidClass)}}),gy=Object.freeze({__proto__:null,events:function(t,e){return t.validator.map((function(e){return Fr([Vr(e.onEvent,(function(e){py(e,t).get(i)}))].concat(e.validateOnLoad?[Kr((function(e){py(e,t).get(n)}))]:[]))})).getOr({})}}),vy=[De("invalidClass"),We("getRoot",y.none),Ue("notify",[We("aria","alert"),We("getContainer",y.none),We("validHtml",""),Ya("onValid"),Ya("onInvalid"),Ya("onValidate")]),Ue("validator",[De("validate"),We("onEvent","input"),We("validateOnLoad",!0)])],by=Iu({fields:vy,name:"invalidating",active:gy,apis:my,extra:{validation:function(t){return function(e){var n=bl.getValue(e);return cy(t(n))}}}}),yy=Object.freeze({__proto__:null,exhibit:function(t,e){return ni({attributes:jt([{key:e.tabAttr,value:"true"}])})}}),wy=[We("tabAttr","data-alloy-tabstop")],xy=Iu({fields:wy,name:"tabstopping",active:yy}),Cy=function(t,e,n,r){var o=_y(t,e,n,r);return Xb.sketch(o)},_y=function(t,e,n,r){return{dom:Sy(n),components:t.toArray().concat([e]),fieldBehaviours:Bu(r)}},Sy=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},ky=function(t,e){return Xb.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})},Oy=Object.freeze({__proto__:null,getCoupled:function(t,e,n,r){return n.getOrCreate(t,e,r)}}),Ty=[Ne("others",pe(C.value,xe()))],Ey=Iu({fields:Ty,name:"coupling",apis:Oy,state:Object.freeze({__proto__:null,init:function(){var t={},e=o({});return ti({readState:e,getOrCreate:function(e,n,r){var o=nt(n.others);if(o)return lt(t,r).getOrThunk((function(){var o=lt(n.others,r).getOrDie("No information found for coupled component: "+r)(e),i=e.getSystem().build(o);return t[r]=i,i}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}})}})}),Ay=o("sink"),Dy=o(Yl({name:Ay(),overrides:o({dom:{tag:"div"},behaviours:Bu([Ds.config({useFixed:l})]),events:Fr([Xr(tr()),Xr(Xn()),Xr(or())])})}));!function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"}(ey||(ey={}));var Ny=function(t,e){var n=t.getHotspot(e).getOr(e),r=t.getAnchorOverrides();return t.layouts.fold((function(){return{anchor:"hotspot",hotspot:n,overrides:r}}),(function(t){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:t}}))},My=function(t,e,n,r,o,i,a){return function(t,e,n,r,o,i,a){var u=function(t,e,n){return(0,t.fetch)(n).map(e)}(t,e,r),c=zy(r,t);return u.map((function(t){return t.bind((function(t){return y.from(bp.sketch(d(d({},i.menu()),{uid:Uo(""),data:t,highlightImmediately:a===ey.HighlightFirst,onOpenMenu:function(t,e){var r=c().getOrDie();Ds.position(r,n,e),Zs.decloak(o)},onOpenSubmenu:function(t,e,n){var r=c().getOrDie();Ds.position(r,{anchor:"submenu",item:e},n),Zs.decloak(o)},onRepositionMenu:function(t,e,r){var o=c().getOrDie();Ds.position(o,n,e),F(r,(function(t){Ds.position(o,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){return Fh.focus(r),Zs.close(o),y.some(!0)}})))}))}))}(t,e,Ny(t,n),n,r,o,a).map((function(t){return t.fold((function(){Zs.isOpen(r)&&Zs.close(r)}),(function(t){Zs.cloak(r),Zs.open(r,t),i(r)})),r}))},Ry=function(t,e,n,r,o,i,a){return Zs.close(r),cy(r)},Py=function(t,e,n,r,o,i){var a=Ey.getCoupled(n,"sandbox");return(Zs.isOpen(a)?Ry:My)(t,e,n,a,r,o,i)},By=function(t,e,n){var r=Af.getCurrent(e).getOr(e),o=ua(t.element());n?Ti(r.element(),"min-width",o+"px"):function(t,e){aa.set(t,e)}(r.element(),o)},zy=function(t,e){return t.getSystem().getByUid(e.uid+"-"+Ay()).map((function(t){return function(){return C.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return C.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))},Iy=function(t){Zs.getState(t).each((function(t){bp.repositionMenus(t)}))},Ly=function(t,e,n){var r=Ra(),i=zy(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id(),role:"listbox"}},behaviours:_l(t.sandboxBehaviours,[bl.config({store:{mode:"memory",initialValue:e}}),Zs.config({onOpen:function(o,i){var a=Ny(t,e);r.link(e.element()),t.matchWidth&&By(a.hotspot,i,t.useMinWidth),t.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},onClose:function(t,o){r.unlink(e.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)},isPartOf:function(t,n,r){return Ba(n,r)||Ba(e,r)},getAttachPoint:function(){return i().getOrDie()}}),Af.config({find:function(t){return Zs.getState(t).bind((function(t){return Af.getCurrent(t)}))}}),$u.config({channels:d(d({},rl({isExtraPart:o(!1)})),il({isExtraPart:o(!1),doReposition:Iy}))})])}},Fy=function(t){var e=Ey.getCoupled(t,"sandbox");Iy(e)},Hy=function(){return[We("sandboxClasses",[]),Cl("sandboxBehaviours",[Af,$u,Zs,bl])]},jy=o([De("dom"),De("fetch"),Ya("onOpen"),Ka("onExecute"),We("getHotspot",y.some),We("getAnchorOverrides",o({})),Oc(),yl("dropdownBehaviours",[Jh,Ey,Eh,Fh]),De("toggleClass"),We("eventOrder",{}),Fe("lazySink"),We("matchWidth",!1),We("useMinWidth",!1),Fe("role")].concat(Hy())),Vy=o([Gl({schema:[qa()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),Dy()]),$y=Sf({name:"Dropdown",configFields:jy(),partFields:Vy(),factory:function(t,e,r,o){var i,a,u=function(t){Zs.getState(t).each((function(t){bp.highlightPrimary(t)}))},c={expand:function(e){Jh.isOn(e)||Py(t,(function(t){return t}),e,o,n,ey.HighlightNone).get(n)},open:function(e){Jh.isOn(e)||Py(t,(function(t){return t}),e,o,n,ey.HighlightFirst).get(n)},isOpen:Jh.isOn,close:function(e){Jh.isOn(e)&&Py(t,(function(t){return t}),e,o,n,ey.HighlightFirst).get(n)},repositionMenus:function(t){Jh.isOn(t)&&Fy(t)}},s=function(t,e){return Br(t),y.some(!0)};return{uid:t.uid,dom:t.dom,components:e,behaviours:xl(t.dropdownBehaviours,[Jh.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ey.config({others:{sandbox:function(e){return Ly(t,e,{onOpen:function(){Jh.on(e)},onClose:function(){Jh.off(e)}})}}}),Eh.config({mode:"special",onSpace:s,onEnter:s,onDown:function(t,e){if($y.isOpen(t)){var n=Ey.getCoupled(t,"sandbox");u(n)}else $y.open(t);return y.some(!0)},onEscape:function(t,e){return $y.isOpen(t)?($y.close(t),y.some(!0)):y.none()}}),Fh.config({})]),events:Qh(y.some((function(e){Py(t,(function(t){return t}),e,o,u,ey.HighlightFirst).get(n)}))),eventOrder:d(d({},t.eventOrder),(i={},i[dr()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:c,domModification:{attributes:d(d({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:(a="type",lt(t.dom,"attributes").bind((function(t){return lt(t,a)}))).getOr("button")}:{})}}},apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}}),Uy=Object.freeze({__proto__:null,events:function(){return Fr([Hr(ar(),o(!0))])},exhibit:function(){return ni({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),Wy=Iu({fields:[],name:"unselecting",active:Uy}),qy=Io("color-input-change"),Xy=Io("color-swatch-change"),Gy=Io("color-picker-cancel"),Yy=function(t,e,n){var r=Xb.parts().field({factory:Zb,inputClasses:["tox-textfield"],onSetValue:function(t){return by.run(t).get((function(){}))},inputBehaviours:Bu([xy.config({}),by.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return uo(t.element())},notify:{onValid:function(t){var e=bl.getValue(t);Pr(t,qy,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=bl.getValue(t);if(0===e.length)return cy(C.value(!0));var n=nn.fromTag("span");Ti(n,"background-color",e);var r=Mi(n,"background-color").fold((function(){return C.error("blah")}),(function(t){return C.value(e)}));return cy(r)}}})]),selectOnFocus:!1}),o=t.label.map((function(t){return ky(t,e.providers)})),i=function(t,e){Pr(t,Xy,{value:e})},a=Zp(function(t,e){return $y.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Bu([Wy.config({}),xy.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return uy((function(e){return t.fetch(e)})).map((function(r){return y.from(db(gt(Kv(Io("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,Dg.CLOSE_ON_EXECUTE,(function(){return!1}),e.providers),{movement:Zv(t.columns,t.presets)})))}))},parts:{menu:Vv(0,0,t.presets)}})}({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[bu]},onLtr:function(){return[yu]}},components:[],fetch:zv.getFetch(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(t,e){a.getOpt(t).each((function(t){"custom"===e?n.colorPicker((function(e){e.fold((function(){return Rr(t,Gy)}),(function(e){i(t,e),yv(e)}))}),"#ffffff"):i(t,"remove"===e?"":e)}))}},e));return Xb.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,a.asSpec()]}]),fieldBehaviours:Bu([Ph("form-field-events",[Vr(qy,(function(e,n){a.getOpt(e).each((function(t){Ti(t.element(),"background-color",n.event().color())})),Pr(e,zb,{name:t.name})})),Vr(Xy,(function(t,e){Xb.getField(t).each((function(n){bl.setValue(n,e.event().value()),Af.getCurrent(t).each(Fh.focus)}))})),Vr(Gy,(function(t,e){Xb.getField(t).each((function(e){Af.getCurrent(t).each(Fh.focus)}))}))])])})},Ky=function(t,e,n){return{hue:o(t),saturation:o(e),value:o(n)}},Jy=o(Io("rgb-hex-update")),Zy=o(Io("slider-update")),Qy=o(Io("palette-update")),tw=Yl({schema:[De("dom")],name:"label"}),ew=function(t){return Yl({name:t+"-edge",overrides:function(e){return e.model.manager.edgeActions[t].fold((function(){return{}}),(function(t){return{events:Fr([$r($n(),(function(e,n,r){return t(e,r)}),[e]),$r(Xn(),(function(e,n,r){return t(e,r)}),[e]),$r(Gn(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})},nw=ew("top-left"),rw=ew("top"),ow=ew("top-right"),iw=ew("right"),aw=ew("bottom-right"),uw=ew("bottom"),cw=ew("bottom-left"),sw=[tw,ew("left"),iw,rw,uw,nw,ow,cw,aw,Xl({name:"thumb",defaults:o({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Fr([Wr($n(),t,"spectrum"),Wr(Un(),t,"spectrum"),Wr(Wn(),t,"spectrum"),Wr(Xn(),t,"spectrum"),Wr(Gn(),t,"spectrum"),Wr(Kn(),t,"spectrum")])}}}),Xl({schema:[Qe("mouseIsDown",(function(){return tn(!1)}))],name:"spectrum",overrides:function(t){var e=t.model.manager,n=function(n,r){return e.getValueFromEvent(r).map((function(r){return e.setValueFrom(n,t,r)}))};return{behaviours:Bu([Eh.config({mode:"special",onLeft:function(n){return e.onLeft(n,t)},onRight:function(n){return e.onRight(n,t)},onUp:function(n){return e.onUp(n,t)},onDown:function(n){return e.onDown(n,t)}}),Fh.config({})]),events:Fr([Vr($n(),n),Vr(Un(),n),Vr(Xn(),n),Vr(Gn(),(function(e,r){t.mouseIsDown.get()&&n(e,r)}))])}}})],lw=o("slider.change.value"),fw=function(t){var e=t.event().raw();if(function(t){return-1!==t.type.indexOf("touch")}(e)){var n=e;return void 0!==n.touches&&1===n.touches.length?y.some(n.touches[0]).map((function(t){return na(t.clientX,t.clientY)})):y.none()}var r=e;return void 0!==r.clientX?y.some(r).map((function(t){return na(t.clientX,t.clientY)})):y.none()},dw=function(t){return t.model.minX},hw=function(t){return t.model.minY},pw=function(t){return t.model.minX-1},mw=function(t){return t.model.minY-1},gw=function(t){return t.model.maxX},vw=function(t){return t.model.maxY},bw=function(t){return t.model.maxX+1},yw=function(t){return t.model.maxY+1},ww=function(t,e,n){return e(t)-n(t)},xw=function(t){return ww(t,gw,dw)},Cw=function(t){return ww(t,vw,hw)},_w=function(t){return xw(t)/2},Sw=function(t){return Cw(t)/2},kw=function(t){return t.stepSize},Ow=function(t){return t.snapToGrid},Tw=function(t){return t.snapStart},Ew=function(t){return t.rounded},Aw=function(t,e){return void 0!==t[e+"-edge"]},Dw=function(t){return Aw(t,"left")},Nw=function(t){return Aw(t,"right")},Mw=function(t){return Aw(t,"top")},Rw=function(t){return Aw(t,"bottom")},Pw=function(t){return t.model.value.get()},Bw=function(t){return{x:o(t)}},zw=function(t){return{y:o(t)}},Iw=function(t,e){return{x:o(t),y:o(e)}},Lw=function(t,e){Pr(t,lw(),{value:e})},Fw=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},Hw=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},jw=function(t,e,n){return Math.max(e,Math.min(n,t))},Vw=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.step,a=t.snap,u=t.snapStart,c=t.rounded,s=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,d=t.maxBound,h=t.screenRange,p=s?e-1:e,m=l?n+1:n;if(o<f)return p;if(o>d)return m;var g=function(t,e,n){return Math.min(n,Math.max(t,e))-e}(o,f,d),v=jw(g/h*r+e,p,m);return a&&v>=e&&v<=n?function(t,e,n,r,o){return o.fold((function(){var o=t-e,i=Math.round(o/r)*r;return jw(e+i,e-1,n+1)}),(function(e){var o=(t-e)%r,i=Math.round(o/r),a=Math.floor((t-e)/r),u=Math.floor((n-e)/r),c=e+Math.min(u,a+i)*r;return Math.max(e,c)}))}(v,e,n,i,u):c?Math.round(v):v},$w=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,u=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,l=t.centerMaxEdge;return o<e?i?0:s:o>n?a?u:l:(o-e)/r*c},Uw=function(t){return t.element().dom().getBoundingClientRect()},Ww=function(t,e){return t[e]},qw=function(t){var e=Uw(t);return Ww(e,"left")},Xw=function(t){var e=Uw(t);return Ww(e,"right")},Gw=function(t){var e=Uw(t);return Ww(e,"top")},Yw=function(t){var e=Uw(t);return Ww(e,"bottom")},Kw=function(t){var e=Uw(t);return Ww(e,"width")},Jw=function(t){var e=Uw(t);return Ww(e,"height")},Zw=function(t,e,n){return(t+e)/2-n},Qw=function(t,e){var n=Uw(t),r=Uw(e),o=Ww(n,"left"),i=Ww(n,"right"),a=Ww(r,"left");return Zw(o,i,a)},tx=function(t,e){var n=Uw(t),r=Uw(e),o=Ww(n,"top"),i=Ww(n,"bottom"),a=Ww(r,"top");return Zw(o,i,a)},ex=function(t,e){Pr(t,lw(),{value:e})},nx=function(t){return{x:o(t)}},rx=function(t,e,n){var r={min:dw(e),max:gw(e),range:xw(e),value:n,step:kw(e),snap:Ow(e),snapStart:Tw(e),rounded:Ew(e),hasMinEdge:Dw(e),hasMaxEdge:Nw(e),minBound:qw(t),maxBound:Xw(t),screenRange:Kw(t)};return Vw(r)},ox=function(t){return function(e,n){return function(t,e,n){var r=(t>0?Hw:Fw)(Pw(n).x(),dw(n),gw(n),kw(n));return ex(e,nx(r)),y.some(r)}(t,e,n).map((function(){return!0}))}},ix=function(t,e,n,r,o,i){var a=function(t,e,n,r,o){var i=Kw(t),a=r.bind((function(e){return y.some(Qw(e,t))})).getOr(0),u=o.bind((function(e){return y.some(Qw(e,t))})).getOr(i),c={min:dw(e),max:gw(e),range:xw(e),value:n,hasMinEdge:Dw(e),hasMaxEdge:Nw(e),minBound:qw(t),minOffset:0,maxBound:Xw(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return $w(c)}(e,i,n,r,o);return qw(e)-qw(t)+a},ax=ox(-1),ux=ox(1),cx=y.none,sx=y.none,lx={"top-left":y.none(),top:y.none(),"top-right":y.none(),right:y.some((function(t,e){Lw(t,Bw(bw(e)))})),"bottom-right":y.none(),bottom:y.none(),"bottom-left":y.none(),left:y.some((function(t,e){Lw(t,Bw(pw(e)))}))},fx=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=rx(t,e,n),o=nx(r);return ex(t,o),r},setToMin:function(t,e){var n=dw(e);ex(t,nx(n))},setToMax:function(t,e){var n=gw(e);ex(t,nx(n))},findValueOfOffset:rx,getValueFromEvent:function(t){return fw(t).map((function(t){return t.left()}))},findPositionOfValue:ix,setPositionFromValue:function(t,e,n,r){var o=Pw(n),i=ix(t,r.getSpectrum(t),o.x(),r.getLeftEdge(t),r.getRightEdge(t),n),a=ua(e.element())/2;Ti(e.element(),"left",i-a+"px")},onLeft:ax,onRight:ux,onUp:cx,onDown:sx,edgeActions:lx}),dx=function(t,e){Pr(t,lw(),{value:e})},hx=function(t){return{y:o(t)}},px=function(t,e,n){var r={min:hw(e),max:vw(e),range:Cw(e),value:n,step:kw(e),snap:Ow(e),snapStart:Tw(e),rounded:Ew(e),hasMinEdge:Mw(e),hasMaxEdge:Rw(e),minBound:Gw(t),maxBound:Yw(t),screenRange:Jw(t)};return Vw(r)},mx=function(t){return function(e,n){return function(t,e,n){var r=(t>0?Hw:Fw)(Pw(n).y(),hw(n),vw(n),kw(n));return dx(e,hx(r)),y.some(r)}(t,e,n).map((function(){return!0}))}},gx=function(t,e,n,r,o,i){var a=function(t,e,n,r,o){var i=Jw(t),a=r.bind((function(e){return y.some(tx(e,t))})).getOr(0),u=o.bind((function(e){return y.some(tx(e,t))})).getOr(i),c={min:hw(e),max:vw(e),range:Cw(e),value:n,hasMinEdge:Mw(e),hasMaxEdge:Rw(e),minBound:Gw(t),minOffset:0,maxBound:Yw(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return $w(c)}(e,i,n,r,o);return Gw(e)-Gw(t)+a},vx=y.none,bx=y.none,yx=mx(-1),wx=mx(1),xx={"top-left":y.none(),top:y.some((function(t,e){Lw(t,zw(mw(e)))})),"top-right":y.none(),right:y.none(),"bottom-right":y.none(),bottom:y.some((function(t,e){Lw(t,zw(yw(e)))})),"bottom-left":y.none(),left:y.none()},Cx=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=px(t,e,n),o=hx(r);return dx(t,o),r},setToMin:function(t,e){var n=hw(e);dx(t,hx(n))},setToMax:function(t,e){var n=vw(e);dx(t,hx(n))},findValueOfOffset:px,getValueFromEvent:function(t){return fw(t).map((function(t){return t.top()}))},findPositionOfValue:gx,setPositionFromValue:function(t,e,n,r){var o=Pw(n),i=gx(t,r.getSpectrum(t),o.y(),r.getTopEdge(t),r.getBottomEdge(t),n),a=Qi(e.element())/2;Ti(e.element(),"top",i-a+"px")},onLeft:vx,onRight:bx,onUp:yx,onDown:wx,edgeActions:xx}),_x=function(t,e){Pr(t,lw(),{value:e})},Sx=function(t,e){return{x:o(t),y:o(e)}},kx=function(t,e){return function(n,r){return function(t,e,n,r){var o=t>0?Hw:Fw,i=e?Pw(r).x():o(Pw(r).x(),dw(r),gw(r),kw(r)),a=e?o(Pw(r).y(),hw(r),vw(r),kw(r)):Pw(r).y();return _x(n,Sx(i,a)),y.some(i)}(t,e,n,r).map((function(){return!0}))}},Ox=kx(-1,!1),Tx=kx(1,!1),Ex=kx(-1,!0),Ax=kx(1,!0),Dx={"top-left":y.some((function(t,e){Lw(t,Iw(pw(e),mw(e)))})),top:y.some((function(t,e){Lw(t,Iw(_w(e),mw(e)))})),"top-right":y.some((function(t,e){Lw(t,Iw(bw(e),mw(e)))})),right:y.some((function(t,e){Lw(t,Iw(bw(e),Sw(e)))})),"bottom-right":y.some((function(t,e){Lw(t,Iw(bw(e),yw(e)))})),bottom:y.some((function(t,e){Lw(t,Iw(_w(e),yw(e)))})),"bottom-left":y.some((function(t,e){Lw(t,Iw(pw(e),yw(e)))})),left:y.some((function(t,e){Lw(t,Iw(pw(e),Sw(e)))}))},Nx=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=rx(t,e,n.left()),o=px(t,e,n.top()),i=Sx(r,o);return _x(t,i),i},setToMin:function(t,e){var n=dw(e),r=hw(e);_x(t,Sx(n,r))},setToMax:function(t,e){var n=gw(e),r=vw(e);_x(t,Sx(n,r))},getValueFromEvent:function(t){return fw(t)},setPositionFromValue:function(t,e,n,r){var o=Pw(n),i=ix(t,r.getSpectrum(t),o.x(),r.getLeftEdge(t),r.getRightEdge(t),n),a=gx(t,r.getSpectrum(t),o.y(),r.getTopEdge(t),r.getBottomEdge(t),n),u=ua(e.element())/2,c=Qi(e.element())/2;Ti(e.element(),"left",i-u+"px"),Ti(e.element(),"top",a-c+"px")},onLeft:Ox,onRight:Tx,onUp:Ex,onDown:Ax,edgeActions:Dx}),Mx=Sf({name:"Slider",configFields:[We("stepSize",1),We("onChange",n),We("onChoose",n),We("onInit",n),We("onDragStart",n),We("onDragEnd",n),We("snapToGrid",!1),We("rounded",!0),Fe("snapStart"),Ne("model",we("mode",{x:[We("minX",0),We("maxX",100),Qe("value",(function(t){return tn(t.mode.minX)})),De("getInitialValue"),Qa("manager",fx)],y:[We("minY",0),We("maxY",100),Qe("value",(function(t){return tn(t.mode.minY)})),De("getInitialValue"),Qa("manager",Cx)],xy:[We("minX",0),We("maxX",100),We("minY",0),We("maxY",100),Qe("value",(function(t){return tn({x:o(t.mode.minX),y:o(t.mode.minY)})})),De("getInitialValue"),Qa("manager",Nx)]})),yl("sliderBehaviours",[Eh,bl]),Qe("mouseIsDown",(function(){return tn(!1)}))],partFields:sw,factory:function(t,e,n,r){var i,a=function(e){return sf(e,t,"thumb")},u=function(e){return sf(e,t,"spectrum")},c=function(e){return cf(e,t,"left-edge")},s=function(e){return cf(e,t,"right-edge")},l=function(e){return cf(e,t,"top-edge")},f=function(e){return cf(e,t,"bottom-edge")},d=t.model,h=d.manager,p=function(e,n){h.setPositionFromValue(e,n,t,{getLeftEdge:c,getRightEdge:s,getTopEdge:l,getBottomEdge:f,getSpectrum:u})},m=function(e,n){d.value.set(n);var r=a(e);return p(e,r),t.onChange(e,r,n),y.some(!0)},g=function(e){var n=t.mouseIsDown.get();t.mouseIsDown.set(!1),n&&cf(e,t,"thumb").each((function(n){var r=d.value.get();t.onChoose(e,n,r)}))},v=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,a(e))},b=function(e,n){n.stop(),t.onDragEnd(e,a(e)),g(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:xl(t.sliderBehaviours,[Eh.config({mode:"special",focusIn:function(e){return cf(e,t,"spectrum").map(Eh.focusIn).map(o(!0))}}),bl.config({store:{mode:"manual",getValue:function(t){return d.value.get()}}}),$u.config({channels:(i={},i[el()]={onReceive:g},i)})]),events:Fr([Vr(lw(),(function(t,e){m(t,e.event().value())})),Kr((function(e,n){var r=d.getInitialValue();d.value.set(r);var o=a(e);p(e,o);var i=u(e);t.onInit(e,o,i,d.value.get())})),Vr($n(),v),Vr(Wn(),b),Vr(Xn(),v),Vr(Kn(),b)]),apis:{resetToMin:function(e){h.setToMin(e,t)},resetToMax:function(e){h.setToMax(e,t)},changeValue:m,refresh:p},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),Rx=function(t,e){var n=Mx.parts().spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=Mx.parts().thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return Mx.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:o({y:o(0)})},components:[n,r],sliderBehaviours:Bu([Fh.config({})]),onChange:function(t,e,n){Pr(t,Zy(),{value:n})}})},Px=[yl("formBehaviours",[bl])],Bx=function(t){return"<alloy.field."+t+">"},zx=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:xl(t.formBehaviours,[bl.config({store:{mode:"manual",getValue:function(e){var n=ff(e,t);return it(n,(function(t,e){return t().bind((function(t){var n,r,o=Af.getCurrent(t);return n=o,r=new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+Ro(t.element())),n.fold((function(){return C.error(r)}),C.value)})).map(bl.getValue)}))},setValue:function(e,n){ot(n,(function(n,r){cf(e,t,r).each((function(t){Af.getCurrent(t).each((function(t){bl.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return cf(e,t,n).bind(Af.getCurrent)}}}},Ix={getField:Zo((function(t,e,n){return t.getField(e,n)})),sketch:function(t){var e=function(){var t=[];return{field:function(e,n){return t.push(e),nf("form",Bx(e),n)},record:function(){return t}}}(),n=t(e),r=e.record(),o=L(r,(function(t){return Xl({name:t,pname:Bx(t)})}));return bf("form",Px,o,zx,n)}},Lx=Io("valid-input"),Fx=Io("invalid-input"),Hx=Io("validating-input"),jx=function(t,e,r,i){var a=function(n,r){return by.config({invalidClass:e("invalid"),notify:{onValidate:function(t){Pr(t,Hx,{type:n})},onValid:function(t){Pr(t,Lx,{type:n,value:bl.getValue(t)})},onInvalid:function(t){Pr(t,Fx,{type:n,value:bl.getValue(t)})}},validator:{validate:function(e){var n=bl.getValue(e),o=r(n)?C.value(!0):C.error(t("aria.input.invalid"));return cy(o)},validateOnLoad:!1}})},u=function(r,o,i,u,c){var s=t("colorcustom.rgb.range"),l=[Xb.parts().label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":u}}}),Xb.parts().field({data:c,factory:Zb,inputAttributes:d({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[e("textfield")],inputBehaviours:Bu([a(o,r),xy.config({})]),onSetValue:function(t){by.isInvalid(t)&&by.run(t).get(n)}})],f="hex"!==o?[Xb.parts()["aria-descriptor"]({text:s})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:l.concat(f)}},c=function(t,e){var n=e.red(),r=e.green(),o=e.blue();bl.setValue(t,{red:n,green:r,blue:o})},s=Zp({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=function(t,e){s.getOpt(t).each((function(t){Ti(t.element(),"background-color","#"+e.value())}))};return _f({factory:function(){var n={red:o(tn(y.some(255))),green:o(tn(y.some(255))),blue:o(tn(y.some(255))),hex:o(tn(y.some("ffffff")))},a=function(t){return n[t]().get()},f=function(t,e){n[t]().set(e)},d=function(t){var e=t.red(),n=t.green(),r=t.blue();f("red",y.some(e)),f("green",y.some(n)),f("blue",y.some(r))},h=function(t,e){var n=e.event();"hex"!==n.type()?f(n.type(),y.none()):i(t)},p=function(t,e,n){var r=parseInt(n,10);f(e,y.some(r)),a("red").bind((function(t){return a("green").bind((function(e){return a("blue").map((function(n){return nv(t,e,n,1)}))}))})).each((function(e){var n=function(t,e){var n=Kg(e);return Ix.getField(t,"hex").each((function(e){Fh.isFocused(e)||bl.setValue(t,{hex:n.value()})})),n}(t,e);l(t,n)}))},m=function(t,e){var n=e.event();!function(t){return"hex"===t.type()}(n)?p(t,n.type(),n.value()):function(t,e){r(t);var n=Ug(e);f("hex",y.some(e));var o=iv(n);c(t,o),d(o),Pr(t,Jy(),{hex:n}),l(t,n)}(t,n.value())},g=function(e){return{label:t("colorcustom.rgb."+e+".label"),description:t("colorcustom.rgb."+e+".description")}},v=g("red"),b=g("green"),w=g("blue"),x=g("hex");return gt(Ix.sketch((function(n){return{dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[n.field("red",Xb.sketch(u(rv,"red",v.label,v.description,255))),n.field("green",Xb.sketch(u(rv,"green",b.label,b.description,255))),n.field("blue",Xb.sketch(u(rv,"blue",w.label,w.description,255))),n.field("hex",Xb.sketch(u(Xg,"hex",x.label,x.description,"ffffff"))),s.asSpec()],formBehaviours:Bu([by.config({invalidClass:e("form-invalid")}),Ph("rgb-form-events",[Vr(Lx,m),Vr(Fx,h),Vr(Hx,h)])])}})),{apis:{updateHex:function(t,e){bl.setValue(t,{hex:e.value()}),function(t,e){var n=iv(e);c(t,n),d(n)}(t,e),l(t,e)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}})},Vx=function(t,e){var n=Mx.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),r=Mx.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}}),i=function(t,e){var n=t.width,r=t.height,o=t.getContext("2d");if(null!==o){o.fillStyle=e,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}};return _f({factory:function(t){var a=o({x:o(0),y:o(0)}),u=Bu([Af.config({find:y.some}),Fh.config({})]);return Mx.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[n,r],onChange:function(t,e,n){Pr(t,Qy(),{value:n})},onInit:function(t,e,n,r){i(n.element().dom(),uv(cv()))},sliderBehaviours:u})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(t,e,n){!function(t,e){var n=t.components()[0].element().dom();i(n,uv(e))}(e,n)}},extraApis:{}})},$x=function(t,e){return _f({name:"ColourPicker",configFields:[De("dom"),We("onValidHex",n),We("onInvalidHex",n)],factory:function(n){var r,i=jx(t,e,n.onValidHex,n.onInvalidHex),a=Vx(0,e),u={paletteRgba:o(tn(cv()))},c=Zp(a.sketch({})),s=Zp(i.sketch({})),l=function(t,e){c.getOpt(t).each((function(t){var n=iv(e);u.paletteRgba().set(n),a.setRgba(t,n)}))},f=function(t,e){s.getOpt(t).each((function(t){i.updateHex(t,e)}))},d=function(t,e,n){F(n,(function(n){n(t,e)}))};return{uid:n.uid,dom:n.dom,components:[c.asSpec(),Rx(0,e),s.asSpec()],behaviours:Bu([Ph("colour-picker-events",[Vr(Qy(),(r=[f],function(t,e){var n=e.event().value(),o=function(t){var e,n=0,r=0,o=t.red()/255,i=t.green()/255,a=t.blue()/255,u=Math.min(o,Math.min(i,a)),c=Math.max(o,Math.max(i,a));return u===c?Ky(0,0,100*(r=u)):(n=60*((n=o===u?3:a===u?1:5)-(o===u?i-a:a===u?o-i:a-o)/(c-u)),e=(c-u)/c,r=c,Ky(Math.round(n),Math.round(100*e),Math.round(100*r)))}(u.paletteRgba().get()),i=Ky(o.hue(),n.x(),100-n.y()),a=ov(i),c=Kg(a);d(t,c,r)})),Vr(Zy(),function(){var t=[l,f];return function(e,n){var r=function(t){var e=Ky((100-t)/100*360,100,100),n=ov(e);return Kg(n)}(n.event().value().y());d(e,r,t)}}())]),Af.config({find:function(t){return s.getOpt(t)}}),Eh.config({mode:"acyclic"})])}}})},Ux=function(){return Af.config({find:y.some})},Wx=function(t){return Af.config({find:t.getOpt})},qx=function(t){return Af.config({find:function(e){return lo(e.element(),t).bind((function(t){return e.getSystem().getByDom(t).toOption()}))}})},Xx={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},Gx=function(t){return function(t){return Xx[t]}(t)},Yx=tinymce.util.Tools.resolve("tinymce.Resource"),Kx=ee([We("preprocess",i),We("postprocess",i)]),Jx=function(t,e,n){return bl.config(gt({store:{mode:"manual",getValue:e,setValue:n}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))},Zx=function(t,e,n){return Jx(t,(function(t){return e(t.element())}),(function(t,e){return n(t.element(),e)}))},Qx=function(t,e){var n=ve("RepresentingConfigs.memento processors",Kx,e);return bl.config({store:{mode:"manual",getValue:function(e){var r=t.get(e),o=bl.getValue(r);return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r),i=t.get(e);bl.setValue(i,o)}}})},tC=Jx,eC=function(t){return Zx(t,wo,xo)},nC=function(t){return bl.config({store:{mode:"memory",initialValue:t}})},rC=function(t,e){var n=function(t,e){e.stop()},r=function(t){return function(e,n){F(t,(function(t){t(e,n)}))}},o=function(t,e){if(!Cg.isDisabled(t)){var n=e.event().raw();a(t,n.dataTransfer.files)}},i=function(t,e){var n=e.event().raw().target.files;a(t,n)},a=function(e,n){bl.setValue(e,function(t){var e=new RegExp("("+".jpg,.jpeg,.png,.gif".split(/\s*,\s*/).join("|")+")$","i");return H(tt(t),(function(t){return e.test(t.name)}))}(n)),Pr(e,zb,{name:t.name})},u=Zp({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Bu([Ph("input-file-events",[Xr(or()),Xr(pr())])])}),c=t.label.map((function(t){return ky(t,e)})),s=Xb.parts().field({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Bu([nC([]),Ux(),Cg.config({}),Jh.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ph("dropzone-events",[Vr("dragenter",r([n,Jh.toggle])),Vr("dragleave",r([n,Jh.toggle])),Vr("dragover",n),Vr("drop",r([n,o])),Vr(rr(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},Jp.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(t){u.get(t).element().dom().click()},buttonBehaviours:Bu([xy.config({})])})]}]}}}});return Cy(c,s,["tox-form__group--stretched"],[])},oC=Io("alloy-fake-before-tabstop"),iC=Io("alloy-fake-after-tabstop"),aC=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Bu([Fh.config({ignore:!0}),xy.config({})])}},uC=function(t,e){Pr(t,tr(),{raw:{which:9,shiftKey:e}})},cC=function(t){return bb(t,["."+oC,"."+iC].join(","),o(!1))},sC=function(t,e){var n=e.element();bi(n,oC)?uC(t,!0):bi(n,iC)&&uC(t,!1)},lC=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[aC([oC]),t,aC([iC])],behaviours:Bu([qx(1)])}},fC=!(On().browser.isIE()||On().browser.isEdge()),dC=function(t,e){var n=fC&&t.sandboxed,r=d(d({},t.label.map((function(t){return{title:t}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=function(t){var e=tn("");return{getValue:function(t){return e.get()},setValue:function(n,r){if(t)To(n.element(),"srcdoc",r);else{To(n.element(),"src","javascript:''");var o=n.element().dom().contentWindow.document;o.open(),o.write(r),o.close()}e.set(r)}}}(n),i=t.label.map((function(t){return ky(t,e)})),a=Xb.parts().field({factory:{sketch:function(t){return lC({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:Bu([xy.config({}),Fh.config({}),tC(y.none(),o.getValue,o.setValue)])})}}});return Cy(i,a,["tox-form__group--stretched"],[])};function hC(t,n){return gC(e.document.createElement("canvas"),t,n)}function pC(t){var e=hC(t.width,t.height);return mC(e).drawImage(t,0,0),e}function mC(t){return t.getContext("2d")}function gC(t,e,n){return t.width=e,t.height=n,t}function vC(t){return t.naturalWidth||t.width}function bC(t){return t.naturalHeight||t.height}var yC=window.Promise?window.Promise:function(){var t=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,r(a,this),r(u,this))},n=t.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(t){e.setTimeout(t,1)};function r(t,e){return function(){return t.apply(e,arguments)}}var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void t.reject(e)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void l(r(e,t),r(a,this),r(u,this))}this._state=!0,this._value=t,c.call(this)}catch(t){u.call(this,t)}}function u(t){this._state=!1,this._value=t,c.call(this)}function c(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];i.call(this,n)}this._deferreds=[]}function s(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function l(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(t){if(r)return;r=!0,n(t)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){i.call(r,new s(e,n,t,o))}))},t.all=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e);return new t((function(t,e){if(0===r.length)return t([]);var n=r.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),e)}r[i]=a,0==--n&&t(r)}catch(t){e(t)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){o[r].then(t,n)}}))},t}();function wC(t){return new yC((function(n,r){(function(t){var n=t.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return y.none();for(var o=r[1],i=n[1],a=e.atob(i),u=a.length,c=Math.ceil(u/1024),s=new Array(c),l=0;l<c;++l){for(var f=1024*l,d=Math.min(f+1024,u),h=new Array(d-f),p=f,m=0;p<d;++m,++p)h[m]=a[p].charCodeAt(0);s[l]=new Uint8Array(h)}return y.some(new e.Blob(s,{type:o}))})(t).fold((function(){r("uri is not base64: "+t)}),n)}))}function xC(t,n,r){return n=n||"image/png",e.HTMLCanvasElement.prototype.toBlob?new yC((function(e,o){t.toBlob((function(t){t?e(t):o()}),n,r)})):wC(t.toDataURL(n,r))}function CC(t){return function(t){return new yC((function(n,r){var o=e.URL.createObjectURL(t),i=new e.Image,a=function(){i.removeEventListener("load",u),i.removeEventListener("error",c)};function u(){a(),n(i)}function c(){a(),r("Unable to load data of type "+t.type+": "+o)}i.addEventListener("load",u),i.addEventListener("error",c),i.src=o,i.complete&&u()}))}(t).then((function(t){!function(t){e.URL.revokeObjectURL(t.src)}(t);var n=hC(vC(t),bC(t));return mC(n).drawImage(t,0,0),n}))}function _C(t,e,n){var r=e.type;function i(e,n){return t.then((function(t){return function(t,e,n){return e=e||"image/png",t.toDataURL(e,n)}(t,e,n)}))}return{getType:o(r),toBlob:function(){return yC.resolve(e)},toDataURL:function(){return n},toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(e,n){return t.then((function(t){return xC(t,e,n)}))},toAdjustedDataURL:i,toAdjustedBase64:function(t,e){return i(t,e).then((function(t){return t.split(",")[1]}))},toCanvas:function(){return t.then(pC)}}}function SC(t){return function(t){return new yC((function(n){var r=new e.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(t)}))}(t).then((function(e){return _C(CC(t),t,e)}))}function kC(t,e){return xC(t,e).then((function(e){return _C(yC.resolve(t),e,t.toDataURL())}))}function OC(t,e,n){var r="string"==typeof t?parseFloat(t):t;return r>n?r=n:r<e&&(r=e),r}var TC=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function EC(t,e){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=e[a+5*i];for(a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=t[a+5*u]*r[u];o[a+5*i]=n}}return o}function AC(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=mC(t);var o=function(t,e){for(var n,r,o,i,a=t.data,u=e[0],c=e[1],s=e[2],l=e[3],f=e[4],d=e[5],h=e[6],p=e[7],m=e[8],g=e[9],v=e[10],b=e[11],y=e[12],w=e[13],x=e[14],C=e[15],_=e[16],S=e[17],k=e[18],O=e[19],T=0;T<a.length;T+=4)n=a[T],r=a[T+1],o=a[T+2],i=a[T+3],a[T]=n*u+r*c+o*s+i*l+f,a[T+1]=n*d+r*h+o*p+i*m+g,a[T+2]=n*v+r*b+o*y+i*w+x,a[T+3]=n*C+r*_+o*S+i*k+O;return t}(r.getImageData(0,0,t.width,t.height),n);return r.putImageData(o,0,0),kC(t,e)}(n,t.getType(),e)}))}function DC(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=mC(t);var o=r.getImageData(0,0,t.width,t.height),i=r.getImageData(0,0,t.width,t.height);return i=function(t,e,n){function r(t,e,n){return t>n?t=n:t<e&&(t=e),t}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=t.data,u=e.data,c=t.width,s=t.height,l=0;l<s;l++)for(var f=0;f<c;f++){for(var d=0,h=0,p=0,m=0;m<o;m++)for(var g=0;g<o;g++){var v=r(f+g-i,0,c-1),b=4*(r(l+m-i,0,s-1)*c+v),y=n[m*o+g];d+=a[b]*y,h+=a[b+1]*y,p+=a[b+2]*y}var w=4*(l*c+f);u[w]=r(d,0,255),u[w+1]=r(h,0,255),u[w+2]=r(p,0,255)}return e}(o,i,n),r.putImageData(i,0,0),kC(t,e)}(n,t.getType(),e)}))}function NC(t){return function(e,n){return AC(e,t([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n))}}var MC,RC,PC=function(t){return function(e){return AC(e,t)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),BC=NC((function(t,e){return EC(t,[1,0,0,0,e=OC(255*e,-255,255),0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])})),zC=NC((function(t,e){var n;return e=OC(e,-1,1),EC(t,[(n=(e*=100)<0?127+e/100*127:127*(n=0===(n=e%1)?TC[e]:TC[Math.floor(e)]*(1-n)+TC[Math.floor(e)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),IC=function(t,e,n,r){return AC(t,function(t,e,n,r){return EC(t,[e=OC(e,0,2),0,0,0,0,0,n=OC(n,0,2),0,0,0,0,0,r=OC(r,0,2),0,0,0,0,0,1,0,0,0,0,0,1])}([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e,n,r))},LC=(MC=[0,-1,0,-1,5,-1,0,-1,0],function(t){return DC(t,MC)}),FC=(RC=function(t,e){return 255*Math.pow(t/255,1-e)},function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){for(var r=mC(t),o=new Array(256),i=0;i<o.length;i++)o[i]=RC(i,n);var a=function(t,e){for(var n=t.data,r=0;r<n.length;r+=4)n[r]=e[n[r]],n[r+1]=e[n[r+1]],n[r+2]=e[n[r+2]];return t}(r.getImageData(0,0,t.width,t.height),o);return r.putImageData(a,0,0),kC(t,e)}(n,t.getType(),e)}))});function HC(t,e,n){var r=vC(t),o=bC(t),i=e/r,a=n/o,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var c=function(t,e,n){return new yC((function(r){var o=vC(t),i=bC(t),a=Math.floor(o*e),u=Math.floor(i*n),c=hC(a,u);mC(c).drawImage(t,0,0,o,i,0,0,a,u),r(c)}))}(t,i,a);return u?c.then((function(t){return HC(t,e,n)})):c}function jC(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=hC(t.width,t.height),o=mC(r),i=0,a=0;90!==(n=n<0?360+n:n)&&270!==n||gC(r,r.height,r.width);90!==n&&180!==n||(i=r.width);270!==n&&180!==n||(a=r.height);return o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(t,0,0),kC(r,e)}(n,t.getType(),e)}))}function VC(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=hC(t.width,t.height),o=mC(r);"v"===n?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0));return kC(r,e)}(n,t.getType(),e)}))}function $C(t,e,n,r,o){return t.toCanvas().then((function(i){return function(t,e,n,r,o,i){var a=hC(o,i);return mC(a).drawImage(t,-n,-r),kC(a,e)}(i,t.getType(),e,n,r,o)}))}var UC=function(t){return PC(t)},WC=function(t){return LC(t)},qC=function(t,e){return FC(t,e)},XC=function(t,e){return BC(t,e)},GC=function(t,e){return zC(t,e)},YC=function(t,e){return VC(t,e)},KC=function(t,e,n){return function(t,e,n){return t.toCanvas().then((function(r){return HC(r,e,n).then((function(e){return kC(e,t.getType())}))}))}(t,e,n)},JC=function(t,e){return jC(t,e)},ZC=function(t,e){return d({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},e)},QC=function(t,e){return ZC(tm(t,e),{})},t_=function(t,e){return ZC(tm(t,e),{behaviours:Bu([Rh.config({})])})},e_=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:Bu([Rh.config({})])}},n_=Io("toolbar.button.execute"),r_={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},o_=Io("update-menu-text"),i_=Io("update-menu-icon"),a_=function(t,e,r){var o=tn(n),i=t.text.map((function(t){return Zp(e_(t,e,r.providers))})),a=t.icon.map((function(t){return Zp(t_(t,r.providers.icons))})),u=function(t,e){var n=bl.getValue(t);return Fh.focus(n),Pr(n,"keydown",{raw:e.event().raw()}),$y.close(n),y.some(!0)},c=t.role.fold((function(){return{}}),(function(t){return{role:t}})),s=t.tooltip.fold((function(){return{}}),(function(t){var e=r.providers.translate(t);return{title:e,"aria-label":e}}));return Zp($y.sketch(d(d({},c),{dom:{tag:"button",classes:[e,e+"--select"].concat(L(t.classes,(function(t){return e+"--"+t}))),attributes:d({},s)},components:Rg([a.map((function(t){return t.asSpec()})),i.map((function(t){return t.asSpec()})),y.some({dom:{tag:"div",classes:[e+"__select-chevron"],innerHtml:tm("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Bu(p(t.dropdownBehaviours,[Sg(t.disabled),Wy.config({}),Rh.config({}),Ph("dropdown-events",[Eg(t,o),Ag(t,o)]),Ph("menubutton-update-display-text",[Vr(o_,(function(t,e){i.bind((function(e){return e.getOpt(t)})).each((function(t){Rh.set(t,[qi(r.providers.translate(e.event().text()))])}))})),Vr(i_,(function(t,e){a.bind((function(e){return e.getOpt(t)})).each((function(t){Rh.set(t,[t_(e.event().icon(),r.providers.icons)])}))}))])])),eventOrder:gt(r_,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Bu([Eh.config({mode:"special",onLeft:u,onRight:u})]),lazySink:r.getSink,toggleClass:e+"--active",parts:{menu:Vv(0,t.columns,t.presets)},fetch:function(){return uy(t.fetch)}}))).asSpec()},u_=function(t){return"separator"===t.type},c_={type:"separator"},s_=function(t,e){var n=V(t,(function(t,n){return function(t){return S(t)}(n)?""===n?t:"|"===n?t.length>0&&!u_(t[t.length-1])?t.concat([c_]):t:ft(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[]);return n.length>0&&u_(n[n.length-1])&&n.pop(),n},l_=function(t,e){return function(t){return ft(t,"getSubmenuItems")}(t)?function(t,e){var n=t.getSubmenuItems(),r=f_(n,e);return{item:t,menus:gt(r.menus,Ht(t.value,r.items)),expansions:gt(r.expansions,Ht(t.value,t.value))}}(t,e):{item:t,menus:{},expansions:{}}},f_=function(t,e){var n=s_(S(t)?t.split(" "):t,e);return j(n,(function(t,n){var r=function(t){if(u_(t))return t;var e=lt(t,"value").getOrThunk((function(){return Io("generated-menu-item")}));return gt({value:e},t)}(n),o=l_(r,e);return{menus:gt(t.menus,o.menus),items:[o.item].concat(t.items),expansions:gt(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},d_=function(t,e,n,r){var o=Io("primary-menu"),i=f_(t,n.shared.providers.menuItems());if(0===i.items.length)return y.none();var a=fb(o,i.items,e,n,r),u=it(i.menus,(function(t,r){return fb(r,t,e,n,!1)})),c=gt(u,Ht(o,a));return y.from(bp.tieredData(o,c,i.expansions))},h_=function(t){return{isDisabled:function(){return Cg.isDisabled(t)},setDisabled:function(e){return Cg.set(t,e)},setActive:function(e){var n=t.element();e?(mi(n,"tox-tbtn--enabled"),To(n,"aria-pressed",!0)):(vi(n,"tox-tbtn--enabled"),Do(n,"aria-pressed"))},isActive:function(){return bi(t.element(),"tox-tbtn--enabled")}}},p_=function(t,e,n,r){return a_({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(e){t.fetch((function(t){e(d_(t,Dg.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:t.onSetup,getApi:h_,columns:1,presets:"normal",classes:[],dropdownBehaviours:[xy.config({})]},e,n.shared)},m_=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive();r.setActive(o),t.storage.set(o),n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){Wu(e.element()),Pr(e,Fb,{name:t.name,value:t.storage.get()})}))}))}},o=function(t){return function(e){e.setActive(t.storage.get())}};return function(e){e(L(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return d(d({type:t.type,active:!1},e),{onAction:r(t),onSetup:o(t)})})))}},g_=function(t,e,n,r,o){void 0===n&&(n=[]);var i=e.fold((function(){return{}}),(function(t){return{action:t}})),a=d({buttonBehaviours:Bu([Sg(t.disabled),xy.config({}),Ph("button press",[jr("click"),jr("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i),u=gt(a,{dom:r});return gt(u,{components:o})},v_=function(t,e,n,r){void 0===r&&(r=[]);var o={tag:"button",classes:["tox-tbtn"],attributes:t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})},i=t.icon.map((function(t){return QC(t,n.icons)})),a=Rg([i]);return g_(t,e,r,o,a)},b_=function(t,e,n,r){void 0===r&&(r=[]);var o=v_(t,y.some(e),n,r);return Jp.sketch(o)},y_=function(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(t.text),a=t.icon?t.icon.map((function(t){return QC(t,n.icons)})):y.none(),u=a.isSome()?Rg([a]):[],c=a.isSome()?{}:{innerHtml:i},s=p(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],o),l=d(d({tag:"button",classes:s},c),{attributes:{title:i}});return g_(t,e,r,l,u)},w_=function(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=y_(t,y.some(e),n,r,o);return Jp.sketch(i)},x_=function(t,n){return function(r){"custom"===n?Pr(r,Fb,{name:t,value:{}}):"submit"===n?Rr(r,Hb):"cancel"===n?Rr(r,Lb):e.console.error("Unknown button type: ",n)}},C_=function(t,r,o){if(function(t,e){return"menu"===e}(0,r)){var i=t,a=d(d({},t),{onSetup:function(e){return e.setDisabled(t.disabled),n},fetch:m_(i.items,(function(){return u}),o)}),u=Zp(p_(a,"tox-tbtn",o,y.none()));return u.asSpec()}if(function(t,e){return"custom"===e||"cancel"===e||"submit"===e}(0,r)){var c=x_(t.name,r),s=d(d({},t),{borderless:!1});return w_(s,c,o.shared.providers,[])}e.console.error("Unknown footer button type: ",r)},__=function(t,e){var n,r,o=x_(t.name,"custom");return n=y.none(),r=Xb.parts().field(d({factory:Jp},y_(t,y.some(o),e,[nC(""),Ux()]))),Cy(n,r,[],[])},S_=o([We("field1Name","field1"),We("field2Name","field2"),Ja("onLockedChange"),Xa(["lockClass"]),We("locked",!1),Cl("coupledFieldBehaviours",[Af,bl])]),k_=function(t,e){return Xl({factory:Xb,name:t,overrides:function(t){return{fieldBehaviours:Bu([Ph("coupled-input-behaviour",[Vr(nr(),(function(n){(function(t,e,n){return cf(t,e,n).bind(Af.getCurrent)})(n,t,e).each((function(e){cf(n,t,"lock").each((function(r){Jh.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})},O_=o([k_("field1","field2"),k_("field2","field1"),Xl({factory:Jp,schema:[De("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Bu([Jh.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),T_=Sf({name:"FormCoupledInputs",configFields:S_(),partFields:O_(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:_l(t.coupledFieldBehaviours,[Af.config({find:y.some}),bl.config({store:{mode:"manual",getValue:function(e){var n,r=hf(e,t,["field1","field2"]);return(n={})[t.field1Name]=bl.getValue(r.field1()),n[t.field2Name]=bl.getValue(r.field2()),n},setValue:function(e,n){var r=hf(e,t,["field1","field2"]);dt(n,t.field1Name)&&bl.setValue(r.field1(),n[t.field1Name]),dt(n,t.field2Name)&&bl.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return cf(e,t,"field1")},getField2:function(e){return cf(e,t,"field2")},getLock:function(e){return cf(e,t,"lock")}}}},apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),E_=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(null!==e){var n=parseFloat(e[1]),r=e[2];return C.value({value:n,unit:r})}return C.error(t)},A_=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Object.prototype.hasOwnProperty.call(n,t)};return t.unit===e?y.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?y.some(t.value):y.some(t.value/n[t.unit]*n[e]):y.none()},D_=function(t){return y.none()},N_=function(t,e){var n,r,o,i=E_(t).toOption(),a=E_(e).toOption();return(n=i,r=a,o=function(t,e){return A_(t,e.unit).map((function(t){return e.value/t})).map((function(t){return function(t,e){return function(n){return A_(n,e).map((function(n){return{value:n*t,unit:e}}))}}(t,e.unit)})).getOr(D_)},n.isSome()&&r.isSome()?y.some(o(n.getOrDie(),r.getOrDie())):y.none()).getOr(D_)},M_=function(t,e){var n=D_,r=Io("ratio-event"),o=T_.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:tm("lock",e.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:tm("unlock",e.icons)}}],buttonBehaviours:Bu([Sg(t.disabled),xy.config({})])}),i=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},a=function(e){return Xb.parts().field({factory:Zb,inputClasses:["tox-textfield"],inputBehaviours:Bu([Cg.config({disabled:t.disabled}),xy.config({}),Ph("size-input-events",[Vr(Zn(),(function(t,n){Pr(t,r,{isField1:e})})),Vr(rr(),(function(e,n){Pr(e,zb,{name:t.name})}))])]),selectOnFocus:!1})},u=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}},c=T_.parts().field1(i([Xb.parts().label(u("Width")),a(!0)])),s=T_.parts().field2(i([Xb.parts().label(u("Height")),a(!1)]));return T_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,s,i([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){E_(bl.getValue(t)).each((function(t){n(t).each((function(t){bl.setValue(e,function(t){var e,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},r=t.value.toFixed((e=t.unit)in n?n[e]:1);return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit}(t))}))}))},coupledFieldBehaviours:Bu([Cg.config({disabled:t.disabled,onDisabled:function(t){T_.getField1(t).bind(Xb.getField).each(Cg.disable),T_.getField2(t).bind(Xb.getField).each(Cg.disable),T_.getLock(t).each(Cg.disable)},onEnabled:function(t){T_.getField1(t).bind(Xb.getField).each(Cg.enable),T_.getField2(t).bind(Xb.getField).each(Cg.enable),T_.getLock(t).each(Cg.enable)}}),Ph("size-input-events2",[Vr(r,(function(t,e){var r=e.event().isField1(),o=r?T_.getField1(t):T_.getField2(t),i=r?T_.getField2(t):T_.getField1(t),a=o.map(bl.getValue).getOr(""),u=i.map(bl.getValue).getOr("");n=N_(a,u)}))])])})},R_={undo:o(Io("undo")),redo:o(Io("redo")),zoom:o(Io("zoom")),back:o(Io("back")),apply:o(Io("apply")),swap:o(Io("swap")),transform:o(Io("transform")),tempTransform:o(Io("temp-transform")),transformApply:o(Io("transform-apply"))},P_=o("save-state"),B_=o("disable"),z_=o("enable"),I_={formActionEvent:Fb,saveState:P_,disable:B_,enable:z_},L_=function(t,e){var r=function(t,n,r,o){return Zp(w_({name:t,text:t,disabled:r,primary:o,icon:y.none(),borderless:!1},n,e))},i=function(t,n,r,o){return Zp(b_({name:t,icon:y.some(t),tooltip:y.some(n),disabled:o,primary:!1,borderless:!1},r,e))},a=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(Cg)&&Cg.disable(n)}))},u=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(Cg)&&Cg.enable(n)}))},c={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},s=n,l=function(t,e,n){Pr(t,e,n)},f=function(t){return Rr(t,I_.disable())},d=function(t){return Rr(t,I_.enable())},h=function(t,e){f(t),l(t,R_.transform(),{transform:e}),d(t)},p=function(t){return function(){et.getOpt(t).each((function(t){Rh.set(t,[Q])}))}},m=function(t,e){f(t),l(t,R_.transformApply(),{transform:e,swap:p(t)}),d(t)},g=function(){return r("Back",(function(t){return l(t,R_.back(),{swap:p(t)})}),!1,!1)},v=function(){return Zp({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Bu([Cg.config({})])})},b=function(){return r("Apply",(function(t){return l(t,R_.apply(),{swap:p(t)})}),!0,!0)},w=function(){return function(e){var n=t.getRect();return function(t,e,n,r,o){return $C(t,e,n,r,o)}(e,n.x,n.y,n.w,n.h)}},x=[g(),v(),r("Apply",(function(e){var n=w();m(e,n),t.hideCrop()}),!1,!0)],C=Pb.sketch({dom:c,components:x.map((function(t){return t.asSpec()})),containerBehaviours:Bu([Ph("image-tools-crop-buttons-events",[Vr(I_.disable(),(function(t,e){a(x,t)})),Vr(I_.enable(),(function(t,e){u(x,t)}))])])}),_=Zp(M_({name:"size",label:y.none(),constrain:!0,disabled:!1},e)),S=[g(),v(),_,v(),r("Apply",(function(t){_.getOpt(t).each((function(e){var n=bl.getValue(e),r=function(t,e){return function(n){return KC(n,t,e)}}(parseInt(n.width,10),parseInt(n.height,10));m(t,r)}))}),!1,!0)],k=Pb.sketch({dom:c,components:S.map((function(t){return t.asSpec()})),containerBehaviours:Bu([Ph("image-tools-resize-buttons-events",[Vr(I_.disable(),(function(t,e){a(S,t)})),Vr(I_.enable(),(function(t,e){u(S,t)}))])])}),O=function(t,e){return function(n){return t(n,e)}},T=O(YC,"h"),E=O(YC,"v"),A=O(JC,-90),D=O(JC,90),N=function(t,e){!function(t,e){f(t),l(t,R_.tempTransform(),{transform:e}),d(t)}(t,e)},M=[g(),v(),i("flip-horizontally","Flip horizontally",(function(t){N(t,T)}),!1),i("flip-vertically","Flip vertically",(function(t){N(t,E)}),!1),i("rotate-left","Rotate counterclockwise",(function(t){N(t,A)}),!1),i("rotate-right","Rotate clockwise",(function(t){N(t,D)}),!1),v(),b()],R=Pb.sketch({dom:c,components:M.map((function(t){return t.asSpec()})),containerBehaviours:Bu([Ph("image-tools-fliprotate-buttons-events",[Vr(I_.disable(),(function(t,e){a(M,t)})),Vr(I_.enable(),(function(t,e){u(M,t)}))])])}),P=function(t,n,r,i,a){var u=Mx.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}),c=Mx.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=Mx.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Zp(Mx.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:o({x:o(i)})},components:[u,c,s],sliderBehaviours:Bu([Fh.config({})]),onChoose:n}))},B=function(t,e,n,r,o){return P(t,(function(t,n,r){var o=O(e,r.x()/100);h(t,o)}),n,r,o)},z=function(t,e,n,r,o){var i=function(t,e,n,r,o){return[g(),B(t,e,n,r,o),b()]}(t,e,n,r,o);return Pb.sketch({dom:c,components:i.map((function(t){return t.asSpec()})),containerBehaviours:Bu([Ph("image-tools-filter-panel-buttons-events",[Vr(I_.disable(),(function(t,e){a(i,t)})),Vr(I_.enable(),(function(t,e){u(i,t)}))])])})},I=[g(),v(),b()],L=Pb.sketch({dom:c,components:I.map((function(t){return t.asSpec()}))}),F=z("Brightness",XC,-100,0,100),H=z("Contrast",GC,-100,0,100),j=z("Gamma",qC,-100,0,100),V=function(t,e,n){return function(r){return function(t,e,n,r){return IC(t,e,n,r)}(r,t,e,n)}},$=function(t){return P(t,(function(t,e,n){var r=U.getOpt(t),o=q.getOpt(t),i=W.getOpt(t);r.each((function(e){o.each((function(n){i.each((function(r){var o=bl.getValue(e).x()/100,i=bl.getValue(r).x()/100,a=bl.getValue(n).x()/100,u=V(o,i,a);h(t,u)}))}))}))}),0,100,200)},U=$("R"),W=$("G"),q=$("B"),X=[g(),U,W,q,b()],G=Pb.sketch({dom:c,components:X.map((function(t){return t.asSpec()}))}),Y=function(t,e,n){return function(r){l(r,R_.swap(),{transform:e,swap:function(){et.getOpt(r).each((function(e){Rh.set(e,[t]),n(e)}))}})}},K=y.some(WC),J=y.some(UC),Z=[i("crop","Crop",Y(C,y.none(),(function(e){t.showCrop()})),!1),i("resize","Resize",Y(k,y.none(),(function(e){_.getOpt(e).each((function(e){var n=t.getMeasurements(),r=n.width,o=n.height;bl.setValue(e,{width:r,height:o})}))})),!1),i("orientation","Orientation",Y(R,y.none(),s),!1),i("brightness","Brightness",Y(F,y.none(),s),!1),i("sharpen","Sharpen",Y(L,K,s),!1),i("contrast","Contrast",Y(H,y.none(),s),!1),i("color-levels","Color levels",Y(G,y.none(),s),!1),i("gamma","Gamma",Y(j,y.none(),s),!1),i("invert","Invert",Y(L,J,s),!1)],Q=Pb.sketch({dom:c,components:Z.map((function(t){return t.asSpec()}))}),tt=Pb.sketch({dom:{tag:"div"},components:[Q],containerBehaviours:Bu([Rh.config({})])}),et=Zp(tt);return{memContainer:et,getApplyButton:function(t){return et.getOpt(t).map((function(t){var e=t.components()[0];return e.components()[e.components().length-1]}))}}},F_=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),H_=tinymce.util.Tools.resolve("tinymce.geom.Rect"),j_=tinymce.util.Tools.resolve("tinymce.util.Observable"),V_=tinymce.util.Tools.resolve("tinymce.util.Tools"),$_=tinymce.util.Tools.resolve("tinymce.util.VK");function U_(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}function W_(t,n){var r,o,i,a,u,c,s,l=n.document||e.document;n=n||{};var f=l.getElementById(n.handle||t);i=function(t){var i,d,h=function(t){var e,n,r,o,i,a,u,c=Math.max;return e=t.documentElement,n=t.body,r=c(e.scrollWidth,n.scrollWidth),o=c(e.clientWidth,n.clientWidth),i=c(e.offsetWidth,n.offsetWidth),a=c(e.scrollHeight,n.scrollHeight),u=c(e.clientHeight,n.clientHeight),{width:r<i?o:r,height:a<c(e.offsetHeight,n.offsetHeight)?u:a}}(l);U_(t),t.preventDefault(),o=t.button,i=f,c=t.screenX,s=t.screenY,d=e.window.getComputedStyle?e.window.getComputedStyle(i,null).getPropertyValue("cursor"):i.runtimeStyle.cursor,r=F_("<div></div>").css({position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:d}).appendTo(l.body),F_(l).on("mousemove touchmove",u).on("mouseup touchend",a),n.start(t)},u=function(t){if(U_(t),t.button!==o)return a(t);t.deltaX=t.screenX-c,t.deltaY=t.screenY-s,t.preventDefault(),n.drag(t)},a=function(t){U_(t),F_(l).off("mousemove touchmove",u).off("mouseup touchend",a),r.remove(),n.stop&&n.stop(t)},this.destroy=function(){F_(f).off()},F_(f).on("mousedown touchstart",i)}var q_=0,X_=function(t,e,n,r,o){var i,a,u,c="tox-crid-"+q_++,s=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}];u=["top","right","bottom","left"];var l=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}};function f(e,r,o,a){var u,c,s,f,d;u=r.x,c=r.y,s=r.w,f=r.h,u+=o*e.deltaX,c+=a*e.deltaY,(s+=o*e.deltaW)<20&&(s=20),(f+=a*e.deltaH)<20&&(f=20),d=t=H_.clamp({x:u,y:c,w:s,h:f},n,"move"===e.name),d=l(n,d),i.fire("updateRect",{rect:d}),p(d)}function d(t){function n(t,e){e.h<0&&(e.h=0),e.w<0&&(e.w=0),F_("#"+c+"-"+t,r).css({left:e.x,top:e.y,width:e.w,height:e.h})}V_.each(s,(function(e){F_("#"+c+"-"+e.name,r).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})})),n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y}),n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h}),n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y}),n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h}),n("move",t)}function h(e){d(t=e)}function p(t){var e,r;h((e=n,{x:(r=t).x+e.x,y:r.y+e.y,w:r.w,h:r.h}))}return F_('<div id="'+c+'" class="tox-croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),V_.each(u,(function(t){F_("#"+c,r).append('<div id="'+c+"-"+t+'"class="tox-croprect-block" style="display: none" data-mce-bogus="all">')})),V_.each(s,(function(t){F_("#"+c,r).append('<div id="'+c+"-"+t.name+'" class="tox-croprect-handle tox-croprect-handle-'+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')})),a=V_.map(s,(function(e){var n;return new W_(c,{document:r.ownerDocument,handle:c+"-"+e.name,start:function(){n=t},drag:function(t){f(e,n,t.deltaX,t.deltaY)}})})),d(t),F_(r).on("focusin focusout",(function(t){F_(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")})),F_(r).on("keydown",(function(e){var n;function r(t,e,r,o,i){t.stopPropagation(),t.preventDefault(),f(n,r,o,i)}switch(V_.each(s,(function(t){if(e.target.id===c+"-"+t.name)return n=t,!1})),e.keyCode){case $_.LEFT:r(e,0,t,-10,0);break;case $_.RIGHT:r(e,0,t,10,0);break;case $_.UP:r(e,0,t,0,-10);break;case $_.DOWN:r(e,0,t,0,10);break;case $_.ENTER:case $_.SPACEBAR:e.preventDefault(),o()}})),i=V_.extend({toggleVisibility:function(t){var e;e=V_.map(s,(function(t){return"#"+c+"-"+t.name})).concat(V_.map(u,(function(t){return"#"+c+"-"+t}))).join(","),t?F_(e,r).show():F_(e,r).hide()},setClampRect:function(e){n=e,d(t)},setRect:h,getInnerRect:function(){return l(n,t)},setInnerRect:p,setViewPortRect:function(n){e=n,d(t)},destroy:function(){V_.each(a,(function(t){t.destroy()})),a=[]}},j_)},G_=function(t){var e=Zp({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=tn(1),r=tn(y.none()),o=tn({x:0,y:0,w:1,h:1}),i=tn({x:0,y:0,w:1,h:1}),a=function(t,i){s.getOpt(t).each((function(t){var a=n.get(),u=ua(t.element()),c=Qi(t.element()),s=i.dom().naturalWidth*a,l=i.dom().naturalHeight*a,f=Math.max(0,u/2-s/2),d=Math.max(0,c/2-l/2),h={left:f.toString()+"px",top:d.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"};Ei(i,h),e.getOpt(t).each((function(t){Ei(t.element(),h)})),r.get().each((function(t){var e=o.get();t.setRect({x:e.x*a+f,y:e.y*a+d,w:e.w*a,h:e.h*a}),t.setClampRect({x:f,y:d,w:s,h:l}),t.setViewPortRect({x:0,y:0,w:u,h:c})}))}))},u=function(t,e){var r,u=nn.fromTag("img");return To(u,"src",e),(r=u.dom(),new vm((function(t){var e=function(){r.removeEventListener("load",e),t(r)};r.complete?t(r):r.addEventListener("load",e)}))).then((function(){return s.getOpt(t).map((function(t){var e=Xi({element:u});Rh.replaceAt(t,1,y.some(e));var r=i.get(),c={x:0,y:0,w:u.dom().naturalWidth,h:u.dom().naturalHeight};i.set(c);var l=H_.inflate(c,-20,-20);return o.set(l),r.w===c.w&&r.h===c.h||function(t,e){s.getOpt(t).each((function(t){var r=ua(t.element()),o=Qi(t.element()),i=e.dom().naturalWidth,a=e.dom().naturalHeight,u=Math.min(r/i,o/a);u>=1?n.set(1):n.set(u)}))}(t,u),a(t,u),u}))}))},c=Pb.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Bu([Ph("image-panel-crop-events",[Kr((function(t){s.getOpt(t).each((function(t){var e=t.element().dom(),i=X_({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,(function(){}));i.toggleVisibility(!1),i.on("updateRect",(function(t){var e=t.rect,r=n.get(),i={x:Math.round(e.x/r),y:Math.round(e.y/r),w:Math.round(e.w/r),h:Math.round(e.h/r)};o.set(i)})),r.set(y.some(i))}))}))])])}],containerBehaviours:Bu([Rh.config({}),Ph("image-panel-events",[Kr((function(e){u(e,t)}))])])}),s=Zp(c);return{memContainer:s,updateSrc:u,zoom:function(t,e){var r=n.get(),o=e>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),s.getOpt(t).each((function(t){var e=t.components()[1].element();a(t,e)}))},showCrop:function(){r.get().each((function(t){t.toggleVisibility(!0)}))},hideCrop:function(){r.get().each((function(t){t.toggleVisibility(!1)}))},getRect:function(){return o.get()},getMeasurements:function(){var t=i.get();return{width:t.w,height:t.h}}}},Y_=function(t,e,n,r,o){return b_({name:t,icon:y.some(e),disabled:n,tooltip:y.some(t),primary:!1,borderless:!1},r,o)},K_=function(t,e){e?Cg.enable(t):Cg.disable(t)};var J_,Z_,Q_,tS=function(t){var n=tn(t),r=tn(y.none()),o=function(){var t=[],e=-1;function n(){return e>0}function r(){return-1!==e&&e<t.length-1}return{data:t,add:function(n){var r;return r=t.splice(++e),t.push(n),{state:n,removed:r}},undo:function(){if(n())return t[--e]},redo:function(){if(r())return t[++e]},canUndo:n,canRedo:r}}();o.add(t);var i=function(t){n.set(t)},a=function(t){return{blob:t,url:e.URL.createObjectURL(t)}},u=function(t){e.URL.revokeObjectURL(t.url)},c=function(){r.get().each(u),r.set(y.none())},s=function(t){var e=a(t);i(e);var n,r=o.add(e).removed;return n=r,V_.each(n,u),e.url};return{getBlobState:function(){return n.get()},setBlobState:i,addBlobState:s,getTempState:function(){return r.get().fold((function(){return n.get()}),(function(t){return t}))},updateTempState:function(t){var e=a(t);return c(),r.set(y.some(e)),e.url},addTempState:function(t){var e=a(t);return r.set(y.some(e)),e.url},applyTempState:function(t){return r.get().fold((function(){}),(function(e){s(e.blob),t()}))},destroyTempState:c,undo:function(){var t=o.undo();return i(t),t.url},redo:function(){var t=o.redo();return i(t),t.url},getHistoryStates:function(){return{undoEnabled:o.canUndo(),redoEnabled:o.canRedo()}}}},eS=function(t,r){var o=tS(t.currentState),i=function(t){var e=o.getHistoryStates();p.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled),Pr(t,I_.formActionEvent,{name:I_.saveState(),value:e.undoEnabled})},a=function(t){return t.toBlob()},u=function(t){Pr(t,I_.formActionEvent,{name:I_.disable(),value:{}})},c=function(t){m.getApplyButton(t).each((function(t){Cg.enable(t)})),Pr(t,I_.formActionEvent,{name:I_.enable(),value:{}})},s=function(t,e){return u(t),h.updateSrc(t,e)},l=function(t,n,r,o,l){return u(t),function(t){return SC(t)}(n).then(r).then(a).then(o).then((function(e){return s(t,e).then((function(e){return i(t),l(),c(t),e}))})).catch((function(n){return e.console.log(n),c(t),n}))},f=function(t,e,n){var r=o.getBlobState().blob;l(t,r,e,(function(t){return o.updateTempState(t)}),n)},d=function(t){var e=o.getBlobState().url;return o.destroyTempState(),i(t),e},h=G_(t.currentState.url),p=function(t){var e=Zp(Y_("Undo","undo",!0,(function(t){Pr(t,R_.undo(),{direction:1})}),t)),n=Zp(Y_("Redo","redo",!0,(function(t){Pr(t,R_.redo(),{direction:1})}),t));return{container:Pb.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[e.asSpec(),n.asSpec(),Y_("Zoom in","zoom-in",!1,(function(t){Pr(t,R_.zoom(),{direction:1})}),t),Y_("Zoom out","zoom-out",!1,(function(t){Pr(t,R_.zoom(),{direction:-1})}),t)]}),updateButtonUndoStates:function(t,r,o){e.getOpt(t).each((function(t){K_(t,r)})),n.getOpt(t).each((function(t){K_(t,o)}))}}}(r),m=L_(h,r);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[m.memContainer.asSpec(),h.memContainer.asSpec(),p.container],behaviours:Bu([bl.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Ph("image-tools-events",[Vr(R_.undo(),(function(t,e){var n=o.undo();s(t,n).then((function(e){c(t),i(t)}))})),Vr(R_.redo(),(function(t,e){var n=o.redo();s(t,n).then((function(e){c(t),i(t)}))})),Vr(R_.zoom(),(function(t,e){var n=e.event().direction();h.zoom(t,n)})),Vr(R_.back(),(function(t,e){!function(t){var e=d(t);s(t,e).then((function(e){c(t)}))}(t),e.event().swap()(),h.hideCrop()})),Vr(R_.apply(),(function(t,e){o.applyTempState((function(){d(t),e.event().swap()()}))})),Vr(R_.transform(),(function(t,e){return f(t,e.event().transform(),n)})),Vr(R_.tempTransform(),(function(t,e){return function(t,e){var r=o.getTempState().blob;l(t,r,e,(function(t){return o.addTempState(t)}),n)}(t,e.event().transform())})),Vr(R_.transformApply(),(function(t,e){return function(t,e,n){var r=o.getBlobState().blob;l(t,r,e,(function(e){var n=o.addBlobState(e);return d(t),n}),n)}(t,e.event().transform(),e.event().swap())})),Vr(R_.swap(),(function(t,e){!function(t){p.updateButtonUndoStates(t,!1,!1)}(t);var n=e.event().transform(),r=e.event().swap();n.fold((function(){r()}),(function(e){f(t,e,r)}))}))]),Ux()])}},nS=_f({name:"HtmlSelect",configFields:[De("options"),yl("selectBehaviours",[Fh,bl]),We("selectClasses",[]),We("selectAttributes",{}),Fe("data")],factory:function(t,e){var n=L(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),r=t.data.map((function(t){return Ht("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:xl(t.selectBehaviours,[Fh.config({}),bl.config({store:d({mode:"manual",getValue:function(t){return Ii(t.element())},setValue:function(e,n){$(t.options,(function(t){return t.value===n})).isSome()&&Li(e.element(),n)}},r)})])}}}),rS=function(t,e){var n=t.label.map((function(t){return ky(t,e)})),r=[Cg.config({disabled:t.disabled}),Eh.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return Rr(t,Hb),y.some(!0)}}),Ph("textfield-change",[Vr(nr(),(function(e,n){Pr(e,zb,{name:t.name})})),Vr(lr(),(function(e,n){Pr(e,zb,{name:t.name})}))]),xy.config({})],i=t.validation.map((function(t){return by.config({getRoot:function(t){return uo(t.element())},invalidClass:"tox-invalid",validator:{validate:function(e){var n=bl.getValue(e),r=t.validator(n);return cy(!0===r?C.value(n):C.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray(),a=t.placeholder.fold(o({}),(function(t){return{placeholder:e.translate(t)}})),u=t.inputMode.fold(o({}),(function(t){return{inputmode:t}})),c=d(d({},a),u),s=Xb.parts().field({tag:!0===t.multiline?"textarea":"input",inputAttributes:c,inputClasses:[t.classname],inputBehaviours:Bu(W([r,i])),selectOnFocus:!1,factory:Zb}),l=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),f=[Cg.config({disabled:t.disabled,onDisabled:function(t){Xb.getField(t).each(Cg.disable)},onEnabled:function(t){Xb.getField(t).each(Cg.enable)}})];return Cy(n,s,l,f)},oS=Object.freeze({__proto__:null,events:function(t,e){var n=t.stream.streams.setup(t,e);return Fr([Vr(t.event,n),Jr((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[Vr(t,(function(){return e.cancel()}))]})).getOr([])))}}),iS=function(t){var e=tn(null);return ti({readState:function(){return{timer:null!==e.get()?"set":"unset"}},setTimer:function(t){e.set(t)},cancel:function(){var t=e.get();null!==t&&t.cancel()}})},aS=Object.freeze({__proto__:null,throttle:iS,init:function(t){return t.stream.streams.state(t)}}),uS=[Ne("stream",we("mode",{throttle:[De("delay"),We("stopEvent",!0),Qa("streams",{setup:function(t,e){var n=t.stream,r=am(t.onStream,n.delay);return e.setTimer(r),function(t,e){r.throttle(t,e),n.stopEvent&&e.stop()}},state:iS})]})),We("event","input"),Fe("cancelEvent"),Ja("onStream")],cS=Iu({fields:uS,name:"streaming",active:oS,state:aS}),sS=function(t,e,n){var r=bl.getValue(n);bl.setValue(e,r),fS(e)},lS=function(t,e){var n=t.element(),r=Ii(n),o=n.dom();"number"!==Eo(n,"type")&&e(o,r)},fS=function(t){lS(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))},dS=function(t,e,n){if(t.selectsOver){var r=bl.getValue(e),o=t.getDisplayText(r),i=bl.getValue(n);return 0===t.getDisplayText(i).indexOf(o)?y.some((function(){sS(0,e,n),function(t,e){lS(t,(function(t,n){return t.setSelectionRange(e,n.length)}))}(e,o.length)})):y.none()}return y.none()},hS=o("alloy.typeahead.itemexecute"),pS=o([Fe("lazySink"),De("fetch"),We("minChars",5),We("responseTime",1e3),Ya("onOpen"),We("getHotspot",y.some),We("getAnchorOverrides",o({})),We("layouts",y.none()),We("eventOrder",{}),Ze("model",{},[We("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),We("selectsOver",!0),We("populateFromBrowse",!0)]),Ya("onSetValue"),Ka("onExecute"),Ya("onItemExecute"),We("inputClasses",[]),We("inputAttributes",{}),We("inputStyles",{}),We("matchWidth",!0),We("useMinWidth",!1),We("dismissOnBlur",!0),Xa(["openClass"]),Fe("initialData"),yl("typeaheadBehaviours",[Fh,bl,cS,Eh,Jh,Ey]),Qe("previewing",(function(){return tn(!0)}))].concat(Gb()).concat(Hy())),mS=o([Gl({schema:[qa()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each((function(r){dS(t.model,r,n).fold((function(){return Hf.dehighlight(e,n)}),(function(t){return t()}))})):e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&sS(t.model,e,n)})),t.previewing.set(!1)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOption().map((function(t){return Pr(t,hS(),{item:n}),!0}))},onHover:function(e,n){t.previewing.set(!1),e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&sS(t.model,e,n)}))}}}})]),gS=Sf({name:"Typeahead",configFields:pS(),partFields:mS(),factory:function(t,e,r,o){var i=function(e,r,i){t.previewing.set(!1);var a=Ey.getCoupled(e,"sandbox");if(Zs.isOpen(a))Af.getCurrent(a).each((function(t){Hf.getHighlighted(t).fold((function(){i(t)}),(function(){Lr(a,t.element(),"keydown",r)}))}));else{My(t,u(e),e,a,o,(function(t){Af.getCurrent(t).each(i)}),ey.HighlightFirst).get(n)}},a=Yb(t),u=function(t){return function(e){return e.map((function(e){var n=st(e.menus),r=q(n,(function(t){return H(t.items,(function(t){return"item"===t.type}))}));return bl.getState(t).update(L(r,(function(t){return t.data}))),e}))}},c=[Fh.config({}),bl.config({onSetValue:t.onSetValue,store:d({mode:"dataset",getDataKey:function(t){return Ii(t.element())},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){Li(e.element(),t.model.getDisplayText(n))}},t.initialData.map((function(t){return Ht("initialValue",t)})).getOr({}))}),cS.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(e,r){var i=Ey.getCoupled(e,"sandbox");if(Fh.isFocused(e)&&Ii(e.element()).length>=t.minChars){var a=Af.getCurrent(i).bind((function(t){return Hf.getHighlighted(t).map(bl.getValue)}));t.previewing.set(!0);My(t,u(e),e,i,o,(function(e){Af.getCurrent(i).each((function(e){a.fold((function(){t.model.selectsOver&&Hf.highlightFirst(e)}),(function(t){Hf.highlightBy(e,(function(e){return bl.getValue(e).value===t.value})),Hf.getHighlighted(e).orThunk((function(){return Hf.highlightFirst(e),y.none()}))}))}))}),ey.HighlightFirst).get(n)}},cancelEvent:vr()}),Eh.config({mode:"special",onDown:function(t,e){return i(t,e,Hf.highlightFirst),y.some(!0)},onEscape:function(t){var e=Ey.getCoupled(t,"sandbox");return Zs.isOpen(e)?(Zs.close(e),y.some(!0)):y.none()},onUp:function(t,e){return i(t,e,Hf.highlightLast),y.some(!0)},onEnter:function(e){var n=Ey.getCoupled(e,"sandbox"),r=Zs.isOpen(n);if(r&&!t.previewing.get())return Af.getCurrent(n).bind((function(t){return Hf.getHighlighted(t)})).map((function(t){return Pr(e,hS(),{item:t}),!0}));var o=bl.getValue(e);return Rr(e,vr()),t.onExecute(n,e,o),r&&Zs.close(n),y.some(!0)}}),Jh.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ey.config({others:{sandbox:function(e){return Ly(t,e,{onOpen:function(){return Jh.on(e)},onClose:function(){return Jh.off(e)}})}}}),Ph("typeaheadevents",[Qr((function(e){var r=n;Py(t,u(e),e,o,r,ey.HighlightFirst).get(n)})),Vr(hS(),(function(e,n){var r=Ey.getCoupled(e,"sandbox");sS(t.model,e,n.event().item()),Rr(e,vr()),t.onItemExecute(e,r,n.event().item(),bl.getValue(e)),Zs.close(r),fS(e)}))].concat(t.dismissOnBlur?[Vr(sr(),(function(t){var e=Ey.getCoupled(t,"sandbox");Xu(e.element()).isNone()&&Zs.close(e)}))]:[]))];return{uid:t.uid,dom:Jb(gt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:d(d({},a),xl(t.typeaheadBehaviours,c)),eventOrder:t.eventOrder}}}),vS=function(t){return d(d({},t),{toCached:function(){return vS(t.toCached())},bindFuture:function(e){return vS(t.bind((function(t){return t.fold((function(t){return cy(C.error(t))}),(function(t){return e(t)}))})))},bindResult:function(e){return vS(t.map((function(t){return t.bind(e)})))},mapResult:function(e){return vS(t.map((function(t){return t.map(e)})))},mapError:function(e){return vS(t.map((function(t){return t.mapError(e)})))},foldResult:function(e,n){return t.map((function(t){return t.fold(e,n)}))},withTimeout:function(n,r){return vS(uy((function(o){var i=!1,a=e.setTimeout((function(){i=!0,o(C.error(r()))}),n);t.get((function(t){i||(e.clearTimeout(a),o(t))}))})))}})},bS=function(t){return vS(uy(t))},yS=bS,wS={type:"separator"},xS=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:function(){}}},CS=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:function(){}}},_S=function(t,e){return function(t){return L(t,xS)}(function(t,e){return H(e,(function(e){return e.type===t}))}(t,e))},SS=function(t){return _S("header",t.targets)},kS=function(t){return _S("anchor",t.targets)},OS=function(t){return y.from(t.anchorTop).map((function(t){return CS("<top>",t)})).toArray()},TS=function(t){return y.from(t.anchorBottom).map((function(t){return CS("<bottom>",t)})).toArray()},ES=function(t,e){var n=t.toLowerCase();return H(e,(function(t){var e=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text;return bn(e.toLowerCase(),n)||bn(t.value.toLowerCase(),n)}))},AS=function(t,e,n){var r=bl.getValue(e),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold((function(){return[]}),(function(e){var r,i=ES(o,function(t){return L(t,(function(t){return CS(t,t)}))}(n.getHistory(t)));return"file"===t?(r=[i,ES(o,SS(e)),ES(o,W([OS(e),kS(e),TS(e)]))],V(r,(function(t,e){return 0===t.length||0===e.length?t.concat(e):t.concat(wS,e)}),[])):i}))},DS=Io("aria-invalid"),NS=function(t,e){var n,r,o=t.label.map((function(t){return ky(t,e)})),a=function(t){return function(e,n){Ma(n.event().target(),"[data-collection-item-value]").each((function(r){t(e,n,r,Eo(r,"data-collection-item-value"))}))}},u=a((function(e,n,r,o){n.stop(),Pr(e,Fb,{name:t.name,value:o})})),c=[Vr(Jn(),a((function(t,e,n){Wu(n)}))),Vr(or(),u),Vr(pr(),u),Vr(Zn(),a((function(t,e,n){Na(t.element(),"."+Km).each((function(t){vi(t,Km)})),mi(n,Km)}))),Vr(Qn(),a((function(t){Na(t.element(),"."+Km).each((function(t){vi(t,Km)}))}))),Qr(a((function(e,n,r,o){Pr(e,Fb,{name:t.name,value:o})})))],s=Xb.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:i},behaviours:Bu([Rh.config({}),bl.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,n){!function(e,n){var r=L(n,(function(e){var n,r=Wm.translate(e.text),o=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+e.icon+"</div>",a={_:" "," - ":" ","-":" "},u=r.replace(/\_| \- |\-/g,(function(t){return a[t]}));return'<div class="tox-collection__item" tabindex="-1" data-collection-item-value="'+('"'===(n=e.value)?"&quot;":n)+'" title="'+u+'" aria-label="'+u+'">'+i+o+"</div>"})),o=t.columns>1&&"auto"!==t.columns?I(r,t.columns):[r],i=L(o,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}));xo(e.element(),i.join(""))}(e,n),"auto"===t.columns&&Pm(e,5,"tox-collection__item").each((function(t){var n=t.numRows,r=t.numColumns;Eh.setGridSize(e,n,r)})),Rr(e,Ub)}}),xy.config({}),Eh.config((n=t.columns,r="normal",1===n?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===n?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===r?".tox-swatches__row":".tox-collection__group",cell:"color"===r?".tox-swatch":"."+Xm}})),Ph("collection-events",c)])});return Cy(o,s,["tox-form__group--collection"],[])},MS=function(t){return function(e,n,r){return lt(n,"name").fold((function(){return t(n,r)}),(function(o){return e.field(o,t(n,r))}))}},RS={bar:MS((function(t,e){return function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:L(t.items,e.interpreter)}}(t,e.shared)})),collection:MS((function(t,e){return NS(t,e.shared.providers)})),alertbanner:MS((function(t,e){return function(t,e){return Pb.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Jp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:tm(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){Pr(e,Fb,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})}(t,e.shared.providers)})),input:MS((function(t,e){return function(t,e){return rS({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:y.none(),maximized:t.maximized},e)}(t,e.shared.providers)})),textarea:MS((function(t,e){return function(t,e){return rS({name:t.name,multiline:!0,label:t.label,inputMode:y.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:y.none(),maximized:t.maximized},e)}(t,e.shared.providers)})),label:MS((function(t,e){return function(t,e){var n={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}},r=L(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Bu([Ux(),Rh.config({}),eC(y.none()),Eh.config({mode:"acyclic"})])}}(t,e.shared)})),iframe:function(t){return function(e,n,r){var o=gt(n,{source:"dynamic"});return MS(t)(e,o,r)}}((function(t,e){return dC(t,e.shared.providers)})),button:MS((function(t,e){return __(t,e.shared.providers)})),checkbox:MS((function(t,e){return function(t,e){var n=bl.config({store:{mode:"manual",getValue:function(t){return t.element().dom().checked},setValue:function(t,e){t.element().dom().checked=e}}}),r=function(t){return t.element().dom().click(),y.some(!0)},o=Xb.parts().field({factory:{sketch:i},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Bu([Ux(),Cg.config({disabled:t.disabled}),xy.config({}),Fh.config({}),n,Eh.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Ph("checkbox-events",[Vr(rr(),(function(e,n){Pr(e,zb,{name:t.name})}))])])}),a=Xb.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:Bu([Wy.config({})])}),u=function(t){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:tm("checked"===t?"selected":"unselected",e.icons)}}},c=Zp({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]});return Xb.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,c.asSpec(),a],fieldBehaviours:Bu([Cg.config({disabled:t.disabled,disableClass:"tox-checkbox--disabled",onDisabled:function(t){Xb.getField(t).each(Cg.disable)},onEnabled:function(t){Xb.getField(t).each(Cg.enable)}})])})}(t,e.shared.providers)})),colorinput:MS((function(t,e){return Yy(t,e.shared,e.colorinput)})),colorpicker:MS((function(t){var n=function(t){return"tox-"+t},r=$x(Gx,n),o=Zp(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(t){Pr(t,Fb,{name:"hex-valid",value:!0})},onInvalidHex:function(t){Pr(t,Fb,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[o.asSpec()],behaviours:Bu([bl.config({store:{mode:"manual",getValue:function(t){var e=o.get(t);return Af.getCurrent(e).bind((function(t){return bl.getValue(t).hex})).map((function(t){return"#"+t})).getOr("")},setValue:function(t,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(n),i=o.get(t);Af.getCurrent(i).fold((function(){e.console.log("Can not find form")}),(function(t){bl.setValue(t,{hex:y.from(r[1]).getOr("")}),Ix.getField(t,"hex").each((function(t){Rr(t,nr())}))}))}}}),Ux()])}})),dropzone:MS((function(t,e){return rC(t,e.shared.providers)})),grid:MS((function(t,e){return function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:L(t.items,e.interpreter)}}(t,e.shared)})),selectbox:MS((function(t,e){return function(t,e){var n=L(t.items,(function(t){return{text:e.translate(t.text),value:t.value}})),r=t.label.map((function(t){return ky(t,e)})),o=Xb.parts().field({dom:{},selectAttributes:{size:t.size},options:n,factory:nS,selectBehaviours:Bu([Cg.config({disabled:t.disabled}),xy.config({}),Ph("selectbox-change",[Vr(rr(),(function(e,n){Pr(e,zb,{name:t.name})}))])])}),i=t.size>1?y.none():y.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:tm("chevron-down",e.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:W([[o],i.toArray()])};return Xb.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:W([r.toArray(),[a]]),fieldBehaviours:Bu([Cg.config({disabled:t.disabled,onDisabled:function(t){Xb.getField(t).each(Cg.disable)},onEnabled:function(t){Xb.getField(t).each(Cg.enable)}})])})}(t,e.shared.providers)})),sizeinput:MS((function(t,e){return M_(t,e.shared.providers)})),urlinput:MS((function(t,e){return function(t,e,r){var o,i=e.shared.providers,a=function(e){var n=bl.getValue(e);r.addToHistory(n.value,t.filetype)},u=Xb.parts().field({factory:gS,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":DS,type:"url"},minChars:0,responseTime:0,fetch:function(n){var o=AS(t.filetype,n,r),i=d_(o,Dg.BUBBLE_TO_SANDBOX,e,!1);return cy(i)},getHotspot:function(t){return p.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(by)&&by.run(t).get(n)},typeaheadBehaviours:Bu(W([r.getValidationHandler().map((function(e){return by.config({getRoot:function(t){return uo(t.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){s.getOpt(t).each((function(t){To(t.element(),"title",i.translate(e))}))}},validator:{validate:function(n){var r=bl.getValue(n);return yS((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=C.error(t.message);n(e)}else{var r=C.value(t.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray(),[Cg.config({disabled:t.disabled}),xy.config({}),Ph("urlinput-events",W(["file"===t.filetype?[Vr(nr(),(function(e){Pr(e,zb,{name:t.name})}))]:[],[Vr(rr(),(function(e){Pr(e,zb,{name:t.name}),a(e)})),Vr(lr(),(function(e){Pr(e,zb,{name:t.name}),a(e)}))]]))]])),eventOrder:(o={},o[nr()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:Vv(0,0,"normal")},onExecute:function(t,e,n){Pr(e,Hb,{})},onItemExecute:function(e,n,r,o){a(e),Pr(e,zb,{name:t.name})}}),c=t.label.map((function(t){return ky(t,i)})),s=Zp(function(t,e,n,r){return void 0===n&&(n=t),void 0===r&&(r=t),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],innerHtml:tm(n,i.icons),attributes:d({title:i.translate(r),"aria-live":"polite"},e.fold((function(){return{}}),(function(t){return{id:t}})))}}}("invalid",y.some(DS),"warning")),l=Zp({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]}),f=r.getUrlPicker(t.filetype),h=Io("browser.url.event"),p=Zp({dom:{tag:"div",classes:["tox-control-wrap"]},components:[u,l.asSpec()],behaviours:Bu([Cg.config({disabled:t.disabled})])}),m=Zp(w_({name:t.name,icon:y.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},(function(t){return Rr(t,h)}),i,[],["tox-browse-url"]));return Xb.sketch({dom:Sy([]),components:c.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:W([[p.asSpec()],f.map((function(){return m.asSpec()})).toArray()])}]),fieldBehaviours:Bu([Cg.config({disabled:t.disabled,onDisabled:function(t){Xb.getField(t).each(Cg.disable),m.getOpt(t).each(Cg.disable)},onEnabled:function(t){Xb.getField(t).each(Cg.enable),m.getOpt(t).each(Cg.enable)}}),Ph("url-input-events",[Vr(h,(function(e){Af.getCurrent(e).each((function(n){var r=bl.getValue(n),o=d({fieldname:t.name},r);f.each((function(r){r(o).get((function(r){bl.setValue(n,r),Pr(e,zb,{name:t.name})}))}))}))}))])])})}(t,e,e.urlinput)})),customeditor:MS((function(t){var e=tn(y.none()),n=Zp({dom:{tag:t.tag}}),r=tn(y.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Bu([Ph("editor-foo-events",[Kr((function(o){n.getOpt(o).each((function(n){(!function(t){return Object.prototype.hasOwnProperty.call(t,"init")}(t)?Yx.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element().dom(),t.settings)})):t.init(n.element().dom())).then((function(t){r.get().each((function(e){t.setValue(e)})),r.set(y.none()),e.set(y.some(t))}))}))}))]),bl.config({store:{mode:"manual",getValue:function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,n){e.get().fold((function(){r.set(y.some(n))}),(function(t){return t.setValue(n)}))}}}),Ux()]),components:[n.asSpec()]}})),htmlpanel:MS((function(t){return"presentation"===t.presets?Pb.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Pb.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Bu([xy.config({}),Fh.config({})])})})),imagetools:MS((function(t,e){return eS(t,e.shared.providers)})),table:MS((function(t,e){return function(t,e){var n,r,o=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}},i=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}},a=function(t){return{dom:{tag:"tr"},components:L(t,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=t.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:L(r,o)}]}),(n=t.cells,{dom:{tag:"tbody"},components:L(n,a)})],behaviours:Bu([xy.config({}),Fh.config({})])}}(t,e.shared.providers)})),panel:MS((function(t,e){return function(t,e){return{dom:{tag:"div",classes:t.classes},components:L(t.items,e.shared.interpreter)}}(t,e)}))},PS={field:function(t,e){return e}},BS=function(t,e,n){var r=gt(n,{shared:{interpreter:function(e){return zS(t,e,r)}}});return zS(t,e,r)},zS=function(t,n,r){return lt(RS,n.type).fold((function(){return e.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n}),(function(e){return e(t,n,r)}))},IS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},LS=function(t,e,n){return n?function(){return{anchor:"node",root:t(),node:y.from(t()),bubble:wc(-12,-12,IS),layouts:{onRtl:function(){return[Tp]},onLtr:function(){return[Ep]}},overrides:{maxHeightFunction:mc()}}}:function(){return{anchor:"hotspot",hotspot:e(),bubble:wc(-12,12,IS),layouts:{onRtl:function(){return[bu]},onLtr:function(){return[yu]}},overrides:{maxHeightFunction:mc()}}}},FS=function(t,e,n){return n?function(){return{anchor:"node",root:t(),node:y.from(t()),layouts:{onRtl:function(){return[Ap]},onLtr:function(){return[Ap]}}}}:function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[_u]},onLtr:function(){return[_u]}}}}},HS=function(t,e){return function(){return{anchor:"selection",root:e(),getSelection:function(){var e=t.selection.getRng();return y.some(Pc.range(nn.fromDom(e.startContainer),e.startOffset,nn.fromDom(e.endContainer),e.endOffset))}}}},jS=function(t){return function(e){return{anchor:"node",root:t(),node:e}}},VS=function(t,e){var n=function(){return nn.fromDom(t.getBody())},r=Gp(t)||!qp(t);return{inlineDialog:LS(n,e,r),banner:FS(n,e,r),cursor:HS(t,n),node:jS(n)}},$S=function(t){return function(e,n){zv.colorPickerDialog(t)(e,n)}},US=function(t){return function(){return gv(t)}},WS=function(t){return function(){return vv(t)}},qS=function(t){return function(){return zv.getColorCols(t)}},XS=function(t){return{colorPicker:$S(t),hasCustomColors:US(t),getColors:WS(t),getColorCols:qS(t)}},GS=function(t){return function(){return function(t){return t.getParam("draggable_modal",!1,"boolean")}(t)}},YS=function(t){return{isDraggableModal:GS(t)}},KS=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strike-through",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}]}],JS=function(t){return V(t,(function(t,e){if(ft(e,"items")){var n=JS(e.items);return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(function(t){return ft(t,"inline")}(e)||function(t){return ft(t,"block")}(e)||function(t){return ft(t,"selector")}(e)){var r="custom-"+e.title.toLowerCase();return{customFormats:t.customFormats.concat([{name:r,format:e}]),formats:t.formats.concat([{title:e.title,format:r,icon:e.icon}])}}return d(d({},t),{formats:t.formats.concat(e)})}),{customFormats:[],formats:[]})},ZS=function(t){return function(t){return y.from(t.getParam("style_formats")).filter(O)}(t).map((function(e){var n=function(t,e){var n=JS(e),r=function(e){F(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))};return t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)})),n.formats}(t,e);return function(t){return t.getParam("style_formats_merge",!1,"boolean")}(t)?KS.concat(n):n})).getOr(KS)},QS=function(t,e,n){var r={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)};return gt(t,r)},tk=function(t,e,n,r){var o=function(e){return L(e,(function(e){var i=nt(e);if(dt(e,"items")){var a=o(e.items);return gt(function(t){return gt(t,{type:"submenu"})}(e),{getStyleItems:function(){return a}})}return dt(e,"format")?function(t){return QS(t,n,r)}(e):1===i.length&&B(i,"title")?gt(e,{type:"separator"}):function(e){var o=Io(e.title),i={type:"formatter",format:o,isSelected:n(o),getStylePreview:r(o)},a=gt(e,i);return t.formatter.register(o,a),a}(e)}))};return o(e)},ek=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):y.none()}},r=function(t){var e=t.items;return void 0!==e&&e.length>0?q(e,r):[t.format]},o=tn([]),i=tn([]),a=tn([]),u=tn([]),c=tn(!1);t.on("PreInit",(function(a){var u=ZS(t),c=tk(t,u,e,n);o.set(c),i.set(q(c,r))})),t.on("addStyleModifications",(function(o){var i=tk(t,o.items,e,n);a.set(i),c.set(o.replace),u.set(q(i,r))}));return{getData:function(){var t=c.get()?[]:o.get(),e=a.get();return t.concat(e)},getFlattenedKeys:function(){var t=c.get()?[]:i.get(),e=u.get();return t.concat(e)}}},nk=V_.trim,rk=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},ok=rk("true"),ik=rk("false"),ak=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}},uk=function(t){return t.innerText||t.textContent},ck=function(t){return function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)}(t)&&lk(t)},sk=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},lk=function(t){return function(t){for(;t=t.parentNode;){var e=t.contentEditable;if(e&&"inherit"!==e)return ok(t)}return!1}(t)&&!ik(t)},fk=function(t){return sk(t)&&lk(t)},dk=function(t){var e=function(t){return t.id?t.id:Io("h")}(t);return ak("header",uk(t),"#"+e,function(t){return sk(t)?parseInt(t.nodeName.substr(1),10):0}(t),(function(){t.id=e}))},hk=function(t){var e=t.id||t.name,r=uk(t);return ak("anchor",r||"#"+e,"#"+e,0,n)},pk=function(t){var e,n;return e="h1,h2,h3,h4,h5,h6,a:not([href])",n=t,L(qc(nn.fromDom(n),e),(function(t){return t.dom()}))},mk=function(t){return nk(t.title).length>0},gk=function(t){var e=pk(t);return H(function(t){return L(H(t,fk),dk)}(e).concat(function(t){return L(H(t,ck),hk)}(e)),mk)},vk="tinymce-url-history",bk=function(t){return S(t)&&/^https?/.test(t)},yk=function(t){return k(t)&&ct(t,(function(t){return!(O(e=t)&&e.length<=5&&X(e,bk));var e})).isNone()},wk=function(){var t,n=e.localStorage.getItem(vk);if(null===n)return{};try{t=JSON.parse(n)}catch(t){if(t instanceof SyntaxError)return e.console.log("Local storage "+vk+" was not valid JSON",t),{};throw t}return yk(t)?t:(e.console.log("Local storage "+vk+" was not valid format",t),{})},xk=function(t){var e=wk();return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]},Ck=function(t,n){if(bk(t)){var r=wk(),o=Object.prototype.hasOwnProperty.call(r,n)?r[n]:[],i=H(o,(function(e){return e!==t}));r[n]=[t].concat(i).slice(0,5),function(t){if(!yk(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));e.localStorage.setItem(vk,JSON.stringify(t))}(r)}},_k=Object.prototype.hasOwnProperty,Sk=function(t){return!!t},kk=function(t){return it(V_.makeMap(t,/[, ]/),Sk)},Ok=function(t,e,n){var r,o,i=(r=t,o=e,_k.call(r,o)?y.some(r[o]):y.none()).getOr(n);return S(i)?y.some(i):y.none()},Tk=function(t){return y.some(t.file_picker_callback).filter(E)},Ek=function(t,e){var n=function(t){var e=y.some(t.file_picker_types).filter(Sk),n=y.some(t.file_browser_callback_types).filter(Sk),r=e.or(n).map(kk);return Tk(t).fold((function(){return!1}),(function(t){return r.fold((function(){return!0}),(function(t){return nt(t).length>0&&t}))}))}(t);return T(n)?n?Tk(t):y.none():n[e]?Tk(t):y.none()},Ak=function(t){return{getHistory:xk,addToHistory:Ck,getLinkInformation:function(){return function(t){return!1===t.settings.typeahead_urls?y.none():y.some({targets:gk(t.getBody()),anchorTop:Ok(t.settings,"anchor_top","#top").getOrUndefined(),anchorBottom:Ok(t.settings,"anchor_bottom","#bottom").getOrUndefined()})}(t)},getValidationHandler:function(){return function(t){return y.from(t.settings.file_picker_validator_handler).filter(E).orThunk((function(){return y.from(t.settings.filepicker_validator_handler).filter(E)}))}(t)},getUrlPicker:function(e){return function(t,e){return Ek(t.settings,e).map((function(n){return function(r){return uy((function(o){var i=d({filetype:e,fieldname:r.fieldname},y.from(r.meta).getOr({}));n.call(t,(function(t,e){if(!S(t))throw new Error("Expected value to be string");if(void 0!==e&&!k(e))throw new Error("Expected meta to be a object");o({value:t,meta:e})}),r.value,i)}))}}))}(t,e)}}},Dk=function(t,e,n){var r=tn(!1),o={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:Wm.translate},interpreter:function(t){return function(t,e){return zS(PS,t,e)}(t,o)},anchors:VS(e,n),getSink:function(){return C.value(t)}},urlinput:Ak(e),styleselect:ek(e),colorinput:XS(e),dialog:YS(e),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}};return o},Nk=o((function(t,e){!function(t,e){var n=aa.max(t,e,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ti(t,"max-width",n+"px")}(t,Math.floor(e))})),Mk=o([De("items"),Xa(["itemSelector"]),yl("tgroupBehaviours",[Eh])]),Rk=o([Kl({name:"items",unit:"item"})]),Pk=Sf({name:"ToolbarGroup",configFields:Mk(),partFields:Rk(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:xl(t.tgroupBehaviours,[Eh.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),Bk=o([De("dom"),We("shell",!0),yl("toolbarBehaviours",[Rh])]),zk=o([Yl({name:"groups",overrides:function(){return{behaviours:Bu([Rh.config({})])}}})]),Ik=Sf({name:"Toolbar",configFields:Bk(),partFields:zk(),factory:function(t,n,r,o){var i=function(e){return t.shell?y.some(e):cf(e,t,"groups")},a=t.shell?{behaviours:[Rh.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:xl(t.toolbarBehaviours,a.behaviours),apis:{setGroups:function(t,n){i(t).fold((function(){throw e.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){Rh.set(t,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),Lk=to("within","extra","withinWidth"),Fk=function(t,e,n){var r,i=(r=function(t,e){var r=n(t);return y.some({element:o(t),start:o(e),finish:o(e+r),width:o(r)})},V(t,(function(t,e){return r(e,t.len).fold(o(t),(function(e){return{len:e.finish(),list:t.list.concat([e])}}))}),{len:0,list:[]}).list),a=H(i,(function(t){return t.finish()<=e})),u=j(a,(function(t,e){return t+e.width()}),0),c=i.slice(a.length);return{within:o(a),extra:o(c),withinWidth:o(u)}},Hk=function(t){return L(t,(function(t){return t.element()}))},jk=function(t,e,n,r){var o=function(t,e,n){var r=Fk(e,t,n);return 0===r.extra().length?y.some(r):y.none()}(t,e,n).getOrThunk((function(){return Fk(e,t-n(r),n)})),i=o.within(),a=o.extra(),u=o.withinWidth();return 1===a.length&&a[0].width()<=n(r)?function(t,e,n){var r=Hk(t.concat(e));return Lk(r,[],n)}(i,a,u):a.length>=1?function(t,e,n,r){var o=Hk(t).concat([n]);return Lk(o,Hk(e),r)}(i,a,r,u):function(t,e,n){return Lk(Hk(t),[],n)}(i,0,u)},Vk=function(t,e){var n=L(e,(function(t){return Ki(t)}));Ik.setGroups(t,n)},$k=function(t,e,n){var r=sf(t,e,"primary"),o=Ey.getCoupled(t,"overflowGroup");Ti(r.element(),"visibility","hidden");var i=e.builtGroups.get().concat([o]),a=et(i,(function(t){return Xu(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))}));n([]),Vk(r,i);var u=ua(r.element()),c=jk(u,e.builtGroups.get(),(function(t){return ua(t.element())}),o);0===c.extra().length?(Rh.remove(r,o),n([])):(Vk(r,c.within()),n(c.extra())),Bi(r.element(),"visibility"),zi(r.element()),a.each(Fh.focus)},Uk=o([yl("splitToolbarBehaviours",[Ey]),Qe("builtGroups",(function(){return tn([])}))]),Wk=o([Xa(["overflowToggledClass"]),$e("getOverflowBounds"),De("lazySink"),Qe("overflowGroups",(function(){return tn([])}))].concat(Uk())),qk=o([Xl({factory:Ik,schema:Bk(),name:"primary"}),Gl({schema:Bk(),name:"overflow"}),Gl({name:"overflow-button"}),Gl({name:"overflow-group"})]),Xk=o([Xa(["toggledClass"]),De("lazySink"),Be("fetch"),$e("getBounds"),Ue("fireDismissalEventInstead",[We("event",kr())]),Oc()]),Gk=o([Gl({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Bu([Jh.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Gl({factory:Ik,schema:Bk(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Bu([Eh.config({mode:"cyclic",onEscape:function(e){return cf(e,t,"button").each(Fh.focus),y.none()}})])}}})]),Yk=function(t,e){var n=Ey.getCoupled(t,"toolbarSandbox");Zs.isOpen(n)?Zs.close(n):Zs.open(n,e.toolbar())},Kk=function(t,e,n,r){var o=n.getBounds.map((function(t){return t()})),i=n.lazySink(t).getOrDie();Ds.positionWithinBounds(i,{anchor:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:Nk()}},e,o)},Jk=function(t,e,n,r,o){Ik.setGroups(e,o),Kk(t,e,n,r),Jh.on(t)},Zk=Sf({name:"FloatingToolbarButton",factory:function(t,e,n,r){return d(d({},Jp.sketch(d(d({},r.button()),{action:function(t){Yk(t,r)},buttonBehaviours:_l({dump:r.button().buttonBehaviours},[Ey.config({others:{toolbarSandbox:function(e){return function(t,e,n){var r=Ra();return{dom:{tag:"div",attributes:{id:r.id()}},behaviours:Bu([Eh.config({mode:"special",onEscape:function(t){return Zs.close(t),y.some(!0)}}),Zs.config({onOpen:function(o,i){n.fetch().get((function(o){Jk(t,i,n,e.layouts,o),r.link(t.element()),Eh.focusIn(i)}))},onClose:function(){Jh.off(t),Fh.focus(t),r.unlink(t.element())},isPartOf:function(e,n,r){return Ba(n,r)||Ba(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),$u.config({channels:d(d({},rl(d({isExtraPart:o(!1)},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),il({isExtraPart:o(!1),doReposition:function(){Zs.getState(Ey.getCoupled(t,"toolbarSandbox")).each((function(r){Kk(t,r,n,e.layouts)}))}}))})])}}(e,n,t)}}})])}))),{apis:{setGroups:function(e,r){Zs.getState(Ey.getCoupled(e,"toolbarSandbox")).each((function(o){Jk(e,o,t,n.layouts,r)}))},reposition:function(e){Zs.getState(Ey.getCoupled(e,"toolbarSandbox")).each((function(r){Kk(e,r,t,n.layouts)}))},toggle:function(t){Yk(t,r)},getToolbar:function(t){return Zs.getState(Ey.getCoupled(t,"toolbarSandbox"))}}})},configFields:Xk(),partFields:Gk(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)}}}),Qk=function(t){return L(t,(function(t){return Ki(t)}))},tO=function(t,e,n){$k(t,n,(function(r){n.overflowGroups.set(r),e.getOpt(t).each((function(t){Zk.setGroups(t,Qk(r))}))}))},eO=Sf({name:"SplitFloatingToolbar",configFields:Wk(),partFields:qk(),factory:function(t,e,n,r){var o=Zp(Zk.sketch({fetch:function(){return uy((function(e){e(Qk(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[yu]},onRtl:function(){return[bu]},onBottomLtr:function(){return[xu]},onBottomRtl:function(){return[wu]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:t.uid,dom:t.dom,components:e,behaviours:xl(t.splitToolbarBehaviours,[Ey.config({others:{overflowGroup:function(){return Pk.sketch(d(d({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(L(n,e.getSystem().build)),tO(e,o,t)},refresh:function(e){return tO(e,o,t)},toggle:function(t){o.getOpt(t).each((function(t){Zk.toggle(t)}))},reposition:function(t){o.getOpt(t).each((function(t){Zk.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind((function(t){return Zk.getToolbar(t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getOverflow:function(t,e){return t.getOverflow(e)}}}),nO=function(t,e){return e.getAnimationRoot.fold((function(){return t.element()}),(function(e){return e(t)}))},rO=function(t){return t.dimension.property},oO=function(t,e){return t.dimension.getDimension(e)},iO=function(t,e){var n=nO(t,e);wi(n,[e.shrinkingClass,e.growingClass])},aO=function(t,e){vi(t.element(),e.openClass),mi(t.element(),e.closedClass),Ti(t.element(),rO(e),"0px"),zi(t.element())},uO=function(t,e){vi(t.element(),e.closedClass),mi(t.element(),e.openClass),Bi(t.element(),rO(e))},cO=function(t,e,n,r){n.setCollapsed(),Ti(t.element(),rO(e),oO(e,t.element())),zi(t.element()),iO(t,e),aO(t,e),e.onStartShrink(t),e.onShrunk(t)},sO=function(t,e,n,r){var o=r.getOrThunk((function(){return oO(e,t.element())}));n.setCollapsed(),Ti(t.element(),rO(e),o),zi(t.element());var i=nO(t,e);vi(i,e.growingClass),mi(i,e.shrinkingClass),aO(t,e),e.onStartShrink(t)},lO=function(t,e,n){var r=oO(e,t.element());("0px"===r?cO:sO)(t,e,n,y.some(r))},fO=function(t,e,n){var r=nO(t,e),o=bi(r,e.shrinkingClass),i=oO(e,t.element());uO(t,e);var a=oO(e,t.element());(o?function(){Ti(t.element(),rO(e),i),zi(t.element())}:function(){aO(t,e)})(),vi(r,e.shrinkingClass),mi(r,e.growingClass),uO(t,e),Ti(t.element(),rO(e),a),n.setExpanded(),e.onStartGrow(t)},dO=function(t,e,n){var r=nO(t,e);return!0===bi(r,e.growingClass)},hO=function(t,e,n){var r=nO(t,e);return!0===bi(r,e.shrinkingClass)},pO=Object.freeze({__proto__:null,refresh:function(t,e,n){if(n.isExpanded()){Bi(t.element(),rO(e));var r=oO(e,t.element());Ti(t.element(),rO(e),r)}},grow:function(t,e,n){n.isExpanded()||fO(t,e,n)},shrink:function(t,e,n){n.isExpanded()&&lO(t,e,n)},immediateShrink:function(t,e,n){n.isExpanded()&&cO(t,e,n,y.none())},hasGrown:function(t,e,n){return n.isExpanded()},hasShrunk:function(t,e,n){return n.isCollapsed()},isGrowing:dO,isShrinking:hO,isTransitioning:function(t,e,n){return!0===dO(t,e)||!0===hO(t,e)},toggleGrow:function(t,e,n){(n.isExpanded()?lO:fO)(t,e,n)},disableTransitions:iO}),mO=Object.freeze({__proto__:null,exhibit:function(t,e){var n=e.expanded;return ni(n?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:Ht(e.dimension.property,"0px")})},events:function(t,e){return Fr([Yr(ir(),(function(n,r){r.event().raw().propertyName===t.dimension.property&&(iO(n,t),e.isExpanded()&&Bi(n.element(),t.dimension.property),(e.isExpanded()?t.onGrown:t.onShrunk)(n))}))])}}),gO=[De("closedClass"),De("openClass"),De("shrinkingClass"),De("growingClass"),Fe("getAnimationRoot"),Ya("onShrunk"),Ya("onStartShrink"),Ya("onGrown"),Ya("onStartGrow"),We("expanded",!1),Ne("dimension",we("property",{width:[Qa("property","width"),Qa("getDimension",(function(t){return ua(t)+"px"}))],height:[Qa("property","height"),Qa("getDimension",(function(t){return Qi(t)+"px"}))]}))],vO=Iu({fields:gO,name:"sliding",active:mO,apis:pO,state:Object.freeze({__proto__:null,init:function(t){var e=tn(t.expanded);return ti({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:a(e.set,!1),setExpanded:a(e.set,!0),readState:function(){return"expanded: "+e.get()}})}})}),bO=o([Xa(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ya("onOpened"),Ya("onClosed")].concat(Uk())),yO=o([Xl({factory:Ik,schema:Bk(),name:"primary"}),Xl({factory:Ik,schema:Bk(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Bu([vO.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){cf(e,t,"overflow-button").each((function(t){Jh.off(t),Fh.focus(t)})),t.onClosed(e)},onGrown:function(e){Eh.focusIn(e),t.onOpened(e)},onStartGrow:function(e){cf(e,t,"overflow-button").each(Jh.on)}}),Eh.config({mode:"acyclic",onEscape:function(e){return cf(e,t,"overflow-button").each(Fh.focus),y.some(!0)}})])}}}),Gl({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Bu([Jh.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Gl({name:"overflow-group"})]),wO=function(t,e){cf(t,e,"overflow").each((function(n){$k(t,e,(function(t){var e=L(t,(function(t){return Ki(t)}));Ik.setGroups(n,e)})),cf(t,e,"overflow-button").each((function(t){vO.hasGrown(n)&&Jh.on(t)})),vO.refresh(n)}))},xO=Sf({name:"SplitSlidingToolbar",configFields:bO(),partFields:yO(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:xl(t.splitToolbarBehaviours,[Ey.config({others:{overflowGroup:function(t){return Pk.sketch(d(d({},r["overflow-group"]()),{items:[Jp.sketch(d(d({},r["overflow-button"]()),{action:function(e){Rr(t,"alloy.toolbar.toggle")}}))]}))}}}),Ph("toolbar-toggle-events",[Vr("alloy.toolbar.toggle",(function(e){cf(e,t,"overflow").each((function(n){wO(e,t),vO.toggleGrow(n)}))}))])]),apis:{setGroups:function(e,n){!function(e,n){var r=L(n,e.getSystem().build);t.builtGroups.set(r)}(e,n),wO(e,t)},refresh:function(e){return wO(e,t)},toggle:function(e){return function(t,e){cf(t,e,"overflow").each((function(n){wO(t,e),vO.toggleGrow(n)}))}(e,t)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)}}}),CO=o(Io("toolbar-height-change")),_O=ee([(J_="readonly",Ne(J_,ke))]),SO=function(t,e){var n=t.outerContainer;!function(t,e){var n=t.outerContainer.element();e&&(t.mothership.broadcastOn([Qs()],{target:n}),t.uiMothership.broadcastOn([Qs()],{target:n})),t.mothership.broadcastOn(["silver.readonly"],{readonly:e}),t.uiMothership.broadcastOn(["silver.readonly"],{readonly:e})}(t,e),Pn("*",n.element()).forEach((function(t){n.getSystem().getByDom(t).each((function(t){t.hasConfigured(Cg)&&Cg.set(t,e)}))}))},kO=function(t,e){t.on("init",(function(){t.readonly&&SO(e,!0)})),t.on("SwitchMode",(function(){return SO(e,t.readonly)})),function(t){return t.getParam("readonly",!1,"boolean")}(t)&&t.setMode("readonly")},OO=function(t){var e;return $u.config({channels:(e={},e["silver.readonly"]={schema:_O,onReceive:function(e,n){t(e).each((function(t){!function(t,e){Pn("*",t.element()).forEach((function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(Cg)&&Cg.set(t,e)}))}))}(t,n.readonly)}))}},e)})},TO=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:d({tag:"div",classes:["tox-toolbar__group"]},e),components:[Pk.parts().items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Bu([xy.config({}),Fh.config({})])}},EO=function(t){return Pk.sketch(TO(t))},AO=function(t,e,n){var r=Kr((function(e){var n=L(t.initGroups,EO);Ik.setGroups(e,n)}));return Bu([Eh.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Ph("toolbar-events",[r]),OO(n)])},DO=function(t,e){var n=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":TO({title:y.none(),items:[]}),"overflow-button":v_({name:"more",icon:y.some("more-drawer"),disabled:!1,tooltip:y.some("More..."),primary:!1,borderless:!1},y.none(),t.backstage.shared.providers)},splitToolbarBehaviours:AO(t,n,e)}},NO=function(t){var e=DO(t,eO.getOverflow),n=eO.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return eO.sketch(d(d({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element(),n=_a(e),r=io(e),o=_a(r);return xa(n.x()+4,o.y(),n.width()-8,o.height())},parts:d(d({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},MO=function(t){var e=xO.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=xO.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=DO(t,y.none);return xO.sketch(d(d({},r),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([CO()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([CO()],{type:"closed"})}}))},RO=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return Ik.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===ed.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ik.parts().groups({})],toolbarBehaviours:AO(t,e,o(y.none()))})},PO=[Ke("disabled",!1),Ve("tooltip"),Ve("icon"),Ve("text"),Je("onSetup",(function(){return n}))],BO=ee([Re("type"),Be("onAction")].concat(PO)),zO=function(t){return me("toolbarbutton",BO,t)},IO=[Ve("text"),Ve("tooltip"),Ve("icon"),Be("fetch"),Je("onSetup",(function(){return n}))],LO=ee(p([Re("type")],IO)),FO=function(t){return me("menubutton",LO,t)},HO=ee([Re("type"),Ve("tooltip"),Ve("icon"),Ve("text"),$e("select"),Be("fetch"),Je("onSetup",(function(){return n})),Ye("presets","normal",["normal","color","listpreview"]),We("columns",1),Be("onAction"),Be("onItemAction")]),jO=[Ke("active",!1)].concat(PO),VO=ee(jO.concat([Re("type"),Be("onAction")])),$O=function(t){return me("ToggleButton",VO,t)},UO=ee([Re("type"),Ne("items",(Z_=[fe([Re("name"),Le("items",Se)]),Se],{extract:function(t,e,n){for(var r=[],o=0,i=Z_;o<i.length;o++){var a=i[o].extract(t,e,n);if(a.stype===m.Value)return a;r.push(a)}return Wt(r)},toString:function(){return"oneOf("+L(Z_,(function(t){return t.toString()})).join(", ")+")"}}))].concat(PO)),WO=[Je("predicate",(function(){return!1})),Ye("scope","node",["node","editor"]),Ye("position","selection",["node","selection","line"])],qO=PO.concat([We("type","contextformbutton"),We("primary",!1),Be("onAction"),Qe("original",i)]),XO=jO.concat([We("type","contextformbutton"),We("primary",!1),Be("onAction"),Qe("original",i)]),GO=PO.concat([We("type","contextformbutton")]),YO=jO.concat([We("type","contextformtogglebutton")]),KO=we("type",{contextformbutton:qO,contextformtogglebutton:XO}),JO=ee([We("type","contextform"),Je("initValue",(function(){return""})),Ve("label"),Le("commands",KO),He("launch",we("type",{contextformbutton:GO,contextformtogglebutton:YO}))].concat(WO)),ZO=ee([We("type","contexttoolbar"),Re("items")].concat(WO)),QO=Object.freeze({__proto__:null,getState:function(t,e,n){return n}}),tT=Object.freeze({__proto__:null,events:function(t,e){var n=function(n,r){t.updateState.each((function(t){var o=t(n,r);e.set(o)})),t.renderComponents.each((function(t){var o=t(r,e.get()),i=L(o,n.getSystem().build);Ps(n,i)}))};return Fr([Vr(fr(),(function(e,r){var o=r,i=t.channel;B(o.channels(),i)&&n(e,o.data())})),Kr((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])}}),eT=Object.freeze({__proto__:null,init:function(){var t=tn(y.none());return{readState:function(){return t.get().fold((function(){return"none"}),(function(t){return t}))},get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(y.none())}}}}),nT=[De("channel"),Fe("renderComponents"),Fe("updateState"),Fe("initialData")],rT=Iu({fields:nT,name:"reflecting",active:tT,apis:QO,state:eT}),oT=o([De("toggleClass"),De("fetch"),Ja("onExecute"),We("getHotspot",y.some),We("getAnchorOverrides",o({})),Oc(),Ja("onItemExecute"),Fe("lazySink"),De("dom"),Ya("onOpen"),yl("splitDropdownBehaviours",[Ey,Eh,Fh]),We("matchWidth",!1),We("useMinWidth",!1),We("eventOrder",{}),Fe("role")].concat(Hy())),iT=Xl({factory:Jp,schema:[De("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Bu([Fh.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(Br)},buttonBehaviours:Bu([Jh.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),aT=Xl({factory:Jp,schema:[De("dom")],name:"button",defaults:function(){return{buttonBehaviours:Bu([Fh.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}}),uT=o([iT,aT,Yl({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[De("text")],name:"aria-descriptor"}),Gl({schema:[qa()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),Dy()]),cT=Sf({name:"SplitDropdown",configFields:oT(),partFields:uT(),factory:function(t,e,r,o){var i=function(t){Af.getCurrent(t).each((function(t){Hf.highlightFirst(t),Eh.focusIn(t)}))},a=function(e){Py(t,(function(t){return t}),e,o,i,ey.HighlightFirst).get(n)},u=function(e){var n=sf(e,t,"button");return Br(n),y.some(!0)},c=d(d({},Fr([Kr((function(e,n){cf(e,t,"aria-descriptor").each((function(t){var n=Io("aria");To(t.element(),"id",n),To(e.element(),"aria-describedby",n)}))}))])),Qh(y.some(a))),s={repositionMenus:function(t){Jh.isOn(t)&&Fy(t)}};return{uid:t.uid,dom:t.dom,components:e,apis:s,eventOrder:d(d({},t.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:c,behaviours:xl(t.splitDropdownBehaviours,[Ey.config({others:{sandbox:function(e){var n=sf(e,t,"arrow");return Ly(t,e,{onOpen:function(){Jh.on(n),Jh.on(e)},onClose:function(){Jh.off(n),Jh.off(e)}})}}}),Eh.config({mode:"special",onSpace:u,onEnter:u,onDown:function(t){return a(t),y.some(!0)}}),Fh.config({}),Jh.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}}),sT=function(t){return{isDisabled:function(){return Cg.isDisabled(t)},setDisabled:function(e){return Cg.set(t,e)}}},lT=function(t){return{setActive:function(e){Jh.set(t,e)},isActive:function(){return Jh.isOn(t)},isDisabled:function(){return Cg.isDisabled(t)},setDisabled:function(e){return Cg.set(t,e)}}},fT=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})},dT=Io("focus-button"),hT=["checklist","ordered-list"],pT=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],mT=function(t,e,n,r,o,i){var a,u=function(t){return Wm.isRtl()&&B(hT,t)?t+"-rtl":t},c=Wm.isRtl()&&t.exists((function(t){return B(pT,t)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]).concat(c?["tox-tbtn__icon-rtl"]:[]),attributes:fT(n,i)},components:Rg([t.map((function(t){return QC(u(t),i.icons)})),e.map((function(t){return e_(t,"tox-tbtn",i)}))]),eventOrder:(a={},a[Xn()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Bu([Ph("common-button-display-events",[Vr(Xn(),(function(t,e){e.event().prevent(),Rr(t,dT)}))])].concat(r.map((function(n){return rT.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return Rg([t.icon.map((function(t){return QC(u(t),i.icons)})),t.text.map((function(t){return e_(t,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}},gT=function(t,e,r){var o,i=tn(n),a=mT(t.icon,t.text,t.tooltip,y.none(),y.none(),r);return Jp.sketch({dom:a.dom,components:a.components,eventOrder:r_,buttonBehaviours:Bu([Ph("toolbar-button-events",[(o={onAction:t.onAction,getApi:e.getApi},Qr((function(t,e){Tg(o,t)((function(e){Pr(t,n_,{buttonApi:e}),o.onAction(e)}))}))),Eg(e,i),Ag(e,i)]),Og(t.disabled)].concat(e.toolbarButtonBehaviours))})},vT=function(t,e,n){return gT(t,{toolbarButtonBehaviours:[].concat(n.length>0?[Ph("toolbarButtonWith",n)]:[]),getApi:sT,onSetup:t.onSetup},e)},bT=function(t,e,n){return gt(gT(t,{toolbarButtonBehaviours:[Rh.config({}),Jh.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Ph("toolbarToggleButtonWith",n)]:[]),getApi:lT,onSetup:t.onSetup},e))},yT=function(t,e,n){return function(r){return uy((function(t){return e.fetch(t)})).map((function(o){return y.from(db(gt(Kv(Io("menu-value"),o,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,Dg.CLOSE_ON_EXECUTE,e.select.getOr((function(){return!1})),n),{movement:Zv(e.columns,e.presets),menuBehaviours:zm("auto"!==e.columns?[]:[Kr((function(t,n){Pm(t,4,Jm(e.presets)).each((function(e){var n=e.numRows,r=e.numColumns;Eh.setGridSize(t,n,r)}))}))])})))}))}},wT=function(t,e){return Vr(n_,(function(n,r){var o=function(t){return{hide:function(){return Rr(t,gr())},getValue:function(){return bl.getValue(t)}}}(t.get(n));e.onAction(o,r.event().buttonApi())}))},xT=function(t,e,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===e.type?function(t,e,n){var r=e.original,o=(r.primary,h(r,["primary"])),i=ge($O(d(d({},o),{type:"togglebutton",onAction:function(){}})));return bT(i,n.backstage.shared.providers,[wT(t,e)])}(t,e,r):function(t,e,n){var r=e.original,o=(r.primary,h(r,["primary"])),i=ge(zO(d(d({},o),{type:"button",onAction:function(){}})));return vT(i,n.backstage.shared.providers,[wT(t,e)])}(t,e,r)},CT=function(t,e,n){var r=e.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),o=Zp(Zb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:r,selectOnFocus:!0,inputBehaviours:Bu([Eh.config({mode:"special",onEnter:function(t){return i.findPrimary(t).map((function(t){return Br(t),!0}))},onLeft:function(t,e){return e.cut(),y.none()},onRight:function(t,e){return e.cut(),y.none()}})])})),i=function(t,e,n){var r=L(e,(function(e){return Zp(xT(t,e,n))}));return{asSpecs:function(){return L(r,(function(t){return t.asSpec()}))},findPrimary:function(t){return et(e,(function(e,n){return e.primary?y.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(u(Cg.isDisabled)):y.none()}))}}}(o,e.commands,n.shared.providers);return RO({type:t,uid:Io("context-toolbar"),initGroups:[{title:y.none(),items:[o.asSpec()]},{title:y.none(),items:i.asSpecs()}],onEscape:y.none,cyclicKeying:!0})},_T=function(t){var n=ma(e.window),r=Ca(nn.fromDom(t.getContentAreaContainer())),o=Hp(t)||jp(t)||$p(t),i=function(t,e){var n=Math.max(e.x(),t.x()),r=t.right()-n,o=e.width()-(n-e.x());return{x:n,width:Math.min(r,o)}}(r,n),a=i.x,u=i.width;if(t.inline&&!o)return xa(a,n.y(),u,n.height());var c=function(t,e,n){var r=nn.fromDom(t.getContainer()),o=Na(r,".tox-editor-header").getOr(r),i=Ca(o),a=i.y()>=e.bottom(),u=qp(t)&&!a;if(t.inline&&u)return{y:Math.max(i.bottom(),n.y()),bottom:n.bottom()};if(t.inline&&!u)return{y:n.y(),bottom:Math.min(i.y(),n.bottom())};var c=Ca(r);return u?{y:Math.max(i.bottom(),n.y()),bottom:Math.min(c.bottom(),n.bottom())}:{y:Math.max(c.y(),n.y()),bottom:Math.min(i.y(),n.bottom())}}(t,r,n),s=c.y,l=c.bottom;return xa(a,s,u,l-s)},ST=function(t,e){return et(e,(function(e){return e.predicate(t.dom())?y.some({toolbarApi:e,elem:t}):y.none()}))},kT=function(t,e){var n=nn.fromDom(e.getBody()),r=function(t){return Bn(t,n)},o=nn.fromDom(e.selection.getNode());return In(o,n)?y.none():ST(o,t.inNodeScope).orThunk((function(){return ST(o,t.inEditorScope).orThunk((function(){return Ln(o,(function(e){return r(e)?y.none():ST(e,t.inNodeScope)}),r)}))}))},OT=function(t,e){var n={},r=[],o=[],i={},a={},u=function(t,u){var c=ge(me("ContextForm",JO,u));n[t]=c,c.launch.map((function(n){i["form:"+t]=d(d({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(c)}})})),"editor"===c.scope?o.push(c):r.push(c),a[t]=c},c=function(t,e){var n;(n=e,me("ContextToolbar",ZO,n)).each((function(n){"editor"===e.scope?o.push(n):r.push(n),a[t]=n}))},s=nt(t);return F(s,(function(e){var n=t[e];"contextform"===n.type?u(e,n):"contexttoolbar"===n.type&&c(e,n)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},TT=Io("forward-slide"),ET=Io("backward-slide"),AT=Io("change-slide-event"),DT=function(t,e){return function(n){var r=tn(y.none()),o=function(){n.setActive(t.formatter.match(e));var o=t.formatter.formatChanged(e,n.setActive).unbind;r.set(y.some(o))};return t.initialized?o():t.on("init",o),function(){return r.get().each((function(t){return t()}))}}},NT=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,e.format)}))}}},MT=function(t,e,n){var r=function(t,r,i,a){var u=e.shared.providers.translate(t.title);if("separator"===t.type)return y.some({type:"separator",text:u});if("submenu"===t.type){var c=q(t.getStyleItems(),(function(t){return o(t,r,a)}));return 0===r&&c.length<=0?y.none():y.some({type:"nestedmenuitem",text:u,disabled:c.length<=0,getSubmenuItems:function(){return q(t.getStyleItems(),(function(t){return o(t,r,a)}))}})}return y.some(d({type:"togglemenuitem",text:u,active:t.isSelected(a),disabled:i,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},o=function(t,e,o){var i="formatter"===t.type&&n.isInvalid(t);return 0===e?i?[]:r(t,e,!1,o).toArray():r(t,e,i,o).toArray()},i=function(t){var e=n.getCurrentValue(),r=n.shouldHide?0:1;return q(t,(function(t){return o(t,r,e)}))};return{validateItems:i,getFetch:function(t,e){return function(n){var r=e(),o=i(r);n(d_(o,Dg.CLOSE_ON_EXECUTE,t,!1))}}}},RT=function(t,e,n){var r=n.dataset,o="basic"===r.type?function(){return L(r.data,(function(t){return QS(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:MT(0,e,n),getStyleItems:o}},PT=function(t,e,r){var o=RT(0,e,r),i=o.items,a=o.getStyleItems;return a_({text:r.icon.isSome()?y.none():y.some(""),icon:r.icon,tooltip:y.from(r.tooltip),role:y.none(),fetch:i.getFetch(e,a),onSetup:function(e){return r.setInitialValue.each((function(t){return t(e.getComponent())})),r.nodeChangeHandler.map((function(n){var r=n(e.getComponent());return t.on("NodeChange",r),function(){t.off("NodeChange",r)}})).getOr(n)},getApi:function(t){return{getComponent:function(){return t}}},columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)};!function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"}(Q_||(Q_={}));var BT,zT=function(t,e,n,r){return{type:"basic",data:function(t){return L(t,(function(t){var e=t,n=t,r=t.split("=");return r.length>1&&(e=r[0],n=r[1]),{title:e,format:n}}))}(function(t,e){return e===Q_.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")}(lt(t.settings,e).getOr(n),r))}},IT=[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}],LT=function(t){var e=function(e){var n=$(IT,(function(e){return t.formatter.match(e.format)})).fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}));Pr(e,i_,{icon:"align-"+n})},n=y.some((function(t){return function(){return e(t)}})),r=y.some((function(t){return e(t)})),i={type:"basic",data:IT};return{tooltip:"Align",icon:y.some("align-left"),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(y.none()),getPreviewFor:function(t){return function(){return y.none()}},onAction:NT(t),setInitialValue:r,nodeChangeHandler:n,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},FT=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],HT=function(t){var e=t.split(/\s*,\s*/);return L(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},jT=function(t){var e=function(){var e=function(t){return t?HT(t)[0]:""},n=t.queryCommandValue("FontName"),r=i.data,o=n?n.toLowerCase():"";return{matchOpt:$(r,(function(t){var n=t.format;return n.toLowerCase()===o||e(n).toLowerCase()===e(o).toLowerCase()})).orThunk((function(){return function(t){var e;return 0===t.indexOf("-apple-system")&&(e=HT(t.toLowerCase()),X(FT,(function(t){return e.indexOf(t.toLowerCase())>-1})))}(o)?y.from({title:"System Font",format:o}):y.none()})),font:n}},n=function(t){var n=e(),r=n.matchOpt,o=n.font,i=r.fold((function(){return o}),(function(t){return t.title}));Pr(t,o_,{text:i})},r=y.some((function(t){return function(){return n(t)}})),o=y.some((function(t){return n(t)})),i=zT(t,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Q_.SemiColon);return{tooltip:"Fonts",icon:y.none(),isSelectedFor:function(t){return function(e){return e.exists((function(e){return e.format===t}))}},getCurrentValue:function(){return e().matchOpt},getPreviewFor:function(t){return function(){return y.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},onAction:function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,e.format)}))}},setInitialValue:o,nodeChangeHandler:r,dataset:i,shouldHide:!1,isInvalid:function(){return!1}}},VT={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},$T=function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t},UT=function(t){var e=function(){var e=y.none(),n=u.data,r=t.queryCommandValue("FontSize");if(r)for(var o=function(t){var o=$T(r,t),i=function(t){return lt(VT,t).getOr("")}(o);e=$(n,(function(t){return t.format===r||t.format===o||t.format===i}))},i=3;e.isNone()&&i>=0;i--)o(i);return{matchOpt:e,size:r}},n=o(o(y.none())),r=function(t){var n=e(),r=n.matchOpt,o=n.size,i=r.fold((function(){return o}),(function(t){return t.title}));Pr(t,o_,{text:i})},i=y.some((function(t){return function(){return r(t)}})),a=y.some((function(t){return r(t)})),u=zT(t,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",Q_.Space);return{tooltip:"Font sizes",icon:y.none(),isSelectedFor:function(t){return function(e){return e.exists((function(e){return e.format===t}))}},getPreviewFor:n,getCurrentValue:function(){return e().matchOpt},onAction:function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,e.format)}))}},setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(){return!1}}},WT=function(t,e,n){var r=e();return et(n,(function(e){return $(r,(function(n){return t.formatter.matchNode(e,n.format)}))})).orThunk((function(){return t.formatter.match("p")?y.some({title:"Paragraph",format:"p"}):y.none()}))},qT=function(t){var e=t.selection.getStart(!0)||t.getBody();return t.dom.getParents(e,(function(){return!0}),t.getBody())},XT=function(t){var e=function(e,n){var r=WT(t,(function(){return i.data}),e).fold((function(){return"Paragraph"}),(function(t){return t.title}));Pr(n,o_,{text:r})},n=y.some((function(t){return function(n){return e(n.parents,t)}})),r=y.some((function(n){var r=qT(t);e(r,n)})),i=zT(t,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Q_.SemiColon);return{tooltip:"Blocks",icon:y.none(),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(y.none()),getPreviewFor:function(e){return function(){var n=t.formatter.get(e);return y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}},onAction:NT(t),setInitialValue:r,nodeChangeHandler:n,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},GT=function(t,e){var n=function(e,n){var r=function(t){var e=t.items;return void 0!==e&&e.length>0?q(e,r):[{title:t.title,format:t.format}]},o=q(ZS(t),r),i=WT(t,(function(){return o}),e).fold((function(){return"Paragraph"}),(function(t){return t.title}));Pr(n,o_,{text:i})},r=y.some((function(t){return function(e){return n(e.parents,t)}})),i=y.some((function(e){var r=qT(t);n(r,e)}));return{tooltip:"Formats",icon:y.none(),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(y.none()),getPreviewFor:function(e){return function(){var n=t.formatter.get(e);return void 0!==n?y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):y.none()}},onAction:NT(t),setInitialValue:i,nodeChangeHandler:r,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}},YT=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],KT=function(t,e){return function(n,r,o){var i=t(n).mapError((function(t){return be(t)})).getOrDie();return e(i,r,o)}},JT={button:KT(zO,(function(t,e){return n=t,r=e.backstage.shared.providers,vT(n,r,[]);var n,r})),togglebutton:KT($O,(function(t,e){return n=t,r=e.backstage.shared.providers,bT(n,r,[]);var n,r})),menubutton:KT(FO,(function(t,e){return p_(t,"tox-tbtn",e.backstage,y.none())})),splitbutton:KT((function(t){return me("SplitButton",HO,t)}),(function(t,e){return function(t,e){var r,o=Io("channel-update-split-dropdown-display"),i=function(t){return{isDisabled:function(){return Cg.isDisabled(t)},setDisabled:function(e){return Cg.set(t,e)},setIconFill:function(e,n){Na(t.element(),'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){To(t,"fill",n)}))},setIconStroke:function(e,n){Na(t.element(),'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){To(t,"stroke",n)}))},setActive:function(e){To(t.element(),"aria-pressed",e),Na(t.element(),"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return Jh.set(t,e)}))}))},isActive:function(){return Na(t.element(),"span").exists((function(e){return t.getSystem().getByDom(e).exists(Jh.isOn)}))}}},a=tn(n),u={getApi:i,onSetup:t.onSetup};return cT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:d({"aria-pressed":!1},fT(t.tooltip,e.providers))},onExecute:function(e){t.onAction(i(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:Bu([kg(!1),Ph("split-dropdown-events",[Vr(dT,Fh.focus),Eg(u,a),Ag(u,a)]),Wy.config({})]),eventOrder:(r={},r[_r()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:yT(i,t,e.providers),parts:{menu:Vv(0,t.columns,t.presets)},components:[cT.parts().button(mT(t.icon,t.text,y.none(),y.some(o),y.some([Jh.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),e.providers)),cT.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:tm("chevron-down",e.providers.icons)}}),cT.parts()["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})}(t,e.backstage.shared)})),grouptoolbarbutton:KT((function(t){return me("GroupToolbarButton",UO,t)}),(function(t,e,n){var r,o=n.ui.registry.getAll().buttons,i=((r={})[Sc]=qp(n)?za.TopToBottom:za.BottomToTop,r);switch(Wp(n)){case ed.floating:return function(t,e,n,r){var o=e.shared;return Zk.sketch({lazySink:o.getSink,fetch:function(){return uy((function(e){e(L(n(t.items),EO))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:mT(t.icon,t.text,t.tooltip,y.none(),y.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}(t,e.backstage,(function(t){return eE(n,{buttons:o,toolbar:t,allowToolbarGroups:!1},e,y.none())}),i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,e){return function(t,e){var n=d({type:"advanced"},e.styleselect);return PT(t,e,GT(t,n))}(t,e.backstage)},fontsizeSelectButton:function(t,e){return function(t,e){return PT(t,e,UT(t))}(t,e.backstage)},fontSelectButton:function(t,e){return function(t,e){return PT(t,e,jT(t))}(t,e.backstage)},formatButton:function(t,e){return function(t,e){return PT(t,e,XT(t))}(t,e.backstage)},alignMenuButton:function(t,e){return function(t,e){return PT(t,e,LT(t))}(t,e.backstage)}},ZT={styleselect:JT.styleSelectButton,fontsizeselect:JT.fontsizeSelectButton,fontselect:JT.fontSelectButton,formatselect:JT.formatButton,align:JT.alignMenuButton},QT=function(t){var n,r=t.toolbar,o=t.buttons;return!1===r?[]:void 0===r||!0===r?function(t){var e=L(YT,(function(e){var n=H(e.items,(function(e){return ft(t,e)||ft(ZT,e)}));return{name:e.name,items:n}}));return H(e,(function(t){return t.items.length>0}))}(o):S(r)?(n=r.split("|"),L(n,(function(t){return{items:t.trim().split(" ")}}))):function(t){return D(t,(function(t){return ft(t,"name")&&ft(t,"items")}))}(r)?r:(e.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},tE=function(t,n,r,o,i,a){return lt(n,r.toLowerCase()).orThunk((function(){return a.bind((function(t){return et(t,(function(t){return lt(n,t+r.toLowerCase())}))}))})).fold((function(){return lt(ZT,r.toLowerCase()).map((function(e){return e(t,i)})).orThunk((function(){return y.none()}))}),(function(n){return"grouptoolbarbutton"!==n.type||o?function(t,n,r){return lt(JT,t.type).fold((function(){return e.console.error("skipping button defined by",t),y.none()}),(function(e){return y.some(e(t,n,r))}))}(n,i,t):(e.console.warn("Ignoring the '"+r+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),y.none())}))},eE=function(t,e,n,r){var o=QT(e),i=L(o,(function(o){var i=q(o.items,(function(o){return 0===o.trim().length?[]:tE(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()}));return{title:y.from(t.translate(o.name)),items:i}}));return H(i,(function(t){return t.items.length>0}))},nE={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},rE={maxHeightFunction:mc(),maxWidthFunction:Nk()},oE={onLtr:function(){return[Cu,_u,wu,bu,xu,yu,Ap,Dp,Tp,kp,Ep,Op]},onRtl:function(){return[Cu,_u,xu,yu,wu,bu,Ap,Dp,Ep,Op,Tp,kp]}},iE={onLtr:function(){return[_u,bu,yu,wu,xu,Cu,Ap,Dp,Tp,kp,Ep,Op]},onRtl:function(){return[_u,yu,bu,xu,wu,Cu,Ap,Dp,Ep,Op,Tp,kp]}},aE=function(t,e,n,r){var o,i,a=On().deviceType.isTouch,u=Yi((o={sink:n,onEscape:function(){return t.focus(),y.some(!0)}},i=tn([]),yp.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){i.set([]),yp.getContent(t).each((function(t){Bi(t.element(),"visibility")})),vi(t.element(),"tox-pop--resizing"),Bi(t.element(),"width")},inlineBehaviours:Bu([Ph("context-toolbar-events",[Yr(ir(),(function(t,e){yp.getContent(t).each((function(t){})),vi(t.element(),"tox-pop--resizing"),Bi(t.element(),"width")})),Vr(AT,(function(t,e){Bi(t.element(),"width");var n=ua(t.element());yp.setContent(t,e.event().contents()),mi(t.element(),"tox-pop--resizing");var r=ua(t.element());Ti(t.element(),"width",n+"px"),yp.getContent(t).each((function(n){e.event().focus().bind((function(e){return Wu(e),Xu(t.element())})).orThunk((function(){return Eh.focusIn(n),qu()}))})),Np.setTimeout((function(){Ti(t.element(),"width",r+"px")}),0)})),Vr(TT,(function(t,e){yp.getContent(t).each((function(t){i.set(i.get().concat([{bar:t,focus:qu()}]))})),Pr(t,AT,{contents:e.event().forwardContents(),focus:y.none()})})),Vr(ET,(function(t,e){Q(i.get()).each((function(e){i.set(i.get().slice(0,i.get().length-1)),Pr(t,AT,{contents:Ki(e.bar),focus:e.focus})}))}))]),Eh.config({mode:"special",onEscape:function(t){return Q(i.get()).fold((function(){return o.onEscape()}),(function(e){return Rr(t,ET),y.some(!0)}))}})]),lazySink:function(){return C.value(o.sink)}}))),c=function(){return _T(t)},s=function(){if(a()&&r.backstage.isContextMenuOpen())return!0;var e,n,o,i,u,s,l=(e=p.get().map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()})),n=t.inline?da().top():_a(nn.fromDom(t.getBody())).y(),{y:e.top+n,bottom:e.bottom+n}),f=c();return o=l.y,i=l.bottom,u=f.y(),s=f.bottom(),!(Math.max(o,u)<=Math.min(i,s))},l=function(){yp.hide(u)},f=function(){h.get().each((function(t){var e=u.element();Bi(e,"display"),s()?Ti(e,"display","none"):Ds.positionWithinBounds(n,t,u,y.some(c()))}))},h=tn(y.none()),p=tn(y.none()),m=tn(null),g=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:Bu([Eh.config({mode:"acyclic"}),Ph("pop-dialog-wrap-events",[Kr((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Eh.focusIn(e)}))})),Jr((function(e){t.shortcuts.remove("ctrl+F9")}))])])}},v=bt((function(){return OT(e,(function(t){var e=b(t);Pr(u,TT,{forwardContents:g(e)})}))})),b=function(e){var n,o,i=t.ui.registry.getAll().buttons,a=Wp(t)===ed.scrolling?ed.scrolling:ed.default,u=v();return"contexttoolbar"===e.type?(n=d(d({},i),u.formNavigators),o=eE(t,{buttons:n,toolbar:e.items,allowToolbarGroups:!1},r,y.some(["form:"])),RO({type:a,uid:Io("context-toolbar"),initGroups:o,onEscape:y.none,cyclicKeying:!0})):CT(a,e,r.backstage)};t.on("contexttoolbar-show",(function(e){var n=v();lt(n.lookupTable,e.toolbarKey).each((function(n){x(n,e.target===t?y.none():y.some(e)),yp.getContent(u).each(Eh.focusIn)}))}));var w=function(t,e){var n="node"===t?r.backstage.shared.anchors.node(e):r.backstage.shared.anchors.cursor();return gt(n,function(t,e){return"line"===t?{bubble:wc(12,0,nE),layouts:{onLtr:function(){return[Su]},onRtl:function(){return[ku]}},overrides:rE}:{bubble:wc(0,12,nE),layouts:e?iE:oE,overrides:rE}}(t,a()))},x=function(t,e){if(S(),!a()||!r.backstage.isContextMenuOpen()){var n=b(t),o=e.map(nn.fromDom),i=w(t.position,o);h.set(y.some(i)),p.set(e);var l=u.element();Bi(l,"display"),yp.showWithinBounds(u,i,g(n),(function(){return y.some(c())})),s()&&Ti(l,"display","none")}},_=function(){var e=v();kT(e,t).fold((function(){h.set(y.none()),yp.hide(u)}),(function(t){x(t.toolbarApi,y.some(t.elem.dom()))}))},S=function(){var t=m.get();null!==t&&(Np.clearTimeout(t),m.set(null))},k=function(t){S(),m.set(t)};t.on("init",(function(){t.on("contexttoolbar-hide",l),t.on("ScrollContent ScrollWindow longpress",f),t.on("click keyup SetContent ObjectResized ResizeEditor",(function(e){k(Np.setEditorTimeout(t,_,0))})),t.on("focusout",(function(e){Np.setEditorTimeout(t,(function(){Xu(n.element()).isNone()&&Xu(u.element()).isNone()&&(h.set(y.none()),yp.hide(u))}),0)})),t.on("SwitchMode",(function(){t.readonly&&(h.set(y.none()),yp.hide(u))})),t.on("NodeChange",(function(e){Xu(u.element()).fold((function(){k(Np.setEditorTimeout(t,_,0))}),(function(t){}))}))}))},uE=function(t,n,r){var o=function(t,e){F([n,r],(function(n){n.broadcastEvent(t,e)}))},i=function(t,e){F([n,r],(function(n){n.broadcastOn([t],e)}))},a=function(t){return i(Qs(),{target:t.target()})},u=mb(nn.fromDom(e.document),"touchstart",a),c=mb(nn.fromDom(e.document),"touchmove",(function(t){return o(yr(),t)})),s=mb(nn.fromDom(e.document),"touchend",(function(t){return o(wr(),t)})),l=mb(nn.fromDom(e.document),"mousedown",a),f=mb(nn.fromDom(e.document),"mouseup",(function(t){0===t.raw().button&&i(el(),{target:t.target()})})),d=function(t){return i(Qs(),{target:nn.fromDom(t.target)})},h=function(t){0===t.button&&i(el(),{target:nn.fromDom(t.target)})},p=function(t){return o(xr(),vb(t))},m=function(t){i(tl(),{}),o(Cr(),vb(t))},g=function(){return i(tl(),{})};t.on("PostRender",(function(){t.on("click",d),t.on("tap",d),t.on("mouseup",h),t.on("ScrollWindow",p),t.on("ResizeWindow",m),t.on("ResizeEditor",g)})),t.on("remove",(function(){t.off("click",d),t.off("tap",d),t.off("mouseup",h),t.off("ScrollWindow",p),t.off("ResizeWindow",m),t.off("ResizeEditor",g),l.unbind(),u.unbind(),c.unbind(),s.unbind(),f.unbind()})),t.on("detach",(function(){Vs(n),Vs(r),n.destroy(),r.destroy()}))},cE=gf,sE=Zl,lE=o([We("shell",!1),De("makeItem"),We("setupItem",n),Cl("listBehaviours",[Rh])]),fE=Yl({name:"items",overrides:function(){return{behaviours:Bu([Rh.config({})])}}}),dE=o([fE]),hE=o("CustomList"),pE=Sf({name:hE(),configFields:lE(),partFields:dE(),factory:function(t,n,r,o){var i=t.shell?{behaviours:[Rh.config({})],components:[]}:{behaviours:[],components:n},a=function(e){return t.shell?y.some(e):cf(e,t,"items")};return{uid:t.uid,dom:t.dom,components:i.components,behaviours:xl(t.listBehaviours,i.behaviours),apis:{setItems:function(n,r){a(n).fold((function(){throw e.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(e){var o=Rh.contents(e),i=r.length,a=i-o.length,u=a>0?function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n}(a,(function(){return t.makeItem()})):[],c=o.slice(i);F(c,(function(t){return Rh.remove(e,t)})),F(u,(function(t){return Rh.append(e,t)}));var s=Rh.contents(e);F(s,(function(e,o){t.setupItem(n,e,r[o],o)}))}))}}}},apis:{setItems:function(t,e,n){t.setItems(e,n)}}}),mE=function(t){return(Mi(t,"position").is("fixed")?y.none():co(t)).orThunk((function(){var e=nn.fromTag("span");return uo(t).bind((function(t){mo(t,e);var n=co(e);return bo(e),n}))}))},gE=function(t){return mE(t).map(oa).getOrThunk((function(){return na(0,0)}))},vE=ht([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),bE=function(t,e){var n=t.element();mi(n,e.transitionClass),vi(n,e.fadeOutClass),mi(n,e.fadeInClass),e.onShow(t)},yE=function(t,e){var n=t.element();mi(n,e.transitionClass),vi(n,e.fadeInClass),mi(n,e.fadeOutClass),e.onHide(t)},wE=function(t,e,n){return X(t,(function(t){switch(t){case"bottom":return function(t,e){return t.bottom()<=e.bottom()}(e,n);case"top":return function(t,e){return t.y()>=e.y()}(e,n)}}))},xE=function(t,e){return e.getInitialPosition().map((function(e){return xa(e.bounds.x(),e.bounds.y(),ua(t),Qi(t))}))},CE=function(t,e,n){return n.getInitialPosition().bind((function(r){switch(n.setInitialPosition(y.none()),r.position){case"static":return y.some(vE.static());case"absolute":var o=mE(t).map(Ca).getOrThunk((function(){return Ca(_i())}));return y.some(vE.absolute(Yu("absolute",lt(r.style,"left").map((function(t){return e.x()-o.x()})),lt(r.style,"top").map((function(t){return e.y()-o.y()})),lt(r.style,"right").map((function(t){return o.right()-e.right()})),lt(r.style,"bottom").map((function(t){return o.bottom()-e.bottom()})))));default:return y.none()}}))},_E=function(t,e,n,r){var o=Ca(t);if(wE(e.modes,o,n))return y.none();!function(t,e,n){n.setInitialPosition(y.some({style:Ri(t),position:Di(t,"position")||"static",bounds:e}))}(t,o,r);var i=Sa(),a=o.x()-i.x(),u=n.y()-i.y(),c=i.bottom()-n.bottom(),s=o.y()<=n.y();return y.some(vE.fixed(Yu("fixed",y.some(a),s?y.some(u):y.none(),y.none(),s?y.none():y.some(c))))},SE=function(t,e,n,r){var o=t.element();return Mi(o,"position").is("fixed")?function(t,e,n,r){return xE(t,r).filter((function(t){return wE(e.modes,t,n)})).bind((function(e){return CE(t,e,r)}))}(o,e,n,r):_E(o,e,n,r)},kE=function(t,e){F(["left","right","top","bottom","position"],(function(e){return Bi(t.element(),e)})),e.onUndocked(t)},OE=function(t,e,n){Ku(t.element(),n),("fixed"===n.position()?e.onDocked:e.onUndocked)(t)},TE=function(t,e,n,r,o){void 0===o&&(o=!1),e.contextual.each((function(e){e.lazyContext(t).each((function(i){var a=function(t,e){return t.y()<e.bottom()&&t.bottom()>e.y()}(i,r);a!==n.isVisible()&&(n.setVisible(a),o&&!a?(yi(t.element(),[e.fadeOutClass]),e.onHide(t)):(a?bE:yE)(t,e))}))}))},EE=function(t,e,r){var o=t.element();r.setDocked(!1),function(t,e){var n=t.element();return xE(n,e).bind((function(t){return CE(n,t,e)}))}(t,r).each((function(r){r.fold((function(){return kE(t,e)}),(function(n){return OE(t,e,n)}),n)})),r.setVisible(!0),e.contextual.each((function(e){wi(o,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(t)})),AE(t,e,r)},AE=function(t,e,n){t.getSystem().isConnected()&&function(t,e,n){var r=e.lazyViewport(t),o=n.isDocked();o&&TE(t,e,n,r),SE(t,e,r,n).each((function(i){n.setDocked(!o),i.fold((function(){return kE(t,e)}),(function(n){return OE(t,e,n)}),(function(o){TE(t,e,n,r,!0),OE(t,e,o)}))}))}(t,e,n)},DE=function(t,e,n){n.isDocked()&&EE(t,e,n)},NE=Object.freeze({__proto__:null,refresh:AE,reset:DE,isDocked:function(t,e,n){return n.isDocked()}}),ME=Object.freeze({__proto__:null,events:function(t,e){return Fr([Yr(ir(),(function(n,r){t.contextual.each((function(t){bi(n.element(),t.transitionClass)&&(wi(n.element(),[t.transitionClass,t.fadeInClass]),(e.isVisible()?t.onShown:t.onHidden)(n));r.stop()}))})),Vr(xr(),(function(n,r){AE(n,t,e)})),Vr(Cr(),(function(n,r){DE(n,t,e)}))])}}),RE=[Ue("contextual",[Re("fadeInClass"),Re("fadeOutClass"),Re("transitionClass"),Be("lazyContext"),Ya("onShow"),Ya("onShown"),Ya("onHide"),Ya("onHidden")]),Je("lazyViewport",Sa),function(t,e,n){return qe(t,e,ne(n))}("modes",["top","bottom"],Se),Ya("onDocked"),Ya("onUndocked")],PE=Object.freeze({__proto__:null,init:function(){var t=tn(!1),e=tn(!0),n=tn(y.none());return ti({isDocked:function(){return t.get()},setDocked:function(e){return t.set(e)},getInitialPosition:function(){return n.get()},setInitialPosition:function(t){return n.set(t)},isVisible:function(){return e.get()},setVisible:function(t){return e.set(t)},readState:function(){return"docked:  "+t.get()+", visible: "+e.get()}})}}),BE=Iu({fields:RE,name:"docking",active:ME,apis:NE,state:PE}),zE={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},IE=function(t,e){var n=t.element();uo(n).each((function(r){var o="padding-"+(e?"top":"bottom");if(BE.isDocked(t)){var i=ua(r);Ti(n,"width",i+"px"),Ti(r,o,function(t){return ta(t)+(parseInt(Di(t,"margin-top"),10)||0)+(parseInt(Di(t,"margin-bottom"),10)||0)}(n)+"px")}else Bi(n,"width"),Bi(r,o)}))},LE=function(t,e){e?(vi(t,zE.fadeOutClass),yi(t,[zE.transitionClass,zE.fadeInClass])):(vi(t,zE.fadeInClass),yi(t,[zE.fadeOutClass,zE.transitionClass]))},FE=function(t,e){var n=nn.fromDom(t.getContainer());e?(mi(n,"tox-tinymce--toolbar-sticky-on"),vi(n,"tox-tinymce--toolbar-sticky-off")):(mi(n,"tox-tinymce--toolbar-sticky-off"),vi(n,"tox-tinymce--toolbar-sticky-on"))},HE=function(t,e){var n=tn(y.none()),r=qp(t),o=function(t){e().each((function(e){return t(e.element())}))},i=function(n){t.inline||IE(n,r),FE(t,BE.isDocked(n)),n.getSystem().broadcastOn([tl()],{}),e().each((function(t){return t.getSystem().broadcastOn([tl()],{})}))},a=t.inline?[]:function(t){var e;return[$u.config({channels:(e={},e[CO()]={onReceive:function(e){IE(e,t)}},e)})]}(r);return p([Fh.config({}),BE.config({contextual:d({lazyContext:function(e){var n=ta(e.element()),o=t.inline?t.getContentAreaContainer():t.getContainer(),i=Ca(nn.fromDom(o)),a=i.height()-n,u=i.y()+(r?0:n);return y.some(xa(i.x(),u,i.width(),a))},onShow:function(){o((function(t){return LE(t,!0)}))},onShown:function(t){o((function(t){return wi(t,[zE.transitionClass,zE.fadeInClass])})),n.get().each((function(e){var r,o,i;r=t.element(),i=oo(o=e),qu(i).filter((function(t){return!Bn(o,t)})).filter((function(t){return Bn(t,nn.fromDom(i.dom().body))||In(r,t)})).each((function(){return Wu(o)})),n.set(y.none())}))},onHide:function(t){n.set(function(t,e){return Xu(t).orThunk((function(){return e().toOption().bind((function(t){return Xu(t.element())}))}))}(t.element(),e)),o((function(t){return LE(t,!1)}))},onHidden:function(){o((function(t){return wi(t,[zE.transitionClass])}))}},zE),modes:[r?"top":"bottom"],onDocked:i,onUndocked:i})],a)},jE=Object.freeze({__proto__:null,setup:function(t,e){t.inline||(qp(t)||t.on("ResizeEditor",(function(){e().each(BE.reset)})),t.on("ResizeWindow ResizeEditor",(function(){e().each((function(e){return IE(e,qp(t))}))})),t.on("SkinLoaded",(function(){e().each((function(t){BE.isDocked(t)?BE.reset(t):BE.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){e().each(BE.reset)}))),t.on("AfterScrollIntoView",(function(t){e().each((function(e){BE.refresh(e);var n=e.element();xd(n)&&function(t,e){var n=oo(e),r=n.dom().defaultView.innerHeight,o=da(n),i=nn.fromDom(t.elm),a=_a(i),u=Qi(i),c=a.y(),s=c+u,l=oa(e),f=Qi(e),d=l.top(),h=d+f,p=Math.abs(d-o.top())<2,m=Math.abs(h-(o.top()+r))<2;if(p&&c<h)ha(o.left(),c-f,n);else if(m&&s>d){var g=c-r+u+f;ha(o.left(),g,n)}}(t,n)}))})),t.on("PostRender",(function(){FE(t,!1)}))},isDocked:function(t){return t().map(BE.isDocked).getOr(!1)},getBehaviours:HE}),VE=n,$E=s,UE=o([]),WE=Object.freeze({__proto__:null,setup:VE,isDocked:$E,getBehaviours:UE}),qE=_f({factory:function(t,e){var n={focus:Eh.focusIn,setMenus:function(t,n){var r=L(n,(function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}},r=FO(n).mapError((function(t){return be(t)})).getOrDie();return p_(r,"tox-mbtn",e.backstage,y.some("menuitem"))}));Rh.set(t,r)}};return{uid:t.uid,dom:t.dom,components:[],behaviours:Bu([Rh.config({}),Ph("menubar-events",[Kr((function(e){t.onSetup(e)})),Vr(Jn(),(function(t,e){Na(t.element(),".tox-mbtn--active").each((function(n){Ma(e.event().target(),".tox-mbtn").each((function(e){Bn(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){$y.expand(t),$y.close(n),Fh.focus(t)}))}))}))}))})),Vr(Tr(),(function(t,e){e.event().prevFocus().bind((function(e){return t.getSystem().getByDom(e).toOption()})).each((function(n){e.event().newFocus().bind((function(e){return t.getSystem().getByDom(e).toOption()})).each((function(t){$y.isOpen(n)&&($y.expand(t),$y.close(n))}))}))}))]),Eh.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){return t.onEscape(e),y.some(!0)}}),xy.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[De("dom"),De("uid"),De("onEscape"),De("backstage"),We("onSetup",n)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),XE=[yl("slotBehaviours",[])],GE=function(t){return"<alloy.field."+t+">"},YE=function(t,e){var n,r=function(e){return df(t)},o=function(e,n){return function(r,o){return cf(r,t,o).map((function(t){return e(t,o)})).getOr(n)}},i=function(t,e){return"true"!==Eo(t.element(),"aria-hidden")},a=o(i,!1),u=o((function(t,e){if(i(t)){var n=t.element();Ti(n,"display","none"),To(n,"aria-hidden","true"),Pr(t,Er(),{name:e,visible:!1})}})),c=(n=u,function(t,e){F(e,(function(e){return n(t,e)}))}),s=o((function(t,e){if(!i(t)){var n=t.element();Bi(n,"display"),Do(n,"aria-hidden"),Pr(t,Er(),{name:e,visible:!0})}})),l={getSlotNames:r,getSlot:function(e,n){return cf(e,t,n)},isShowing:a,hideSlot:u,hideAllSlots:function(t){return c(t,r())},showSlot:s};return{uid:t.uid,dom:t.dom,components:e,behaviours:wl(t.slotBehaviours),apis:l}},KE=it({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return Zo(t)})),JE=d(d({},KE),{sketch:function(t){var e=function(){var t=[];return{slot:function(e,n){return t.push(e),nf("container",GE(e),n)},record:function(){return t}}}(),n=t(e),r=e.record(),o=L(r,(function(t){return Xl({name:t,pname:GE(t)})}));return bf("container",XE,o,YE,n)}}),ZE=ee([Ve("icon"),Ve("tooltip"),Je("onShow",n),Je("onHide",n),Je("onSetup",(function(){return n}))]),QE=function(t){return{element:function(){return t.element().dom()}}},tA=function(t,e){var r=L(nt(e),(function(t){var n=e[t],r=ge(function(t){return me("sidebar",ZE,t)}(n));return{name:t,getApi:QE,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return L(r,(function(e){var o=tn(n);return t.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:zm([Eg(e,o),Ag(e,o),Vr(Er(),(function(t,e){var n=e.event();$(r,(function(t){return t.name===n.name()})).each((function(e){(n.visible()?e.onShow:e.onHide)(e.getApi(t))}))}))])})}))},eA=function(t){return JE.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:tA(e,t),slotBehaviours:zm([Kr((function(t){return JE.hideAllSlots(t)}))])}}))},nA=function(t){return Af.getCurrent(t).bind((function(t){return vO.isGrowing(t)||vO.hasGrown(t)?Af.getCurrent(t).bind((function(t){return $(JE.getSlotNames(t),(function(e){return JE.isShowing(t,e)}))})):y.none()}))},rA=Io("FixSizeEvent"),oA=Io("AutoSizeEvent"),iA=function(t){var e=nn.fromHtml(t),n=so(e),r=function(t){var e=void 0!==t.dom().attributes?t.dom().attributes:[];return V(e,(function(t,e){var n;return"class"===e.name?t:d(d({},t),((n={})[e.name]=e.value,n))}),{})}(e),o=function(t){return Array.prototype.slice.call(t.dom().classList,0)}(e),i=0===n.length?{}:{innerHtml:wo(e)};return d({tag:Co(e),classes:o,attributes:r},i)},aA=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:iA('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Bu([Eh.config({mode:"special",onTab:function(){return y.some(!0)},onShiftTab:function(){return y.some(!0)}}),Fh.config({})])}},uA=function(t,e,n){var r=tn(!1),o=tn(y.none()),i=function(t){t!==r.get()&&(!function(t,e,n){var r=t.element();!0===e?(Rh.set(t,[aA(n)]),Bi(r,"display"),Do(r,"aria-hidden")):(Rh.set(t,[]),Ti(r,"display","none"),To(r,"aria-hidden","true"))}(e(),t,n.providers),r.set(t))};t.on("ProgressState",(function(e){if(o.get().each(Np.clearTimeout),A(e.time)){var n=Np.setEditorTimeout(t,(function(){return i(e.state)}),e.time);o.set(y.some(n))}else i(e.state),o.set(y.none())}))},cA=sE.optional({factory:qE,name:"menubar",schema:[De("backstage")]}),sA=sE.optional({factory:{sketch:function(t){return pE.sketch({uid:t.uid,dom:t.dom,listBehaviours:Bu([Eh.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return RO({type:t.type,uid:Io("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],onEscape:function(){return y.none()}})},setupItem:function(t,e,n,r){Ik.setGroups(e,n)},shell:!0})}},name:"multiple-toolbar",schema:[De("dom"),De("onEscape")]}),lA=sE.optional({factory:{sketch:function(t){return function(t){return t.type===ed.sliding?MO:t.type===ed.floating?NO:RO}(t)({type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),y.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,backstage:t.backstage,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes})}},name:"toolbar",schema:[De("dom"),De("onEscape"),De("getSink")]}),fA=sE.optional({factory:{sketch:function(t){var e=t.editor,n=t.sticky?HE:UE;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Bu(n(e,t.getSink))}}},name:"header",schema:[De("dom")]}),dA=sE.optional({name:"socket",schema:[De("dom")]}),hA=sE.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Bu([xy.config({}),Fh.config({}),vO.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){Af.getCurrent(t).each(JE.hideAllSlots),Rr(t,oA)},onGrown:function(t){Rr(t,oA)},onStartGrow:function(t){Pr(t,rA,{width:Mi(t.element(),"width").getOr("")})},onStartShrink:function(t){Pr(t,rA,{width:ua(t.element())+"px"})}}),Rh.config({}),Af.config({find:function(t){var e=Rh.contents(t);return Z(e)}})])}],behaviours:Bu([qx(0),Ph("sidebar-sliding-events",[Vr(rA,(function(t,e){Ti(t.element(),"width",e.event().width())})),Vr(oA,(function(t,e){Bi(t.element(),"width")}))])])}}},name:"sidebar",schema:[De("dom")]}),pA=sE.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Bu([Rh.config({})]),components:[]}}},name:"throbber",schema:[De("dom")]}),mA=Sf({name:"OuterContainer",factory:function(t,e,n){var r={getSocket:function(e){return cE.getPart(e,t,"socket")},setSidebar:function(e,n){cE.getPart(e,t,"sidebar").each((function(t){return function(t,e){Af.getCurrent(t).each((function(t){return Rh.set(t,[eA(e)])}))}(t,n)}))},toggleSidebar:function(e,n){cE.getPart(e,t,"sidebar").each((function(t){return function(t,e){Af.getCurrent(t).each((function(t){Af.getCurrent(t).each((function(n){vO.hasGrown(t)?JE.isShowing(n,e)?vO.shrink(t):(JE.hideAllSlots(n),JE.showSlot(n,e)):(JE.hideAllSlots(n),JE.showSlot(n,e),vO.grow(t))}))}))}(t,n)}))},whichSidebar:function(e){return cE.getPart(e,t,"sidebar").bind(nA).getOrNull()},getHeader:function(e){return cE.getPart(e,t,"header")},getToolbar:function(e){return cE.getPart(e,t,"toolbar")},setToolbar:function(e,n){cE.getPart(e,t,"toolbar").each((function(t){t.getApis().setGroups(t,n)}))},setToolbars:function(e,n){cE.getPart(e,t,"multiple-toolbar").each((function(t){pE.setItems(t,n)}))},refreshToolbar:function(e){cE.getPart(e,t,"toolbar").each((function(t){return t.getApis().refresh(t)}))},getThrobber:function(e){return cE.getPart(e,t,"throbber")},focusToolbar:function(e){cE.getPart(e,t,"toolbar").orThunk((function(){return cE.getPart(e,t,"multiple-toolbar")})).each((function(t){Eh.focusIn(t)}))},setMenubar:function(e,n){cE.getPart(e,t,"menubar").each((function(t){qE.setMenus(t,n)}))},focusMenubar:function(e){cE.getPart(e,t,"menubar").each((function(t){qE.focus(t)}))}};return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}},configFields:[De("dom"),De("behaviours")],partFields:[fA,cA,lA,sA,dA,hA,pA],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var r=L(n,(function(t){return EO(t)}));t.setToolbar(e,r)},setToolbars:function(t,e,n){var r=L(n,(function(t){return L(t,EO)}));t.setToolbars(e,r)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}}),gA={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},vA=function(t){return"string"==typeof t?t.split(" "):t},bA=function(t,e){var n=d(d({},gA),e.menus),r=nt(e.menus).length>0,o=void 0===e.menubar||!0===e.menubar?vA("file edit view insert format tools table help"):vA(!1===e.menubar?"":e.menubar),i=H(o,(function(t){return r&&e.menus.hasOwnProperty(t)&&e.menus[t].hasOwnProperty("items")||gA.hasOwnProperty(t)})),a=L(i,(function(r){var o=n[r];return function(t,e,n){var r=function(t){return t.getParam("removed_menuitems","")}(n).split(/[ ,]/);return{text:t.title,getItems:function(){return q(t.items,(function(t){var n=t.toLowerCase();return 0===n.trim().length||z(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}}({title:o.title,items:vA(o.items)},e,t)}));return H(a,(function(t){return t.getItems().length>0&&z(t.getItems(),(function(t){return"separator"!==t.type}))}))},yA=function(t){var e=function(){t._skinLoaded=!0,wv(t)};return function(){t.initialized?e():t.on("init",e)}},wA=function(t,e){return function(){return xv(t,{message:e})}},xA=function(t,e){var n,r=function(t){var e=t.settings,n=e.skin,r=e.skin_url;if(!1!==n){var o=n||"oxide";r=r?t.documentBaseURI.toAbsolute(r):Rp.baseURL+"/skins/ui/"+o}return r}(e);r&&(n=r+"/skin.min.css",e.contentCSS.push(r+(t?"/content.inline":"/content")+".min.css")),!1===function(t){return!1===t.getParam("skin")}(e)&&n?Mp.DOM.styleSheetLoader.load(n,yA(e),wA(e,"Skin could not be loaded")):yA(e)()},CA=a(xA,!1),_A=a(xA,!0),SA=function(t,e,n,r){var o=e.outerContainer,i=n.toolbar,a=n.buttons;if(D(i,S)){var u=i.map((function(e){var o={toolbar:e,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return eE(t,o,{backstage:r},y.none())}));mA.setToolbars(o,u)}else mA.setToolbar(o,eE(t,n,{backstage:r},y.none()))},kA=Mp.DOM,OA=On(),TA=OA.os.isiOS()&&OA.os.version.major<=12,EA={render:function(t,n,r,o,i){var a=tn(0);CA(t),function(t,e){js(t,e,ho)}(nn.fromDom(i.targetNode),n.mothership),Hs(_i(),n.uiMothership),t.on("PostRender",(function(){SA(t,n,r,o),a.set(t.getWin().innerWidth),mA.setMenubar(n.outerContainer,bA(t,r)),mA.setSidebar(n.outerContainer,r.sidebar),function(t){var e=t.getWin(),n=t.getDoc().documentElement,r=tn(na(e.innerWidth,e.innerHeight)),o=tn(na(n.offsetWidth,n.offsetHeight)),i=function(n){var i=t.getDoc().documentElement,a=r.get(),u=o.get();a.left()!==e.innerWidth||a.top()!==e.innerHeight?(r.set(na(e.innerWidth,e.innerHeight)),Sv(t,n)):u.left()===i.offsetWidth&&u.top()===i.offsetHeight||(o.set(na(i.offsetWidth,i.offsetHeight)),Sv(t,n))},a=function(e){return _v(t,e)};kA.bind(e,"resize",i),kA.bind(e,"scroll",a);var u=gb(nn.fromDom(t.getBody()),"load",i);t.on("remove",(function(){u.unbind(),kA.unbind(e,"resize",i),kA.unbind(e,"scroll",a)}))}(t)}));var u,c,s,l=mA.getSocket(n.outerContainer).getOrDie("Could not find expected socket element");if(!0===TA){Ei(l.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var f=(u=function(){t.fire("ScrollContent")},c=20,s=null,{cancel:function(){null!==s&&(e.clearTimeout(s),s=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===s&&(s=e.setTimeout((function(){u.apply(null,t),s=null}),c))}});mb(l.element(),"scroll",f.throttle)}kO(t,n),t.addCommand("ToggleSidebar",(function(e,r){mA.toggleSidebar(n.outerContainer,r),t.fire("ToggleSidebar")})),t.addQueryValueHandler("ToggleSidebar",(function(){return mA.whichSidebar(n.outerContainer)}));var d=Wp(t);return d!==ed.sliding&&d!==ed.floating||t.on("ResizeWindow ResizeEditor ResizeContent",(function(){var e=t.getWin().innerWidth;e!==a.get()&&(mA.refreshToolbar(n.outerContainer),a.set(e))})),{iframeContainer:l.element().dom(),editorContainer:n.outerContainer.element().dom()}}},AA=function(t,e,n){var r=e.filter((function(e){return t<e})),o=n.filter((function(e){return t>e}));return r.or(o).getOr(t)},DA=function(t){return/^[0-9\.]+(|px)$/i.test(""+t)?y.some(parseInt(""+t,10)):y.none()},NA=function(t){return A(t)?t+"px":t},MA=function(t){return function(t){var e=Pp(t),n=Ip(t),r=Fp(t);return DA(e).map((function(t){return AA(t,n,r)}))}(t).getOr(Pp(t))},RA=function(t){var e=Bp(t),n=zp(t),r=Lp(t);return DA(e).map((function(t){return AA(t,n,r)}))},PA=function(t,e){var n=Ca(t);return e?n.y():n.bottom()},BA={render:function(t,e,n,r,o){var i,a=Mp.DOM,u=Gp(t),c=Kp(t),s=nn.fromDom(o.targetNode),l=Lp(t).or(RA(t)),f=Wp(t),d=f===ed.floating,h=f===ed.sliding||d,p=qp(t),m=tn(PA(s,p)),g=tn(!1);_A(t);var v=function(t){(void 0===t&&(t=!1),h&&mA.refreshToolbar(e.outerContainer),u)||function(t){var n=h?t.fold((function(){return 0}),(function(t){return t.components().length>1?Qi(t.components()[1].element()):0})):0,r=Ca(s),o=p?r.y()-Qi(i.element())+n:r.bottom();Ei(e.outerContainer.element(),{position:"absolute",top:Math.round(o)+"px",left:Math.round(r.x())+"px"});var a=l.getOrThunk((function(){var t=DA(Di(_i(),"margin-left")).getOr(0);return ua(_i())-r.x()+t}));Ti(i.element(),"max-width",a+"px")}(mA.getToolbar(e.outerContainer));c&&(t?BE.reset(i):BE.refresh(i)),d&&mA.getToolbar(e.outerContainer).each((function(t){eO.reposition(t)}))},b=function(){g.set(!0),Ti(e.outerContainer.element(),"display","flex"),a.addClass(t.getBody(),"mce-edit-focus"),Bi(e.uiMothership.element(),"display"),v()},y=function(){g.set(!1),e.outerContainer&&(Ti(e.outerContainer.element(),"display","none"),a.removeClass(t.getBody(),"mce-edit-focus")),Ti(e.uiMothership.element(),"display","none")},w=function(){if(i)b();else{i=mA.getHeader(e.outerContainer).getOrDie();var o=function(t){return Xp(t).getOr(_i())}(t);Hs(o,e.mothership),Hs(o,e.uiMothership),SA(t,e,n,r),mA.setMenubar(e.outerContainer,bA(t,n)),b(),t.on("activate",b),t.on("deactivate",y),t.on("SkinLoaded ResizeWindow",(function(){g.get()&&v(!0)})),t.on("NodeChange keydown",(function(){Np.requestAnimationFrame((function(){var t=PA(s,p);g.get()&&t!==m.get()&&(v(!0),m.set(t))}))})),t.nodeChanged()}};return t.on("focus",w),t.on("blur hide",y),t.on("init",(function(){t.hasFocus()&&w()})),kO(t,e),{editorContainer:e.outerContainer.element().dom()}}},zA=function(t){V_.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,onAction:function(){return t.execCommand(e.cmd)},icon:e.icon,onSetup:DT(t,e.name)})}));var e="alignnone",n="No alignment",r="JustifyNone",o="align-none";t.ui.registry.addButton(e,{tooltip:n,onAction:function(){return t.execCommand(r)},icon:o})},IA=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},LA=function(t){!function(t){V_.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:DT(t,e.name),onAction:IA(t,e.name)})}));for(var e=1;e<=6;e++){var n="h"+e;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:DT(t,n),onAction:IA(t,n)})}}(t),function(t){V_.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}))}(t),function(t){V_.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)},onSetup:DT(t,e.name)})}))}(t)},FA=function(t){LA(t),function(t){V_.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:IA(t,"code")})}(t)},HA=function(t,e,n){var r=function(){return!!e.undoManager&&e.undoManager[n]()},o=function(){t.setDisabled(e.readonly||!r())};return t.setDisabled(!r()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},jA=function(t){!function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return HA(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return HA(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t),function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return HA(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return HA(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t)},VA=function(t){!function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})}(t),function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return function(t,e){t.setActive(e.hasVisual);var n=function(e){t.setActive(e.hasVisual)};return e.on("VisualAid",n),function(){return e.off("VisualAid",n)}}(e,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})}(t)},$A=function(t){!function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return function(t,e){t.setDisabled(!e.queryCommandState("outdent"));var n=function(){t.setDisabled(!e.queryCommandState("outdent"))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}(e,t)},onAction:function(){return t.execCommand("outdent")}}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})}(t)},UA=function(t,e){!function(t,e){var n=RT(0,e,LT(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=RT(0,e,jT(t));t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=d({type:"advanced"},e.styleselect),r=RT(0,e,GT(t,n));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}(t,e),function(t,e){var n=RT(0,e,XT(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=RT(0,e,UT(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e)},WA=function(t,e){zA(t),FA(t),UA(t,e),jA(t),zv.register(t),VA(t),$A(t)},qA=function(t,e){return{anchor:"makeshift",x:t,y:e}},XA=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},GA=function(t,e){var n=Mp.DOM.getPos(t);return function(t,e,n){return qA(t.x+e,t.y+n)}(e,n.x,n.y)},YA=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?function(t){if(XA(t)){var e=t.touches[0];return qA(e.pageX,e.pageY)}return qA(t.pageX,t.pageY)}(e):GA(t.getContentAreaContainer(),function(t){if(XA(t)){var e=t.touches[0];return qA(e.clientX,e.clientY)}return qA(t.clientX,t.clientY)}(e)):KA(t)},KA=function(t){return{anchor:"selection",root:nn.fromDom(t.selection.getNode())}},JA=function(t){return{anchor:"node",node:y.some(nn.fromDom(t.selection.getNode())),root:nn.fromDom(t.getBody())}},ZA=function(t,e,n,r,o,i){var a=n(),u=function(t,e,n){return n?JA(t):YA(t,e)}(t,e,i);d_(a,Dg.CLOSE_ON_EXECUTE,r,!1).map((function(t){e.preventDefault(),yp.showMenuAt(o,u,{menu:{markers:Fv("normal")},data:t})}))},QA={onLtr:function(){return[_u,bu,yu,wu,xu,Cu,Ap,Dp,Tp,kp,Ep,Op]},onRtl:function(){return[_u,yu,bu,xu,wu,Cu,Ap,Dp,Ep,Op,Tp,kp]}},tD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},eD=function(t,e,n,r,o,i,a){var u=function(t,e,n){var r=e?JA(t):YA(t,n);return d({bubble:wc(0,12,tD),layouts:QA,overrides:{maxWidthFunction:Nk(),maxHeightFunction:mc()}},r)}(t,i,e);d_(n,Dg.CLOSE_ON_EXECUTE,r,!0).map((function(n){e.preventDefault(),yp.showMenuWithinBounds(o,u,{menu:{markers:Fv("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return y.some(_T(t))})),t.fire("contexttoolbar-hide")}))},nD=function(t,e,n,r,o,i){var a=On(),u=a.os.isiOS(),c=a.os.isOSX(),s=a.os.isAndroid(),l=a.deviceType.isTouch(),f=function(){var a=n();eD(t,e,a,r,o,i,!(s||u||c&&l))};if(!c&&!u||i)s&&!i&&t.selection.setCursorLocation(e.target,0),f();else{var d=function(){!function(t){var e=t.selection.getRng(),n=function(){Np.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10),i()};t.once("touchend",n);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var o=function(){return i()};t.once("longpresscancel",o);var i=function(){t.off("touchend",n),t.off("longpresscancel",o),t.off("mousedown",r)}}(t),f()};!function(t,e){var n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;var r=e.touches[0],o=n.getRng();return Yc(t.getWin(),Pc.domRange(o)).exists((function(t){return t.left()<=r.clientX&&t.right()>=r.clientX&&t.top()<=r.clientY&&t.bottom()>=r.clientY}))}(t,e)?(t.once("selectionchange",d),t.once("touchend",(function(){return t.off("selectionchange",d)}))):d()}},rD=function(t){return"string"==typeof t?t.split(/[ ,]/):t},oD=function(t){return t.settings.contextmenu_never_use_native||!1},iD=function(t){return function(t,e,n){var r=t.ui.registry.getAll().contextMenus;return lt(t.settings,e).map(rD).getOrThunk((function(){return H(rD(n),(function(t){return ft(r,t)}))}))}(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},aD=function(t){return!1===t.getParam("contextmenu")},uD=function(t){return S(t)?"|"===t:"separator"===t.type},cD={type:"separator"},sD=function(t){if(S(t))return t;switch(t.type){case"separator":return cD;case"submenu":return{type:"nestedmenuitem",text:t.text,icon:t.icon,getSubmenuItems:function(){var e=t.getSubmenuItems();return S(e)?e:L(e,sD)}};default:return{type:"menuitem",text:t.text,icon:t.icon,onAction:(e=t.onAction,function(){return e()})}}var e},lD=function(t,e){if(0===e.length)return t;var n=Q(t).filter((function(t){return!uD(t)})).fold((function(){return[]}),(function(t){return[cD]}));return t.concat(n).concat(e).concat([cD])},fD=function(t,e,n){var r=On().deviceType.isTouch,o=Yi(yp.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Bu([Ph("dismissContextMenu",[Vr(kr(),(function(e,n){Zs.close(e),t.focus()}))])])})),i=function(t){return yp.hide(o)},a=function(e){if(oD(t)&&e.preventDefault(),!function(t,e){return e.ctrlKey&&!oD(t)}(t,e)&&!aD(t)){var i=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)}(t,e);(r()?nD:ZA)(t,e,(function(){var n=i?t.selection.getStart(!0):e.target,r=t.ui.registry.getAll(),o=iD(t);return function(t,e,n){var r=V(e,(function(e,r){if(ft(t,r)){var o=t[r].update(n);if(S(o))return lD(e,o.split(" "));if(o.length>0){var i=L(o,sD);return lD(e,i)}return e}return e.concat([r])}),[]);return r.length>0&&uD(r[r.length-1])&&r.pop(),r}(r.contextMenus,o,n)}),n,o,i)}};t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(r()?"":" ResizeWindow");t.on(e,i),t.on("longpress contextmenu",a)}))},dD=ht([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),hD=function(t){return function(e){return e.translate(-t.left(),-t.top())}},pD=function(t){return function(e){return e.translate(t.left(),t.top())}},mD=function(t){return function(e,n){return V(t,(function(t,e){return e(t)}),na(e,n))}},gD=function(t,e,n){return t.fold(mD([pD(n),hD(e)]),mD([hD(e)]),mD([]))},vD=function(t,e,n){return t.fold(mD([pD(n)]),mD([]),mD([pD(e)]))},bD=function(t,e,n){return t.fold(mD([]),mD([hD(n)]),mD([pD(e),hD(n)]))},yD=function(t,e,n){var r=t.fold((function(t,e){return{position:y.some("absolute"),left:y.some(t+"px"),top:y.some(e+"px")}}),(function(t,e){return{position:y.some("absolute"),left:y.some(t-n.left()+"px"),top:y.some(e-n.top()+"px")}}),(function(t,e){return{position:y.some("fixed"),left:y.some(t+"px"),top:y.some(e+"px")}}));return d({right:y.none(),bottom:y.none()},r)},wD=function(t,e,n,r){var o=function(t,o){return function(i,a){var u=t(e,n,r);return o(i.getOr(u.left()),a.getOr(u.top()))}};return t.fold(o(bD,xD),o(vD,CD),o(gD,_D))},xD=dD.offset,CD=dD.absolute,_D=dD.fixed,SD=function(t,e,n,r){return function(t,e){var n=t.element(),r=parseInt(Eo(n,e.leftAttr),10),o=parseInt(Eo(n,e.topAttr),10);return isNaN(r)||isNaN(o)?y.none():y.some(na(r,o))}(t,e).fold((function(){return n}),(function(t){return _D(t.left()+r.left(),t.top()+r.top())}))},kD=function(t,e,n,r,o,i){var a=SD(t,e,n,r),u=e.mustSnap?ED(t,e,a,o,i):AD(t,e,a,o,i),c=gD(a,o,i);return function(t,e,n){var r=t.element();To(r,e.leftAttr,n.left()+"px"),To(r,e.topAttr,n.top()+"px")}(t,e,c),u.fold((function(){return{coord:_D(c.left(),c.top()),extra:y.none()}}),(function(t){return{coord:t.output(),extra:t.extra()}}))},OD=function(t,e){!function(t,e){var n=t.element();Do(n,e.leftAttr),Do(n,e.topAttr)}(t,e)},TD=function(t,e,n,r){return et(t,(function(t){var i=t.sensor();return function(t,e,n,r,o,i){var a=vD(t,o,i),u=vD(e,o,i);return Math.abs(a.left()-u.left())<=n&&Math.abs(a.top()-u.top())<=r}(e,i,t.range().left(),t.range().top(),n,r)?y.some({output:o(wD(t.output(),e,n,r)),extra:t.extra}):y.none()}))},ED=function(t,e,n,r,i){var a=e.getSnapPoints(t);return TD(a,n,r,i).orThunk((function(){return V(a,(function(t,e){var o=e.sensor(),a=function(t,e,n,r,o,i){var a=vD(t,o,i),u=vD(e,o,i),c=Math.abs(a.left()-u.left()),s=Math.abs(a.top()-u.top());return na(c,s)}(n,o,e.range().left(),e.range().top(),r,i);return t.deltas.fold((function(){return{deltas:y.some(a),snap:y.some(e)}}),(function(n){return(a.left()+a.top())/2<=(n.left()+n.top())/2?{deltas:y.some(a),snap:y.some(e)}:t}))}),{deltas:y.none(),snap:y.none()}).snap.map((function(t){return{output:o(wD(t.output(),n,r,i)),extra:t.extra}}))}))},AD=function(t,e,n,r,o){var i=e.getSnapPoints(t);return TD(i,n,r,o)},DD=Object.freeze({__proto__:null,snapTo:function(t,e,n,r){var o=e.getTarget(t.element());if(e.repositionTarget){var i=oo(t.element()),a=da(i),u=gE(o),c=function(t,e,n){return{coord:wD(t.output(),t.output(),e,n),extra:t.extra()}}(r,a,u),s=yD(c.coord,0,u);Ai(o,s)}}}),ND=function(t,e){t.getSystem().addToGui(e),function(t){uo(t.element()).filter(So).each((function(e){Mi(e,"z-index").each((function(t){To(e,"data-initial-z-index",t)})),Ti(e,"z-index",Di(t.element(),"z-index"))}))}(e)},MD=function(t){!function(t){uo(t.element()).filter(So).each((function(t){var e=Eo(t,"data-initial-z-index");Ao(t,"data-initial-z-index")?Ti(t,"z-index",e):Bi(t,"z-index"),Do(t,"data-initial-z-index")}))}(t),t.getSystem().removeFromGui(t)},RD=function(t,e,n){return t.getSystem().build(Pb.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))},PD=Ue("snaps",[De("getSnapPoints"),Ya("onSensor"),De("leftAttr"),De("topAttr"),We("lazyViewport",Sa),We("mustSnap",!1)]),BD=[We("useFixed",s),De("blockerClass"),We("getTarget",i),We("onDrag",n),We("repositionTarget",!0),We("onDrop",n),Je("getBounds",Sa),PD],zD=function(t){return(e=Mi(t,"left"),n=Mi(t,"top"),r=Mi(t,"position"),o=function(t,e,n){return("fixed"===n?_D:xD)(parseInt(t,10),parseInt(e,10))},e.isSome()&&n.isSome()&&r.isSome()?y.some(o(e.getOrDie(),n.getOrDie(),r.getOrDie())):y.none()).getOrThunk((function(){var e=oa(t);return CD(e.left(),e.top())}));var e,n,r,o},ID=function(t,e,n,r,o,i,a){return function(t,e,n,r,o){var i=o.bounds,a=vD(e,n,r),u=uc(a.left(),i.x(),i.x()+i.width()-o.width),c=uc(a.top(),i.y(),i.y()+i.height()-o.height),s=CD(u,c);return e.fold((function(){var t=bD(s,n,r);return xD(t.left(),t.top())}),(function(){return s}),(function(){var t=gD(s,n,r);return _D(t.left(),t.top())}))}(0,e.fold((function(){var t,e,a,u=(t=n,e=i.left(),a=i.top(),t.fold((function(t,n){return xD(t+e,n+a)}),(function(t,n){return CD(t+e,n+a)}),(function(t,n){return _D(t+e,n+a)}))),c=gD(u,r,o);return _D(c.left(),c.top())}),(function(e){var a=kD(t,e,n,i,r,o);return a.extra.each((function(n){e.onSensor(t,n)})),a.coord})),r,o,a)},LD=function(t,e){return{bounds:t.getBounds(),height:ta(e.element()),width:ca(e.element())}},FD=function(t,e,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk((function(){return LD(e,t)}));i.each((function(n){!function(t,e,n,r){var o=e.getTarget(t.element());if(e.repositionTarget){var i=oo(t.element()),a=da(i),u=gE(o),c=zD(o),s=ID(t,e.snaps,c,a,u,r,n),l=yD(s,0,u);Ai(o,l)}e.onDrag(t,o,r)}(t,e,a,n)}))},HD=function(t,e,n,r){e.each(MD),n.snaps.each((function(e){OD(t,e)}));var o=n.getTarget(t.element());r.reset(),n.onDrop(t,o)},jD=function(t){return function(e,n){var r=function(t){n.setStartData(LD(e,t))};return Fr(p([Vr(xr(),(function(t){n.getStartData().each((function(){return r(t)}))}))],t(e,n,r)))}},VD=Object.freeze({__proto__:null,getData:function(t){return y.from(na(t.x(),t.y()))},getDelta:function(t,e){return na(e.left()-t.left(),e.top()-t.top())}}),$D=function(t,e,n){return[Vr(Xn(),(function(r,o){if(0===o.event().raw().button){o.stop();var i=function(){return HD(r,y.some(c),t,e)},a=yb(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),FD(r,t,e,VD,n)}},c=RD(r,t.blockerClass,function(t){return Fr([Vr(Xn(),t.forceDrop),Vr(Kn(),t.drop),Vr(Gn(),(function(e,n){t.move(n.event())})),Vr(Yn(),t.delayDrop)])}(u));n(r),ND(r,c)}}))]},UD=p(BD,[Qa("dragger",{handlers:jD($D)})]),WD=Object.freeze({__proto__:null,getData:function(t){var e=t.raw().touches;return 1===e.length?function(t){var e=t[0];return y.some(na(e.clientX,e.clientY))}(e):y.none()},getDelta:function(t,e){return na(e.left()-t.left(),e.top()-t.top())}}),qD=function(t,e,n){var r=tn(y.none());return[Vr($n(),(function(o,i){i.stop();var a=function(){HD(o,r.get(),t,e),r.set(y.none())},u={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){FD(o,t,e,WD,n)}},c=RD(o,t.blockerClass,function(t){return Fr([Vr($n(),t.forceDrop),Vr(Wn(),t.drop),Vr(qn(),t.drop),Vr(Un(),(function(e,n){t.move(n.event())}))])}(u));r.set(y.some(c));n(o),ND(o,c)})),Vr(Un(),(function(n,r){r.stop(),FD(n,t,e,WD,r.event())})),Vr(Wn(),(function(n,o){o.stop(),HD(n,r.get(),t,e),r.set(y.none())})),Vr(qn(),(function(n){HD(n,r.get(),t,e),r.set(y.none())}))]},XD=UD,GD=p(BD,[Qa("dragger",{handlers:jD(qD)})]),YD=p(BD,[Qa("dragger",{handlers:jD((function(t,e,n){return p($D(t,e,n),qD(t,e,n))}))})]),KD=Object.freeze({__proto__:null,mouse:XD,touch:GD,mouseOrTouch:YD}),JD=Object.freeze({__proto__:null,init:function(){var t=y.none(),e=y.none(),n=o({});return ti({readState:n,reset:function(){t=y.none(),e=y.none()},update:function(e,n){return e.getData(n).bind((function(n){return function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}));return t=y.some(n),r}(e,n)}))},getStartData:function(){return e},setStartData:function(t){e=y.some(t)}})}}),ZD=Fu({branchKey:"mode",branches:KD,name:"dragging",active:{events:function(t,e){return t.dragger.handlers(t,e)}},extra:{snap:ro(["sensor","range","output"],["extra"])},state:JD,apis:DD}),QD=On(),tN=function(t,e,n,r,o,i){return t.fold((function(){return ZD.snap({sensor:CD(n-20,r-20),range:na(o,i),output:CD(y.some(n),y.some(r)),extra:{td:e}})}),(function(t){var o=n-20,i=r-20,a=t.element().dom().getBoundingClientRect();return ZD.snap({sensor:CD(o,i),range:na(40,40),output:CD(y.some(n-a.width/2),y.some(r-a.height/2)),extra:{td:e}})}))},eN=function(t,e,n){return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,r){var o=r.td;(function(t,e){return t.exists((function(t){return Bn(t,e)}))})(e.get(),o)||(e.set(y.some(o)),n(o))},mustSnap:!0}},nN=function(t){return Zp(Jp.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Bu([ZD.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Wy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},rN=function(t,e){var n=tn([]),r=tn([]),o=tn(!1),i=tn(y.none()),a=tn(y.none()),u=function(t){var n=_a(t);return tN(f.getOpt(e),t,n.x(),n.y(),n.width(),n.height())},c=function(t){var n=_a(t);return tN(d.getOpt(e),t,n.right(),n.bottom(),n.width(),n.height())},s=eN((function(){return L(n.get(),(function(t){return u(t)}))}),i,(function(e){a.get().each((function(n){t.fire("TableSelectorChange",{start:e,finish:n})}))})),l=eN((function(){return L(r.get(),(function(t){return c(t)}))}),a,(function(e){i.get().each((function(n){t.fire("TableSelectorChange",{start:n,finish:e})}))})),f=nN(s),d=nN(l),h=Yi(f.asSpec()),p=Yi(d.asSpec()),m=function(e,n,r,o){var i=r(n);ZD.snapTo(e,i);!function(e,n,r,o){var i=n.dom().getBoundingClientRect();Bi(e.element(),"display");var a=ao(nn.fromDom(t.getBody())).dom().innerHeight,u=r(i),c=o(i,a);(u||c)&&Ti(e.element(),"display","none")}(e,n,(function(t){return t[o]<0}),(function(t,e){return t[o]>e}))},g=function(t){return m(h,t,u,"top")},v=function(t){return m(p,t,c,"bottom")};QD.deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){o.get()||(Bs(e,h),Bs(e,p),o.set(!0)),i.set(y.some(t.start)),a.set(y.some(t.finish)),t.otherCells.each((function(e){n.set(e.upOrLeftCells),r.set(e.downOrRightCells),g(t.start),v(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(g),a.get().each(v)})),t.on("TableSelectionClear",(function(){o.get()&&(Ls(h),Ls(p),o.set(!1)),i.set(y.none()),a.set(y.none())})))};!function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"}(BT||(BT={}));var oN=function(t,e,n){var r=nn.fromDom(t.getContainer()),o=function(t,e,n,r,o){var i={};return i.height=AA(r+e.top(),Ip(t),Fp(t)),n===BT.Both&&(i.width=AA(o+e.left(),zp(t),Lp(t))),i}(t,e,n,Qi(r),ua(r));ot(o,(function(t,e){return Ti(r,e,NA(t))})),Cv(t)},iN=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},aN=function(t,e){e.delimiter||(e.delimiter="");return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Bu([Eh.config({mode:"flow",selector:"div[role=button]"}),xy.config({}),Rh.config({}),Ph("elementPathEvents",[Kr((function(n,r){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Eh.focusIn(n)})),t.on("NodeChange",(function(r){var o,i,a=function(e){for(var n=[],r=e.length;r-- >0;){var o=e[r];if(1===o.nodeType&&!iN(o)){var i=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n}(r.parents);a.length>0?Rh.set(n,(o=L(a||[],(function(e,n){return Jp.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":n,"tab-index":-1,"aria-level":n+1},innerHtml:e.name},action:function(n){t.focus(),t.selection.select(e.element),t.nodeChanged()}})})),i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+e.delimiter+" "}},V(o.slice(1),(function(t,e){var n=t;return n.push(i),n.push(e),n}),[o[0]]))):Rh.set(n,[])}))}))])]),components:[]}},uN=function(t,e){var n=function(){var n,r=[];return t.getParam("elementpath",!0,"boolean")&&r.push(aN(t,{})),bn(t.settings.plugins,"wordcount")&&r.push(function(t,e){var n=function(t,n,r){return Rh.set(t,[qi(e.translate(["{0} "+r,n[r]]))])};return Jp.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Bu([xy.config({}),Rh.config({}),bl.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ph("wordcount-events",[Qr((function(t){var e=bl.getValue(t),r="words"===e.mode?"characters":"words";bl.setValue(t,{mode:r,count:e.count}),n(t,e.count,r)})),Kr((function(e){t.on("wordCountUpdate",(function(t){var r=bl.getValue(e).mode;bl.setValue(e,{mode:r,count:t.wordCount}),n(e,t.wordCount,r)}))}))])])})}(t,e)),t.getParam("branding",!0,"boolean")&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=Wm.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var r=n(),o=function(t){var e=!bn(t.settings.plugins,"autoresize"),n=t.getParam("resize",e);return!1===n?BT.None:"both"===n?BT.Both:BT.Vertical}(t);return o!==BT.None&&r.push(function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize"),"aria-hidden":"true"},innerHtml:tm("resize-handle",e.icons)},behaviours:Bu([ZD.config({mode:"mouse",repositionTarget:!1,onDrag:function(e,r,o){oN(t,o,n)},blockerClass:"tox-blocker"})])}}(o)),r}()}},cN=function(t){var e,n=t.inline,r=n?BA:EA,o=Kp(t)?jE:WE,i=y.none(),a=On(),u=a.browser.isIE()?["tox-platform-ie"]:[],c=a.deviceType.isTouch()?["tox-platform-touch"]:[],s=qp(t),l=Wm.isRtl()?{attributes:{dir:"rtl"}}:{},f={attributes:(e={},e[Sc]=s?za.TopToBottom:za.BottomToTop,e)},h=function(){return i.bind(mA.getHeader)},p=Yi({dom:d({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(u).concat(c)},l),behaviours:Bu([Ds.config({useFixed:function(){return o.isDocked(h)}})])}),m=function(){return C.value(p)},g=Zp({dom:{tag:"div",classes:["tox-anchorbar"]}}),v=function(){return i.bind((function(t){return mA.getThrobber(t)})).getOrDie("Could not find throbber element")},b=Dk(p,t,(function(){return i.bind((function(t){return g.getOpt(t)})).getOrDie("Could not find a anchor bar element")})),w=mA.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:b,onEscape:function(){t.focus()}}),x=Wp(t),_=mA.parts().toolbar(d({dom:{tag:"div",classes:["tox-toolbar"]},getSink:m,backstage:b,onEscape:function(){t.focus()},type:x,lazyToolbar:function(){return i.bind((function(t){return mA.getToolbar(t)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return h().getOrDie("Could not find header element")}},f)),S=mA.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},onEscape:function(){},type:x}),k=mA.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),O=mA.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),T=mA.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:b}),E=t.getParam("statusbar",!0,"boolean")&&!n?y.some(uN(t,b.shared.providers)):y.none(),A={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[k,O]},D=$p(t),N=jp(t),M=Hp(t),R=mA.parts().header({dom:d({tag:"div",classes:["tox-editor-header"]},f),components:W([M?[w]:[],D?[S]:N?[_]:[],Gp(t)?[]:[g.asSpec()]]),sticky:Kp(t),editor:t,getSink:m}),P=W([s?[R]:[],n?[]:[A],s?[]:[R]]),B=W([[{dom:{tag:"div",classes:["tox-editor-container"]},components:P}],n?[]:E.toArray(),[T]]),z=Yp(t),I=d(d({role:"application"},Wm.isRtl()?{dir:"rtl"}:{}),z?{"aria-hidden":"true"}:{}),L=Yi(mA.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(s?[]:["tox-tinymce--toolbar-bottom"]).concat(c).concat(u),styles:d({visibility:"hidden"},z?{opacity:"0",border:"0"}:{}),attributes:I},components:B,behaviours:Bu([Eh.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));i=y.some(L),t.shortcuts.add("alt+F9","focus menubar",(function(){mA.focusMenubar(L)})),t.shortcuts.add("alt+F10","focus toolbar",(function(){mA.focusToolbar(L)}));var H=Bb(L),j=Bb(p);uE(t,H,j);var V=function(){var e=NA(MA(t)),n=NA(function(t){return RA(t).getOr(Bp(t))}(t));return t.inline||(Pi("div","width",n)&&Ti(L.element(),"width",n),Pi("div","height",e)?Ti(L.element(),"height",e):Ti(L.element(),"height","200px")),e};return{mothership:H,uiMothership:j,backstage:b,renderUI:function(){o.setup(t,h),WA(t,b),fD(t,m,b),function(t){var e=t.ui.registry.getAll().sidebars;F(nt(e),(function(n){var r=e[n],o=function(){return y.from(t.queryCommandValue("ToggleSidebar")).is(n)};t.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",!1,n),e.setActive(o())},onSetup:function(e){var n=function(){return e.setActive(o())};return t.on("ToggleSidebar",n),function(){t.off("ToggleSidebar",n)}}})}))}(t),uA(t,v,b.shared),it(function(t){return t.getParam("toolbar_groups",{},"object")}(t),(function(e,n){t.ui.registry.addGroupToolbarButton(n,e)}));var e=t.ui.registry.getAll(),n=e.buttons,i=e.menuItems,a=e.contextToolbars,u=e.sidebars,c=Vp(t),s={menuItems:i,menus:t.settings.menu?it(t.settings.menu,(function(t){return d(d({},t),{items:t.items})})):{},menubar:t.settings.menubar,toolbar:c.getOrThunk((function(){return t.getParam("toolbar",!0)})),allowToolbarGroups:x===ed.floating,buttons:n,sidebar:u};aE(t,a,p,{backstage:b}),rN(t,p);var l=t.getElement(),f=V(),g={mothership:H,uiMothership:j,outerContainer:L},w={targetNode:l,height:f};return r.render(t,g,s,b,w)},getUi:function(){return{channels:{broadcastAll:j.broadcast,broadcastOn:j.broadcastOn,register:function(){}}}}}},sN=function(t,e){var n=y.from(Eo(t,"id")).fold((function(){var t=Io("dialog-label");return To(e,"id",t),t}),i);To(t,"aria-labelledby",n)},lN=o([De("lazySink"),Fe("dragBlockClass"),Je("getBounds",Sa),We("useTabstopAt",o(!0)),We("eventOrder",{}),yl("modalBehaviours",[Eh]),Ka("onExecute"),Za("onEscape")]),fN={sketch:i},dN=o([Yl({name:"draghandle",overrides:function(t,e){return{behaviours:Bu([ZD.config({mode:"mouse",getTarget:function(t){return Da(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),Xl({schema:[De("dom")],name:"title"}),Xl({factory:fN,schema:[De("dom")],name:"close"}),Xl({factory:fN,schema:[De("dom")],name:"body"}),Yl({factory:fN,schema:[De("dom")],name:"footer"}),Gl({factory:{sketch:function(t,e){return d(d({},t),{dom:e.dom,components:e.components})}},schema:[We("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),We("components",[])],name:"blocker"})]),hN=Sf({name:"ModalDialog",configFields:lN(),partFields:dN(),factory:function(t,e,n,r){var o=Io("alloy.dialog.busy"),a=Io("alloy.dialog.idle"),u=Bu([Eh.config({mode:"special",onTab:function(){return y.some(!0)},onShiftTab:function(){return y.some(!0)}}),Fh.config({})]),c=Io("modal-events"),s=d(d({},t.eventOrder),{"alloy.system.attached":[c].concat(t.eventOrder["alloy.system.attached"]||[])});return{uid:t.uid,dom:t.dom,components:e,apis:{show:function(e){var n=t.lazySink(e).getOrDie(),i=tn(y.none()),c=r.blocker(),s=n.getSystem().build(d(d({},c),{components:c.components.concat([Ki(e)]),behaviours:Bu([Fh.config({}),Ph("dialog-blocker-events",[Yr(Zn(),(function(){Eh.focusIn(e)})),Vr(a,(function(t,n){Ao(e.element(),"aria-busy")&&(Do(e.element(),"aria-busy"),i.get().each((function(t){return Rh.remove(e,t)})))})),Vr(o,(function(t,n){To(e.element(),"aria-busy","true");var r=n.event().getBusySpec();i.get().each((function(t){Rh.remove(e,t)}));var o=r(e,u),a=t.getSystem().build(o);i.set(y.some(a)),Rh.append(e,Ki(a)),a.hasConfigured(Eh)&&Eh.focusIn(a)}))])])}));Bs(n,s),Eh.focusIn(e)},hide:function(t){uo(t.element()).each((function(e){t.getSystem().getByDom(e).each((function(t){Ls(t)}))}))},getBody:function(e){return sf(e,t,"body")},getFooter:function(e){return sf(e,t,"footer")},setIdle:function(t){Rr(t,a)},setBusy:function(t,e){Pr(t,o,{getBusySpec:e})}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:xl(t.modalBehaviours,[Rh.config({}),Eh.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Ph(c,[Kr((function(e){var n,r,o;sN(e.element(),sf(e,t,"title").element()),n=e.element(),r=sf(e,t,"body").element(),o=y.from(Eo(n,"id")).fold((function(){var t=Io("dialog-describe");return To(r,"id",t),t}),i),To(n,"aria-describedby",o)}))])])}},apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),pN=[Re("type"),Re("text"),Pe("level",["info","warn","error","success"]),Re("icon"),We("url","")],mN=ee(pN),gN=[Re("type"),Re("text"),Ke("disabled",!1),Ke("primary",!1),ue("name","name",zt((function(){return Io("button-name")})),Se),Ve("icon"),Ke("borderless",!1)],vN=ee(gN),bN=[Re("type"),Re("name"),Re("label"),Ke("disabled",!1)],yN=ee(bN),wN=ke,xN=[Re("type"),Re("name")],CN=xN.concat([Ve("label")]),_N=ee(CN),SN=Se,kN=ee(CN),ON=Se,TN=ee(CN),EN=ne(le),AN=function(t){return[Re("type"),Me("columns"),t]},DN=CN.concat([Ke("sandboxed",!0)]),NN=ee(DN),MN=Se,RN=CN.concat([Ve("inputMode"),Ve("placeholder"),Ke("maximized",!1),Ke("disabled",!1)]),PN=ee(RN),BN=Se,zN=CN.concat([Ie("items",[Re("text"),Re("value")]),Xe("size",1),Ke("disabled",!1)]),IN=ee(zN),LN=Se,FN=CN.concat([Ke("constrain",!0),Ke("disabled",!1)]),HN=ee(FN),jN=ee([Re("width"),Re("height")]),VN=CN.concat([Ve("placeholder"),Ke("maximized",!1),Ke("disabled",!1)]),$N=ee(VN),UN=Se,WN=CN.concat([Ye("filetype","file",["image","media","file"]),We("disabled",!1)]),qN=ee(WN),XN=ee([Re("value"),We("meta",{})]),GN=xN.concat([Ge("tag","textarea"),Re("scriptId"),Re("scriptUrl"),function(t,e){return qe(t,e,Ee)}("settings",void 0)]),YN=xN.concat([Ge("tag","textarea"),Be("init")]),KN=he((function(t){return me("customeditor.old",te(YN),t).orThunk((function(){return me("customeditor.new",te(GN),t)}))})),JN=Se,ZN=[Re("type"),Re("html"),Ye("presets","presentation",["presentation","document"])],QN=ee(ZN),tM=CN.concat([Ne("currentState",ee([De("blob"),Re("url")]))]),eM=ee(tM),nM=CN.concat([We("columns","auto")]),rM=ee(nM),oM=fe([Re("value"),Re("text"),Re("icon")]),iM=function(t){return[Re("type"),Re("label"),t]},aM=[Re("type"),Le("header",Se),Le("cells",ne(Se))],uM=ee(aM),cM=function(t){return ue("items","items",Pt(),ne(he((function(e){return me("Checking item of "+t,sM,e).fold((function(t){return C.error(be(t))}),(function(t){return C.value(t)}))}))))},sM=de((function(){return ye("type",{alertbanner:mN,bar:ee((t=cM("bar"),[Re("type"),t])),button:vN,checkbox:yN,colorinput:_N,colorpicker:kN,dropzone:TN,grid:ee(AN(cM("grid"))),iframe:NN,input:PN,selectbox:IN,sizeinput:HN,textarea:$N,urlinput:qN,customeditor:KN,htmlpanel:QN,imagetools:eM,collection:rM,label:ee(iM(cM("label"))),table:uM,panel:fM});var t})),lM=[Re("type"),We("classes",[]),Le("items",sM)],fM=ee(lM),dM=[ue("name","name",zt((function(){return Io("tab-name")})),Se),Re("title"),Le("items",sM)],hM=[Re("type"),Ie("tabs",dM)],pM=ee(hM),mM=ee([Re("type"),Re("name")].concat(Em)),gM=ke,vM=[ue("name","name",zt((function(){return Io("button-name")})),Se),Ve("icon"),Ye("align","end",["start","end"]),Ke("primary",!1),Ke("disabled",!1)],bM=p(vM,[Re("text")]),yM=p([Pe("type",["submit","cancel","custom"])],bM),wM=p([Pe("type",["menu"]),Ve("text"),Ve("tooltip"),Ve("icon"),Le("items",mM)],vM),xM=bM,CM=we("type",{submit:yM,cancel:yM,custom:yM,menu:wM}),_M=ee([Re("title"),Ne("body",ye("type",{panel:fM,tabpanel:pM})),Ge("size","normal"),Le("buttons",CM),We("initialData",{}),Je("onAction",n),Je("onChange",n),Je("onSubmit",n),Je("onClose",n),Je("onCancel",n),We("onTabChange",n)]),SM=function(t){return k(t)?[t].concat(q(st(t),SM)):O(t)?q(t,SM):[]},kM=function(t){return S(t.type)&&S(t.name)},OM={checkbox:wN,colorinput:SN,colorpicker:ON,dropzone:EN,input:BN,iframe:MN,sizeinput:jN,selectbox:LN,size:jN,textarea:UN,urlinput:XN,customeditor:JN,collection:oM,togglemenuitem:gM},TM=function(t){var e=function(t){return H(SM(t),kM)}(t),n=q(e,(function(t){return function(t){return y.from(OM[t.type])}(t).fold((function(){return[]}),(function(e){return[Ne(t.name,e)]}))}));return ee(n)},EM=ee(p([Pe("type",["cancel","custom"])],xM)),AM=ee([Re("title"),Re("url"),je("height"),je("width"),function(t,e){return He(t,ne(e))}("buttons",EM),Je("onAction",n),Je("onCancel",n),Je("onClose",n),Je("onMessage",n)]),DM=function(t){return{internalDialog:ge(me("dialog",_M,t)),dataValidator:TM(t),initialData:t.initialData}},NM={open:function(t,e){var n=DM(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){return t(ge(me("dialog",AM,e)))},redial:function(t){return DM(t)}},MM=function(t){var e=[],n={};return ot(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))})),e.length>0?C.error(e):C.value(n)},RM=function(t,n){var r=Zp(Ix.sketch((function(e){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:L(t.items,(function(t){return BS(e,t,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:Bu([Eh.config({mode:"acyclic",useTabstopAt:u(cC)}),Wx(r),Qx(r,{postprocess:function(t){return MM(t).fold((function(t){return e.console.error(t),{}}),(function(t){return t}))}})])}},PM=_f({name:"TabButton",configFields:[We("uid",void 0),De("value"),ue("dom","dom",It((function(){return{attributes:{role:"tab",id:Io("aria"),"aria-selected":"false"}}})),xe()),Fe("action"),We("domModification",{}),yl("tabButtonBehaviours",[Fh,Eh,bl]),De("view")],factory:function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:Qh(t.action),behaviours:xl(t.tabButtonBehaviours,[Fh.config({}),Eh.config({mode:"execution",useSpace:!0,useEnter:!0}),bl.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}}),BM=o([De("tabs"),De("dom"),We("clickToDismiss",!1),yl("tabbarBehaviours",[Hf,Eh]),Xa(["tabClass","selectedClass"])]),zM=Kl({factory:PM,name:"tabs",unit:"tab",overrides:function(t){var e=function(t,e){Hf.dehighlight(t,e),Pr(t,Dr(),{tabbar:t,button:e})},r=function(t,e){Hf.highlight(t,e),Pr(t,Ar(),{tabbar:t,button:e})};return{action:function(o){var i=o.getSystem().getByUid(t.uid).getOrDie(),a=Hf.isHighlighted(i,o);(a&&t.clickToDismiss?e:a?n:r)(i,o)},domModification:{classes:[t.markers.tabClass]}}}}),IM=o([zM]),LM=Sf({name:"Tabbar",configFields:BM(),partFields:IM(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:xl(t.tabbarBehaviours,[Hf.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){To(e.element(),"aria-selected","true")},onDehighlight:function(t,e){To(e.element(),"aria-selected","false")}}),Eh.config({mode:"flow",getInitial:function(t){return Hf.getHighlighted(t).map((function(t){return t.element()}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}}}),FM=_f({name:"Tabview",configFields:[yl("tabviewBehaviours",[Rh])],factory:function(t,e){return{uid:t.uid,dom:t.dom,behaviours:xl(t.tabviewBehaviours,[Rh.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),HM=o([We("selectFirst",!0),Ya("onChangeTab"),Ya("onDismissTab"),We("tabs",[]),yl("tabSectionBehaviours",[])]),jM=Xl({factory:LM,schema:[De("dom"),ze("markers",[De("tabClass"),De("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),VM=Xl({factory:FM,name:"tabview"}),$M=o([jM,VM]),UM=Sf({name:"TabSection",configFields:HM(),partFields:$M(),factory:function(t,e,n,r){var o=function(e){var n=bl.getValue(e);cf(e,t,"tabview").each((function(r){$(t.tabs,(function(t){return t.value===n})).each((function(n){var o=n.view();(function(t,e){return y.from(Eo(t,e))})(e.element(),"id").each((function(t){To(r.element(),"aria-labelledby",t)})),Rh.set(r,o),t.onChangeTab(r,e,o)}))}))},i=function(e,n){cf(e,t,"tabbar").each((function(t){n(t).each(Br)}))};return{uid:t.uid,dom:t.dom,components:e,behaviours:wl(t.tabSectionBehaviours),events:Fr(W([t.selectFirst?[Kr((function(t,e){i(t,Hf.getFirst)}))]:[],[Vr(Ar(),(function(t,e){var n=e.event().button();o(n)})),Vr(Dr(),(function(e,n){var r=n.event().button();t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return cf(e,t,"tabview").map((function(t){return Rh.contents(t)})).getOr([])},showTab:function(t,e){i(t,(function(t){var n=Hf.getCandidates(t);return $(n,(function(t){return bl.getValue(t)===e})).filter((function(e){return!Hf.isHighlighted(t,e)}))}))}}}},apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),WM=function(t,e){Ti(t,"height",e+"px"),On().browser.isIE()?Bi(t,"flex-basis"):Ti(t,"flex-basis",e+"px")},qM=function(t,n,r){Da(t,'[role="dialog"]').each((function(t){Na(t,'[role="tablist"]').each((function(o){r.get().map((function(r){return Ti(n,"height","0"),Ti(n,"flex-basis","0"),Math.min(r,function(t,n,r){var o,i=io(t).dom(),a=Da(t,".tox-dialog-wrap").getOr(t);o="fixed"===Di(a,"position")?Math.max(i.clientHeight,e.window.innerHeight):Math.max(i.offsetHeight,i.scrollHeight);var u=Qi(n),c=n.dom().offsetLeft>=r.dom().offsetLeft+ua(r)?Math.max(Qi(r),u):u,s=parseInt(Di(t,"margin-top"),10)||0,l=parseInt(Di(t,"margin-bottom"),10)||0;return o-(Qi(t)+s+l-c)}(t,n,o))})).each((function(t){WM(n,t)}))}))}))},XM=function(t){return Na(t,'[role="tabpanel"]')},GM=function(t){var e;return{smartTabHeight:(e=tn(y.none()),{extraEvents:[Kr((function(n){var r=n.element();XM(r).each((function(o){Ti(o,"visibility","hidden"),n.getSystem().getByDom(o).toOption().each((function(n){var r=function(t){return Z(J(t,(function(t,e){return t>e?-1:t<e?1:0})))}(function(t,e,n){return L(t,(function(r,o){Rh.set(n,t[o].view());var i=e.dom().getBoundingClientRect();return Rh.set(n,[]),i.height}))}(t,o,n));e.set(r)})),qM(r,o,e),Bi(o,"visibility"),function(t,e){Z(t).each((function(t){return UM.showTab(e,t.value)}))}(t,n),Np.requestAnimationFrame((function(){qM(r,o,e)}))}))})),Vr(Cr(),(function(t){var n=t.element();XM(n).each((function(t){qM(n,t,e)}))})),Vr(Ub,(function(t,n){var r=t.element();XM(r).each((function(t){var n=qu();Ti(t,"visibility","hidden");var o=Mi(t,"height").map((function(t){return parseInt(t,10)}));Bi(t,"height"),Bi(t,"flex-basis");var i=t.dom().getBoundingClientRect().height;o.forall((function(t){return i>t}))?(e.set(y.from(i)),qM(r,t,e)):o.each((function(e){WM(t,e)})),Bi(t,"visibility"),n.each(Wu)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}},YM=function(t,e){var n=tn({}),r=function(t){var e=bl.getValue(t),r=MM(e).getOr({}),o=n.get(),i=gt(o,r);n.set(i)},o=function(t){var e=n.get();bl.setValue(t,e)},i=tn(null),a=L(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[Ix.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:L(t.items,(function(t){return BS(n,t,e)})),formBehaviours:Bu([Eh.config({mode:"acyclic",useTabstopAt:u(cC)}),Ph("TabView.form.events",[Kr(o),Jr(r)]),$u.config({channels:jt([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:o}}])})])}}))]}}})),c=GM(a).smartTabHeight;return UM.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=bl.getValue(e);Pr(t,$b,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[UM.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[LM.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Bu([xy.config({})])}),UM.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:c.selectFirst,tabSectionBehaviours:Bu([Ph("tabpanel",c.extraEvents),Eh.config({mode:"acyclic"}),Af.config({find:function(t){return Z(UM.getViewItems(t))}}),bl.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(t,e){n.set(e),t.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},KM=Io("update-dialog"),JM=Io("update-title"),ZM=Io("update-body"),QM=Io("update-footer"),tR=Io("body-send-message"),eR=function(t,e,n,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:d(d({},e.map((function(t){return{id:t}})).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:Bu([qx(0),rT.config({channel:ZM,updateState:function(t,e){return y.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},renderComponents:function(t){switch(t.body.type){case"tabpanel":return[YM(t.body,n)];default:return[RM(t.body,n)]}},initialData:t})])}},nR=function(t,e){return[qr(Zn(),sC),t(Ib,(function(t,n){e.onClose(),n.onClose()})),t(Lb,(function(t,e,n,r){e.onCancel(t),Rr(r,Ib)})),Vr(Vb,(function(t,n){return e.onUnblock()})),Vr(jb,(function(t,n){return e.onBlock(n.event())}))]},rR=function(t,e){var n=function(e,n){return Vr(e,(function(e,o){r(e,(function(r,i){n(t(),r,o.event(),e)}))}))},r=function(t,e){rT.getState(t).get().each((function(n){e(n,t)}))};return p(nR(n,e),[n(Fb,(function(t,e,n){e.onAction(t,{name:n.name()})}))])},oR=function(t,e){var n=function(e,n){return Vr(e,(function(e,o){r(e,(function(r,i){n(t(),r,o.event(),e)}))}))},r=function(t,e){rT.getState(t).get().each((function(n){e(n.internalDialog,t)}))};return p(nR(n,e),[n(Hb,(function(t,e){return e.onSubmit(t)})),n(zb,(function(t,e,n){e.onChange(t,{name:n.name()})})),n(Fb,(function(t,e,n,r){var o=function(){return Eh.focusIn(r)},i=qu();e.onAction(t,{name:n.name(),value:n.value()}),qu().fold((function(){o()}),(function(t){(!In(r.element(),t)||Ao(t,"disabled")||In(t,i.getOrNull())&&Ao(i.getOrDie(),"disabled"))&&o()}))})),n($b,(function(t,e,n){e.onTabChange(t,{newTabName:n.name(),oldTabName:n.oldName()})})),Jr((function(e){var n=t();bl.setValue(e,n.getData())}))])},iR=function(t,e){var n=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(e(a,o)?n:r).push(a)}return{pass:n,fail:r}}(e.map((function(t){return t.footerButtons})).getOr([]),(function(t){return"start"===t.align})),r=function(t,e){return Pb.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:L(e,(function(t){return t.memento.asSpec()}))})};return[r("start",n.pass),r("end",n.fail)]},aR=function(t,e){return{dom:iA('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Bu([rT.config({channel:QM,initialData:t,updateState:function(t,n){var r=L(n.buttons,(function(t){var n=Zp(function(t,e){return C_(t,t.type,e)}(t,e));return{name:t.name,align:t.align,memento:n}}));return y.some({lookupByName:function(t,e){return function(t,e,n){return $(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))}(t,r,e)},footerButtons:r})},renderComponents:iR})])}},uR=function(t,e){return hN.parts().footer(aR(t,e))},cR=function(t,e){if(t.getRoot().getSystem().isConnected()){var n=Af.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Ix.getField(n,e).fold((function(){var r=t.getFooter();return rT.getState(r).get().bind((function(t){return t.lookupByName(n,e)}))}),(function(t){return y.some(t)}))}return y.none()},sR=function(t,e,n){var r=function(e){var n=t.getRoot();n.getSystem().isConnected()&&e(n)},o={getData:function(){var e=t.getRoot(),r=e.getSystem().isConnected()?t.getFormWrapper():e,o=bl.getValue(r),i=it(n,(function(t){return t.get()}));return d(d({},o),i)},setData:function(e){r((function(r){var i=o.getData(),a=d(d({},i),e),u=function(t,e){var n=t.getRoot();return rT.getState(n).get().map((function(t){return ge(me("data",t.dataValidator,e))})).getOr(e)}(t,a),c=t.getFormWrapper();bl.setValue(c,u),ot(n,(function(t,e){ft(a,e)&&t.set(a[e])}))}))},disable:function(e){cR(t,e).each(Cg.disable)},enable:function(e){cR(t,e).each(Cg.enable)},focus:function(e){cR(t,e).each(Fh.focus)},block:function(t){if(!S(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(e){Pr(e,jb,{message:t})}))},unblock:function(){r((function(t){Rr(t,Vb)}))},showTab:function(e){r((function(n){var r=t.getBody();rT.getState(r).get().exists((function(t){return t.isTabPanel()}))&&Af.getCurrent(r).each((function(t){UM.showTab(t,e)}))}))},redial:function(t){r((function(n){var r=e(t);n.getSystem().broadcastOn([KM],r),n.getSystem().broadcastOn([JM],r.internalDialog),n.getSystem().broadcastOn([ZM],r.internalDialog),n.getSystem().broadcastOn([QM],r.internalDialog),o.setData(r.initialData)}))},close:function(){r((function(t){Rr(t,Ib)}))}};return o},lR=Zm.deviceType.isTouch(),fR=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}},dR=function(t,e){return hN.parts().close(Jp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:Bu([xy.config({})])}))},hR=function(){return hN.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},pR=function(t,e){return hN.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:iA("<p>"+e.translate(t)+"</p>")}]}]})},mR=function(t){return hN.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},gR=function(t,e){return[Pb.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Pb.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},vR=function(t){var e,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return hN.sketch({lazySink:t.lazySink,onEscape:function(e){return t.onEscape(e),y.some(!0)},useTabstopAt:function(t){return!cC(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:d({position:"relative"},t.extraStyles)},components:p([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:iA('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:lR?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Bu(p([Fh.config({}),Ph("dialog-events",t.dialogEvents.concat([Yr(Zn(),(function(t,e){Eh.focusIn(t)}))])),Ph("scroll-lock",[Kr((function(){mi(_i(),i)})),Jr((function(){vi(_i(),i)}))])],t.extraBehaviours)),eventOrder:d((e={},e[dr()]=["dialog-events"],e[_r()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[Sr()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})},bR=function(t){return Jp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(t){Rr(t,Lb)}})},yR=function(t,e,n){var r=function(t){return[qi(n.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:d({},e.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:Bu([rT.config({channel:JM,renderComponents:r})])}},wR=function(){return{dom:iA('<div class="tox-dialog__draghandle"></div>')}},xR=function(t,e){return function(t,e){var n=hN.parts().title(yR(t,y.none(),e)),r=hN.parts().draghandle(wR()),o=hN.parts().close(bR(e)),i=[n].concat(t.draggable?[r]:[]).concat([o]);return Pb.sketch({dom:iA('<div class="tox-dialog__header"></div>'),components:i})}({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)},CR=function(t,e){return{onClose:function(){return e.closeWindow()},onBlock:function(e){hN.setBusy(t(),(function(t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":e.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:iA('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}))},onUnblock:function(){hN.setIdle(t())}}},_R=function(t,e,n,r){var o;return Yi(vR(d(d({},t),{lazySink:r.shared.getSink,extraBehaviours:p([rT.config({channel:KM,updateState:function(t,e){return y.some(e)},initialData:e}),nC({})],t.extraBehaviours),onEscape:function(t){Rr(t,Lb)},dialogEvents:n,eventOrder:(o={},o[fr()]=["reflecting","receiving"],o[_r()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],o[Sr()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],o)})))},SR=function(t){return L(t,(function(t){return"menu"===t.type?function(t){var e=L(t.items,(function(t){var e=tn(!1);return d(d({},t),{storage:e})}));return d(d({},t),{items:e})}(t):t}))},kR=function(t){return V(t,(function(t,e){return"menu"===e.type?V(e.items,(function(t,e){return t[e.name]=e.storage,t}),t):t}),{})},OR=function(t,e,n){var r=xR(t.internalDialog.title,n),o=function(t,e){var n=eR(t,y.none(),e,!1);return hN.parts().body(n)}({body:t.internalDialog.body},n),i=SR(t.internalDialog.buttons),a=kR(i),u=uR({buttons:i},n),c=oR((function(){return d}),CR((function(){return f}),e)),s="normal"!==t.internalDialog.size?"large"===t.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],l={header:r,body:o,footer:y.some(u),extraClasses:s,extraBehaviours:[],extraStyles:{}},f=_R(l,t,c,n),d=sR({getRoot:function(){return f},getBody:function(){return hN.getBody(f)},getFooter:function(){return hN.getFooter(f)},getFormWrapper:function(){var t=hN.getBody(f);return Af.getCurrent(t).getOr(t)}},e.redial,a);return{dialog:f,instanceApi:d}},TR=function(t,e,n,r){var o,i,a,u,c,s=Io("dialog-label"),l=Io("dialog-content"),f=Zp((a={title:t.internalDialog.title,draggable:!0},u=s,c=n.shared.providers,Pb.sketch({dom:iA('<div class="tox-dialog__header"></div>'),components:[yR(a,y.some(u),c),wR(),bR(c)],containerBehaviours:Bu([ZD.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return Ma(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),d=Zp(function(t,e,n,r){return eR(t,y.some(e),n,r)}({body:t.internalDialog.body},l,n,r)),h=SR(t.internalDialog.buttons),p=kR(h),m=Zp(function(t,e){return aR(t,e)}({buttons:h},n)),g=oR((function(){return b}),{onBlock:function(){},onUnblock:function(){},onClose:function(){return e.closeWindow()}}),v=Yi({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=s,o["aria-describedby"]=""+l,o)},eventOrder:(i={},i[fr()]=[rT.name(),$u.name()],i[dr()]=["execute-on-form"],i[_r()]=["reflecting","execute-on-form"],i),behaviours:Bu([Eh.config({mode:"cyclic",onEscape:function(t){return Rr(t,Ib),y.some(!0)},useTabstopAt:function(t){return!cC(t)&&("button"!==Co(t)||"disabled"!==Eo(t,"disabled"))}}),rT.config({channel:KM,updateState:function(t,e){return y.some(e)},initialData:t}),Fh.config({}),Ph("execute-on-form",g.concat([Yr(Zn(),(function(t,e){Eh.focusIn(t)}))])),nC({})]),components:[f.asSpec(),d.asSpec(),m.asSpec()]}),b=sR({getRoot:function(){return v},getFooter:function(){return m.get(v)},getBody:function(){return d.get(v)},getFormWrapper:function(){var t=d.get(v);return Af.getCurrent(t).getOr(t)}},e.redial,p);return{dialog:v,instanceApi:b}},ER=tinymce.util.Tools.resolve("tinymce.util.URI"),AR=["insertContent","setContent","execCommand","close","block","unblock"],DR=function(t){return k(t)&&-1!==AR.indexOf(t.mceAction)},NR=function(t,n,r,o){var i,a,c,s=xR(t.title,o),l=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[lC({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Bu([xy.config({}),Fh.config({})])})]}],behaviours:Bu([Eh.config({mode:"acyclic",useTabstopAt:u(cC)})])};return hN.parts().body(e)}(t),f=t.buttons.bind((function(t){return 0===t.length?y.none():y.some(uR({buttons:t},o))})),h=rR((function(){return C}),CR((function(){return x}),n)),p=d(d({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),m=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],g=new ER(t.url,{base_uri:new ER(e.window.location.href)}),v=g.protocol+"://"+g.host+(g.port?":"+g.port:""),b=tn(y.none()),w=[Ph("messages",[Kr((function(){var n=mb(nn.fromDom(e.window),"message",(function(e){if(g.isSameOrigin(new ER(e.raw().origin))){var n=e.raw().data;DR(n)?function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var r=!!T(n.ui)&&n.ui;t.execCommand(n.cmd,r,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock()}}(r,C,n):function(t){return!DR(t)&&k(t)&&ft(t,"mceAction")}(n)&&t.onMessage(C,n)}}));b.set(y.some(n))})),Jr((function(){b.get().each((function(t){return t.unbind()}))}))]),$u.config({channels:(i={},i[tR]={onReceive:function(t,e){Na(t.element(),"iframe").each((function(t){t.dom().contentWindow.postMessage(e,v)}))}},i)})],x=_R({header:s,body:l,footer:f,extraClasses:m,extraBehaviours:w,extraStyles:p},t,h,o),C=(a=x,c=function(t){a.getSystem().isConnected()&&t(a)},{block:function(t){if(!S(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c((function(e){Pr(e,jb,{message:t})}))},unblock:function(){c((function(t){Rr(t,Vb)}))},close:function(){c((function(t){Rr(t,Ib)}))},sendMessage:function(t){c((function(e){e.getSystem().broadcastOn([tR],t)}))}});return{dialog:x,instanceApi:C}},MR=function(t,e,n){return e&&n?[]:[BE.config({contextual:{lazyContext:function(){return y.some(Ca(nn.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},RR=function(t){var e=t.backstage,n=t.editor,r=Kp(n),o=qp(n),i=function(t){var e=t.backstage.shared;return{open:function(n,r){var o=function(){hN.hide(c),r()},i=Zp(C_({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:y.none()},"cancel",t.backstage)),a=hR(),u=dR(o,e.providers),c=Yi(vR({lazySink:function(){return e.getSink()},header:fR(a,u),body:pR(n,e.providers),footer:y.some(mR(gR([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Vr(Lb,o)],eventOrder:{}}));hN.show(c);var s=i.get(c);Fh.focus(s)}}}(t),a=function(t){var e=t.backstage.shared;return{open:function(n,r){var o=function(t){hN.hide(s),r(t)},i=Zp(C_({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:y.none()},"submit",t.backstage)),a=C_({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:y.none()},"cancel",t.backstage),u=hR(),c=dR((function(){return o(!1)}),e.providers),s=Yi(vR({lazySink:function(){return e.getSink()},header:fR(u,c),body:pR(n,e.providers),footer:y.some(mR(gR([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Vr(Lb,(function(){return o(!1)})),Vr(Hb,(function(){return o(!0)}))],eventOrder:{}}));hN.show(s);var l=i.get(s);Fh.focus(l)}}}(t),u=function(t,r){return NM.openUrl((function(t){var o=NR(t,{closeWindow:function(){hN.hide(o.dialog),r(o.instanceApi)}},n,e);return hN.show(o.dialog),o.instanceApi}),t)},c=function(t,n){return NM.open((function(t,r,o){var i=r,a=OR({dataValidator:o,initialData:i,internalDialog:t},{redial:NM.redial,closeWindow:function(){hN.hide(a.dialog),n(a.instanceApi)}},e);return hN.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),t)},s=function(t,i,a,u){return NM.open((function(t,c,s){var l,f=ge(me("data",s,c)),h=(l=tn(y.none()),{clear:function(){l.set(y.none())},set:function(t){l.set(y.some(t))},isSet:function(){return l.get().isSome()},on:function(t){l.get().each(t)}}),m=function(){return h.on((function(t){yp.reposition(t),BE.refresh(t)}))},g=TR({dataValidator:s,initialData:f,internalDialog:t},{redial:NM.redial,closeWindow:function(){h.on(yp.hide),n.off("ResizeEditor",m),h.clear(),a(g.instanceApi)}},e,u),v=Yi(yp.sketch(d(d({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},o?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Bu(p([Ph("window-manager-inline-events",[Vr(kr(),(function(t,e){Rr(g.dialog,Lb)}))])],MR(n,r,o)))})));return h.set(v),yp.showWithin(v,i,Ki(g.dialog),y.some(_i())),r&&o||(BE.refresh(v),n.on("ResizeEditor",m)),g.instanceApi.setData(f),Eh.focusIn(g.dialog),g.instanceApi}),t)};return{open:function(t,n,r){return void 0!==n&&"toolbar"===n.inline?s(t,e.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?s(t,e.shared.anchors.cursor(),r,n.ariaAttrs):c(t,r)},openUrl:function(t,e){return u(t,e)},alert:function(t,e){i.open(t,(function(){e()}))},close:function(t){t.close()},confirm:function(t,e){a.open(t,(function(t){e(t)}))}}};f.add("silver",(function(t){var e=cN(t),n=e.uiMothership,r=e.backstage,i=e.renderUI,a=e.getUi;hb(t,r.shared);var u=RR({editor:t,backstage:r});return{renderUI:i,getWindowManagerImpl:o(u),getNotificationManagerImpl:function(){return om(t,{backstage:r},n)},ui:a()}}))}(window)}).call(this,n(1))},function(t,e,n){n(78)},function(t,e,n){(function(t){!function(e){"use strict";var n,r,o,i,a,u=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return u(n())}}},c=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(t){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(t.settings.plugins)||!c.get("powerpaste"))&&(void 0!==e.window.console&&e.window.console.log&&e.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},l=function(t,e){return{clipboard:t,quirks:e}},f=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})},d=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})},h=function(t,e){return t.fire("PastePlainTextToggle",{state:e})},p=function(t,e){return t.fire("paste",{ieFake:e})},m=function(t,e){"text"===e.pasteFormat.get()?(e.pasteFormat.set("html"),h(t,!1)):(e.pasteFormat.set("text"),h(t,!0)),t.focus()},g=function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){m(t,e)})),t.addCommand("mceInsertClipboardContent",(function(t,n){n.content&&e.pasteHtml(n.content,n.internal),n.text&&e.pasteText(n.text)}))},v=function(){},b=function(t){return function(){return t}},y=b(!1),w=b(!0),x=function(){return C},C=(n=function(t){return t.isNone()},i={fold:function(t,e){return t()},is:y,isSome:y,isNone:w,getOr:o=function(t){return t},getOrThunk:r=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:o,orThunk:r,map:x,each:v,bind:x,exists:y,forall:w,filter:x,equals:n,equals_:n,toArray:function(){return[]},toString:b("none()")},Object.freeze&&Object.freeze(i),i),_=function(t){var e=b(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:w,isNone:y,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return _(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:C},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(y,(function(e){return n(t,e)}))}};return o},S={some:_,none:x,from:function(t){return null==t?C:_(t)}},k=(a="function",function(t){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(t)===a}),O=Array.prototype.slice,T=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},E=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},A=k(Array.from)?Array.from:function(t){return O.call(t)},D={},N={exports:D};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(e,n,r){function i(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof o&&o;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};e[u][0].call(f.exports,(function(t){return i(e[u][1][t]||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var s,l=[],f=!1,d=-1;function h(){f&&s&&(f=!1,s.length?l=s.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=c(h);f=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||f||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void c(e.promise,t)}u(e.promise,r)}else(1===t._state?u:c)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,s(t)}catch(e){c(t,e)}var r,o}function c(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(t){if(n)return;n=!0,c(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function s(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,D,N,void 0);var M=N.exports.boltExport,R=function(t){var n=S.none(),r=[],o=function(t){i()?u(t):r.push(t)},i=function(){return n.isSome()},a=function(t){E(t,u)},u=function(t){n.each((function(n){e.setTimeout((function(){t(n)}),0)}))};return t((function(t){n=S.some(t),a(r),r=[]})),{get:o,map:function(t){return R((function(e){o((function(n){e(t(n))}))}))},isReady:i}},P={nu:R,pure:function(t){return R((function(e){e(t)}))}},B=function(t){e.setTimeout((function(){throw t}),0)},z=function(t){var e=function(e){t().then(e,B)};return{map:function(e){return z((function(){return t().then(e)}))},bind:function(e){return z((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return z((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return P.nu(e)},toCached:function(){var e=null;return z((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},I=function(t){return z((function(){return new M(t)}))},L=function(t,e){return e((function(e){var n=[],r=0;0===t.length?e([]):E(t,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=t.length&&e(n)}}(i))}))}))},F=function(t,e){return n=T(t,e),L(n,I);var n},H=tinymce.util.Tools.resolve("tinymce.Env"),j=tinymce.util.Tools.resolve("tinymce.util.Delay"),V=tinymce.util.Tools.resolve("tinymce.util.Tools"),$=tinymce.util.Tools.resolve("tinymce.util.VK"),U="\x3c!-- x-tinymce/html --\x3e",W=function(t){return U+t},q=function(t){return t.replace(U,"")},X=function(t){return-1!==t.indexOf(U)},G=function(){return"x-tinymce/html"},Y=tinymce.util.Tools.resolve("tinymce.html.Entities"),K=function(t){return t.replace(/\r?\n/g,"<br>")},J=function(t,e,n){var r=t.split(/\n\n/),o=function(t,e){var n,r=[],o="<"+t;if("object"==typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+Y.encodeAllRaw(e[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"}(e,n),i="</"+e+">",a=V.map(r,(function(t){return t.split(/\n/).join("<br />")}));return 1===a.length?a[0]:V.map(a,(function(t){return o+t+i})).join("")},Z=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)},Q=function(t,e,n){return e?J(t,!0===e?"p":e,n):K(t)},tt=tinymce.util.Tools.resolve("tinymce.html.DomParser"),et=tinymce.util.Tools.resolve("tinymce.html.Serializer"),nt=tinymce.util.Tools.resolve("tinymce.html.Node"),rt=tinymce.util.Tools.resolve("tinymce.html.Schema"),ot=function(t){return t.getParam("paste_block_drop",!1)},it=function(t){return t.getParam("paste_data_images",!1)},at=function(t){return t.getParam("paste_filter_drop",!0)},ut=function(t){return t.getParam("paste_preprocess")},ct=function(t){return t.getParam("paste_postprocess")},st=function(t){return t.getParam("paste_webkit_styles")},lt=function(t){return t.getParam("paste_remove_styles_if_webkit",!0)},ft=function(t){return t.getParam("paste_merge_formats",!0)},dt=function(t){return t.getParam("smart_paste",!0)},ht=function(t){return t.getParam("paste_as_text",!1)},pt=function(t){return t.getParam("paste_retain_style_properties")},mt=function(t){return t.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},gt=function(t){return t.getParam("paste_convert_word_fake_lists",!0)},vt=function(t){return t.getParam("paste_enable_default_filters",!0)};function bt(t,e){return V.each(e,(function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])})),t}var yt={filter:bt,innerText:function(t){var e=rt(),n=tt({},e),r="",o=e.getShortEndedElements(),i=V.makeMap("script noscript style textarea video audio iframe object"," "),a=e.getBlockElements();return t=bt(t,[/<!\[[^\]]+\]>/g]),function t(e){var n=e.name,u=e;if("br"!==n){if("wbr"!==n)if(o[n]&&(r+=" "),i[n])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))do{t(e)}while(e=e.next);a[n]&&u.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"}(n.parse(t)),r},trimHtml:function(t){return t=bt(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(t,e,n){return e||n?"":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(t){var e=0;return function(){return t+e++}},isMsEdge:function(){return-1!==e.navigator.userAgent.indexOf(" Edge/")}};function wt(t){var e,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),V.each(n,(function(n){if(n.test(t))return e=!0,!1})),e}function xt(t){var e,n,r=1;function o(t){var e="";if(3===t.type)return t.value;if(t=t.firstChild)do{e+=o(t)}while(t=t.next);return e}function i(t,e){if(3===t.type&&e.test(t.value))return t.value=t.value.replace(e,""),!1;if(t=t.firstChild)do{if(!i(t,e))return!1}while(t=t.next);return!0}function a(t,o,a){var u=t._listLevel||r;u!==r&&(u<r?e&&(e=e.parent.parent):(n=e,e=null)),e&&e.name===o?e.append(t):(n=n||e,e=new nt(o,1),a>1&&e.attr("start",""+a),t.wrap(e)),t.name="li",u>r&&n&&n.lastChild.append(e),r=u,function t(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{t(e)}while(e=e.next)}(t),i(t,/^\u00a0+/),i(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(t,/^\u00a0+/)}for(var u=[],c=t.firstChild;null!=c;)if(u.push(c),null!==(c=c.walk()))for(;void 0!==c&&c.parent!==t;)c=c.walk();for(var s=0;s<u.length;s++)if("p"===(t=u[s]).name&&t.firstChild){var l=o(t);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(l)){a(t,"ul");continue}if(wt(l)){var f=/([0-9]+)\./.exec(l),d=1;f&&(d=parseInt(f[1],10)),a(t,"ol",d);continue}if(t._listLevel){a(t,"ul",1);continue}e=null}else n=e,e=null}function Ct(t,e,n,r){var o,i={},a=t.dom.parseStyle(r);return V.each(a,(function(a,u){switch(u){case"mso-list":(o=/\w+ \w+([0-9]+)/i.exec(r))&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[u]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}0!==u.indexOf("mso-comment")?0!==u.indexOf("mso-")&&("all"===pt(t)||e&&e[u])&&(i[u]=a):n.remove()})),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new nt("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new nt("i",1))),(i=t.dom.serializeStyle(i,n.name))||null}var _t={preProcess:function(t,e){return vt(t)?function(t,e){var n,r;(n=pt(t))&&(r=V.makeMap(n.split(/[, ]/))),e=yt.filter(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join(""):""}]]);var o=mt(t),i=rt({valid_elements:o,valid_children:"-li[p]"});V.each(i.elements,(function(t){t.attributes.class||(t.attributes.class={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))}));var a=tt({},i);a.addAttributeFilter("style",(function(e){for(var n,o=e.length;o--;)(n=e[o]).attr("style",Ct(t,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()})),a.addAttributeFilter("class",(function(t){for(var e,n,r=t.length;r--;)n=(e=t[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove(),e.attr("class",null)})),a.addNodeFilter("del",(function(t){for(var e=t.length;e--;)t[e].remove()})),a.addNodeFilter("a",(function(t){for(var e,n,r,o=t.length;o--;)if(n=(e=t[o]).attr("href"),r=e.attr("name"),n&&-1!==n.indexOf("#_msocom_"))e.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap();continue}e.attr({href:n,name:r})}else e.unwrap()}));var u=a.parse(e);return gt(t)&&xt(u),e=et({validate:t.settings.validate},i).serialize(u)}(t,e):e},isWordContent:function(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}},St=function(t,e){return{content:t,cancelled:e}},kt=function(t,e,n,r){var o=f(t,e,n,r),i=function(t,e){var n=tt({},t.schema);n.addNodeFilter("meta",(function(t){V.each(t,(function(t){return t.remove()}))}));var r=n.parse(e,{forced_root_block:!1,isRootContent:!0});return et({validate:t.settings.validate},t.schema).serialize(r)}(t,o.content);return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?function(t,e,n,r){var o=t.dom.create("div",{style:"display:none"},e),i=d(t,o,n,r);return St(i.node.innerHTML,i.isDefaultPrevented())}(t,i,n,r):St(i,o.isDefaultPrevented())},Ot=function(t,e,n){var r=_t.isWordContent(e),o=r?_t.preProcess(t,e):e;return kt(t,o,n,r)},Tt=function(t,e){return t.insertContent(e,{merge:ft(t),paste:!0}),!0},Et=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},At=function(t){return Et(t)&&/.(gif|jpe?g|png)$/.test(t)},Dt=function(t,e,n){return!(!1!==t.selection.isCollapsed()||!Et(e))&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",!1,e)})),!0}(t,e,n)},Nt=function(t,e,n){return!!At(e)&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')})),!0}(t,e,n)},Mt=At,Rt=function(t,e,n){n||!1===dt(t)?Tt(t,e):function(t,e){V.each([Dt,Nt,Tt],(function(n){return!0!==n(t,e,Tt)}))}(t,e)},Pt=function(t){return"\n"===t||"\r"===t},Bt=function(t){return function(t,e,n){return E(t,(function(t){n=e(n,t)})),n}(t,(function(e,n){return function(t){return-1!==" \f\t\v".indexOf(t)}(n)||""===n?e.pcIsSpace||""===e.str||e.str.length===t.length-1||function(t,e){return e<t.length&&e>=0&&Pt(t[e])}(t,e.str.length+1)?{pcIsSpace:!1,str:e.str+""}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:Pt(n),str:e.str+n}}),{pcIsSpace:!1,str:""}).str},zt=function(t,e,n,r){var o=Ot(t,e,n);!1===o.cancelled&&Rt(t,o.content,r)},It=function(t,e,n){var r=n||X(e);zt(t,q(e),r,!1)},Lt=function(t,e){var n=t.dom.encode(e).replace(/\r\n/g,"\n"),r=Bt(n),o=Q(r,t.settings.forced_root_block,t.settings.forced_root_block_attrs);zt(t,o,!1,!0)},Ft=function(t){var e={};if(t){if(t.getData){var n=t.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(e["text/plain"]=n)}if(t.types)for(var r=0;r<t.types.length;r++){var o=t.types[r];try{e[o]=t.getData(o)}catch(t){e[o]=""}}}return e},Ht=function(t,e){return e in t&&t[e].length>0},jt=function(t){return Ht(t,"text/html")||Ht(t,"text/plain")},Vt=yt.createIdGenerator("mceclip"),$t=function(t,n,r){var o,i="paste"===n.type?n.clipboardData:n.dataTransfer;if(t.settings.paste_data_images&&i){var a=function(t){var e=t.items?T(A(t.items),(function(t){return t.getAsFile()})):[],n=t.files?A(t.files):[];return function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n}(e.length>0?e:n,(function(t){return/^image\/(jpeg|png|gif|bmp)$/.test(t.type)}))}(i);if(a.length>0)return n.preventDefault(),(o=a,F(o,(function(t){return I((function(e){var n=t.getAsFile?t.getAsFile():t,r=new window.FileReader;r.onload=function(){e({blob:n,uri:r.result})},r.readAsDataURL(n)}))}))).get((function(n){r&&t.selection.setRng(r),E(n,(function(n){!function(t,n){var r,o,i,a,u=(r=n.uri,-1!==(o=r.indexOf(","))?r.substr(o+1):null),c=Vt(),s=t.settings.images_reuse_filename&&n.blob.name?function(t,e){var n=e.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?t.dom.encode(n[1]):null}(t,n.blob.name):c,l=new e.Image;if(l.src=n.uri,i=t.settings,a=l,!i.images_dataimg_filter||i.images_dataimg_filter(a)){var f,d=t.editorUpload.blobCache,h=void 0;(f=d.findFirst((function(t){return t.base64()===u})))?h=f:(h=d.create(c,n.blob,u,s),d.add(h)),It(t,'<img src="'+h.blobUri()+'">',!1)}else It(t,'<img src="'+n.uri+'">',!1)}(t,n)}))})),!0}return!1},Ut=function(t){return $.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},Wt=function(t,n,r){var o,i,a=(o=u(S.none()),{clear:function(){o.set(S.none())},set:function(t){o.set(S.some(t))},isSet:function(){return o.get().isSome()},on:function(t){o.get().each(t)}});function c(e,r,o,i){var a,u,c;Ht(e,"text/html")?a=e["text/html"]:(a=n.getHtml(),i=i||X(a),n.isDefaultContent(a)&&(o=!0)),a=yt.trimHtml(a),n.remove(),u=!1===i&&Z(a),c=Mt(a),(!a.length||u&&!c)&&(o=!0),(o||c)&&(a=Ht(e,"text/plain")&&u?e["text/plain"]:yt.innerText(a)),n.isDefaultContent(a)?r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?Lt(t,a):It(t,a,i)}t.on("keydown",(function(r){function o(t){Ut(t)&&!t.isDefaultPrevented()&&n.remove()}if(Ut(r)&&!r.isDefaultPrevented()){if((i=r.shiftKey&&86===r.keyCode)&&H.webkit&&-1!==e.navigator.userAgent.indexOf("Version/"))return;if(r.stopImmediatePropagation(),a.set(r),window.setTimeout((function(){a.clear()}),100),H.ie&&i)return r.preventDefault(),void p(t,!0);n.remove(),n.create(),t.once("keyup",o),t.once("paste",(function(){t.off("keyup",o)}))}}));t.on("paste",(function(o){var u=a.isSet(),s=function(t,e){var n=Ft(e.clipboardData||t.getDoc().dataTransfer);return yt.isMsEdge()?V.extend(n,{"text/html":""}):n}(t,o),l="text"===r.get()||i,f=Ht(s,G());i=!1,o.isDefaultPrevented()||function(t){var n=t.clipboardData;return-1!==e.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length}(o)?n.remove():jt(s)||!$t(t,o,n.getLastRng()||t.selection.getRng())?(u||o.preventDefault(),!H.ie||u&&!o.ieFake||Ht(s,"text/html")||(n.create(),t.dom.bind(n.getEl(),"paste",(function(t){t.stopPropagation()})),t.getDoc().execCommand("Paste",!1,null),s["text/html"]=n.getHtml()),Ht(s,"text/html")?(o.preventDefault(),f||(f=X(s["text/html"])),c(s,u,l,f)):j.setEditorTimeout(t,(function(){c(s,u,l,f)}),0)):n.remove()}))},qt=function(t){return H.ie&&t.inline?e.document.body:t.getBody()},Xt=function(t,e,n){(function(t){return qt(t)!==t.getBody()})(t)&&t.dom.bind(e,"paste keyup",(function(e){Kt(t,n)||t.fire("paste")}))},Gt=function(t){return t.dom.get("mcepastebin")},Yt=function(t,e){return e===t},Kt=function(t,e){var n,r=Gt(t);return(n=r)&&"mcepastebin"===n.id&&Yt(e,r.innerHTML)},Jt=function(t){var e=u(null);return{create:function(){return function(t,e,n){var r,o=t.dom,i=t.getBody();e.set(t.selection.getRng()),r=t.dom.add(qt(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(H.ie||H.gecko)&&o.setStyle(r,"left","rtl"===o.getStyle(i,"direction",!0)?65535:-65535),o.bind(r,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),Xt(t,r,n),r.focus(),t.selection.select(r,!0)}(t,e,"%MCEPASTEBIN%")},remove:function(){return function(t,e){if(Gt(t)){for(var n=void 0,r=e.get();n=t.dom.get("mcepastebin");)t.dom.remove(n),t.dom.unbind(n);r&&t.selection.setRng(r)}e.set(null)}(t,e)},getEl:function(){return Gt(t)},getHtml:function(){return function(t){var e,n,r,o,i,a=function(e,n){e.appendChild(n),t.dom.remove(n,!0)};for(n=V.grep(qt(t).childNodes,(function(t){return"mcepastebin"===t.id})),e=n.shift(),V.each(n,(function(t){a(e,t)})),r=(o=t.dom.select("div[id=mcepastebin]",e)).length-1;r>=0;r--)i=t.dom.create("div"),e.insertBefore(i,o[r]),a(i,o[r]);return e?e.innerHTML:""}(t)},getLastRng:function(){return function(t){return t.get()}(e)},isDefault:function(){return Kt(t,"%MCEPASTEBIN%")},isDefaultContent:function(t){return Yt("%MCEPASTEBIN%",t)}}},Zt=function(t,e){var n=Jt(t);return t.on("PreInit",(function(){return function(t,e,n){var r;Wt(t,e,n),t.parser.addNodeFilter("img",(function(e,n,o){var i=function(t){t.attr("data-mce-object")||r===H.transparentSrc||t.remove()},a=function(t){return 0===t.indexOf("webkit-fake-url")},u=function(t){return 0===t.indexOf("data:")};if(!t.settings.paste_data_images&&function(t){return t.data&&!0===t.data.paste}(o))for(var c=e.length;c--;)(r=e[c].attr("src"))&&(a(r)||!t.settings.allow_html_data_urls&&u(r))&&i(e[c])}))}(t,n,e)})),{pasteFormat:e,pasteHtml:function(e,n){return It(t,e,n)},pasteText:function(e){return Lt(t,e)},pasteImageData:function(e,n){return $t(t,e,n)},getDataTransferItems:Ft,hasHtmlOrText:jt,hasContentType:Ht}},Qt=function(t,e,n){if(!function(t){return!1===H.iOS&&void 0!==t&&"function"==typeof t.setData&&!0!==yt.isMsEdge()}(t))return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData(G(),e),!0}catch(t){return!1}},te=function(t,e,n,r){Qt(t.clipboardData,e.html,e.text)?(t.preventDefault(),r()):n(e.html,r)},ee=function(t){return function(e,n){var r=W(e),o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=t.dom.create("div",{contenteditable:"true"},r);t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),t.dom.add(t.getBody(),o);var a=t.selection.getRng();i.focus();var u=t.dom.createRng();u.selectNodeContents(i),t.selection.setRng(u),j.setTimeout((function(){t.selection.setRng(a),o.parentNode.removeChild(o),n()}),0)}},ne=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},re=function(t){return!t.selection.isCollapsed()||function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}(t)},oe=function(t){t.on("cut",function(t){return function(e){re(t)&&te(e,ne(t),ee(t),(function(){if(H.browser.isChrome()){var e=t.selection.getRng();j.setEditorTimeout(t,(function(){t.selection.setRng(e),t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}(t)),t.on("copy",function(t){return function(e){re(t)&&te(e,ne(t),ee(t),(function(){}))}}(t))},ie=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ae=function(t,e){return ie.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())},ue=function(t,e){t.focus(),t.selection.setRng(e)},ce=function(t,e,n){ot(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),it(t)||t.on("drop",(function(t){var e=t.dataTransfer;e&&e.files&&e.files.length>0&&t.preventDefault()})),t.on("drop",(function(r){var o,i;if(i=ae(t,r),!r.isDefaultPrevented()&&!n.get()){o=e.getDataTransferItems(r.dataTransfer);var a,u=e.hasContentType(o,G());if(e.hasHtmlOrText(o)&&(!(a=o["text/plain"])||0!==a.indexOf("file://"))||!e.pasteImageData(r,i))if(i&&at(t)){var c=o["mce-internal"]||o["text/html"]||o["text/plain"];c&&(r.preventDefault(),j.setEditorTimeout(t,(function(){t.undoManager.transact((function(){o["mce-internal"]&&t.execCommand("Delete"),ue(t,i),c=yt.trimHtml(c),o["text/html"]?e.pasteHtml(c,u):e.pasteText(c)}))})))}}})),t.on("dragstart",(function(t){n.set(!0)})),t.on("dragover dragend",(function(e){it(t)&&!1===n.get()&&(e.preventDefault(),ue(t,ae(t,e))),"dragend"===e.type&&n.set(!1)}))},se=function(t){var e=t.plugins.paste,n=ut(t);n&&t.on("PastePreProcess",(function(t){n.call(e,e,t)}));var r=ct(t);r&&t.on("PastePostProcess",(function(t){r.call(e,e,t)}))};function le(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal,n.wordContent)}))}function fe(t,e){if(!_t.isWordContent(e))return e;var n=[];V.each(t.schema.getBlockElements(),(function(t,e){n.push(e)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=yt.filter(e,[[r,"$1"]]),e=yt.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function de(t,e,n,r){if(r||n)return e;var o,i=st(t);if(!1===lt(t)||"all"===i)return e;if(i&&(o=i.split(/[, ]/)),o){var a=t.dom,u=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){var i=a.parseStyle(a.decode(n)),c={};if("none"===o)return e+r;for(var s=0;s<o.length;s++){var l=i[o[s]],f=a.getStyle(u,o[s],!0);/color/.test(o[s])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(c[o[s]]=l)}return(c=a.serializeStyle(c,"span"))?e+' style="'+c+'"'+r:e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r}))}function he(t,e){t.$("a",e).find("font,u").each((function(e,n){t.dom.remove(n,!0)}))}var pe=function(t){H.webkit&&le(t,de),H.ie&&(le(t,fe),function(t,e){t.on("PastePostProcess",(function(n){e(t,n.node)}))}(t,he))},me=function(t,e){return function(n){n.setActive("text"===e.pasteFormat.get());var r=function(t){return n.setActive(t.state)};return t.on("PastePlainTextToggle",r),function(){return t.off("PastePlainTextToggle",r)}}},ge=function(t,e){t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:me(t,e)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:me(t,e)})};c.add("paste",(function(t){if(!1===s(t)){var e=u(!1),n=u(ht(t)?"text":"html"),r=Zt(t,n),o=pe(t);return ge(t,r),g(t,r),se(t),oe(t),ce(t,r,e),l(r,o)}}))}(window)}).call(this,n(1))},function(t,e,n){n(80)},function(t,e,n){(function(t){!function(e){"use strict";var n,r,o,i,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.util.VK"),c=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},s=c("string"),l=c("array"),f=c("boolean"),d=c("function"),h=function(t){var e=t.getParam("link_assume_external_targets",!1);return f(e)&&e?1:!s(e)||"http"!==e&&"https"!==e?0:e},p=function(t){return t.getParam("link_context_toolbar",!1,"boolean")},m=function(t){return t.getParam("link_list")},g=function(t){return t.getParam("default_link_target")},v=function(t){return t.getParam("target_list",!0)},b=function(t){return t.getParam("rel_list",[],"array")},y=function(t){return t.getParam("link_class_list",[],"array")},w=function(t){return t.getParam("link_title",!0,"boolean")},x=function(t){return t.getParam("allow_unsafe_link_target",!1,"boolean")},C=function(t){return t.getParam("link_quicklink",!1,"boolean")},_=function(t){return t.getParam("link_default_protocol","http","string")},S=function(t){var n=e.document.createElement("a");n.target="_blank",n.href=t,n.rel="noreferrer noopener";var r=e.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,e.window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(t,n){e.document.body.appendChild(t),t.dispatchEvent(n),e.document.body.removeChild(t)}(n,r)},k=function(){return(k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},O=function(){},T=function(t){return function(){return t}},E=T(!1),A=T(!0),D=function(){return N},N=(n=function(t){return t.isNone()},i={fold:function(t,e){return t()},is:E,isSome:E,isNone:A,getOr:o=function(t){return t},getOrThunk:r=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:T(null),getOrUndefined:T(void 0),or:o,orThunk:r,map:D,each:O,bind:D,exists:E,forall:A,filter:D,equals:n,equals_:n,toArray:function(){return[]},toString:T("none()")},Object.freeze&&Object.freeze(i),i),M=function(t){var e=T(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:A,isNone:E,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return M(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:N},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(E,(function(e){return n(t,e)}))}};return o},R={some:M,none:D,from:function(t){return null==t?N:M(t)}},P=Array.prototype.slice,B=Array.prototype.indexOf,z=Array.prototype.push,I=function(t,e){return n=t,r=e,B.call(n,r)>-1;var n,r},L=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},F=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!l(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);z.apply(e,t[n])}return e},H=function(t,e){return F(function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r}(t,e))},j=(d(Array.from)&&Array.from,function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return R.none()}),V=tinymce.util.Tools.resolve("tinymce.util.Tools"),$=function(t){return/^\w+:/i.test(t)},U=function(t,e){var n=["noopener"],r=t?t.split(/\s+/):[],o=function(t){return t.filter((function(t){return-1===V.inArray(n,t)}))},i=e?function(t){return(t=o(t)).length>0?t.concat(n):n}(r):o(r);return i.length>0?function(t){return V.trim(t.sort().join(" "))}(i):""},W=function(t,e){return e=e||t.selection.getNode(),X(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]")},q=function(t){return t&&"A"===t.nodeName&&!!t.href},X=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},G=function(t){return function(t,e,n){return L(t,(function(t){n=e(n,t)})),n}(["title","rel","class","target"],(function(e,n){return t[n].each((function(t){e[n]=t.length>0?t:null})),e}),{href:t.href})},Y=function(t,e){var n=k({},e);if(!(b(t).length>0)&&!1===x(t)){var r=U(n.rel,"_blank"===n.target);n.rel=r||null}return R.from(n.target).isNone()&&!1===v(t)&&(n.target=g(t)),n.href=function(t,e){return"http"!==e&&"https"!==e||$(t)?t:e+"://"+t}(n.href,h(t)),n},K=function(t,e){var n=t.dom.select("img",e)[0];if(n){var r=t.dom.getParents(n,"a[href]",e)[0];r&&(r.parentNode.insertBefore(n,r),t.dom.remove(r))}},J=function(t,e,n){var r=t.dom.select("img",e)[0];if(r){var o=t.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},Z=function(t,e,n){var r=t.selection.getNode(),o=W(t,r),i=Y(t,G(n));t.undoManager.transact((function(){n.href===e.href&&e.attach(),o?(t.focus(),function(t,e,n,r){n.each((function(t){e.hasOwnProperty("innerText")?e.innerText=t:e.textContent=t})),t.dom.setAttribs(e,r),t.selection.select(e)}(t,o,n.text,i)):function(t,e,n,r){X(e)?J(t,e,r):n.fold((function(){t.execCommand("mceInsertLink",!1,r)}),(function(e){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(e)))}))}(t,r,n.text,i)}))},Q=function(t){t.undoManager.transact((function(){var e=t.selection.getNode();if(X(e))K(t,e);else{var n=t.dom.getParent(e,"a[href]",t.getBody());n&&t.dom.remove(n,!0)}t.focus()}))},tt=function(t){return V.grep(t,q).length>0},et=function(t){var e=t.getAttribute("data-mce-href");return e||t.getAttribute("href")},nt=function(t){return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1===t.indexOf("href=")))},rt=W,ot=function(t,e){return function(t){return t.replace(/\uFEFF/g,"")}(e?e.innerText||e.textContent:t.getContent({format:"text"}))},it=U,at=$,ut=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},ct=function(t){return s(t.value)?t.value:""},st=function(t){return void 0===t&&(t=ct),function(e){return R.from(e).map((function(e){return function(t,e){var n=[];return V.each(t,(function(t){var r=s(t.text)?t.text:s(t.title)?t.title:"";if(void 0!==t.menu);else{var o=e(t);n.push({text:r,value:o})}})),n}(e,t)}))}},lt={sanitize:function(t){return st(ct)(t)},sanitizeWith:st,createUi:function(t,e){return function(n){return{name:t,type:"selectbox",label:e,items:n}}},getValue:ct},ft=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return ft(n())}}},dt=function(t,e,n,r){var o=r[e],i=t.length>0;return void 0!==o?function(t,e){return j(e,(function(e){return R.some(e).filter((function(e){return e.value===t}))}))}(o,n).map((function(e){return{url:{value:e.value,meta:{text:i?t:e.text,attach:O}},text:i?t:e.text}})):R.none()},ht=function(t,e){var n=ft(t.text),r=function(t,r){var o,i,a=(o=e,i=r.name,"link"===i?o.catalogs.link:"anchor"===i?o.catalogs.anchor:R.none()).getOr([]);return dt(n.get(),r.name,a,t)};return{onChange:function(t,e){return"url"===e.name?function(t){if(n.get().length<=0){var e=void 0!==t.url.meta.text?t.url.meta.text:t.url.value,r=void 0!==t.url.meta.title?t.url.meta.title:"";return R.some({text:e,title:r})}return R.none()}(t()):I(["anchor","link"],e.name)?r(t(),e):"text"===e.name?(n.set(t().text),R.none()):R.none()}}},pt={},mt={exports:pt};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(e,n,r){function i(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof o&&o;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};e[u][0].call(f.exports,(function(t){return i(e[u][1][t]||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var s,l=[],f=!1,d=-1;function h(){f&&s&&(f=!1,s.length?l=s.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=c(h);f=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||f||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void c(e.promise,t)}u(e.promise,r)}else(1===t._state?u:c)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,s(t)}catch(e){c(t,e)}var r,o}function c(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(t){if(n)return;n=!0,c(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){o(i,t)}),n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function s(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,pt,mt,void 0);var gt=mt.exports.boltExport,vt=function(t){var n=R.none(),r=[],o=function(t){i()?u(t):r.push(t)},i=function(){return n.isSome()},a=function(t){L(t,u)},u=function(t){n.each((function(n){e.setTimeout((function(){t(n)}),0)}))};return t((function(t){n=R.some(t),a(r),r=[]})),{get:o,map:function(t){return vt((function(e){o((function(n){e(t(n))}))}))},isReady:i}},bt={nu:vt,pure:function(t){return vt((function(e){e(t)}))}},yt=function(t){e.setTimeout((function(){throw t}),0)},wt=function(t){var e=function(e){t().then(e,yt)};return{map:function(e){return wt((function(){return t().then(e)}))},bind:function(e){return wt((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return wt((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return bt.nu(e)},toCached:function(){var e=null;return wt((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},xt=function(t){return wt((function(){return new gt(t)}))},Ct=function(t){return wt((function(){return gt.resolve(t)}))},_t=tinymce.util.Tools.resolve("tinymce.util.Delay"),St=function(t){var e=t.href;return e.indexOf("@")>0&&-1===e.indexOf("//")&&-1===e.indexOf("mailto:")?R.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return k(k({},t),{href:"mailto:"+e})}}):R.none()},kt=function(t,e){return function(n){var r=n.href;return 1===t&&!at(r)||0===t&&/^\s*www[\.|\d\.]/i.test(r)?R.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+e+":// prefix?",preprocess:function(t){return k(k({},t),{href:e+"://"+r})}}):R.none()}},Ot=function(t,e){return j([St,kt(h(t),_(t))],(function(t){return t(e)})).fold((function(){return Ct(e)}),(function(n){return xt((function(r){!function(t,e,n){var r=t.selection.getRng();_t.setEditorTimeout(t,(function(){t.windowManager.confirm(e,(function(e){t.selection.setRng(r),n(e)}))}))}(t,n.message,(function(t){r(t?n.preprocess(e):e)}))}))}))},Tt=function(t){var e=t.dom.select("a:not([href])"),n=H(e,(function(t){var e=t.name||t.id;return e?[{text:e,value:"#"+e}]:[]}));return n.length>0?R.some([{text:"None",value:""}].concat(n)):R.none()},Et=function(t){var e=y(t);return e.length>0?lt.sanitize(e):R.none()},At=tinymce.util.Tools.resolve("tinymce.util.XHR"),Dt=function(t){var e=function(e){return t.convertURL(e.value||e.url,"href")},n=m(t);return xt((function(t){s(n)?At.send({url:n,success:function(e){return t(function(t){try{return R.some(JSON.parse(t))}catch(t){return R.none()}}(e))},error:function(e){return t(R.none())}}):d(n)?n((function(e){return t(R.some(e))})):t(R.from(n))})).map((function(t){return t.bind(lt.sanitizeWith(e)).map((function(t){return t.length>0?[{text:"None",value:""}].concat(t):t}))}))},Nt=function(t,e){var n=b(t);if(n.length>0){var r=e.is("_blank");return(!1===x(t)?lt.sanitizeWith((function(t){return it(lt.getValue(t),r)})):lt.sanitize)(n)}return R.none()},Mt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Rt=function(t){var e=v(t);return l(e)?lt.sanitize(e).orThunk((function(){return R.some(Mt)})):!1===e?R.none():R.some(Mt)},Pt=function(t,e,n){var r=t.getAttrib(e,n);return null!==r&&r.length>0?R.some(r):R.none()},Bt=function(t,e){return Dt(t).map((function(n){var r=function(t,e){var n=t.dom,r=nt(t.selection.getContent())?R.some(ot(t.selection,e)):R.none(),o=e?R.some(n.getAttrib(e,"href")):R.none(),i=e?R.from(n.getAttrib(e,"target")):R.none(),a=Pt(n,e,"rel"),u=Pt(n,e,"class");return{url:o,text:r,title:Pt(n,e,"title"),target:i,rel:a,linkClass:u}}(t,e);return{anchor:r,catalogs:{targets:Rt(t),rels:Nt(t,r.target),classes:Et(t),anchor:Tt(t),link:n},optNode:R.from(e),flags:{titleEnabled:w(t)}}}))},zt=function(t){(function(t){var e=rt(t);return Bt(t,e)})(t).map((function(e){var n=function(t,e){return function(n){var r=n.getData();if(!r.url.value)return Q(t),void n.close();var o=function(t){return R.from(r[t]).filter((function(n){return!e.anchor[t].is(n)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}};Ot(t,i).get((function(e){Z(t,a,e)})),n.close()}}(t,e);return function(t,e,n){var r=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),o=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],i=function(t,e){return{url:{value:t.anchor.url.getOr(""),meta:{attach:function(){},text:t.anchor.url.fold((function(){return""}),(function(){return t.anchor.text.getOr("")})),original:{value:t.anchor.url.getOr("")}}},text:t.anchor.text.getOr(""),title:t.anchor.title.getOr(""),anchor:t.anchor.url.getOr(""),link:t.anchor.url.getOr(""),rel:t.anchor.rel.getOr(""),target:t.anchor.target.or(e).getOr(""),linkClass:t.anchor.linkClass.getOr("")}}(t,R.from(g(n))),a=ht(i,t),u=t.catalogs;return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:F([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],r,o,ut([u.anchor.map(lt.createUi("anchor","Anchors")),u.rels.map(lt.createUi("rel","Rel")),u.targets.map(lt.createUi("target","Open link in...")),u.link.map(lt.createUi("link","Link list")),u.classes.map(lt.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onChange:function(t,e){var n=e.name;a.onChange(t.getData,{name:n}).each((function(e){t.setData(e)}))},onSubmit:e}}(e,n,t)})).get((function(e){t.windowManager.open(e)}))},It=function(t,e){return t.dom.getParent(e,"a[href]")},Lt=function(t){return It(t,t.selection.getStart())},Ft=function(t,e){if(e){var n=et(e);if(/^#/.test(n)){var r=t.$(n);r.length&&t.selection.scrollIntoView(r[0],!0)}else S(e.href)}},Ht=function(t){return function(){zt(t)}},jt=function(t){return function(){Ft(t,Lt(t))}},Vt=function(t){t.on("click",(function(e){var n=It(t,e.target);n&&u.metaKeyPressed(e)&&(e.preventDefault(),Ft(t,n))})),t.on("keydown",(function(e){var n=Lt(t);n&&13===e.keyCode&&function(t){return!0===t.altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey}(e)&&(e.preventDefault(),Ft(t,n))}))},$t=function(t){return function(e){var n=function(n){return e.setActive(!t.readonly&&!!rt(t,n.element))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}},Ut=function(t){return function(e){e.setDisabled(!tt(t.dom.getParents(t.selection.getStart())));var n=function(t){return e.setDisabled(!tt(t.parents))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}},Wt=function(t){t.addCommand("mceLink",(function(){C(t)?t.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ht(t)()}))},qt=function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))},Xt=function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ht(t),onSetup:$t(t)}),t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:jt(t),onSetup:Ut(t)}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Q(t)},onSetup:Ut(t)})},Gt=function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:jt(t),onSetup:Ut(t)}),t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ht(t)}),t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Q(t)},onSetup:Ut(t)})},Yt=function(t){t.ui.registry.addContextMenu("link",{update:function(e){return tt(t.dom.getParents(e,"a"))?"link unlink openlink":"link"}})},Kt=function(t){var e=function(e){var n=t.selection.getNode();return e.setDisabled(!rt(t,n)),function(){}};t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:$t(t)},label:"Link",predicate:function(e){return!!rt(t,e)&&p(t)},initValue:function(){var e=rt(t);return e?et(e):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(e){var n=t.selection.getNode();return e.setActive(!!rt(t,n)),$t(t)(e)},onAction:function(e){var n=rt(t),r=e.getValue();if(n)t.dom.setAttrib(n,"href",r),function(t){t.selection.collapse(!1)}(t),e.hide();else{var o={href:r,attach:function(){}},i=nt(t.selection.getContent())?R.some(ot(t.selection,n)).filter((function(t){return t.length>0})).or(R.from(r)):R.none();Z(t,o,{href:r,text:i,title:R.none(),rel:R.none(),target:R.none(),class:R.none()}),e.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:e,onAction:function(e){Q(t),e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:e,onAction:function(e){jt(t)(),e.hide()}}]})};a.add("link",(function(t){Xt(t),Gt(t),Yt(t),Kt(t),Vt(t),Wt(t),qt(t)}))}(window)}).call(this,n(1))},function(t,e,n){n(82)},function(t,e){!function(){"use strict";var t,e,n,r,o,i,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(){},c=function(t){return function(){return t}},s=function(t){return t},l=c(!1),f=c(!0),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},h="[-'\\.]",p="[:]",m="[+*/,;;]",g="[0-9---------------------------------]",v="\\r",b="\\n",y="[\v\f\u2028\u2029]",w="[------------------------------------------------------------------------------------------------------]",x="[----\ufeff-]",C="[-------]",_="[=_--<>]",S="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",k=0,O=1,T=2,E=3,A=4,D=5,N=6,M=7,R=8,P=9,B=10,z=11,I=12,L=13,F=[new RegExp("[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),new RegExp(h),new RegExp(p),new RegExp(m),new RegExp(g),new RegExp(v),new RegExp(b),new RegExp(y),new RegExp(w),new RegExp(x),new RegExp(C),new RegExp(_),new RegExp("@")],H=new RegExp("^"+S+"$"),j=function(){return V},V=(t=function(t){return t.isNone()},r={fold:function(t,e){return t()},is:l,isSome:l,isNone:f,getOr:n=function(t){return t},getOrThunk:e=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:n,orThunk:e,map:j,each:u,bind:j,exists:l,forall:f,filter:j,equals:t,equals_:t,toArray:function(){return[]},toString:c("none()")},Object.freeze&&Object.freeze(r),r),$=(o="function",function(t){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(t)===o}),U=Array.prototype.slice,W=($(Array.from)&&Array.from,F),q=L,X=function(t){for(var e=q,n=W.length,r=0;r<n;++r){var o=W[r];if(o&&o.test(t)){e=r;break}}return e},G=function(t){var e,n;return function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r}(t,(e=X,n={},function(t){if(n[t])return n[t];var r=e(t);return n[t]=r,r}))},Y=function(t,e){var n,r,o=t[e],i=t[e+1];return!(e<0||e>t.length-1&&0!==e)&&((o!==k||i!==k)&&(r=t[e+2],(o!==k||i!==T&&i!==O&&i!==I||r!==k)&&(n=t[e-1],(o!==T&&o!==O&&i!==I||i!==k||n!==k)&&((o!==A&&o!==k||i!==A&&i!==k)&&((o!==E&&o!==O||i!==A||n!==A)&&((o!==A||i!==E&&i!==O||r!==A)&&(o!==R&&o!==P&&n!==R&&n!==P&&i!==R&&i!==P&&((o!==D||i!==N)&&(o===M||o===D||o===N||(i===M||i===D||i===N||(o!==B||i!==B)&&((i!==z||o!==k&&o!==A&&o!==B&&o!==z)&&((o!==z||i!==k&&i!==A&&i!==B)&&o!==I))))))))))))},K=/^\s+$/,J=H,Z=function(t){return"http"===t||"https"===t},Q=function(t,e){var n=function(t,e){var n;for(n=e;n<t.length&&!K.test(t[n]);n++);return n}(t,e+1);return"://"===t.slice(e+1,n).join("").substr(0,3)?n:e},tt=function(t,e,n){n=d(d({},{includeWhitespace:!1,includePunctuation:!1}),n);for(var r=[],o=[],i=0;i<t.length;i++){var a=e(t[i]);"\ufeff"!==a&&(r.push(t[i]),o.push(a))}return function(t,e,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(t[a]),Y(n,a)){var u=e[a];if((r.includeWhitespace||!K.test(u))&&(r.includePunctuation||!J.test(u))){var c=a-i.length+1,s=a+1,l=e.slice(c,s).join("");if(Z(l)){var f=Q(e,a),d=t.slice(s,f);Array.prototype.push.apply(i,d),a=f}o.push(i)}i=[]}return o}(r,o,G(o),n)},et=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),nt=function(t,e){for(var n=e.getBlockElements(),r=e.getShortEndedElements(),o=function(t){return n[t.nodeName]||r[t.nodeName]},i=[],a="",u=new et(t,t);t=u.next();)3===t.nodeType?a+=t.data:o(t)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},rt=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},ot=function(t,e){var n=nt(t,e).join("\n");return tt(n.split(""),s).length},it=function(t,e){var n=nt(t,e).join("");return rt(n)},at=function(t,e){var n=nt(t,e).join("").replace(/\s/g,"");return rt(n)},ut=function(t,e){return function(){return e(t.getBody(),t.schema)}},ct=function(t,e){return function(){return e(t.selection.getRng().cloneContents(),t.schema)}},st=function(t){return ut(t,ot)},lt=tinymce.util.Tools.resolve("tinymce.util.Delay"),ft=function(t,e){!function(t,e){t.fire("wordCountUpdate",{wordCount:{words:e.body.getWordCount(),characters:e.body.getCharacterCount(),charactersWithoutSpaces:e.body.getCharacterCountWithoutSpaces()}})}(t,e)},dt=function(t,e){t.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(e.body.getWordCount()),String(e.selection.getWordCount())],["Characters (no spaces)",String(e.body.getCharacterCountWithoutSpaces()),String(e.selection.getCharacterCountWithoutSpaces())],["Characters",String(e.body.getCharacterCount()),String(e.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})};void 0===i&&(i=300),a.add("wordcount",(function(t){var e=function(t){return{body:{getWordCount:st(t),getCharacterCount:ut(t,it),getCharacterCountWithoutSpaces:ut(t,at)},selection:{getWordCount:ct(t,ot),getCharacterCount:ct(t,it),getCharacterCountWithoutSpaces:ct(t,at)},getCount:st(t)}}(t);return function(t,e){t.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return dt(t,e)}}),t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return dt(t,e)}})}(t,e),function(t,e,n){var r=lt.debounce((function(){return ft(t,e)}),n);t.on("init",(function(){ft(t,e),lt.setEditorTimeout(t,(function(){t.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))}(t,e,i),e}))}()},function(t,e,n){n(84)},function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(t)},n=function(t){var e=t.selection.getNode();return"A"===e.tagName&&""===t.dom.getAttrib(e,"href")?e.getAttribute("id")||e.getAttribute("name"):""},r=function(t,e){var n=t.selection.getNode();"A"===n.tagName&&""===t.dom.getAttrib(n,"href")?(n.removeAttribute("name"),n.id=e,t.undoManager.add()):(t.focus(),t.selection.collapse(!0),t.execCommand("mceInsertContent",!1,t.dom.createHTML("a",{id:e})))},o=function(t){var o=n(t);t.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:o},onSubmit:function(n){(function(t,n){return e(n)?(r(t,n),!1):(t.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!0)})(t,n.getData().id)||n.close()}})},i=function(t){t.addCommand("mceAnchor",(function(){o(t)}))},a=function(t){return function(e){for(var n=0;n<e.length;n++)(r=e[n]).attr("href")||!r.attr("id")&&!r.attr("name")||r.firstChild||e[n].attr("contenteditable",t);var r}},u=function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("a",a("false")),t.serializer.addNodeFilter("a",a(null))}))},c=function(t){t.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return t.execCommand("mceAnchor")},onSetup:function(e){return t.selection.selectorChangedWithUnbind("a:not([href])",e.setActive).unbind}}),t.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return t.execCommand("mceAnchor")}})};t.add("anchor",(function(t){u(t),i(t),c(t)}))}()},function(t,e,n){n(86)},function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,e){t.focus(),t.undoManager.transact((function(){t.setContent(e)})),t.selection.setCursorLocation(),t.nodeChanged()},n=function(t){return t.getContent({source_view:!0})},r=function(t){var r=n(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:r},onSubmit:function(n){e(t,n.getData().code),n.close()}})},o=function(t){t.addCommand("mceCodeEditor",(function(){r(t)}))},i=function(t){t.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return r(t)}}),t.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return r(t)}})};t.add("code",(function(t){return o(t),i(t),{}}))}()},function(t,e,n){n(88)},function(t,e){!function(t){"use strict";var e,n=function(t){var e=t,r=function(){return e};return{get:r,set:function(t){e=t},clone:function(){return n(r())}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(t){return{isFullscreen:function(){return null!==t.get()}}},i=function(){},a=function(t){return function(){return t}},u=a(!1),c=a(!0),s=function(){return l},l=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:u,isSome:u,isNone:c,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:n,orThunk:e,map:s,each:i,bind:s,exists:u,forall:c,filter:s,equals:t,equals_:t,toArray:function(){return[]},toString:a("none()")};return Object.freeze&&Object.freeze(r),r}(),f=function(t){var e=a(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return f(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:l},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,(function(e){return n(t,e)}))}};return o},d={some:f,none:s,from:function(t){return null==t?l:f(t)}},h=function(){return t=function(t){t.unbind()},e=n(d.none()),r=function(){e.get().each(t)},{clear:function(){r(),e.set(d.none())},isSet:function(){return e.get().isSome()},set:function(t){r(),e.set(d.some(t))}};var t,e,r},p=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},m=p("string"),g=p("array"),v=p("boolean"),b=p("function"),y=p("number"),w=Array.prototype.slice,x=Array.prototype.push,C=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},_=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},S=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},k=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!g(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);x.apply(e,t[n])}return e}(C(t,e))},O=(b(Array.from)&&Array.from,Object.keys),T=function(t,e){return-1!==t.indexOf(e)},E=function(t){return void 0!==t.style&&b(t.style.getPropertyValue)},A=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:a(t)}},D={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return A(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return A(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return A(r)},fromDom:A,fromPoint:function(t,e,n){var r=t.dom();return d.from(r.elementFromPoint(e,n)).map(A)}},N=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),M=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),R=t.Node.TEXT_NODE,P=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,void 0!==t.window?t.window:Function("return this;")(),e=R,function(t){return function(t){return t.dom().nodeType}(t)===e}),B=function(e,n,r){!function(e,n,r){if(!(m(r)||v(r)||y(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(e.dom(),n,r)},z=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},I=function(t,e){t.dom().removeAttribute(e)},L=function(e,n){var r=e.dom();!function(t,e){for(var n=O(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}(n,(function(e,n){!function(e,n,r){if(!m(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);E(e)&&e.style.setProperty(n,r)}(r,n,e)}))},F=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r).getPropertyValue(n),i=""!==o||function(t){var e=P(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)}(e)?o:H(r,n);return null===i?void 0:i},H=function(t,e){return E(t)?t.style.getPropertyValue(e):""},j=function(t){var e,n,r=D.fromDom(t.target),o=function(){t.stopPropagation()},i=function(){t.preventDefault()},u=(e=i,n=o,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(n.apply(null,t))});return function(t,e,n,r,o,i,u){return{target:a(t),x:a(e),y:a(n),stop:r,prevent:o,kill:i,raw:a(u)}}(r,t.clientX,t.clientY,o,i,u,t)},V=function(){return $(0,0)},$=function(t,e){return{major:t,minor:e}},U={nu:$,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?V():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return $(r(1),r(2))}(t,n)},unknown:V},W=function(t,e){return function(){return e===t}},q=function(t){var e=t.current;return{current:e,version:t.version,isEdge:W("Edge",e),isChrome:W("Chrome",e),isIE:W("IE",e),isOpera:W("Opera",e),isFirefox:W("Firefox",e),isSafari:W("Safari",e)}},X={unknown:function(){return q({current:void 0,version:U.unknown()})},nu:q,edge:a("Edge"),chrome:a("Chrome"),ie:a("IE"),opera:a("Opera"),firefox:a("Firefox"),safari:a("Safari")},G=function(t,e){return function(){return e===t}},Y=function(t){var e=t.current;return{current:e,version:t.version,isWindows:G("Windows",e),isiOS:G("iOS",e),isAndroid:G("Android",e),isOSX:G("OSX",e),isLinux:G("Linux",e),isSolaris:G("Solaris",e),isFreeBSD:G("FreeBSD",e),isChromeOS:G("ChromeOS",e)}},K={unknown:function(){return Y({current:void 0,version:U.unknown()})},nu:Y,windows:a("Windows"),ios:a("iOS"),android:a("Android"),linux:a("Linux"),osx:a("OSX"),solaris:a("Solaris"),freebsd:a("FreeBSD"),chromeos:a("ChromeOS")},J=function(t,e){var n=String(e).toLowerCase();return function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return d.some(o)}return d.none()}(t,(function(t){return t.search(n)}))},Z=function(t,e){return J(t,e).map((function(t){var n=U.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Q=function(t,e){return J(t,e).map((function(t){var n=U.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},tt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,et=function(t){return function(e){return T(e,t)}},nt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return T(t,"edge/")&&T(t,"chrome")&&T(t,"safari")&&T(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,tt],search:function(t){return T(t,"chrome")&&!T(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return T(t,"msie")||T(t,"trident")}},{name:"Opera",versionRegexes:[tt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:et("firefox")},{name:"Safari",versionRegexes:[tt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(T(t,"safari")||T(t,"mobile/"))&&T(t,"applewebkit")}}],rt=[{name:"Windows",search:et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return T(t,"iphone")||T(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:et("linux"),versionRegexes:[]},{name:"Solaris",search:et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ot={browsers:a(nt),oses:a(rt)},it=function(t,e){var n=ot.browsers(),r=ot.oses(),o=Z(n,t).fold(X.unknown,X.nu),i=Q(r,t).fold(K.unknown,K.nu),u=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),c=u||r("(pointer:coarse)"),s=o||!i&&u&&r("(min-device-width:768px)"),l=i||u&&!s,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!s&&!f;return{isiPad:a(o),isiPhone:a(i),isTablet:a(s),isPhone:a(l),isTouch:a(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:a(f),isDesktop:a(d)}}(i,o,t,e);return{browser:o,os:i,deviceType:u}},at=n(it(t.navigator.userAgent,(function(e){return t.window.matchMedia(e).matches}))),ut=function(){return at.get()},ct=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},st=function(e,n){return ct(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},lt=M,ft=N,dt=function(t,e){var n=t.dom();if(n.nodeType!==lt)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},ht=function(e,n){var r,o=void 0===n?t.document:n.dom();return(r=o).nodeType!==lt&&r.nodeType!==ft||0===r.childElementCount?[]:C(o.querySelectorAll(e),D.fromDom)},pt=(ut().browser.isIE(),function(t){return function(t){return d.from(t.dom().parentNode).map(D.fromDom)}(t).map(mt).map((function(e){return S(e,(function(e){return n=e,!(t.dom()===n.dom());var n}))})).getOr([])}),mt=function(t){return C(t.dom().childNodes,D.fromDom)},gt=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}("element","offset"),function(t,e){return{left:a(t),top:a(e),translate:function(n,r){return gt(t+n,e+r)}}}),vt=gt,bt=(ut().browser.isSafari(),function(e){var n=void 0===e?t.window:e;return d.from(n.visualViewport)}),yt=function(t,e,n,r){return{x:a(t),y:a(e),width:a(n),height:a(r),right:a(t+n),bottom:a(e+r)}},wt=function(e){var n=void 0===e?t.window:e,r=n.document,o=function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return vt(r,o)}(D.fromDom(r));return bt(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,r=t.clientHeight;return yt(o.left(),o.top(),e,r)}),(function(t){return yt(Math.max(t.pageLeft,o.left()),Math.max(t.pageTop,o.top()),t.width,t.height)}))},xt=function(t,e,n){return bt(n).map((function(e){var n=function(t){return j(t)};return e.addEventListener(t,n),{unbind:function(){return e.removeEventListener(t,n)}}})).getOrThunk((function(){return{unbind:i}}))},Ct=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_t=tinymce.util.Tools.resolve("tinymce.Env"),St=tinymce.util.Tools.resolve("tinymce.util.Delay"),kt=function(t,e){t.fire("FullscreenStateChanged",{state:e})},Ot=function(t,e,n){return S(function(t,e){for(var n=b(e)?e:u,r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=D.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(t,n),e)},Tt=function(t,e,n){return Ot(t,(function(t){return dt(t,e)}),n)},Et=function(t,e){return function(t,e){return S(pt(t),e)}(t,(function(t){return dt(t,e)}))},At="data-ephox-mobile-fullscreen-style",Dt="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Nt=_t.os.isAndroid(),Mt=function(t,e,n){var r=function(e){return function(n){var r=z(n,"style"),o=void 0===r?"no-styles":r.trim();o!==e&&(B(n,At,o),L(n,t.parseStyle(e)))}},o=Tt(e,"*"),i=k(o,(function(t){return Et(t,"*:not(.tox-silver-sink)")})),a=function(t){var e=F(t,"background-color");return void 0!==e&&""!==e?"background-color:"+e+"!important":"background-color:rgb(255,255,255)!important;"}(n);_(i,r("display:none!important;")),_(o,r("position:absolute!important;"+Dt+a)),r((!0===Nt?"":"position:absolute!important;")+Dt+a)(e)},Rt=function(t){var e=ht("["+At+"]");_(e,(function(e){var n=z(e,At);"no-styles"!==n?L(e,t.parseStyle(n)):I(e,"style"),I(e,At)}))},Pt=Ct.DOM,Bt=bt().fold((function(){return{bind:i,unbind:i}}),(function(e){var r,o=(r=n(d.none()),{clear:function(){r.set(d.none())},set:function(t){r.set(d.some(t))},isSet:function(){return r.get().isSome()},on:function(t){r.get().each(t)}}),i=h(),a=h(),u=St.throttle((function(){t.document.body.scrollTop=0,t.document.documentElement.scrollTop=0,t.window.requestAnimationFrame((function(){o.on((function(t){return L(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))}),50);return{bind:function(t){o.set(t),u(),i.set(xt("resize")),a.set(xt("scroll"))},unbind:function(){o.on((function(){i.clear(),a.clear()})),o.clear()}}})),zt=function(e,n){var r,o,i,a=t.document.body,u=t.document.documentElement;o=e.getContainer();var c,s,l=D.fromDom(o),f=n.get(),d=D.fromDom(e.getBody()),h=_t.deviceType.isTouch();if(r=o.style,i=e.getContentAreaContainer().firstChild.style,f)i.width=f.iframeWidth,i.height=f.iframeHeight,r.width=f.containerWidth,r.height=f.containerHeight,r.top=f.containerTop,r.left=f.containerLeft,h&&Rt(e.dom),Pt.removeClass(a,"tox-fullscreen"),Pt.removeClass(u,"tox-fullscreen"),Pt.removeClass(o,"tox-fullscreen"),c=f.scrollPos,t.window.scrollTo(c.x,c.y),n.set(null),kt(e,!1),Bt.unbind(),e.off("remove",Bt.unbind);else{var p={scrollPos:(s=wt(t.window),{x:s.x(),y:s.y()}),containerWidth:r.width,containerHeight:r.height,containerTop:r.top,containerLeft:r.left,iframeWidth:i.width,iframeHeight:i.height};h&&Mt(e.dom,l,d),i.width=i.height="100%",r.width=r.height="",Pt.addClass(a,"tox-fullscreen"),Pt.addClass(u,"tox-fullscreen"),Pt.addClass(o,"tox-fullscreen"),Bt.bind(l),e.on("remove",Bt.unbind),n.set(p),kt(e,!0)}},It=function(t,e){t.addCommand("mceFullScreen",(function(){zt(t,e)}))},Lt=function(t,e){return function(n){n.setActive(null!==e.get());var r=function(t){return n.setActive(t.state)};return t.on("FullscreenStateChanged",r),function(){return t.off("FullscreenStateChanged",r)}}},Ft=function(t,e){t.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:Lt(t,e)}),t.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:Lt(t,e)})};r.add("fullscreen",(function(t){var e=n(null);return t.settings.inline||(It(t,e),Ft(t,e),t.addShortcut("Meta+Shift+F","","mceFullScreen")),o(e)}))}(window)},function(t,e,n){n(90)},function(t,e){!function(){"use strict";var t=function(e){var n=e,r=function(){return n};return{get:r,set:function(t){n=t},clone:function(){return t(r())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),o=function(t){return t.fire("ResizeEditor")},i=function(t){return t.getParam("min_height",t.getElement().offsetHeight,"number")},a=function(t){return t.getParam("max_height",0,"number")},u=function(t){return t.getParam("autoresize_overflow_padding",1,"number")},c=function(t){return t.getParam("autoresize_bottom_margin",50,"number")},s=function(t){return t.getParam("autoresize_on_init",!0,"boolean")},l=function(t,e,n,o,i){r.setEditorTimeout(t,(function(){h(t,e),n--?l(t,e,n,o,i):i&&i()}),o)},f=function(t,e){var n=t.getBody();n&&(n.style.overflowY=e?"":"hidden",e||(n.scrollTop=0))},d=function(t,e,n,r){var o=parseInt(t.getStyle(e,n,r),10);return isNaN(o)?0:o},h=function(t,e){var r,u,s,l=t.dom,p=t.getDoc();if(p)if(function(t){return t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen()}(t))f(t,!0);else{var m=p.documentElement,g=c(t);u=i(t);var v=d(l,m,"margin-top",!0),b=d(l,m,"margin-bottom",!0);(s=m.offsetHeight+v+b+g)<0&&(s=0);var y=t.getContainer().offsetHeight-t.getContentAreaContainer().offsetHeight;s+y>i(t)&&(u=s+y);var w=a(t);if(w&&u>w?(u=w,f(t,!0)):f(t,!1),u!==e.get()){if(r=u-e.get(),l.setStyle(t.getContainer(),"height",u+"px"),e.set(u),o(t),n.browser.isSafari()&&n.mac){var x=t.getWin();x.scrollTo(x.pageXOffset,x.pageYOffset)}t.hasFocus()&&t.selection.scrollIntoView(t.selection.getNode()),n.webkit&&r<0&&h(t,e)}}},p={setup:function(t,e){t.on("init",(function(){var e=u(t);t.dom.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})})),t.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(){h(t,e)})),s(t)&&t.on("init",(function(){l(t,e,20,100,(function(){l(t,e,5,1e3)}))}))},resize:h},m=function(t,e){t.addCommand("mceAutoResize",(function(){p.resize(t,e)}))};e.add("autoresize",(function(e){if(e.settings.hasOwnProperty("resize")||(e.settings.resize=!1),!e.inline){var n=t(0);m(e,n),p.setup(e,n)}}))}()},function(t,e,n){n(92)},function(t,e){!function(){"use strict";var t=function(e){var n=e,r=function(){return n};return{get:r,set:function(t){n=t},clone:function(){return t(r())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t,e){t.fire("VisualBlocks",{state:e})},r=function(t,e,r){t.dom.toggleClass(t.getBody(),"mce-visualblocks"),r.set(!r.get()),n(t,r.get())},o=function(t,e,n){t.addCommand("mceVisualBlocks",(function(){r(t,e,n)}))},i=function(t){return t.getParam("visualblocks_default_state",!1,"boolean")},a=function(t,e,n){t.on("PreviewFormats AfterPreviewFormats",(function(e){n.get()&&t.dom.toggleClass(t.getBody(),"mce-visualblocks","afterpreviewformats"===e.type)})),t.on("init",(function(){i(t)&&r(t,e,n)})),t.on("remove",(function(){t.dom.removeClass(t.getBody(),"mce-visualblocks")}))},u=function(t,e){return function(n){n.setActive(e.get());var r=function(t){return n.setActive(t.state)};return t.on("VisualBlocks",r),function(){return t.off("VisualBlocks",r)}}},c=function(t,e){t.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:u(t,e)}),t.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:u(t,e)})};e.add("visualblocks",(function(e,n){var r=t(!1);o(e,n,r),c(e,r),a(e,n,r)}))}()},function(t,e,n){n(94)},function(t,e){!function(t){"use strict";var e,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){},o=function(t){return function(){return t}},i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},a=o(!1),u=o(!0),c=function(){return s},s=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},i={fold:function(t,e){return t()},is:a,isSome:a,isNone:u,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:n,orThunk:e,map:c,each:r,bind:c,exists:a,forall:u,filter:c,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(i),i}(),l=function(t){var e=o(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return l(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:s},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(a,(function(e){return n(t,e)}))}};return i},f={some:l,none:c,from:function(t){return null==t?s:l(t)}},d=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},h=d("string"),p=d("array"),m=d("boolean"),g=d("function"),v=d("number"),b=Array.prototype.slice,y=Array.prototype.push,w=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},x=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},C=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},_=function(t,e,n){return x(t,(function(t){n=e(n,t)})),n},S=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return f.some(o)}return f.none()},k=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!p(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);y.apply(e,t[n])}return e}(w(t,e))},O=function(t){return 0===t.length?f.none():f.some(t[0])},T=function(t){return 0===t.length?f.none():f.some(t[t.length-1])},E=(g(Array.from)&&Array.from,function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}),A=function(e,n){return E(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},D=function(){return(D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},N=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return N(n())}}},M=function(){return R(0,0)},R=function(t,e){return{major:t,minor:e}},P={nu:R,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?M():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return R(r(1),r(2))}(t,n)},unknown:M},B=function(t,e){return function(){return e===t}},z=function(t){var e=t.current;return{current:e,version:t.version,isEdge:B("Edge",e),isChrome:B("Chrome",e),isIE:B("IE",e),isOpera:B("Opera",e),isFirefox:B("Firefox",e),isSafari:B("Safari",e)}},I={unknown:function(){return z({current:void 0,version:P.unknown()})},nu:z,edge:o("Edge"),chrome:o("Chrome"),ie:o("IE"),opera:o("Opera"),firefox:o("Firefox"),safari:o("Safari")},L=function(t,e){return function(){return e===t}},F=function(t){var e=t.current;return{current:e,version:t.version,isWindows:L("Windows",e),isiOS:L("iOS",e),isAndroid:L("Android",e),isOSX:L("OSX",e),isLinux:L("Linux",e),isSolaris:L("Solaris",e),isFreeBSD:L("FreeBSD",e),isChromeOS:L("ChromeOS",e)}},H={unknown:function(){return F({current:void 0,version:P.unknown()})},nu:F,windows:o("Windows"),ios:o("iOS"),android:o("Android"),linux:o("Linux"),osx:o("OSX"),solaris:o("Solaris"),freebsd:o("FreeBSD"),chromeos:o("ChromeOS")},j=function(t,e){var n=String(e).toLowerCase();return S(t,(function(t){return t.search(n)}))},V=function(t,e){return j(t,e).map((function(t){var n=P.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},$=function(t,e){return j(t,e).map((function(t){var n=P.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},U=function(t,e){return-1!==t.indexOf(e)},W=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,q=function(t){return function(e){return U(e,t)}},X=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return U(t,"edge/")&&U(t,"chrome")&&U(t,"safari")&&U(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,W],search:function(t){return U(t,"chrome")&&!U(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return U(t,"msie")||U(t,"trident")}},{name:"Opera",versionRegexes:[W,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:q("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:q("firefox")},{name:"Safari",versionRegexes:[W,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(U(t,"safari")||U(t,"mobile/"))&&U(t,"applewebkit")}}],G=[{name:"Windows",search:q("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return U(t,"iphone")||U(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:q("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:q("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:q("linux"),versionRegexes:[]},{name:"Solaris",search:q("sunos"),versionRegexes:[]},{name:"FreeBSD",search:q("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:q("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Y={browsers:o(X),oses:o(G)},K=function(t,e){var n=Y.browsers(),r=Y.oses(),i=V(n,t).fold(I.unknown,I.nu),a=$(r,t).fold(H.unknown,H.nu),u=function(t,e,n,r){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),c=u||r("(pointer:coarse)"),s=i||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!s,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!s&&!f;return{isiPad:o(i),isiPhone:o(a),isTablet:o(s),isPhone:o(l),isTouch:o(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:o(f),isDesktop:o(d)}}(a,i,t,e);return{browser:i,os:a,deviceType:u}},J=N(K(t.navigator.userAgent,(function(e){return t.window.matchMedia(e).matches}))),Z=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:o(t)}},Q={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Z(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return Z(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return Z(r)},fromDom:Z,fromPoint:function(t,e,n){var r=t.dom();return f.from(r.elementFromPoint(e,n)).map(Z)}},tt=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE,t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),et=(t.Node.TEXT_NODE,t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,tt),nt=function(t,e){return t.dom()===e.dom()},rt=J.get().browser,ot=rt.isIE()?function(t,e){return A(t.dom(),e.dom())}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},it=function(t,e){var n=t.dom();if(n.nodeType!==et)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},at=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ut=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ct=tinymce.util.Tools.resolve("tinymce.util.VK"),st=function(t,e,n){return t.isSome()&&e.isSome()?f.some(n(t.getOrDie(),e.getOrDie())):f.none()},lt=Object.keys,ft=function(t){return f.from(t.dom().parentNode).map(Q.fromDom)},dt=function(t){return w(t.dom().childNodes,Q.fromDom)},ht=function(t,e){var n=t.dom().childNodes;return f.from(n[e]).map(Q.fromDom)},pt=function(t){return ht(t,0)},mt=function(t){return ht(t,t.dom().childNodes.length-1)},gt=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}("element","offset"),function(t,e){ft(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),vt=function(t,e){t.dom().appendChild(e.dom())},bt=function(t,e){x(e,(function(e){vt(t,e)}))},yt=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},wt=function(t,e,n){return t.fire("ListMutation",{action:e,element:n})},xt=void 0!==t.window?t.window:Function("return this;")(),Ct=function(t,e){return function(t,e){for(var n=null!=e?e:xt,r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n}(t.split("."),e)},_t=function(t,e){var n=function(t,e){return Ct(t,e)}(t,e);if(null==n)throw new Error(t+" not available on this browser");return n},St=function(t){return function(t){return _t("HTMLElement",t)}(Ct("ownerDocument.defaultView",t)).prototype.isPrototypeOf(t)},kt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ot=tinymce.util.Tools.resolve("tinymce.util.Tools"),Tt=function(t){return t&&"BR"===t.nodeName},Et=function(t){return t&&3===t.nodeType},At=function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)},Dt=function(t){return t&&/^(OL|UL)$/.test(t.nodeName)},Nt=function(t){return t&&/^(DT|DD)$/.test(t.nodeName)},Mt=function(t){return t&&/^(LI|DT|DD)$/.test(t.nodeName)},Rt=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},Pt=Tt,Bt=function(t){return t.parentNode.firstChild===t},zt=function(t,e){return e&&!!t.schema.getTextBlockElements()[e.nodeName]},It=function(t,e){return t&&t.nodeName in e},Lt=function(t,e){return!!Tt(e)&&!(!t.isBlock(e.nextSibling)||Tt(e.previousSibling))},Ft=function(t,e,n){var r=t.isEmpty(e);return!(n&&t.select("span[data-mce-type=bookmark]",e).length>0)&&r},Ht=function(t,e){return t.isChildOf(e,t.getRoot())},jt=function(t){var e=t.selection.getStart(!0);return t.dom.getParent(e,"OL,UL,DL",$t(t,e))},Vt=function(t){var e=t.selection.getSelectedBlocks();return Ot.grep(function(t,e){var n=Ot.map(e,(function(e){var n=t.dom.getParent(e,"li,dd,dt",$t(t,e));return n||e}));return kt.unique(n)}(t,e),(function(t){return Mt(t)}))},$t=function(t,e){var n=t.dom.getParents(e,"TD,TH");return n.length>0?n[0]:t.getBody()},Ut=function(t,e){var n=t.dom.getParents(e,"ol,ul",$t(t,e));return T(n)},Wt=function(t,e){var n=w(e,(function(e){return Ut(t,e).getOr(e)}));return kt.unique(n)},qt={isList:function(t){var e=jt(t);return St(e)},getParentList:jt,getSelectedSubLists:function(t){var e=jt(t),n=t.selection.getSelectedBlocks();return function(t,e){return t&&1===e.length&&e[0]===t}(e,n)?function(t){return Ot.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return At(t)}))}(e):Ot.grep(n,(function(t){return At(t)&&e!==t}))},getSelectedListItems:Vt,getClosestListRootElm:$t,getSelectedDlItems:function(t){return C(Vt(t),Nt)},getSelectedListRoots:function(t){var e=function(t){var e=Ut(t,t.selection.getStart()),n=C(t.selection.getSelectedBlocks(),Dt);return e.toArray().concat(n)}(t);return Wt(t,e)}},Xt=function(t){return t.getParam("lists_indent_on_tab",!0)},Gt=function(t){var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},Yt=function(t){return t.getParam("forced_root_block_attrs",{})},Kt=function(t,e){var n,r,o,i=t.dom,a=t.schema.getBlockElements(),u=i.createFragment(),c=Gt(t);if(c&&((r=i.create(c)).tagName===c.toUpperCase()&&i.setAttribs(r,Yt(t)),It(e.firstChild,a)||u.appendChild(r)),e)for(;n=e.firstChild;){var s=n.nodeName;o||"SPAN"===s&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),It(n,a)?(u.appendChild(n),r=null):c?(r||(r=i.create(c),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},Jt=function(t){return t.dom().nodeName.toLowerCase()},Zt=(e=tt,function(t){return function(t){return t.dom().nodeType}(t)===e}),Qt=function(e,n){var r=e.dom();!function(t,e){for(var n=lt(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}(n,(function(e,n){!function(e,n,r){if(!(h(r)||m(r)||v(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(r,n,e)}))},te=function(t){return _(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})},ee=function(e,n,r){if(!h(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);(function(t){return void 0!==t.style&&g(t.style.getPropertyValue)})(e)&&e.style.setProperty(n,r)},ne=function(t){return function(t,e){return Q.fromDom(t.dom().cloneNode(e))}(t,!0)},re=function(t,e){var n=function(t,e){var n=Q.fromTag(e),r=te(t);return Qt(n,r),n}(t,e);gt(t,n);var r=dt(t);return bt(n,r),yt(t),n},oe=function(t,e){vt(t.item,e.list)},ie=function(t,e){var n={list:Q.fromTag(e,t),item:Q.fromTag("li",t)};return vt(n.list,n.item),n},ae=function(t,e,n){var r=e.slice(0,n.depth);return T(r).each((function(e){!function(t,e){vt(t.list,e),t.item=e}(e,function(t,e,n){var r=Q.fromTag("li",t);return Qt(r,e),bt(r,n),r}(t,n.itemAttributes,n.content)),function(t,e){Jt(t.list)!==e.listType&&(t.list=re(t.list,e.listType)),Qt(t.list,e.listAttributes)}(e,n)})),r},ue=function(t,e,n){var r,o=function(t,e,n){for(var r=[],o=0;o<n;o++)r.push(ie(t,e.listType));return r}(t,n,n.depth-e.length);return function(t){for(var e=1;e<t.length;e++)oe(t[e-1],t[e])}(o),function(t,e){for(var n=0;n<t.length-1;n++)r=t[n].item,o="list-style-type",i="none",a=void 0,a=r.dom(),ee(a,o,i);var r,o,i,a;T(t).each((function(t){Qt(t.list,e.listAttributes),Qt(t.item,e.itemAttributes),bt(t.item,e.content)}))}(o,n),r=o,st(T(e),O(r),oe),e.concat(o)},ce=function(t){return it(t,"OL,UL")},se=function(t){return pt(t).map(ce).getOr(!1)},le=function(t){return t.depth>0},fe=function(t){return t.isSelected},de=function(t){var e=dt(t),n=mt(t).map(ce).getOr(!1)?e.slice(0,-1):e;return w(n,ne)},he=function(t){x(t,(function(e,n){(function(t,e){for(var n=t[e].depth,r=e-1;r>=0;r--){if(t[r].depth===n)return f.some(t[r]);if(t[r].depth<n)break}return f.none()})(t,n).each((function(t){var n,r;r=t,(n=e).listType=r.listType,n.listAttributes=D({},r.listAttributes)}))}))},pe=function(t,e,n,r){return pt(r).filter(ce).fold((function(){e.each((function(t){nt(t.start,r)&&n.set(!0)}));var o=function(t,e,n){return ft(t).filter(Zt).map((function(r){return{depth:e,isSelected:n,content:de(t),itemAttributes:te(t),listAttributes:te(r),listType:Jt(r)}}))}(r,t,n.get());e.each((function(t){nt(t.end,r)&&n.set(!1)}));var i=mt(r).filter(ce).map((function(r){return me(t,e,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return me(t,e,n,r)}))},me=function(t,e,n,r){return k(dt(r),(function(r){return(ce(r)?me:pe)(t+1,e,n,r)}))},ge=function(e,n){return w(n,(function(n){var r,o,i,a=(r=n.content,i=(o||t.document).createDocumentFragment(),x(r,(function(t){i.appendChild(t.dom())})),Q.fromDom(i));return Q.fromDom(Kt(e,a.dom()))}))},ve=function(t,e){return he(e),function(t,e){var n=_(e,(function(e,n){return n.depth>e.length?ue(t,e,n):ae(t,e,n)}),[]);return O(n).map((function(t){return t.list}))}(t.contentDocument,e).toArray()},be=function(t){var e,n,r=w(qt.getSelectedListItems(t),Q.fromDom);return st(S(r,i(se)),S((e=r,(n=b.call(e,0)).reverse(),n),i(se)),(function(t,e){return{start:t,end:e}}))},ye=function(t,e,n){var r=function(t,e){var n=N(!1);return w(t,(function(t){return{sourceList:t,entries:me(0,e,n,t)}}))}(e,be(t));x(r,(function(e){!function(t,e){x(C(t,fe),(function(t){return function(t,e){switch(t){case"Indent":e.depth++;break;case"Outdent":e.depth--;break;case"Flatten":e.depth=0}}(e,t)}))}(e.entries,n);var r,o=function(t,e){return k(function(t,e){if(0===t.length)return[];for(var n=e(t[0]),r=[],o=[],i=0,a=t.length;i<a;i++){var u=t[i],c=e(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r}(e,le),(function(e){return O(e).map(le).getOr(!1)?ve(t,e):ge(t,e)}))}(t,e.entries);x(o,(function(e){wt(t,"Indent"===n?"IndentList":"OutdentList",e.dom())})),r=e.sourceList,x(o,(function(t){gt(r,t)})),yt(e.sourceList)}))},we=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),xe=we.DOM,Ce=function(t,e,n){var r,o,i,a,u,c;for(i=xe.select('span[data-mce-type="bookmark"]',e),u=Kt(t,n),(r=xe.createRng()).setStartAfter(n),r.setEndAfter(e),a=(o=r.extractContents()).firstChild;a;a=a.firstChild)if("LI"===a.nodeName&&t.dom.isEmpty(a)){xe.remove(a);break}t.dom.isEmpty(o)||xe.insertAfter(o,e),xe.insertAfter(u,e),Ft(t.dom,n.parentNode)&&(c=n.parentNode,Ot.each(i,(function(t){c.parentNode.insertBefore(t,n.parentNode)})),xe.remove(c)),xe.remove(n),Ft(t.dom,e)&&xe.remove(e)},_e=function(t){it(t,"dt")&&re(t,"dd")},Se=function(t,e,n){x(n,"Indent"===e?_e:function(e){return function(t,e){it(e,"dd")?re(e,"dt"):it(e,"dt")&&ft(e).each((function(n){return Ce(t,n.dom(),e.dom())}))}(t,e)})},ke=function(t,e){if(Et(t))return{container:t,offset:e};var n=at.getNode(t,e);return Et(n)?{container:n,offset:e>=t.childNodes.length?n.data.length:0}:n.previousSibling&&Et(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Et(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:t,offset:e}},Oe=function(t){var e=t.cloneRange(),n=ke(t.startContainer,t.startOffset);e.setStart(n.container,n.offset);var r=ke(t.endContainer,t.endOffset);return e.setEnd(r.container,r.offset),e},Te=function(t,e){var n=w(qt.getSelectedListRoots(t),Q.fromDom),r=w(qt.getSelectedDlItems(t),Q.fromDom),o=!1;if(n.length||r.length){var i=t.selection.getBookmark();ye(t,n,e),Se(t,e,r),t.selection.moveToBookmark(i),t.selection.setRng(Oe(t.selection.getRng())),t.nodeChanged(),o=!0}return o},Ee=function(t){return Te(t,"Indent")},Ae=function(t){return Te(t,"Outdent")},De=function(t){return Te(t,"Flatten")},Ne=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Me=we.DOM,Re=function(t){var e={},n=function(n){var r,o,i;o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(r=Me.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):Me.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),e[n?"startContainer":"endContainer"]=o,e[n?"startOffset":"endOffset"]=i};return n(!0),t.collapsed||n(),e},Pe=function(t){function e(e){var n,r,o;n=o=t[e?"startContainer":"endContainer"],r=t[e?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(t){for(var e=t.parentNode.firstChild,n=0;e;){if(e===t)return n;1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||n++,e=e.nextSibling}return-1}(n),n=n.parentNode,Me.remove(o),!n.hasChildNodes()&&Me.isBlock(n)&&n.appendChild(Me.create("br"))),t[e?"startContainer":"endContainer"]=n,t[e?"startOffset":"endOffset"]=r)}e(!0),e();var n=Me.createRng();return n.setStart(t.startContainer,t.startOffset),t.endContainer&&n.setEnd(t.endContainer,t.endOffset),Oe(n)},Be=function(t){return/\btox\-/.test(t.className)},ze=function(t){switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ie=function(t,e){Ot.each(e,(function(e,n){t.setAttribute(n,e)}))},Le=function(t,e,n){!function(t,e,n){var r=n["list-style-type"]?n["list-style-type"]:null;t.setStyle(e,"list-style-type",r)}(t,e,n),function(t,e,n){Ie(e,n["list-attributes"]),Ot.each(t.select("li",e),(function(t){Ie(t,n["list-item-attributes"])}))}(t,e,n)},Fe=function(t,e,n,r){var o,i;for(o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Pt(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(zt(t,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},He=function(t,e,n){void 0===n&&(n={});var r,o=t.selection.getRng(!0),i="LI",a=qt.getClosestListRootElm(t,t.selection.getStart(!0)),u=t.dom;"false"!==u.getContentEditable(t.selection.getNode())&&("DL"===(e=e.toUpperCase())&&(i="DT"),r=Re(o),Ot.each(function(t,e,n){for(var r,o=[],i=t.dom,a=Fe(t,e,!0,n),u=Fe(t,e,!1,n),c=[],s=a;s&&(c.push(s),s!==u);s=s.nextSibling);return Ot.each(c,(function(e){if(zt(t,e))return o.push(e),void(r=null);if(i.isBlock(e)||Pt(e))return Pt(e)&&i.remove(e),void(r=null);var a=e.nextSibling;Ne.isBookmarkNode(e)&&(zt(t,a)||!a&&e.parentNode===n)?r=null:(r||(r=i.create("p"),e.parentNode.insertBefore(r,e),o.push(r)),r.appendChild(e))})),o}(t,o,a),(function(r){var o,a;(a=r.previousSibling)&&At(a)&&a.nodeName===e&&function(t,e,n){var r=t.getStyle(e,"list-style-type"),o=n?n["list-style-type"]:"";return r===(o=null===o?"":o)}(u,a,n)?(o=a,r=u.rename(r,i),a.appendChild(r)):(o=u.create(e),r.parentNode.insertBefore(o,r),o.appendChild(r),r=u.rename(r,i)),function(t,e,n){Ot.each(n,(function(n){var r;return t.setStyle(e,((r={})[n]="",r))}))}(u,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Le(u,o,n),Ve(t.dom,o)})),t.selection.setRng(Pe(r)))},je=function(t,e,n){return function(t,e){return t&&e&&At(t)&&t.nodeName===e.nodeName}(e,n)&&function(t,e,n){return t.getStyle(e,"list-style-type",!0)===t.getStyle(n,"list-style-type",!0)}(t,e,n)&&(r=n,e.className===r.className);var r},Ve=function(t,e){var n,r;if(n=e.nextSibling,je(t,e,n)){for(;r=n.firstChild;)e.appendChild(r);t.remove(n)}if(n=e.previousSibling,je(t,e,n)){for(;r=n.lastChild;)e.insertBefore(r,e.firstChild);t.remove(n)}},$e=function(t,e,n,r,o){if(e.nodeName!==r||Ue(o)){var i=Re(t.selection.getRng(!0));Ot.each([e].concat(n),(function(e){!function(t,e,n,r){if(e.nodeName!==n){var o=t.dom.rename(e,n);Le(t.dom,o,r),wt(t,ze(n),o)}else Le(t.dom,e,r),wt(t,ze(n),e)}(t,e,r,o)})),t.selection.setRng(Pe(i))}else De(t)},Ue=function(t){return"list-style-type"in t},We={toggleList:function(t,e,n){var r=qt.getParentList(t),o=qt.getSelectedSubLists(t);n=n||{},r&&o.length>0?$e(t,r,o,e,n):function(t,e,n,r){if(e!==t.getBody())if(e)if(e.nodeName!==n||Ue(r)||Be(e)){var o=Re(t.selection.getRng(!0));Le(t.dom,e,r);var i=t.dom.rename(e,n);Ve(t.dom,i),t.selection.setRng(Pe(o)),wt(t,ze(n),i)}else De(t);else He(t,n,r),wt(t,ze(n),e)}(t,r,e,n)},mergeWithAdjacentLists:Ve},qe=we.DOM,Xe=function(t,e){var n,r=e.parentNode;"LI"===r.nodeName&&r.firstChild===e&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(e),Ft(t,r)&&qe.remove(r)):qe.setStyle(r,"listStyleType","none")),At(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(e)},Ge=function(t,e){Ot.each(Ot.grep(t.select("ol,ul",e)),(function(e){Xe(t,e)}))},Ye=function(t,e,n,r){var o=e.startContainer,i=e.startOffset;if(Et(o)&&(n?i<o.data.length:i>0))return o;var a=t.schema.getNonEmptyElements();1===o.nodeType&&(o=at.getNode(o,i));var u=new ut(o,r);for(n&&Lt(t.dom,o)&&u.next();o=u[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(Et(o)&&o.data.length>0)return o}},Ke=function(t,e){var n=e.childNodes;return 1===n.length&&!At(n[0])&&t.isBlock(n[0])},Je=function(t,e,n){var r,o;if(o=Ke(t,n)?n.firstChild:n,function(t,e){Ke(t,e)&&t.remove(e.firstChild,!0)}(t,e),!Ft(t,e,!0))for(;r=e.firstChild;)o.appendChild(r)},Ze=function(t,e,n){var r,o,i=e.parentNode;if(Ht(t,e)&&Ht(t,n)){At(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&Pt(i.previousSibling)&&t.remove(i.previousSibling),(r=n.lastChild)&&Pt(r)&&e.hasChildNodes()&&t.remove(r),Ft(t,n,!0)&&t.$(n).empty(),Je(t,e,n),o&&n.appendChild(o);var a=ot(Q.fromDom(n),Q.fromDom(e))?t.getParents(e,At,n):[];t.remove(e),x(a,(function(e){Ft(t,e)&&e!==t.getRoot()&&t.remove(e)}))}},Qe=function(t,e,n,r){var o=t.dom;if(o.isEmpty(r))!function(t,e,n){t.dom.$(n).empty(),Ze(t.dom,e,n),t.selection.setCursorLocation(n)}(t,n,r);else{var i=Re(e);Ze(o,n,r),t.selection.setRng(Pe(i))}},tn=function(t,e){var n=t.dom,r=t.selection,o=r.getStart(),i=qt.getClosestListRootElm(t,o),a=n.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===t.getBody()&&Ft(n,u))return!0;var c=Oe(r.getRng()),s=n.getParent(Ye(t,c,e,i),"LI",i);if(s&&s!==a)return t.undoManager.transact((function(){e?Qe(t,c,s,a):Bt(a)?Ae(t):function(t,e,n,r){var o=Re(e);Ze(t.dom,n,r);var i=Pe(o);t.selection.setRng(i)}(t,c,a,s)})),!0;if(!s&&!e&&0===c.startOffset&&0===c.endOffset)return t.undoManager.transact((function(){De(t)})),!0}return!1},en=function(t,e){return tn(t,e)||function(t,e){var n=t.dom,r=t.selection.getStart(),o=qt.getClosestListRootElm(t,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=Oe(t.selection.getRng()),u=n.getParent(Ye(t,a,e,o),"LI",o);if(u)return t.undoManager.transact((function(){!function(t,e,n){var r=t.getParent(e.parentNode,t.isBlock,n);t.remove(e),r&&t.isEmpty(r)&&t.remove(r)}(n,i,o),We.mergeWithAdjacentLists(n,u.parentNode),t.selection.select(u,!0),t.selection.collapse(e)})),!0}return!1}(t,e)},nn=function(t,e){return t.selection.isCollapsed()?en(t,e):function(t){var e=t.selection.getStart(),n=qt.getClosestListRootElm(t,e);return!!(t.dom.getParent(e,"LI,DT,DD",n)||qt.getSelectedListItems(t).length>0)&&(t.undoManager.transact((function(){t.execCommand("Delete"),Ge(t.dom,t.getBody())})),!0)}(t)},rn=function(t){t.on("keydown",(function(e){e.keyCode===ct.BACKSPACE?nn(t,!1)&&e.preventDefault():e.keyCode===ct.DELETE&&nn(t,!0)&&e.preventDefault()}))},on=nn,an=function(t){return{backspaceDelete:function(e){on(t,e)}}},un=function(t,e){return function(){var n=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===e}},cn=function(t){t.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase();"indent"===n?Ee(t):"outdent"===n&&Ae(t)})),t.addCommand("InsertUnorderedList",(function(e,n){We.toggleList(t,"UL",n)})),t.addCommand("InsertOrderedList",(function(e,n){We.toggleList(t,"OL",n)})),t.addCommand("InsertDefinitionList",(function(e,n){We.toggleList(t,"DL",n)})),t.addCommand("RemoveList",(function(){De(t)})),t.addQueryStateHandler("InsertUnorderedList",un(t,"UL")),t.addQueryStateHandler("InsertOrderedList",un(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",un(t,"DL"))},sn=function(t){Xt(t)&&function(t){t.on("keydown",(function(e){e.keyCode!==ct.TAB||ct.metaKeyPressed(e)||t.undoManager.transact((function(){(e.shiftKey?Ae(t):Ee(t))&&e.preventDefault()}))}))}(t),rn(t)},ln=function(t,e){return function(n){var r=function(t){var r=function(t,e){for(var n=0;n<t.length;n++){if(e(t[n]))return n}return-1}(t.parents,Rt),o=-1!==r?t.parents.slice(0,r):t.parents,i=Ot.grep(o,At);n.setActive(i.length>0&&i[0].nodeName===e&&!Be(i[0]))};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}},fn=function(t){var e=function(e){return function(){return t.execCommand(e)}};(function(t,e){var n=t.settings.plugins?t.settings.plugins:"";return-1!==Ot.inArray(n.split(/[ ,]/),e)})(t,"advlist")||(t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:ln(t,"OL")}),t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:ln(t,"UL")}))};n.add("lists",(function(t){return sn(t),fn(t),cn(t),an(t)}))}(window)},function(t,e,n){n(96)},function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.util.I18n"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),o=function(t){return t.getParam("toc_class","mce-toc")},i=function(t){var e=t.getParam("toc_header","h2");return/^h[1-6]$/.test(e)?e:"h2"},a=function(t){var e=parseInt(t.getParam("toc_depth","3"),10);return e>=1&&e<=9?e:3},u=function(t){var e=0;return function(){var n=(new Date).getTime().toString(32);return t+n+(e++).toString(32)}}("mcetoc_"),c=function(t){var e=o(t),n=i(t),c=function(t){var e,n=[];for(e=1;e<=t;e++)n.push("h"+e);return n.join(",")}(a(t)),s=t.$(c);return s.length&&/^h[1-9]$/i.test(n)&&(s=s.filter((function(n,r){return!t.dom.hasClass(r.parentNode,e)}))),r.map(s,(function(e){return{id:e.id?e.id:u(),level:parseInt(e.nodeName.replace(/^H/i,""),10),title:t.$.text(e),element:e}}))},s=function(t){var r,o,a,u,s,l,f,d="",h=c(t),p=function(t){var e,n=9;for(e=0;e<t.length;e++)if(t[e].level<n&&(n=t[e].level),1===n)return n;return n}(h)-1;if(!h.length)return"";for(d+=(s=i(t),l=n.translate("Table of Contents"),f="</"+s+">","<"+s+' contenteditable="true">'+e.DOM.encode(l)+f),r=0;r<h.length;r++){if((a=h[r]).element.id=a.id,u=h[r+1]&&h[r+1].level,p===a.level)d+="<li>";else for(o=p;o<a.level;o++)d+="<ul><li>";if(d+='<a href="#'+a.id+'">'+a.title+"</a>",u!==a.level&&u)for(o=a.level;o>u;o--)d+="</li></ul><li>";else d+="</li>",u||(d+="</ul>");p=a.level}return d},l=function(t){var e=o(t),n=t.$("."+e);n.length&&t.undoManager.transact((function(){n.html(s(t))}))},f={hasHeaders:function(t){return c(t).length>0},insertToc:function(t){var e=o(t),n=t.$("."+e);!function(t,e){return!e.length||t.dom.getParents(e[0],".mce-offscreen-selection").length>0}(t,n)?l(t):t.insertContent(function(t){var e=s(t);return'<div class="'+t.dom.encode(o(t))+'" contenteditable="false">'+e+"</div>"}(t))},updateToc:l},d=function(t){t.addCommand("mceInsertToc",(function(){f.insertToc(t)})),t.addCommand("mceUpdateToc",(function(){f.updateToc(t)}))},h=function(t){var e=t.$,n=o(t);t.on("PreProcess",(function(t){var r=e("."+n,t.node);r.length&&(r.removeAttr("contentEditable"),r.find("[contenteditable]").removeAttr("contentEditable"))})),t.on("SetContent",(function(){var t=e("."+n);t.length&&(t.attr("contentEditable",!1),t.children(":first-child").attr("contentEditable",!0))}))},p=function(t){return function(e){var n=function(){return e.setDisabled(t.readonly||!f.hasHeaders(t))};return n(),t.on("LoadContent SetContent change",n),function(){return t.on("LoadContent SetContent change",n)}}},m=function(t){return function(e){return e&&t.dom.is(e,"."+o(t))&&t.getBody().contains(e)}},g=function(t){t.ui.registry.addButton("toc",{icon:"toc",tooltip:"Table of contents",onAction:function(){return t.execCommand("mceInsertToc")},onSetup:p(t)}),t.ui.registry.addButton("tocupdate",{icon:"reload",tooltip:"Update",onAction:function(){return t.execCommand("mceUpdateToc")}}),t.ui.registry.addMenuItem("toc",{icon:"toc",text:"Table of contents",onAction:function(){return t.execCommand("mceInsertToc")},onSetup:p(t)}),t.ui.registry.addContextToolbar("toc",{items:"tocupdate",predicate:m(t),scope:"node",position:"node"})};t.add("toc",(function(t){d(t),g(t),h(t)}))}()},function(t,e,n){n(98)},function(t,e){!function(t){"use strict";var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(t){n=t},clone:function(){return e(r())}}},n=function(){},r=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},o=function(t){return function(){return t}},i=function(t){return t};function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var u=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},c=o(!1),s=o(!0),l=function(){return f},f=function(){var t=function(t){return t.isNone()},e=function(t){return t()},r=function(t){return t},i={fold:function(t,e){return t()},is:c,isSome:c,isNone:s,getOr:r,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:e,map:l,each:n,bind:l,exists:c,forall:s,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(i),i}(),d=function(t){var e=o(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:s,isNone:c,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(c,(function(e){return n(t,e)}))}};return i},h={some:d,none:l,from:function(t){return null==t?f:d(t)}},p=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},g=m("string"),v=m("array"),b=m("boolean"),y=m("function"),w=m("number"),x=Array.prototype.slice,C=Array.prototype.indexOf,_=Array.prototype.push,S=function(t,e){return n=t,r=e,C.call(n,r)>-1;var n,r},k=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return!0}return!1},O=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},T=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},E=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},A=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}}(t,(function(t){n=e(n,t)})),n},D=function(t,e,n){return T(t,(function(t){n=e(n,t)})),n},N=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return h.some(o)}return h.none()},M=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return h.some(n)}return h.none()},R=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!v(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);_.apply(e,t[n])}return e},P=function(t,e){return R(O(t,e))},B=function(t,e){for(var n=0,r=t.length;n<r;++n){if(!0!==e(t[n],n))return!1}return!0},z=function(t){var e=x.call(t,0);return e.reverse(),e},I=(y(Array.from)&&Array.from,function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return h.none()}),L=Object.keys,F=Object.hasOwnProperty,H=function(t,e){for(var n=L(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},j=function(t,e){return V(t,(function(t,n){return{k:n,v:e(t,n)}}))},V=function(t,e){var n={};return H(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},$=function(t,e){return U(t,e)?h.from(t[e]):h.none()},U=function(t,e){return F.call(t,e)},W=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return T(t,(function(t,n){r[t]=o(e[n])})),r}},q=function(t){return t.slice(0).sort()},X=function(t,e){throw new Error("All required keys ("+q(t).join(", ")+") were not specified. Specified keys were: "+q(e).join(", ")+".")},G=function(t){throw new Error("Unsupported keys for object: "+q(t).join(", "))},Y=function(t,e){if(!v(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");T(e,(function(e){if(!g(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},K=function(t){var e=q(t);N(e,(function(t,n){return n<e.length-1&&t===e[n+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))},J=function(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Y("required",t),Y("optional",e),K(n),function(r){var i=L(r);B(t,(function(t){return S(i,t)}))||X(t,i);var a=E(i,(function(t){return!S(n,t)}));a.length>0&&G(a);var u={};return T(t,(function(t){u[t]=o(r[t])})),T(e,(function(t){u[t]=o(Object.prototype.hasOwnProperty.call(r,t)?h.some(r[t]):h.none())})),u}},Z=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE),Q=t.Node.DOCUMENT_NODE,tt=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),et=t.Node.TEXT_NODE,nt=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,void 0!==t.window?t.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),rt=function(t){return t.dom().nodeType},ot=function(t){return function(e){return rt(e)===t}},it=function(t){return rt(t)===Z||"#comment"===nt(t)},at=ot(tt),ut=ot(et),ct=function(e,n,r){if(!(g(r)||b(r)||w(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},st=function(t,e,n){ct(t.dom(),e,n)},lt=function(t,e){var n=t.dom();H(e,(function(t,e){ct(n,e,t)}))},ft=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},dt=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},ht=function(t,e){t.dom().removeAttribute(e)},pt=function(t){return D(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})},mt=function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(n,n+e.length)===e},gt=function(t,e){return-1!==t.indexOf(e)},vt=function(t,e){return mt(t,e,0)},bt=function(t){return void 0!==t.style&&y(t.style.getPropertyValue)},yt=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},wt=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:o(t)}},xt={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return wt(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return wt(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return wt(r)},fromDom:wt,fromPoint:function(t,e,n){var r=t.dom();return h.from(r.elementFromPoint(e,n)).map(wt)}},Ct=function(t){var e=ut(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},_t=yt((function(){return St(xt.fromDom(t.document))})),St=function(t){var e=t.dom().body;if(null==e)throw new Error("Body is not available yet");return xt.fromDom(e)},kt=function(e,n,r){if(!g(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);bt(e)&&e.style.setProperty(n,r)},Ot=function(t,e,n){var r=t.dom();kt(r,e,n)},Tt=function(t,e){var n=t.dom();H(e,(function(t,e){kt(n,e,t)}))},Et=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r).getPropertyValue(n),i=""!==o||Ct(e)?o:At(r,n);return null===i?void 0:i},At=function(t,e){return bt(t)?t.style.getPropertyValue(e):""},Dt=function(t,e){var n=t.dom(),r=At(n,e);return h.from(r).filter((function(t){return t.length>0}))},Nt=function(t,e){!function(t,e){bt(t)&&t.style.removeProperty(e)}(t.dom(),e),dt(t,"style")&&""===ft(t,"style").replace(/^\s+|\s+$/g,"")&&ht(t,"style")},Mt=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},Rt=function(e,n){return Mt(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},Pt=function(){return(Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Bt=function(){return zt(0,0)},zt=function(t,e){return{major:t,minor:e}},It={nu:zt,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?Bt():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return zt(r(1),r(2))}(t,n)},unknown:Bt},Lt=function(t,e){return function(){return e===t}},Ft=function(t){var e=t.current;return{current:e,version:t.version,isEdge:Lt("Edge",e),isChrome:Lt("Chrome",e),isIE:Lt("IE",e),isOpera:Lt("Opera",e),isFirefox:Lt("Firefox",e),isSafari:Lt("Safari",e)}},Ht={unknown:function(){return Ft({current:void 0,version:It.unknown()})},nu:Ft,edge:o("Edge"),chrome:o("Chrome"),ie:o("IE"),opera:o("Opera"),firefox:o("Firefox"),safari:o("Safari")},jt=function(t,e){return function(){return e===t}},Vt=function(t){var e=t.current;return{current:e,version:t.version,isWindows:jt("Windows",e),isiOS:jt("iOS",e),isAndroid:jt("Android",e),isOSX:jt("OSX",e),isLinux:jt("Linux",e),isSolaris:jt("Solaris",e),isFreeBSD:jt("FreeBSD",e),isChromeOS:jt("ChromeOS",e)}},$t={unknown:function(){return Vt({current:void 0,version:It.unknown()})},nu:Vt,windows:o("Windows"),ios:o("iOS"),android:o("Android"),linux:o("Linux"),osx:o("OSX"),solaris:o("Solaris"),freebsd:o("FreeBSD"),chromeos:o("ChromeOS")},Ut=function(t,e){var n=String(e).toLowerCase();return N(t,(function(t){return t.search(n)}))},Wt=function(t,e){return Ut(t,e).map((function(t){var n=It.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},qt=function(t,e){return Ut(t,e).map((function(t){var n=It.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Xt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Gt=function(t){return function(e){return gt(e,t)}},Yt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return gt(t,"edge/")&&gt(t,"chrome")&&gt(t,"safari")&&gt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xt],search:function(t){return gt(t,"chrome")&&!gt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return gt(t,"msie")||gt(t,"trident")}},{name:"Opera",versionRegexes:[Xt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Gt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Gt("firefox")},{name:"Safari",versionRegexes:[Xt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(gt(t,"safari")||gt(t,"mobile/"))&&gt(t,"applewebkit")}}],Kt=[{name:"Windows",search:Gt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return gt(t,"iphone")||gt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Gt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Gt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Gt("linux"),versionRegexes:[]},{name:"Solaris",search:Gt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Gt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Gt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Jt={browsers:o(Yt),oses:o(Kt)},Zt=function(t,e){var n=Jt.browsers(),r=Jt.oses(),i=Wt(n,t).fold(Ht.unknown,Ht.nu),a=qt(r,t).fold($t.unknown,$t.nu),u=function(t,e,n,r){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),c=u||r("(pointer:coarse)"),s=i||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!s,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!s&&!f;return{isiPad:o(i),isiPhone:o(a),isTablet:o(s),isPhone:o(l),isTouch:o(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:o(f),isDesktop:o(d)}}(a,i,t,e);return{browser:i,os:a,deviceType:u}},Qt=e(Zt(t.navigator.userAgent,(function(e){return t.window.matchMedia(e).matches}))),te=function(){return Qt.get()},ee=tt,ne=Q,re=function(t,e){var n=t.dom();if(n.nodeType!==ee)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},oe=function(t){return t.nodeType!==ee&&t.nodeType!==ne||0===t.childElementCount},ie=function(t,e){return t.dom()===e.dom()},ae=te().browser.isIE()?function(t,e){return Rt(t.dom(),e.dom())}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},ue=re,ce=function(t){return xt.fromDom(t.dom().ownerDocument)},se=function(t){return h.from(t.dom().parentNode).map(xt.fromDom)},le=function(t,e){for(var n=y(e)?e:c,r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=xt.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},fe=function(t){return h.from(t.dom().previousSibling).map(xt.fromDom)},de=function(t){return h.from(t.dom().nextSibling).map(xt.fromDom)},he=function(t){return O(t.dom().childNodes,xt.fromDom)},pe=function(t,e){var n=t.dom().childNodes;return h.from(n[e]).map(xt.fromDom)},me=(W("element","offset"),function(t,e){se(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),ge=function(t,e){de(t).fold((function(){se(t).each((function(t){be(t,e)}))}),(function(t){me(t,e)}))},ve=function(t,e){(function(t){return pe(t,0)})(t).fold((function(){be(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},be=function(t,e){t.dom().appendChild(e.dom())},ye=function(t,e){me(t,e),be(e,t)},we=function(t,e){T(e,(function(n,r){var o=0===r?t:e[r-1];ge(o,n)}))},xe=function(t,e){T(e,(function(e){be(t,e)}))},Ce=function(t){t.dom().textContent="",T(he(t),(function(t){_e(t)}))},_e=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},Se=function(t){var e,n=he(t);n.length>0&&(e=t,T(n,(function(t){me(e,t)}))),_e(t)},ke=(W("width","height"),W("width","height"),W("rows","columns")),Oe=W("row","column"),Te=(W("x","y"),W("element","rowspan","colspan")),Ee=W("element","rowspan","colspan","isNew"),Ae=W("element","rowspan","colspan","row","column"),De=W("element","cells","section"),Ne=W("element","isNew"),Me=W("element","cells","section","isNew"),Re=W("cells","section"),Pe=W("details","section"),Be=W("startRow","startCol","finishRow","finishCol"),ze=function(t,e){var n=[];return T(he(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(ze(t,e))})),n},Ie=function(t,e,n){return function(t,e,n){return E(le(t,n),e)}(t,(function(t){return re(t,e)}),n)},Le=function(t,e){return function(t,e){return E(he(t),e)}(t,(function(t){return re(t,e)}))},Fe=function(e,n){return function(e,n){var r=void 0===n?t.document:n.dom();return oe(r)?[]:O(r.querySelectorAll(e),xt.fromDom)}(n,e)};function He(t,e,n,r,o){return t(n,r)?h.some(n):y(o)&&o(n)?h.none():e(n,r,o)}var je=function(t,e,n){for(var r=t.dom(),i=y(n)?n:o(!1);r.parentNode;){r=r.parentNode;var a=xt.fromDom(r);if(e(a))return h.some(a);if(i(a))break}return h.none()},Ve=function(t,e,n){return je(t,(function(t){return re(t,e)}),n)},$e=function(t,e){return function(t,e){return N(t.dom().childNodes,(function(t){return e(xt.fromDom(t))})).map(xt.fromDom)}(t,(function(t){return re(t,e)}))},Ue=function(e,n){return function(e,n){var r=void 0===n?t.document:n.dom();return oe(r)?h.none():h.from(r.querySelector(e)).map(xt.fromDom)}(n,e)},We=function(t,e,n){return He(re,Ve,t,e,n)},qe=function(t,e,n){return P(he(t),(function(t){return re(t,e)?n(t)?[t]:[]:qe(t,e,n)}))},Xe={firstLayer:function(t,e){return qe(t,e,o(!0))},filterFirstLayer:qe},Ge=function(t,e,n){if(void 0===n&&(n=c),n(e))return h.none();if(S(t,nt(e)))return h.some(e);return Ve(e,t.join(","),(function(t){return re(t,"table")||n(t)}))},Ye=function(t,e){return se(e).map((function(e){return Le(e,t)}))},Ke=(a(Ye,"th,td"),a(Ye,"tr"),function(t,e){return Ge(["td","th"],t,e)}),Je=function(t){return Xe.firstLayer(t,"th,td")},Ze=function(t,e){return We(t,"table",e)},Qe=function(t){return Xe.firstLayer(t,"tr")},tn=function(t){var e=Qe(t);return O(e,(function(t){var e=t,n=se(e).map((function(t){var e=nt(t);return"tfoot"===e||"thead"===e||"tbody"===e?e:"tbody"})).getOr("tbody"),r=O(Je(t),(function(t){var e=dt(t,"rowspan")?parseInt(ft(t,"rowspan"),10):1,n=dt(t,"colspan")?parseInt(ft(t,"colspan"),10):1;return Te(t,e,n)}));return De(e,r,n)}))},en=function(t,e){return O(t,(function(t){var n=O(Je(t),(function(t){var e=dt(t,"rowspan")?parseInt(ft(t,"rowspan"),10):1,n=dt(t,"colspan")?parseInt(ft(t,"colspan"),10):1;return Te(t,e,n)}));return De(t,n,e.section())}))},nn=function(t,e){return t+","+e},rn=function(t,e){var n=P(t.all(),(function(t){return t.cells()}));return E(n,e)},on={generate:function(t){var e={},n=[],r=t.length,i=0;T(t,(function(t,r){var o=[];T(t.cells(),(function(t){for(var n=0;void 0!==e[nn(r,n)];)n++;for(var a=Ae(t.element(),t.rowspan(),t.colspan(),r,n),u=0;u<t.colspan();u++)for(var c=0;c<t.rowspan();c++){var s=n+u,l=nn(r+c,s);e[l]=a,i=Math.max(i,s+1)}o.push(a)})),n.push(De(t.element(),o,t.section()))}));var a=ke(r,i);return{grid:o(a),access:o(e),all:o(n)}},getAt:function(t,e,n){var r=t.access()[nn(e,n)];return void 0!==r?h.some(r):h.none()},findItem:function(t,e,n){var r=rn(t,(function(t){return n(e,t.element())}));return r.length>0?h.some(r[0]):h.none()},filterItems:rn,justCells:function(t){var e=O(t.all(),(function(t){return t.cells()}));return R(e)}},an=W("minRow","minCol","maxRow","maxCol"),un=function(t,e,n){var r=t[n].element(),o=xt.fromTag("td");be(o,xt.fromTag("br")),(e?be:ve)(r,o)},cn=function(t,e){var n=function(t){return re(t.element(),e)},r=tn(t),o=on.generate(r),i=function(t,e){var n=t.grid().columns(),r=t.grid().rows(),o=n,i=0,a=0;return H(t.access(),(function(t){if(e(t)){var n=t.row(),u=n+t.rowspan()-1,c=t.column(),s=c+t.colspan()-1;n<r?r=n:u>i&&(i=u),c<o?o=c:s>a&&(a=s)}})),an(r,o,i,a)}(o,n),a="th:not("+e+"),td:not("+e+")",u=Xe.filterFirstLayer(t,"th,td",(function(t){return re(t,a)}));return T(u,_e),function(t,e,n,r){for(var o=e.grid().columns(),i=e.grid().rows(),a=0;a<i;a++)for(var u=!1,c=0;c<o;c++){if(!(a<n.minRow()||a>n.maxRow()||c<n.minCol()||c>n.maxCol()))on.getAt(e,a,c).filter(r).isNone()?un(t,u,a):u=!0}}(r,o,i,n),function(t,e){var n=E(Xe.firstLayer(t,"tr"),(function(t){return 0===t.dom().childElementCount}));T(n,_e),e.minCol()!==e.maxCol()&&e.minRow()!==e.maxRow()||T(Xe.firstLayer(t,"th,td"),(function(t){ht(t,"rowspan"),ht(t,"colspan")})),ht(t,"width"),ht(t,"height"),Nt(t,"width"),Nt(t,"height")}(t,i),t};var sn=function(t,e){var n=function(e){return t(e)?h.from(e.dom().nodeValue):h.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r}}}(ut,"text"),ln=function(t){return sn.get(t)},fn=function(t){return sn.getOption(t)},dn=function(t,e){sn.set(t,e)},hn=function(t){return"img"===nt(t)?1:fn(t).fold((function(){return he(t).length}),(function(t){return t.length}))},pn=["img","br"],mn=function(t){return fn(t).filter((function(t){return 0!==t.trim().length||t.indexOf("")>-1})).isSome()||S(pn,nt(t))},gn=function(t){return e=mn,(n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=xt.fromDom(t.childNodes[r]);if(e(o))return h.some(o);var i=n(t.childNodes[r]);if(i.isSome())return i}return h.none()})(t.dom());var e,n},vn=function(t){return bn(t,mn)},bn=function(t,e){var n=function(t){for(var r=he(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return h.some(i);var a=n(i);if(a.isSome())return a}return h.none()};return n(t)},yn=function(t,e){return xt.fromDom(t.dom().cloneNode(e))},wn=function(t){return yn(t,!1)},xn=function(t){return yn(t,!0)},Cn=function(t,e){var n=function(t,e){var n=xt.fromTag(e),r=pt(t);return lt(n,r),n}(t,e),r=he(xn(t));return xe(n,r),n},_n=function(){var t=xt.fromTag("td");return be(t,xt.fromTag("br")),t},Sn=function(t,e,n){var r=Cn(t,e);return H(n,(function(t,e){null===t?ht(r,e):st(r,e,t)})),r},kn=function(t){return t},On=function(t){return function(){return xt.fromTag("tr",t.dom())}},Tn=function(t,e,n){return{row:On(e),cell:function(e){var r,o,i,a,u=ce(e.element()),c=xt.fromTag(nt(e.element()),u.dom()),s=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),l=s.length>0?function(t,e,n){return gn(t).map((function(r){var o=n.join(","),i=Ie(r,o,(function(e){return ie(e,t)}));return A(i,(function(t,e){var n=wn(e);return ht(n,"contenteditable"),be(t,n),n}),e)})).getOr(e)}(e.element(),c,s):c;return be(l,xt.fromTag("br")),r=e.element(),o=c,i=r.dom(),a=o.dom(),bt(i)&&bt(a)&&(a.style.cssText=i.style.cssText),Nt(c,"height"),1!==e.colspan()&&Nt(e.element(),"width"),t(e.element(),c),c},replace:Sn,gap:_n}},En=function(t){return{row:On(t),cell:_n,replace:kn,gap:_n}},An=function(t,e){return e.column()>=t.startCol()&&e.column()+e.colspan()-1<=t.finishCol()&&e.row()>=t.startRow()&&e.row()+e.rowspan()-1<=t.finishRow()},Dn=function(t,e){var n=e.column(),r=e.column()+e.colspan()-1,o=e.row(),i=e.row()+e.rowspan()-1;return n<=t.finishCol()&&r>=t.startCol()&&o<=t.finishRow()&&i>=t.startRow()},Nn=function(t,e){for(var n=!0,r=a(An,e),o=e.startRow();o<=e.finishRow();o++)for(var i=e.startCol();i<=e.finishCol();i++)n=n&&on.getAt(t,o,i).exists(r);return n?h.some(e):h.none()},Mn=function(t,e,n){var r=on.findItem(t,e,ie),o=on.findItem(t,n,ie);return r.bind((function(t){return o.map((function(e){return n=t,r=e,Be(Math.min(n.row(),r.row()),Math.min(n.column(),r.column()),Math.max(n.row()+n.rowspan()-1,r.row()+r.rowspan()-1),Math.max(n.column()+n.colspan()-1,r.column()+r.colspan()-1));var n,r}))}))},Rn=Mn,Pn=function(t,e,n){return Mn(t,e,n).bind((function(e){return Nn(t,e)}))},Bn=function(t,e,n,r){return on.findItem(t,e,ie).bind((function(e){var o=n>0?e.row()+e.rowspan()-1:e.row(),i=r>0?e.column()+e.colspan()-1:e.column();return on.getAt(t,o+n,i+r).map((function(t){return t.element()}))}))},zn=function(t,e,n){return Rn(t,e,n).map((function(e){var n=on.filterItems(t,a(Dn,e));return O(n,(function(t){return t.element()}))}))},In=function(t,e){return on.findItem(t,e,(function(t,e){return ae(e,t)})).map((function(t){return t.element()}))},Ln=function(t){var e=tn(t);return on.generate(e)},Fn=function(t,e,n){return Ze(t).bind((function(r){var o=Ln(r);return Bn(o,t,e,n)}))},Hn=function(t,e,n){var r=Ln(t);return zn(r,e,n)},jn=function(t,e,n,r,o){var i=Ln(t),a=ie(t,n)?h.some(e):In(i,e),u=ie(t,o)?h.some(r):In(i,r);return a.bind((function(t){return u.bind((function(e){return zn(i,t,e)}))}))},Vn=function(t,e,n){var r=Ln(t);return Pn(r,e,n)},$n=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Un(){return{up:o({selector:Ve,closest:We,predicate:je,all:le}),down:o({selector:Fe,predicate:ze}),styles:o({get:Et,getRaw:Dt,set:Ot,remove:Nt}),attrs:o({get:ft,set:st,remove:ht,copyTo:function(t,e){var n=pt(t);lt(e,n)}}),insert:o({before:me,after:ge,afterAll:we,append:be,appendAll:xe,prepend:ve,wrap:ye}),remove:o({unwrap:Se,remove:_e}),create:o({nu:xt.fromTag,clone:function(t){return xt.fromDom(t.dom().cloneNode(!1))},text:xt.fromText}),query:o({comparePosition:function(t,e){return t.dom().compareDocumentPosition(e.dom())},prevSibling:fe,nextSibling:de}),property:o({children:he,name:nt,parent:se,document:function(t){return t.dom().ownerDocument},isText:ut,isComment:it,isElement:at,getText:ln,setText:dn,isBoundary:function(t){return!!at(t)&&("body"===nt(t)||S($n,nt(t)))},isEmptyTag:function(t){return!!at(t)&&S(["br","img","hr","input"],nt(t))},isNonEditable:function(t){return at(t)&&"false"===ft(t,"contenteditable")}}),eq:ie,is:ue}}var Wn=W("left","right"),qn=W("first","second","splits"),Xn=function(t,e,n){var r=t.property().children(e);return M(r,a(t.eq,n)).map((function(t){return{before:o(r.slice(0,t)),after:o(r.slice(t+1))}}))},Gn=function(t,e,n,r){var o=e(t,n);return A(r,(function(n,r){var o=e(t,r);return Yn(t,n,o)}),o)},Yn=function(t,e,n){return e.bind((function(e){return n.filter(a(t.eq,e))}))},Kn=function(t,e){return a(t.eq,e)},Jn=function(t,e,n,r){void 0===r&&(r=c);var i=[e].concat(t.up().all(e)),a=[n].concat(t.up().all(n)),u=function(t){return M(t,r).fold((function(){return t}),(function(e){return t.slice(0,e+1)}))},s=u(i),l=u(a),f=N(s,(function(e){return k(l,Kn(t,e))}));return{firstpath:o(s),secondpath:o(l),shared:o(f)}},Zn={sharedOne:function(t,e,n){return n.length>0?function(t,e,n,r){return r(t,e,n[0],n.slice(1))}(t,e,n,Gn):h.none()},subset:function(t,e,n){var r=Jn(t,e,n);return r.shared().bind((function(e){return function(t,e,n,r){var o=t.property().children(e);if(t.eq(e,n[0]))return h.some([n[0]]);if(t.eq(e,r[0]))return h.some([r[0]]);var i=function(n){var r=z(n),i=M(r,Kn(t,e)).getOr(-1),a=i<r.length-1?r[i+1]:r[i];return M(o,Kn(t,a))},a=i(n),u=i(r);return a.bind((function(t){return u.map((function(e){var n=Math.min(t,e),r=Math.max(t,e);return o.slice(n,r+1)}))}))}(t,e,r.firstpath(),r.secondpath())}))},ancestors:Jn,breakToLeft:function(t,e,n){return Xn(t,e,n).map((function(r){var o=t.create().clone(e);return t.insert().appendAll(o,r.before().concat([n])),t.insert().appendAll(e,r.after()),t.insert().before(e,o),Wn(o,e)}))},breakToRight:function(t,e,n){return Xn(t,e,n).map((function(n){var r=t.create().clone(e);return t.insert().appendAll(r,n.after()),t.insert().after(e,r),Wn(e,r)}))},breakPath:function(t,e,n,r){var o=function(e,i,a){var u=qn(e,h.none(),a);return n(e)?qn(e,i,a):t.property().parent(e).bind((function(i){return r(t,i,e).map((function(t){var e=[{first:t.left,second:t.right}],r=n(i)?i:t.left();return o(r,h.some(t.right()),a.concat(e))}))})).getOr(u)};return o(e,h.none(),[])}},Qn=Un(),tr=function(t,e){return Zn.sharedOne(Qn,(function(e,n){return t(n)}),e)},er=function(t,e,n){return Zn.ancestors(Qn,t,e,n)},nr={create:J(["boxes","start","finish"],[])},rr=function(t){return Ve(t,"table")},or=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||ie(e,t)}};return ie(t,e)?h.some(nr.create({boxes:h.some([t]),start:t,finish:e})):rr(t).bind((function(o){return rr(e).bind((function(i){if(ie(o,i))return h.some(nr.create({boxes:Hn(o,t,e),start:t,finish:e}));if(ae(o,i)){var a=(u=Ie(e,"td,th",r(o))).length>0?u[u.length-1]:e;return h.some(nr.create({boxes:jn(o,t,o,e,i),start:t,finish:a}))}if(ae(i,o)){var u,c=(u=Ie(t,"td,th",r(i))).length>0?u[u.length-1]:t;return h.some(nr.create({boxes:jn(i,t,o,e,i),start:t,finish:c}))}return er(t,e).shared().bind((function(a){return We(a,"table",n).bind((function(n){var a=Ie(e,"td,th",r(n)),u=a.length>0?a[a.length-1]:e,c=Ie(t,"td,th",r(n)),s=c.length>0?c[c.length-1]:t;return h.some(nr.create({boxes:jn(n,t,o,e,i),start:s,finish:u}))}))}))}))}))},ir=or,ar=function(t,e){var n=Fe(t,e);return n.length>0?h.some(n):h.none()},ur=function(t,e,n,r,i){return function(t,e){return N(t,(function(t){return re(t,e)}))}(t,i).bind((function(t){return Fn(t,e,n).bind((function(t){return function(t,e){return Ve(t,"table").bind((function(n){return Ue(n,e).bind((function(e){return or(e,t).bind((function(t){return t.boxes().map((function(e){return{boxes:o(e),start:o(t.start()),finish:o(t.finish())}}))}))}))}))}(t,r)}))}))},cr=function(t,e,n){return Ue(t,e).bind((function(e){return Ue(t,n).bind((function(t){return tr(rr,[e,t]).map((function(n){return{first:o(e),last:o(t),table:o(n)}}))}))}))},sr=function(t,e){return ar(t,e)},lr=function(t,e,n){return cr(t,e,n).bind((function(e){var n=function(e){return ie(t,e)},r=Ve(e.first(),"thead,tfoot,tbody,table",n),o=Ve(e.last(),"thead,tfoot,tbody,table",n);return r.bind((function(t){return o.bind((function(n){return ie(t,n)?Vn(e.table(),e.first(),e.last()):h.none()}))}))}))},fr="data-mce-selected",dr={selected:o(fr),selectedSelector:o("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:o("[data-mce-selected]"),firstSelected:o("data-mce-first-selected"),firstSelectedSelector:o("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:o("data-mce-last-selected"),lastSelectedSelector:o("td[data-mce-last-selected],th[data-mce-last-selected]")},hr=function(e){if(!v(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return T(e,(function(o,i){var a=L(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],c=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!v(c))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var s=function(t){var e=L(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!B(n,(function(t){return S(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[i];return t.apply(null,o)},match:s,log:function(e){t.console.log(e,{constructors:n,constructor:u,params:o})}}}})),r},pr=hr([{none:[]},{multiple:["elements"]},{single:["selection"]}]),mr={cata:function(t,e,n,r){return t.fold(e,n,r)},none:pr.none,multiple:pr.multiple,single:pr.single},gr=function(t,e){return mr.cata(e.get(),o([]),i,o([t]))},vr=function(t,e){return mr.cata(e.get(),h.none,(function(e,n){return 0===e.length?h.none():lr(t,dr.firstSelectedSelector(),dr.lastSelectedSelector()).bind((function(t){return e.length>1?h.some({bounds:o(t),cells:o(e)}):h.none()}))}),h.none)},br=function(t,e){var n=gr(t,e);return n.length>0&&B(n,(function(t){return dt(t,"rowspan")&&parseInt(ft(t,"rowspan"),10)>1||dt(t,"colspan")&&parseInt(ft(t,"colspan"),10)>1}))?h.some(n):h.none()},yr=gr,wr=function(t){return{element:o(t),mergable:h.none,unmergable:h.none,selection:o([t])}},xr=W("element","clipboard","generators"),Cr={noMenu:wr,forMenu:function(t,e,n){return{element:o(n),mergable:o(vr(e,t)),unmergable:o(br(n,t)),selection:o(yr(n,t))}},notCell:function(t){return wr(t)},paste:xr,pasteRows:function(t,e,n,r,i){return{element:o(n),mergable:h.none,unmergable:h.none,selection:o(yr(n,t)),clipboard:o(r),generators:o(i)}}},_r=function(e,r,o,i){e.on("BeforeGetContent",(function(t){!0===t.selection&&mr.cata(r.get(),n,(function(n){t.preventDefault(),function(t){return Ze(t[0]).map(xn).map((function(t){return[cn(t,dr.attributeSelector())]}))}(n).each((function(n){t.content="text"===t.format?function(t){return O(t,(function(t){return t.dom().innerText})).join("")}(n):function(t,e){return O(e,(function(e){return t.selection.serializer.serialize(e.dom(),{})})).join("")}(e,n)}))}),n)})),e.on("BeforeSetContent",(function(n){!0===n.selection&&!0===n.paste&&h.from(e.dom.getParent(e.selection.getStart(),"th,td")).each((function(r){var a=xt.fromDom(r);Ze(a).each((function(r){var u,c,s,l=E((u=n.content,(s=(c||t.document).createElement("div")).innerHTML=u,he(xt.fromDom(s))),(function(t){return"meta"!==nt(t)}));if(1===l.length&&"table"===nt(l[0])){n.preventDefault();var f=xt.fromDom(e.getDoc()),d=En(f),h=Cr.paste(a,l[0],d);o.pasteCells(r,h).each((function(t){e.selection.setRng(t),e.focus(),i.clear(r)}))}}))}))}))};function Sr(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var o=Et(n,t);return parseFloat(o)||0}return r},r=function(t,e){return D(e,(function(e,n){var r=Et(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!w(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();bt(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}var kr=Sr("height",(function(t){var e=t.dom();return Ct(t)?e.getBoundingClientRect().height:e.offsetHeight})),Or=function(t){return kr.get(t)},Tr=function(t){return kr.getOuter(t)},Er=Sr("width",(function(t){return t.dom().offsetWidth})),Ar=function(t){return Er.get(t)},Dr=function(t){return Er.getOuter(t)},Nr=te(),Mr=function(t,e,n){return function(t,e){var n=parseFloat(t);return isNaN(n)?e:n}(Et(t,e),n)},Rr=function(t){return Nr.browser.isIE()||Nr.browser.isEdge()?function(t){var e=Mr(t,"padding-top",0),n=Mr(t,"padding-bottom",0),r=Mr(t,"border-top-width",0),o=Mr(t,"border-bottom-width",0),i=t.dom().getBoundingClientRect().height;return"border-box"===Et(t,"box-sizing")?i:i-e-n-(r+o)}(t):Mr(t,"height",Or(t))},Pr=/(\d+(\.\d+)?)(\w|%)*/,Br=/(\d+(\.\d+)?)%/,zr=/(\d+(\.\d+)?)px|em/,Ir=function(t,e){Ot(t,"height",e+"px")},Lr=function(t,e,n,r){var o,i,a=parseInt(t,10);return mt(o=t,i="%",o.length-i.length)&&"table"!==nt(e)?function(t,e,n,r){var o=Ze(t).map((function(t){var r=n(t);return Math.floor(e/100*r)})).getOr(e);return r(t,o),o}(e,a,n,r):a},Fr=function(t){var e=function(t){return Dt(t,"height").getOrThunk((function(){return Rr(t)+"px"}))}(t);return e?Lr(e,t,Or,Ir):Or(t)},Hr=function(t,e){return dt(t,e)?parseInt(ft(t,e),10):1},jr=function(t){return Dt(t,"width").fold((function(){return h.from(ft(t,"width"))}),(function(t){return h.some(t)}))},Vr=function(t,e){return t/e.pixelWidth()*100},$r={percentageBasedSizeRegex:o(Br),pixelBasedSizeRegex:o(zr),setPixelWidth:function(t,e){Ot(t,"width",e+"px")},setPercentageWidth:function(t,e){Ot(t,"width",e+"%")},setHeight:Ir,getPixelWidth:function(t,e){return jr(t).fold((function(){return Ar(t)}),(function(n){return function(t,e,n){var r=zr.exec(e);if(null!==r)return parseInt(r[1],10);var o=Br.exec(e);return null!==o?function(t,e){return t/100*e.pixelWidth()}(parseFloat(o[1]),n):Ar(t)}(t,n,e)}))},getPercentageWidth:function(t,e){return jr(t).fold((function(){var n=Ar(t);return Vr(n,e)}),(function(n){return function(t,e,n){var r=Br.exec(e);if(null!==r)return parseFloat(r[1]);var o=Ar(t);return Vr(o,n)}(t,n,e)}))},getGenericWidth:function(t){return jr(t).bind((function(t){var e=Pr.exec(t);return null!==e?h.some({width:o(parseFloat(e[1])),unit:o(e[3])}):h.none()}))},setGenericWidth:function(t,e,n){Ot(t,"width",e+n)},getHeight:function(t){return function(t,e,n){return n(t)/Hr(t,e)}(t,"rowspan",Fr)},getRawWidth:jr},Ur=function(t,e){$r.getGenericWidth(t).each((function(n){var r=n.width()/2;$r.setGenericWidth(t,r,n.unit()),$r.setGenericWidth(e,r,n.unit())}))},Wr=function(t,e){return{left:o(t),top:o(e),translate:function(n,r){return Wr(t+n,e+r)}}},qr=Wr,Xr=function(t,e){return void 0!==t?t:void 0!==e?e:0},Gr=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom())return qr(n.offsetLeft,n.offsetTop);var i=Xr(r.pageYOffset,o.scrollTop),a=Xr(r.pageXOffset,o.scrollLeft),u=Xr(o.clientTop,n.clientTop),c=Xr(o.clientLeft,n.clientLeft);return Yr(t).translate(a-c,i-u)},Yr=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?qr(n.offsetLeft,n.offsetTop):Ct(t)?function(t){var e=t.getBoundingClientRect();return qr(e.left,e.top)}(e):qr(0,0)},Kr=W("row","y"),Jr=W("col","x"),Zr=function(t){return Gr(t).left()+Dr(t)},Qr=function(t){return Gr(t).left()},to=function(t,e){return Jr(t,Qr(e))},eo=function(t,e){return Jr(t,Zr(e))},no=function(t){return Gr(t).top()},ro=function(t,e){return Kr(t,no(e))},oo=function(t,e){return Kr(t,no(e)+Tr(e))},io=function(t,e,n){if(0===n.length)return[];var r=O(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))})),o=n[n.length-1].map((function(t){return e(n.length-1,t)}));return r.concat([o])},ao={height:{delta:i,positions:function(t){return io(ro,oo,t)},edge:no},rtl:{delta:function(t){return-t},edge:Zr,positions:function(t){return io(eo,to,t)}},ltr:{delta:i,edge:Qr,positions:function(t){return io(to,eo,t)}}},uo={ltr:ao.ltr,rtl:ao.rtl};function co(t){var e=function(e){return t(e).isRtl()?uo.rtl:uo.ltr};return{delta:function(t,n){return e(n).delta(t,n)},edge:function(t){return e(t).edge(t)},positions:function(t,n){return e(n).positions(t,n)}}}var so=function(t){var e=tn(t);return on.generate(e).grid()},lo=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},fo=function(t,e,n,r){n===r?ht(t,e):st(t,e,n)},ho=function(t,e){var n=[],r=[],i=function(e,o){e.length>0?function(e,o){var i=$e(t,o).getOrThunk((function(){var e=xt.fromTag(o,ce(t).dom());return be(t,e),e}));Ce(i);var a=O(e,(function(t){t.isNew()&&n.push(t.element());var e=t.element();return Ce(e),T(t.cells(),(function(t){t.isNew()&&r.push(t.element()),fo(t.element(),"colspan",t.colspan(),1),fo(t.element(),"rowspan",t.rowspan(),1),be(e,t.element())})),e}));xe(i,a)}(e,o):function(e){$e(t,e).each(_e)}(o)},a=[],u=[],c=[];return T(e,(function(t){switch(t.section()){case"thead":a.push(t);break;case"tbody":u.push(t);break;case"tfoot":c.push(t)}})),i(a,"thead"),i(u,"tbody"),i(c,"tfoot"),{newRows:o(n),newCells:o(r)}},po=function(t){return O(t,(function(t){var e=wn(t.element());return T(t.cells(),(function(t){var n=xn(t.element());fo(n,"colspan",t.colspan(),1),fo(n,"rowspan",t.rowspan(),1),be(e,n)})),e}))},mo=function(t,e){var n=ft(t,e);return void 0===n||""===n?[]:n.split(" ")},go=function(t){return void 0!==t.dom().classList},vo=function(t,e){return function(t,e,n){var r=mo(t,e).concat([n]);return st(t,e,r.join(" ")),!0}(t,"class",e)},bo=function(t,e){go(t)?t.dom().classList.add(e):vo(t,e)},yo=function(t,e){return go(t)&&t.dom().classList.contains(e)},wo=function(t,e){for(var n=[],r=t;r<e;r++)n.push(r);return n},xo=function(t,e){if(e<0||e>=t.length-1)return h.none();var n=t[e].fold((function(){var n=z(t.slice(0,e));return I(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return h.some({value:t,delta:0})})),r=t[e+1].fold((function(){var n=t.slice(e+1);return I(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return h.some({value:t,delta:1})}));return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta;return Math.abs(e.value-t.value)/n}))}))},Co=function(t,e,n){var r=t();return N(r,e).orThunk((function(){return h.from(r[0]).orThunk(n)})).map((function(t){return t.element()}))},_o=function(t){var e=t.grid(),n=wo(0,e.columns()),r=wo(0,e.rows());return O(n,(function(e){return Co((function(){return P(r,(function(n){return on.getAt(t,n,e).filter((function(t){return t.column()===e})).fold(o([]),(function(t){return[t]}))}))}),(function(t){return 1===t.colspan()}),(function(){return on.getAt(t,0,e)}))}))},So=function(t){var e=t.grid(),n=wo(0,e.rows()),r=wo(0,e.columns());return O(n,(function(e){return Co((function(){return P(r,(function(n){return on.getAt(t,e,n).filter((function(t){return t.row()===e})).fold(o([]),(function(t){return[t]}))}))}),(function(t){return 1===t.rowspan()}),(function(){return on.getAt(t,e,0)}))}))},ko=function(t){var e=t.replace(/\./g,"-");return{resolve:function(t){return e+"-"+t}}},Oo=ko("ephox-snooker"),To={resolve:Oo.resolve},Eo=function(t,e,n,r,o){var i=xt.fromTag("div");return Tt(i,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),lt(i,{"data-column":t,role:"presentation"}),i},Ao=function(t,e,n,r,o){var i=xt.fromTag("div");return Tt(i,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),lt(i,{"data-row":t,role:"presentation"}),i},Do=To.resolve("resizer-bar"),No=To.resolve("resizer-rows"),Mo=To.resolve("resizer-cols"),Ro=function(t){var e=Fe(t.parent(),"."+Do);T(e,_e)},Po=function(t,e,n){var r=t.origin();T(e,(function(e,o){e.each((function(e){var o=n(r,e);bo(o,Do),be(t.parent(),o)}))}))},Bo=function(t,e,n,r,o,i){var a=Gr(e);!function(t,e,n,r){Po(t,e,(function(t,e){var o=Ao(e.row(),n.left()-t.left(),e.y()-t.top(),r,7);return bo(o,No),o}))}(t,n.length>0?o.positions(n,e):[],a,Dr(e)),function(t,e,n,r){Po(t,e,(function(t,e){var o=Eo(e.col(),e.x()-t.left(),n.top()-t.top(),7,r);return bo(o,Mo),o}))}(t,r.length>0?i.positions(r,e):[],a,Tr(e))},zo=function(t,e){var n=Fe(t.parent(),"."+Do);T(n,e)},Io=function(t,e,n,r){Ro(t);var o=tn(e),i=on.generate(o),a=So(i),u=_o(i);Bo(t,e,a,u,n,r)},Lo=function(t){zo(t,(function(t){Ot(t,"display","none")}))},Fo=function(t){zo(t,(function(t){Ot(t,"display","block")}))},Ho=Ro,jo=function(t){return yo(t,No)},Vo=function(t){return yo(t,Mo)},$o=function(t,e){return Re(e,t.section())},Uo=function(t,e){return t.cells()[e]},Wo={addCell:function(t,e,n){var r=t.cells(),o=r.slice(0,e),i=r.slice(e),a=o.concat([n]).concat(i);return $o(t,a)},setCells:$o,mutateCell:function(t,e,n){t.cells()[e]=n},getCell:Uo,getCellElement:function(t,e){return Uo(t,e).element()},mapCells:function(t,e){var n=t.cells(),r=O(n,e);return Re(r,t.section())},cellLength:function(t){return t.cells().length}},qo=function(t,e){if(0===t.length)return 0;var n=t[0];return M(t,(function(t){return!e(n.element(),t.element())})).fold((function(){return t.length}),(function(t){return t}))},Xo=function(t,e,n,r){var i=function(t,e){return t[e]}(t,e).cells().slice(n),a=qo(i,r),u=function(t,e){return O(t,(function(t){return Wo.getCell(t,e)}))}(t,n).slice(e),c=qo(u,r);return{colspan:o(a),rowspan:o(c)}},Go=function(t,e){var n=O(t,(function(t,e){return O(t.cells(),(function(t,e){return!1}))}));return O(t,(function(r,o){var i=P(r.cells(),(function(r,i){if(!1===n[o][i]){var a=Xo(t,o,i,e);return function(t,e,r,o){for(var i=t;i<t+r;i++)for(var a=e;a<e+o;a++)n[i][a]=!0}(o,i,a.rowspan(),a.colspan()),[Ee(r.element(),a.rowspan(),a.colspan(),r.isNew())]}return[]}));return Pe(i,r.section())}))},Yo=function(t,e,n){for(var r=[],o=0;o<t.grid().rows();o++){for(var i=[],a=0;a<t.grid().columns();a++){var u=on.getAt(t,o,a).map((function(t){return Ne(t.element(),n)})).getOrThunk((function(){return Ne(e.gap(),!0)}));i.push(u)}var c=Re(i,t.all()[o].section());r.push(c)}return r},Ko=function(t,e){return O(t,(function(t){var n=function(t){return I(t,(function(t){return se(t.element()).map((function(t){var e=se(t).isNone();return Ne(t,e)}))})).getOrThunk((function(){return Ne(e.row(),!0)}))}(t.details());return Me(n.element(),t.details(),t.section(),n.isNew())}))},Jo=function(t,e){var n=Go(t,ie);return Ko(n,e)},Zo=function(t,e){var n=R(O(t.all(),(function(t){return t.cells()})));return N(n,(function(t){return ie(e,t.element())}))},Qo=function(t,e,n,r,i){return function(a,u,c,s,l){var f=tn(u),d=on.generate(f);return e(d,c).map((function(e){var n=function(t,e){return Yo(t,e,!1)}(d,s),r=t(n,e,ie,i(s)),a=Jo(r.grid(),s);return{grid:o(a),cursor:r.cursor}})).fold((function(){return h.none()}),(function(t){var e=ho(u,t.grid());return n(u,t.grid(),l),r(u),Io(a,u,ao.height,l),h.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})}))}},ti=function(t,e){return Ke(e.element()).bind((function(e){return Zo(t,e)}))},ei=function(t,e){var n=O(e.selection(),(function(e){return Ke(e).bind((function(e){return Zo(t,e)}))})),r=lo(n);return r.length>0?h.some({cells:r,generators:e.generators,clipboard:e.clipboard}):h.none()},ni=function(t,e){var n=O(e.selection(),(function(e){return Ke(e).bind((function(e){return Zo(t,e)}))})),r=lo(n);return r.length>0?h.some(r):h.none()},ri=function(t){return{is:function(e){return t===e},isValue:s,isError:c,getOr:o(t),getOrThunk:o(t),getOrDie:o(t),or:function(e){return ri(t)},orThunk:function(e){return ri(t)},fold:function(e,n){return n(t)},map:function(e){return ri(e(t))},mapError:function(e){return ri(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return h.some(t)}}},oi=function(t){return{is:c,isValue:c,isError:s,getOr:i,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return oi(t)},mapError:function(e){return oi(e(t))},each:n,bind:function(e){return oi(t)},exists:c,forall:s,toOption:h.none}},ii={value:ri,error:oi,fromOption:function(t,e){return t.fold((function(){return oi(e)}),ri)}},ai=function(t,e){return O(t,(function(){return Ne(e.cell(),!0)}))},ui=function(t,e,n){return t.concat(function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n}(e,(function(e){return Wo.setCells(t[t.length-1],ai(t[t.length-1].cells(),n))})))},ci=function(t,e,n){return O(t,(function(t){return Wo.setCells(t,t.cells().concat(ai(wo(0,e),n)))}))},si=function(t,e,n){if(t.row()>=e.length||t.column()>Wo.cellLength(e[0]))return ii.error("invalid start address out of table bounds, row: "+t.row()+", column: "+t.column());var r=e.slice(t.row()),i=r[0].cells().slice(t.column()),a=Wo.cellLength(n[0]),u=n.length;return ii.value({rowDelta:o(r.length-u),colDelta:o(i.length-a)})},li=function(t,e){var n=Wo.cellLength(t[0]),r=Wo.cellLength(e[0]);return{rowDelta:o(0),colDelta:o(n-r)}},fi=function(t,e,n){var r=e.colDelta()<0?ci:i;return(e.rowDelta()<0?ui:i)(r(t,Math.abs(e.colDelta()),n),Math.abs(e.rowDelta()),n)},di=function(t,e,n,r){if(0===t.length)return t;for(var o=e.startRow();o<=e.finishRow();o++)for(var i=e.startCol();i<=e.finishCol();i++)Wo.mutateCell(t[o],i,Ne(r(),!1));return t},hi=function(t,e,n,r){for(var o=!0,i=0;i<t.length;i++)for(var a=0;a<Wo.cellLength(t[0]);a++){var u=n(Wo.getCellElement(t[i],a),e);!0===u&&!1===o?Wo.mutateCell(t[i],a,Ne(r(),!0)):!0===u&&(o=!1)}return t},pi=function(t,e,n,r){if(e>0&&e<t.length){var o=function(t,e){return D(t,(function(t,n){return k(t,(function(t){return e(t.element(),n.element())}))?t:t.concat([n])}),[])}(t[e-1].cells(),n);T(o,(function(o){for(var i=h.none(),a=function(e){for(var a=function(a){var u=t[e].cells()[a];n(u.element(),o.element())&&(i.isNone()&&(i=h.some(r())),i.each((function(n){Wo.mutateCell(t[e],a,Ne(n,!0))})))},u=0;u<Wo.cellLength(t[0]);u++)a(u)},u=e;u<t.length;u++)a(u)}))}return t},mi=function(t,e,n,r){var o=a(r,Wo.getCell(t[e],n).element()),i=t[e];return t.length>1&&Wo.cellLength(i)>1&&(n>0&&o(Wo.getCellElement(i,n-1))||n<i.cells().length-1&&o(Wo.getCellElement(i,n+1))||e>0&&o(Wo.getCellElement(t[e-1],n))||e<t.length-1&&o(Wo.getCellElement(t[e+1],n)))},gi=function(t,e,n,r,o){return si(t,e,n).map((function(i){var a=fi(e,i,r);return function(t,e,n,r,o){for(var i=t.row(),a=t.column(),u=i+n.length,c=a+Wo.cellLength(n[0]),s=i;s<u;s++)for(var l=a;l<c;l++){mi(e,s,l,o)&&hi(e,Wo.getCellElement(e[s],l),o,r.cell);var f=Wo.getCellElement(n[s-i],l-a),d=r.replace(f);Wo.mutateCell(e[s],l,Ne(d,!0))}return e}(t,a,n,r,o)}))},vi=function(t,e,n,r,o){pi(e,t,o,r.cell);var i=li(n,e),a=fi(n,i,r),u=li(e,a),c=fi(e,u,r);return c.slice(0,t).concat(a).concat(c.slice(t,c.length))},bi=function(t,e,n,r,o){var i=t.slice(0,e),a=t.slice(e),u=Wo.mapCells(t[n],(function(n,i){return e>0&&e<t.length&&r(Wo.getCellElement(t[e-1],i),Wo.getCellElement(t[e],i))?Wo.getCell(t[e],i):Ne(o(n.element(),r),!0)}));return i.concat([u]).concat(a)},yi=function(t,e,n,r,o){return O(t,(function(t){var i=e>0&&e<Wo.cellLength(t)&&r(Wo.getCellElement(t,e-1),Wo.getCellElement(t,e))?Wo.getCell(t,e):Ne(o(Wo.getCellElement(t,n),r),!0);return Wo.addCell(t,e,i)}))},wi=function(t,e,n,r,o){var i=n+1;return O(t,(function(t,a){var u=a===e?Ne(o(Wo.getCellElement(t,n),r),!0):Wo.getCell(t,n);return Wo.addCell(t,i,u)}))},xi=function(t,e,n,r,o){var i=e+1,a=t.slice(0,i),u=t.slice(i),c=Wo.mapCells(t[e],(function(t,e){return e===n?Ne(o(t.element(),r),!0):t}));return a.concat([c]).concat(u)},Ci=function(t,e,n){return t.slice(0,e).concat(t.slice(n+1))},_i=function(t,e,n){var r=O(t,(function(t){var r=t.cells().slice(0,e).concat(t.cells().slice(n+1));return Re(r,t.section())}));return E(r,(function(t){return t.cells().length>0}))},Si=function(t,e,n,r){return O(t,(function(t){return Wo.mapCells(t,(function(t){return function(t){return k(e,(function(e){return n(t.element(),e.element())}))}(t)?Ne(r(t.element(),n),!0):t}))}))},ki=function(t,e,n,r){return void 0!==Wo.getCellElement(t[e],n)&&e>0&&r(Wo.getCellElement(t[e-1],n),Wo.getCellElement(t[e],n))},Oi=function(t,e,n){return e>0&&n(Wo.getCellElement(t,e-1),Wo.getCellElement(t,e))},Ti=function(t,e,n,r){var o=P(t,(function(r,o){return ki(t,o,e,n)||Oi(r,e,n)?[]:[Wo.getCell(r,e)]}));return Si(t,o,n,r)},Ei=function(t,e,n,r){var o=t[e],i=P(o.cells(),(function(r,i){return ki(t,e,i,n)||Oi(o,i,n)?[]:[r]}));return Si(t,i,n,r)},Ai=hr([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Di=Pt({},Ai),Ni=function(t,e,n,r){var i=t.slice(0),a=function(t,e){return 0===t.length?Di.none():1===t.length?Di.only(0):0===e?Di.left(0,1):e===t.length-1?Di.right(e-1,e):e>0&&e<t.length-1?Di.middle(e-1,e,e+1):Di.none()}(t,e),u=function(t){return O(t,o(0))},c=o(u(i)),s=function(t,e){if(n>=0){var o=Math.max(r.minCellWidth(),i[e]-n);return u(i.slice(0,t)).concat([n,o-i[e]]).concat(u(i.slice(e+1)))}var a=Math.max(r.minCellWidth(),i[t]+n),c=i[t]-a;return u(i.slice(0,t)).concat([a-i[t],c]).concat(u(i.slice(e+1)))},l=s;return a.fold(c,(function(t){return r.singleColumnWidth(i[t],n)}),l,(function(t,e,n){return s(e,n)}),(function(t,e){if(n>=0)return u(i.slice(0,e)).concat([n]);var o=Math.max(r.minCellWidth(),i[e]+n);return u(i.slice(0,e)).concat([o-i[e]])}))},Mi=function(t,e){return dt(t,e)&&parseInt(ft(t,e),10)>1},Ri={hasColspan:function(t){return Mi(t,"colspan")},hasRowspan:function(t){return Mi(t,"rowspan")},minWidth:o(10),minHeight:o(10),getInt:function(t,e){return parseInt(Et(t,e),10)}},Pi=function(t,e,n){return Dt(t,e).fold((function(){return n(t)+"px"}),(function(t){return t}))},Bi=function(t,e){return Pi(t,"width",(function(t){return $r.getPixelWidth(t,e)}))},zi=function(t){return Pi(t,"height",$r.getHeight)},Ii=function(t,e,n,r,o){var i=_o(t),a=O(i,(function(t){return t.map(e.edge)}));return O(i,(function(t,e){return t.filter(u(Ri.hasColspan)).fold((function(){var t=xo(a,e);return r(t)}),(function(t){return n(t,o)}))}))},Li=function(t){return t.map((function(t){return t+"px"})).getOr("")},Fi=function(t,e,n,r){var o=So(t),i=O(o,(function(t){return t.map(e.edge)}));return O(o,(function(t,e){return t.filter(u(Ri.hasRowspan)).fold((function(){var t=xo(i,e);return r(t)}),(function(t){return n(t)}))}))},Hi={getRawWidths:function(t,e,n){return Ii(t,e,Bi,Li,n)},getPixelWidths:function(t,e,n){return Ii(t,e,$r.getPixelWidth,(function(t){return t.getOrThunk(n.minCellWidth)}),n)},getPercentageWidths:function(t,e,n){return Ii(t,e,$r.getPercentageWidth,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}),n)},getPixelHeights:function(t,e){return Fi(t,e,$r.getHeight,(function(t){return t.getOrThunk(Ri.minHeight)}))},getRawHeights:function(t,e){return Fi(t,e,zi,Li)}},ji=function(t,e,n){for(var r=0,o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0;return r},Vi=function(t,e){var n=on.justCells(t);return O(n,(function(t){var n=ji(t.column(),t.column()+t.colspan(),e);return{element:t.element,width:o(n),colspan:t.colspan}}))},$i=function(t,e){var n=on.justCells(t);return O(n,(function(t){var n=ji(t.row(),t.row()+t.rowspan(),e);return{element:t.element,height:o(n),rowspan:t.rowspan}}))},Ui=function(t,e){return O(t.all(),(function(t,n){return{element:t.element,height:o(e[n])}}))},Wi=function(t){var e=i;return{width:o(t),pixelWidth:o(t),getWidths:Hi.getPixelWidths,getCellDelta:e,singleColumnWidth:function(t,e){return[Math.max(Ri.minWidth(),t+e)-t]},minCellWidth:Ri.minWidth,setElementWidth:$r.setPixelWidth,setTableWidth:function(t,e,n){var r=A(e,(function(t,e){return t+e}),0);$r.setPixelWidth(t,r)}}},qi=function(t,e){var n=$r.percentageBasedSizeRegex().exec(e);if(null!==n)return function(t,e){var n=parseFloat(t),r=Ar(e);return{width:o(n),pixelWidth:o(r),getWidths:Hi.getPercentageWidths,getCellDelta:function(t){return t/r*100},singleColumnWidth:function(t,e){return[100-t]},minCellWidth:function(){return Ri.minWidth()/r*100},setElementWidth:$r.setPercentageWidth,setTableWidth:function(t,e,r){var o=r/100*n;$r.setPercentageWidth(t,n+o)}}}(n[1],t);var r=$r.pixelBasedSizeRegex().exec(e);if(null!==r){var i=parseInt(r[1],10);return Wi(i)}var a=Ar(t);return Wi(a)},Xi=function(t){return $r.getRawWidth(t).fold((function(){var e=Ar(t);return Wi(e)}),(function(e){return qi(t,e)}))},Gi=function(t){return on.generate(t)},Yi=function(t){var e=tn(t);return Gi(e)},Ki=function(t,e,n,r){var o=Xi(t),i=o.getCellDelta(e),a=Yi(t),u=o.getWidths(a,r,o),c=Ni(u,n,i,o),s=O(c,(function(t,e){return t+u[e]})),l=Vi(a,s);T(l,(function(t){o.setElementWidth(t.element(),t.width())})),n===a.grid().columns()-1&&o.setTableWidth(t,s,i)},Ji=function(t,e,n,r){var o=Yi(t),i=Hi.getPixelHeights(o,r),a=O(i,(function(t,r){return n===r?Math.max(e+t,Ri.minHeight()):t})),u=$i(o,a),c=Ui(o,a);T(c,(function(t){$r.setHeight(t.element(),t.height())})),T(u,(function(t){$r.setHeight(t.element(),t.height())}));var s=A(a,(function(t,e){return t+e}),0);$r.setHeight(t,s)},Zi=function(t,e,n){var r=Xi(t),o=Gi(e),i=r.getWidths(o,n,r),a=Vi(o,i);T(a,(function(t){r.setElementWidth(t.element(),t.width())})),a.length>0&&r.setTableWidth(t,i,r.getCellDelta(0))},Qi=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.");return Y("required",e),K(e),function(r){var o=L(r);B(e,(function(t){return S(o,t)}))||X(e,o),t(e,o);var i=E(e,(function(t){return!n.validate(r[t],t)}));return i.length>0&&function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+q(t).join(", ")+") were not.")}(i,n.label),r}},ta=function(t,e){var n=E(e,(function(e){return!S(t,e)}));n.length>0&&G(n)},ea=function(t){return function(t,e){return Qi(t,e,{validate:y,label:"function"})}(ta,t)},na=ea(["cell","row","replace","gap"]),ra=function(t){var e=dt(t,"colspan")?parseInt(ft(t,"colspan"),10):1,n=dt(t,"rowspan")?parseInt(ft(t,"rowspan"),10):1;return{element:o(t),colspan:o(e),rowspan:o(n)}},oa=function(t,n){void 0===n&&(n=ra),na(t);var r=e(h.none()),o=function(e){return function(e){return t.cell(e)}(n(e))},i=function(t){var e=o(t);return r.get().isNone()&&r.set(h.some(e)),a=h.some({item:t,replacement:e}),e},a=h.none();return{getOrInit:function(t,e){return a.fold((function(){return i(t)}),(function(n){return e(t,n.item)?n.replacement:i(t)}))},cursor:r.get}},ia=function(t,n){return function(r){var o=e(h.none());na(r);var i=[],a=function(e){var a={scope:t},u=r.replace(e,n,a);return i.push({item:e,sub:u}),o.get().isNone()&&o.set(h.some(u)),u};return{replaceOrInit:function(t,e){return function(t,e){return N(i,(function(n){return e(n.item,t)}))}(t,e).fold((function(){return a(t)}),(function(n){return e(t,n.item)?n.sub:a(t)}))},cursor:o.get}}},aa=function(t){na(t);var n=e(h.none());return{combine:function(e){return n.get().isNone()&&n.set(h.some(e)),function(){var n=t.cell({element:o(e),colspan:o(1),rowspan:o(1)});return Nt(n,"width"),Nt(e,"width"),n}},cursor:n.get}},ua=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ca=function(t,e){var n=t.property().name(e);return S(ua,n)},sa=function(t,e){return S(["br","img","hr","input"],t.property().name(e))},la=ca,fa=function(t,e){var n=t.property().name(e);return S(["ol","ul"],n)},da=sa,ha=Un(),pa=function(t){return la(ha,t)},ma=function(t){return fa(ha,t)},ga=function(t){return da(ha,t)},va=function(t){var e,n=function(t){return"br"===nt(t)},r=function(t){return vn(t).bind((function(e){var r=de(e).map((function(t){return!!pa(t)||!!ga(t)&&"img"!==nt(t)})).getOr(!1);return se(e).map((function(o){return!0===r||function(t){return"li"===nt(t)||je(t,ma).isSome()}(o)||n(e)||pa(o)&&!ie(t,o)?[]:[xt.fromTag("br")]}))})).getOr([])},o=0===(e=P(t,(function(t){var e=he(t);return function(t){return B(t,(function(t){return n(t)||ut(t)&&0===ln(t).trim().length}))}(e)?[]:e.concat(r(t))}))).length?[xt.fromTag("br")]:e;Ce(t[0]),xe(t[0],o)},ba=function(t){0===Je(t).length&&_e(t)},ya=W("grid","cursor"),wa=function(t,e,n){return xa(t,e,n).orThunk((function(){return xa(t,0,0)}))},xa=function(t,e,n){return h.from(t[e]).bind((function(t){return h.from(t.cells()[n]).bind((function(t){return h.from(t.element())}))}))},Ca=function(t,e,n){return ya(t,xa(t,e,n))},_a=function(t){return D(t,(function(t,e){return k(t,(function(t){return t.row()===e.row()}))?t:t.concat([e])}),[]).sort((function(t,e){return t.row()-e.row()}))},Sa=function(t){return D(t,(function(t,e){return k(t,(function(t){return t.column()===e.column()}))?t:t.concat([e])}),[]).sort((function(t,e){return t.column()-e.column()}))},ka=function(t,e,n){var r=en(t,n),o=on.generate(r);return Yo(o,e,!0)},Oa=Zi,Ta={insertRowBefore:Qo((function(t,e,n,r){var o=e.row(),i=e.row(),a=bi(t,i,o,n,r.getOrInit);return Ca(a,i,e.column())}),ti,n,n,oa),insertRowsBefore:Qo((function(t,e,n,r){var o=e[0].row(),i=e[0].row(),a=_a(e),u=D(a,(function(t,e){return bi(t,i,o,n,r.getOrInit)}),t);return Ca(u,i,e[0].column())}),ni,n,n,oa),insertRowAfter:Qo((function(t,e,n,r){var o=e.row(),i=e.row()+e.rowspan(),a=bi(t,i,o,n,r.getOrInit);return Ca(a,i,e.column())}),ti,n,n,oa),insertRowsAfter:Qo((function(t,e,n,r){var o=_a(e),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),u=D(o,(function(t,e){return bi(t,a,i,n,r.getOrInit)}),t);return Ca(u,a,e[0].column())}),ni,n,n,oa),insertColumnBefore:Qo((function(t,e,n,r){var o=e.column(),i=e.column(),a=yi(t,i,o,n,r.getOrInit);return Ca(a,e.row(),i)}),ti,Oa,n,oa),insertColumnsBefore:Qo((function(t,e,n,r){var o=Sa(e),i=o[0].column(),a=o[0].column(),u=D(o,(function(t,e){return yi(t,a,i,n,r.getOrInit)}),t);return Ca(u,e[0].row(),a)}),ni,Oa,n,oa),insertColumnAfter:Qo((function(t,e,n,r){var o=e.column(),i=e.column()+e.colspan(),a=yi(t,i,o,n,r.getOrInit);return Ca(a,e.row(),i)}),ti,Oa,n,oa),insertColumnsAfter:Qo((function(t,e,n,r){var o=e[e.length-1].column(),i=e[e.length-1].column()+e[e.length-1].colspan(),a=Sa(e),u=D(a,(function(t,e){return yi(t,i,o,n,r.getOrInit)}),t);return Ca(u,e[0].row(),i)}),ni,Oa,n,oa),splitCellIntoColumns:Qo((function(t,e,n,r){var o=wi(t,e.row(),e.column(),n,r.getOrInit);return Ca(o,e.row(),e.column())}),ti,Oa,n,oa),splitCellIntoRows:Qo((function(t,e,n,r){var o=xi(t,e.row(),e.column(),n,r.getOrInit);return Ca(o,e.row(),e.column())}),ti,n,n,oa),eraseColumns:Qo((function(t,e,n,r){var o=Sa(e),i=_i(t,o[0].column(),o[o.length-1].column()),a=wa(i,e[0].row(),e[0].column());return ya(i,a)}),ni,Oa,ba,oa),eraseRows:Qo((function(t,e,n,r){var o=_a(e),i=Ci(t,o[0].row(),o[o.length-1].row()),a=wa(i,e[0].row(),e[0].column());return ya(i,a)}),ni,n,ba,oa),makeColumnHeader:Qo((function(t,e,n,r){var o=Ti(t,e.column(),n,r.replaceOrInit);return Ca(o,e.row(),e.column())}),ti,n,n,ia("row","th")),unmakeColumnHeader:Qo((function(t,e,n,r){var o=Ti(t,e.column(),n,r.replaceOrInit);return Ca(o,e.row(),e.column())}),ti,n,n,ia(null,"td")),makeRowHeader:Qo((function(t,e,n,r){var o=Ei(t,e.row(),n,r.replaceOrInit);return Ca(o,e.row(),e.column())}),ti,n,n,ia("col","th")),unmakeRowHeader:Qo((function(t,e,n,r){var o=Ei(t,e.row(),n,r.replaceOrInit);return Ca(o,e.row(),e.column())}),ti,n,n,ia(null,"td")),mergeCells:Qo((function(t,e,n,r){var i=e.cells();va(i);var a=di(t,e.bounds(),n,o(i[0]));return ya(a,h.from(i[0]))}),(function(t,e){return e.mergable()}),n,n,aa),unmergeCells:Qo((function(t,e,n,r){var o=A(e,(function(t,e){return hi(t,e,n,r.combine(e))}),t);return ya(o,h.from(e[0]))}),(function(t,e){return e.unmergable()}),Oa,n,aa),pasteCells:Qo((function(t,e,n,r){var o=function(t,e){var n=tn(t),r=on.generate(n);return Yo(r,e,!0)}(e.clipboard(),e.generators()),i=Oe(e.row(),e.column());return gi(i,t,o,e.generators(),n).fold((function(){return ya(t,h.some(e.element()))}),(function(t){var n=wa(t,e.row(),e.column());return ya(t,n)}))}),(function(t,e){return Ke(e.element()).bind((function(n){return Zo(t,n).map((function(t){return Pt(Pt({},t),{generators:e.generators,clipboard:e.clipboard})}))}))}),Oa,n,oa),pasteRowsBefore:Qo((function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[0].row(),a=ka(e.clipboard(),e.generators(),o),u=vi(i,t,a,e.generators(),n),c=wa(u,e.cells[0].row(),e.cells[0].column());return ya(u,c)}),ei,n,n,oa),pasteRowsAfter:Qo((function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[e.cells.length-1].row()+e.cells[e.cells.length-1].rowspan(),a=ka(e.clipboard(),e.generators(),o),u=vi(i,t,a,e.generators(),n),c=wa(u,e.cells[0].row(),e.cells[0].column());return ya(u,c)}),ei,n,n,oa)},Ea=function(t){return xt.fromDom(t.getBody())},Aa=function(t){return t.getBoundingClientRect().width},Da=function(t){return t.getBoundingClientRect().height},Na=function(t){return function(e){return ie(e,Ea(t))}},Ma=function(t){return/^[0-9]+$/.test(t)&&(t+="px"),t},Ra=function(t){var e=Fe(t,"td[data-mce-style],th[data-mce-style]");ht(t,"data-mce-style"),T(e,(function(t){ht(t,"data-mce-style")}))},Pa={isRtl:o(!1)},Ba={isRtl:o(!0)},za=function(t){return"rtl"===function(t){return"rtl"===Et(t,"direction")?"rtl":"ltr"}(t)?Ba:Pa},Ia={"border-collapse":"collapse",width:"100%"},La={border:"1"},Fa=function(t){return t.getParam("table_default_attributes",La,"object")},Ha=function(t){return t.getParam("table_default_styles",Ia,"object")},ja=function(t){return t.getParam("table_cell_advtab",!0,"boolean")},Va=function(t){return t.getParam("table_row_advtab",!0,"boolean")},$a=function(t){return t.getParam("table_advtab",!0,"boolean")},Ua=function(t){return t.getParam("table_style_by_css",!1,"boolean")},Wa=function(t){return t.getParam("table_class_list",[],"array")},qa=function(t){return!1===t.getParam("table_responsive_width")},Xa=function(t){var e=t.getParam("table_clone_elements");return g(e)?h.some(e.split(/[ ,]/)):Array.isArray(e)?h.some(e):h.none()},Ga=function(t,e){return t.fire("newrow",{node:e})},Ya=function(t,e){return t.fire("newcell",{node:e})},Ka=function(t,e,n,r){t.fire("ObjectResizeStart",{target:e,width:n,height:r})},Ja=function(t,e,n,r){t.fire("ObjectResized",{target:e,width:n,height:r})},Za=function(t,e,n){var r=tn(t),o=on.generate(r);return ni(o,e).map((function(t){var e=Yo(o,n,!1).slice(t[0].row(),t[t.length-1].row()+t[t.length-1].rowspan()),r=Jo(e,n);return po(r)}))},Qa=tinymce.util.Tools.resolve("tinymce.util.Tools"),tu=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)},eu=function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)},nu=function(t,e){Qa.each("left center right".split(" "),(function(n){t.formatter.remove("align"+n,{},e)}))},ru=function(t,e){Qa.each("top middle bottom".split(" "),(function(n){t.formatter.remove("valign"+n,{},e)}))},ou=function(t,e,n){var r;return r=function(e,r){for(var o=0;o<r.length;o++){var i=t.getStyle(r[o],n);if(void 0===e&&(e=i),e!==i)return""}return e}(r,t.select("td,th",e))},iu=function(t,e){var n=function(e){return vt(e,"rgb")?t.toHex(e):e};return{borderwidth:Dt(xt.fromDom(e),"border-width").getOr(""),borderstyle:Dt(xt.fromDom(e),"border-style").getOr(""),bordercolor:Dt(xt.fromDom(e),"border-color").map(n).getOr(""),backgroundcolor:Dt(xt.fromDom(e),"background-color").map(n).getOr("")}},au=function(t,e,n,r,o){var i={};return Qa.each(t.split(" "),(function(t){r.formatter.matchNode(o,e+t)&&(i[n]=t)})),i[n]||(i[n]=""),i},uu=a(au,"left center right"),cu=a(au,"top middle bottom"),su=function(t,e,n){var r=function(t,n){return n=n||[],Qa.each(t,(function(t){var o={text:t.text||t.title};t.menu?o.menu=r(t.menu):(o.value=t.value,e&&e(o)),n.push(o)})),n};return r(t,n||[])},lu=function(t){var e=t[0],n=t.slice(1),r=L(e);return T(n,(function(t){T(r,(function(n){H(t,(function(t,r){var o=e[n];""!==o&&n===r&&o!==t&&(e[n]="")}))}))})),e},fu=function(t){var e=[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(e):e}},du=function(t,e,n){var r=t.dom;return Pt(Pt({width:r.getStyle(e,"width")||r.getAttrib(e,"width"),height:r.getStyle(e,"height")||r.getAttrib(e,"height"),cellspacing:r.getStyle(e,"border-spacing")||r.getAttrib(e,"cellspacing"),cellpadding:r.getAttrib(e,"cellpadding")||ou(t.dom,e,"padding"),border:function(e,n){var r=Dt(xt.fromDom(n),"border-width");return Ua(t)&&r.isSome()?r.getOr(""):e.getAttrib(n,"border")||ou(t.dom,n,"border-width")||ou(t.dom,n,"border")}(r,e),caption:!!r.select("caption",e)[0],class:r.getAttrib(e,"class","")},uu("align","align",t,e)),n?iu(r,e):{})},hu=function(t,e,n){var r=t.dom;return Pt(Pt({height:r.getStyle(e,"height")||r.getAttrib(e,"height"),scope:r.getAttrib(e,"scope"),class:r.getAttrib(e,"class",""),align:"",type:e.parentNode.nodeName.toLowerCase()},uu("align","align",t,e)),n?iu(r,e):{})},pu=function(t,e,n){var r=t.dom;return Pt(Pt(Pt({width:r.getStyle(e,"width")||r.getAttrib(e,"width"),height:r.getStyle(e,"height")||r.getAttrib(e,"height"),scope:r.getAttrib(e,"scope"),celltype:e.nodeName.toLowerCase(),class:r.getAttrib(e,"class","")},uu("align","halign",t,e)),cu("valign","valign",t,e)),n?iu(r,e):{})},mu=function(t,e){var n,r,o,i=Ha(t),a=Fa(t),u=t.dom,c=e?function(t){var e=function(e){return vt(e,"rgb")?t.toHex(e):e},n=$(i,"border-style").getOr(""),r=$(i,"border-color").getOr(""),o=$(i,"background-color").getOr("");return{borderstyle:n,bordercolor:e(r),backgroundcolor:e(o)}}(u):{};return Pt(Pt(Pt(Pt(Pt(Pt({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),i),a),c),(o=i["border-width"],Ua(t)&&o?{border:o}:$(a,"border").fold((function(){return{}}),(function(t){return{border:t}})))),(n=$(i,"border-spacing").or($(a,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}})),r=$(i,"border-padding").or($(a,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}})),Pt(Pt({},n),r)))},gu=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],vu=function(t){return function(t){var e=function(t){return t.getParam("table_cell_class_list",[],"array")}(t),n=su(e,(function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})}));return e.length>0?h.some({name:"class",type:"selectbox",label:"Class",items:n}):h.none()}(t).fold((function(){return gu}),(function(t){return gu.concat(t)}))},bu={normal:function(t,e){return{setAttrib:function(n,r){t.setAttrib(e,n,r)},setStyle:function(n,r){t.setStyle(e,n,r)}}},ifTruthy:function(t,e){return{setAttrib:function(n,r){r&&t.setAttrib(e,n,r)},setStyle:function(n,r){r&&t.setStyle(e,n,r)}}}},yu=function(t,e){t.setAttrib("scope",e.scope),t.setAttrib("class",e.class),t.setStyle("width",Ma(e.width)),t.setStyle("height",Ma(e.height))},wu=function(t,e){t.setStyle("background-color",e.backgroundcolor),t.setStyle("border-color",e.bordercolor),t.setStyle("border-style",e.borderstyle),t.setStyle("border-width",Ma(e.borderwidth))},xu=function(t,e,n){var r=t.dom,o=n.celltype&&e[0].nodeName.toLowerCase()!==n.celltype?r.rename(e[0],n.celltype):e[0],i=bu.normal(r,o);yu(i,n),ja(t)&&wu(i,n),nu(t,o),ru(t,o),n.halign&&tu(t,o,n.halign),n.valign&&eu(t,o,n.valign)},Cu=function(t,e,n){var r=t.dom;Qa.each(e,(function(e){n.celltype&&e.nodeName.toLowerCase()!==n.celltype&&(e=r.rename(e,n.celltype));var o=bu.ifTruthy(r,e);yu(o,n),ja(t)&&wu(o,n),n.halign&&tu(t,e,n.halign),n.valign&&eu(t,e,n.valign)}))},_u=function(t,e,n){var r=n.getData();n.close(),t.undoManager.transact((function(){(1===e.length?xu:Cu)(t,e,r),t.focus()}))},Su=function(t){var e,n=[];if(n=t.dom.select("td[data-mce-selected],th[data-mce-selected]"),e=t.dom.getParent(t.selection.getStart(),"td,th"),!n.length&&e&&n.push(e),e=e||n[0]){var r=Qa.map(n,(function(e){return pu(t,e,ja(t))})),o=lu(r),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:vu(t)},fu("cell")]},u={type:"panel",items:[{type:"grid",columns:2,items:vu(t)}]};t.windowManager.open({title:"Cell Properties",size:"normal",body:ja(t)?i:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:a(_u,t,n)})}},ku=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Ou=function(t){return function(t){var e=function(t){return t.getParam("table_row_class_list",[],"array")}(t),n=su(e,(function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})}));return e.length>0?h.some({name:"class",type:"selectbox",label:"Class",items:n}):h.none()}(t).fold((function(){return ku}),(function(t){return ku.concat(t)}))},Tu=function(t,e,n,r){var o=t.dom,i=r.getData();r.close();var a=1===e.length?bu.normal:bu.ifTruthy;t.undoManager.transact((function(){Qa.each(e,(function(e){i.type!==e.parentNode.nodeName.toLowerCase()&&function(t,e,n){var r=t.getParent(e,"table"),o=e.parentNode,i=t.select(n,r)[0];i||(i=t.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?t.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),"tbody"===n&&"THEAD"===o.nodeName&&i.firstChild?i.insertBefore(e,i.firstChild):i.appendChild(e),o.hasChildNodes()||t.remove(o)}(t.dom,e,i.type);var r=a(o,e);r.setAttrib("scope",i.scope),r.setAttrib("class",i.class),r.setStyle("height",Ma(i.height)),Va(t)&&function(t,e){t.setStyle("background-color",e.backgroundcolor),t.setStyle("border-color",e.bordercolor),t.setStyle("border-style",e.borderstyle)}(r,i),i.align!==n.align&&(nu(t,e),tu(t,e,i.align))})),t.focus()}))},Eu=function(t){var e,n,r=t.dom,o=[];if((e=r.getParent(t.selection.getStart(),"table"))&&(n=r.getParent(t.selection.getStart(),"td,th"),Qa.each(e.rows,(function(t){Qa.each(t.cells,(function(e){if((r.getAttrib(e,"data-mce-selected")||e===n)&&o.indexOf(t)<0)return o.push(t),!1}))})),o[0])){var i=Qa.map(o,(function(e){return hu(t,e,Va(t))})),u=lu(i),c={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ou(t)},fu("row")]},s={type:"panel",items:[{type:"grid",columns:2,items:Ou(t)}]};t.windowManager.open({title:"Row Properties",size:"normal",body:Va(t)?c:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onSubmit:a(Tu,t,o,u)})}},Au=tinymce.util.Tools.resolve("tinymce.Env"),Du={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},Nu=function(t,e,n,r,o){void 0===o&&(o=Du);var i=xt.fromTag("table");Tt(i,o.styles),lt(i,o.attributes);var a=xt.fromTag("tbody");be(i,a);for(var u=[],c=0;c<t;c++){for(var s=xt.fromTag("tr"),l=0;l<e;l++){var f=c<n||l<r?xt.fromTag("th"):xt.fromTag("td");l<r&&st(f,"scope","row"),c<n&&st(f,"scope","col"),be(f,xt.fromTag("br")),o.percentages&&Ot(f,"width",100/e+"%"),be(s,f)}u.push(s)}return xe(a,u),i},Mu=function(t,e){t.selection.select(e.dom(),!0),t.selection.collapse(!0)},Ru=function(t,e,n){var r,o=Ha(t),i={styles:o,attributes:Fa(t),percentages:(r=o.width,g(r)&&-1!==r.indexOf("%")&&!qa(t))},u=Nu(n,e,0,0,i);st(u,"data-mce-id","__mce");var c=function(t){var e=xt.fromTag("div"),n=xt.fromDom(t.dom().cloneNode(!0));return be(e,n),function(t){return t.dom().innerHTML}(e)}(u);return t.insertContent(c),Ue(Ea(t),'table[data-mce-id="__mce"]').map((function(e){return qa(t)&&Ot(e,"width",Et(e,"width")),ht(e,"data-mce-id"),function(t,e){T(Fe(e,"tr"),(function(e){Ga(t,e.dom()),T(Fe(e,"th,td"),(function(e){Ya(t,e.dom())}))}))}(t,e),function(t,e){Ue(e,"td,th").each(a(Mu,t))}(t,e),e.dom()})).getOr(null)},Pu=function(t,e,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=function(t){return t.getParam("table_appearance_options",!0,"boolean")}(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=e?[{type:"selectbox",name:"class",label:"Class",items:su(Wa(t),(function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})}))}]:[];return r.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(o).concat([{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(i)},Bu=function(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)g(n)?t.setStyle(e,n,r):t.setStyle(e,n);else if(e.children)for(var o=0;o<e.children.length;o++)Bu(t,e.children[o],n,r)},zu=function(t,e,n){var r,o=t.dom,i=n.getData();n.close(),""===i.class&&delete i.class,t.undoManager.transact((function(){if(!e){var n=parseInt(i.cols,10)||1,a=parseInt(i.rows,10)||1;e=Ru(t,n,a)}!function(t,e,n){var r,o=t.dom,i={},a={};if(i.class=n.class,a.height=Ma(n.height),o.getAttrib(e,"width")&&!Ua(t)?i.width=(r=n.width)?r.replace(/px$/,""):"":a.width=Ma(n.width),Ua(t)?(a["border-width"]=Ma(n.border),a["border-spacing"]=Ma(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),Ua(t)&&e.children)for(var u=0;u<e.children.length;u++)Bu(o,e.children[u],{"border-width":Ma(n.border),padding:Ma(n.cellpadding)}),$a(t)&&Bu(o,e.children[u],{"border-color":n.bordercolor});$a(t)&&(a["background-color"]=n.backgroundcolor,a["border-color"]=n.bordercolor,a["border-style"]=n.borderstyle),i.style=o.serializeStyle(Pt(Pt({},Ha(t)),a)),o.setAttribs(e,Pt(Pt({},Fa(t)),i))}(t,e,i),(r=o.select("caption",e)[0])&&!i.caption&&o.remove(r),!r&&i.caption&&((r=o.create("caption")).innerHTML=Au.ie?"":'<br data-mce-bogus="1"/>',e.insertBefore(r,e.firstChild)),""===i.align?nu(t,e):tu(t,e,i.align),t.focus(),t.addVisual()}))},Iu=function(t,e){var n,r=t.dom,o=mu(t,$a(t));!1===e?(n=r.getParent(t.selection.getStart(),"table"))?o=du(t,n,$a(t)):$a(t)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""):(o.cols="1",o.rows="1",$a(t)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var i=Wa(t).length>0;i&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:Pu(t,i,e)},c=$a(t)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},fu("table")]}:{type:"panel",items:[u]};t.windowManager.open({title:"Table Properties",size:"normal",body:c,onSubmit:a(zu,t,n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},Lu=function(t){return function(e){return h.from(e.dom.getParent(e.selection.getStart(),t)).map(xt.fromDom)}},Fu=Lu("th,td"),Hu=Lu("th,td,caption"),ju=Qa.each,Vu=function(t,e,r,o,i){var c=Na(t),s=function(t){return Ze(t,c)},l=function(t){return{width:Aa(t.dom()),height:Aa(t.dom())}},f=function(e){Fu(t).each((function(n){s(n).each((function(i){var a=Cr.forMenu(o,i,n),u=l(i);e(i,a).each((function(e){!function(t,e,n){var r=l(n);e.width===r.width&&e.height===r.height||(Ka(t,n.dom(),e.width,e.height),Ja(t,n.dom(),r.width,r.height))}(t,u,i),t.selection.setRng(e),t.focus(),r.clear(i),Ra(i)}))}))}))},d=function(e){return Fu(t).map((function(e){return s(e).bind((function(r){var i=xt.fromDom(t.getDoc()),a=Cr.forMenu(o,r,e),u=Tn(n,i,h.none());return Za(r,a,u)}))}))},p=function(e){i.get().each((function(n){var i=O(n,(function(t){return xn(t)}));Fu(t).each((function(n){s(n).each((function(a){var u=xt.fromDom(t.getDoc()),c=En(u),s=Cr.pasteRows(o,a,n,i,c);e(a,s).each((function(e){t.selection.setRng(e),t.focus(),r.clear(a)}))}))}))}))};ju({mceTableSplitCells:function(){f(e.unmergeCells)},mceTableMergeCells:function(){f(e.mergeCells)},mceTableInsertRowBefore:function(){f(e.insertRowsBefore)},mceTableInsertRowAfter:function(){f(e.insertRowsAfter)},mceTableInsertColBefore:function(){f(e.insertColumnsBefore)},mceTableInsertColAfter:function(){f(e.insertColumnsAfter)},mceTableDeleteCol:function(){f(e.deleteColumn)},mceTableDeleteRow:function(){f(e.deleteRow)},mceTableCutRow:function(t){d().each((function(t){i.set(t),f(e.deleteRow)}))},mceTableCopyRow:function(t){d().each((function(t){i.set(t)}))},mceTablePasteRowBefore:function(t){p(e.pasteRowsBefore)},mceTablePasteRowAfter:function(t){p(e.pasteRowsAfter)},mceTableDelete:function(){Hu(t).each((function(e){Ze(e,c).filter(u(c)).each((function(e){var n=xt.fromText("");if(ge(e,n),_e(e),t.dom.isEmpty(t.getBody()))t.setContent(""),t.selection.setCursorLocation();else{var r=t.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),t.selection.setRng(r),t.nodeChanged()}}))}))}},(function(e,n){t.addCommand(n,e)})),ju({mceInsertTable:a(Iu,t,!0),mceTableProps:a(Iu,t,!1),mceTableRowProps:a(Eu,t),mceTableCellProps:a(Su,t)},(function(e,n){t.addCommand(n,(function(){e()}))}))},$u=function(t){var e=h.from(t.dom().documentElement).map(xt.fromDom).getOr(t);return{parent:o(e),view:o(t),origin:o(qr(0,0))}},Uu=function(t,e){return{parent:o(e),view:o(t),origin:o(qr(0,0))}},Wu=function(t){var e=W.apply(null,t),n=[];return{bind:function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");n.push(t)},unbind:function(t){n=E(n,(function(e){return e!==t}))},trigger:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.apply(null,t);T(n,(function(t){t(o)}))}}},qu=function(t){return{registry:j(t,(function(t){return{bind:t.bind,unbind:t.unbind}})),trigger:j(t,(function(t){return t.trigger}))}},Xu=function(t){var e=xt.fromDom(t.target),n=function(){t.stopPropagation()},i=function(){t.preventDefault()},a=r(i,n);return function(t,e,n,r,i,a,u){return{target:o(t),x:o(e),y:o(n),stop:r,prevent:i,kill:a,raw:o(u)}}(e,t.clientX,t.clientY,n,i,a,t)},Gu=function(t,e,n,r,o){var i=function(t,e){return function(n){t(n)&&e(Xu(n))}}(n,r);return t.dom().addEventListener(e,i,o),{unbind:a(Yu,t,e,i,o)}},Yu=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},Ku=o(!0),Ju=function(t,e,n){return function(t,e,n,r){return Gu(t,e,n,r,!1)}(t,e,Ku,n)},Zu={resolve:ko("ephox-dragster").resolve},Qu=ea(["compare","extract","mutate","sink"]),tc=ea(["element","start","stop","destroy"]),ec=ea(["forceDrop","drop","move","delayDrop"]),nc=Qu({compare:function(t,e){return qr(e.left()-t.left(),e.top()-t.top())},extract:function(t){return h.some(qr(t.x(),t.y()))},sink:function(t,e){var n=function(t){var e=Pt({layerClass:Zu.resolve("blocker")},t),n=xt.fromTag("div");st(n,"role","presentation"),Tt(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),bo(n,Zu.resolve("blocker")),bo(n,e.layerClass);return{element:function(){return n},destroy:function(){_e(n)}}}(e),r=Ju(n.element(),"mousedown",t.forceDrop),o=Ju(n.element(),"mouseup",t.drop),i=Ju(n.element(),"mousemove",t.move),a=Ju(n.element(),"mouseout",t.delayDrop);return tc({element:n.element,start:function(t){be(t,n.element())},stop:function(){_e(n.element())},destroy:function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()}})},mutate:function(t,e){t.mutate(e.left(),e.top())}});function rc(){var t=h.none(),e=qu({move:Wu(["info"])});return{onEvent:function(n,r){r.extract(n).each((function(n){(function(e,n){var r=t.map((function(t){return e.compare(t,n)}));return t=h.some(n),r})(r,n).each((function(t){e.trigger.move(t)}))}))},reset:function(){t=h.none()},events:e.registry}}function oc(){var t={onEvent:n,reset:n},e=rc(),r=t;return{on:function(){r.reset(),r=e},off:function(){r.reset(),r=t},isOn:function(){return r===e},onEvent:function(t,e){r.onEvent(t,e)},events:e.events}}var ic=function(e,n,r){var o,i,a,u=!1,c=qu({start:Wu([]),stop:Wu([])}),s=oc(),l=function(){h.stop(),s.isOn()&&(s.off(),c.trigger.stop())},f=(o=l,i=200,a=null,{cancel:function(){null!==a&&(t.clearTimeout(a),a=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null!==a&&t.clearTimeout(a),a=t.setTimeout((function(){o.apply(null,e),a=null}),i)}});s.events.move.bind((function(t){n.mutate(e,t.info())}));var d=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u&&t.apply(null,e)}},h=n.sink(ec({forceDrop:l,drop:d(l),move:d((function(t){f.cancel(),s.onEvent(t,n)})),delayDrop:d(f.throttle)}),r);return{element:h.element,go:function(t){h.start(t),s.on(),c.trigger.start()},on:function(){u=!0},off:function(){u=!1},destroy:function(){h.destroy()},events:c.registry}},ac=function(t,e){void 0===e&&(e={});var n=void 0!==e.mode?e.mode:nc;return ic(t,n,e)},uc=function(){var t=qu({drag:Wu(["xDelta","yDelta","target"])}),e=h.none(),n=function(){var t=qu({drag:Wu(["xDelta","yDelta"])});return{mutate:function(e,n){t.trigger.drag(e,n)},events:t.registry}}();n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta(),n.yDelta(),e)}))}));return{assign:function(t){e=h.some(t)},get:function(){return e},mutate:n.mutate,events:t.registry}},cc=function(t){return"true"===ft(t,"contenteditable")},sc=To.resolve("resizer-bar-dragging"),lc=function(t,e,n){var r=uc(),o=ac(r,{}),i=h.none(),u=function(t,e){return h.from(ft(t,e))};r.events.drag.bind((function(t){u(t.target(),"data-row").each((function(e){var n=Ri.getInt(t.target(),"top");Ot(t.target(),"top",n+t.yDelta()+"px")})),u(t.target(),"data-column").each((function(e){var n=Ri.getInt(t.target(),"left");Ot(t.target(),"left",n+t.xDelta()+"px")}))}));var c=function(t,e){return Ri.getInt(t,e)-parseInt(ft(t,"data-initial-"+e),10)};o.events.stop.bind((function(){r.get().each((function(r){i.each((function(o){u(r,"data-row").each((function(t){var e=c(r,"top");ht(r,"data-initial-top"),m.trigger.adjustHeight(o,e,parseInt(t,10))})),u(r,"data-column").each((function(t){var e=c(r,"left");ht(r,"data-initial-left"),m.trigger.adjustWidth(o,e,parseInt(t,10))})),Io(t,o,n,e)}))}))}));var s=function(e,n){m.trigger.startAdjust(),r.assign(e),st(e,"data-initial-"+n,parseInt(Et(e,n),10)),bo(e,sc),Ot(e,"opacity","0.2"),o.go(t.parent())},l=Ju(t.parent(),"mousedown",(function(t){jo(t.target())&&s(t.target(),"top"),Vo(t.target())&&s(t.target(),"left")})),f=function(e){return ie(e,t.view())},d=function(t){return We(t,"table",f).filter((function(t){return function(t,e){return We(t,"[contenteditable]",e)}(t,f).exists(cc)}))},p=Ju(t.view(),"mouseover",(function(r){d(r.target()).fold((function(){Ct(r.target())&&Ho(t)}),(function(r){i=h.some(r),Io(t,r,n,e)}))})),m=qu({adjustHeight:Wu(["table","delta","row"]),adjustWidth:Wu(["table","delta","column"]),startAdjust:Wu([])});return{destroy:function(){l.unbind(),p.unbind(),o.destroy(),Ho(t)},refresh:function(r){Io(t,r,n,e)},on:o.on,off:o.off,hideBars:a(Lo,t),showBars:a(Fo,t),events:m.registry}},fc=function(t,e){var n=ao.height,r=lc(t,e,n),o=qu({beforeResize:Wu(["table"]),afterResize:Wu(["table"]),startDrag:Wu([])});return r.events.adjustHeight.bind((function(t){o.trigger.beforeResize(t.table());var e=n.delta(t.delta(),t.table());Ji(t.table(),e,t.row(),n),o.trigger.afterResize(t.table())})),r.events.startAdjust.bind((function(t){o.trigger.startDrag()})),r.events.adjustWidth.bind((function(t){o.trigger.beforeResize(t.table());var n=e.delta(t.delta(),t.table());Ki(t.table(),n,t.column(),e),o.trigger.afterResize(t.table())})),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}},dc=function(t,e){return t.inline?Uu(Ea(t),function(){var t=xt.fromTag("div");return Tt(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),be(_t(),t),t}()):$u(xt.fromDom(t.getDoc()))},hc=function(t,e){t.inline&&_e(e.parent())},pc=function(t,e){return Aa(t.dom())/Aa(e.dom())*100+"%"},mc=function(t){var e,n,r=h.none(),o=h.none(),i=h.none(),a=/(\d+(\.\d+)?)%/,u=function(t){return"TABLE"===t.nodeName},c=function(e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width");return h.from(n).filter((function(t){return t.length>0}))},s=function(){return o};return t.on("init",(function(){var e=co(za),n=dc(t);if(i=h.some(n),function(t){var e=t.getParam("object_resizing",!0);return g(e)?"table"===e:e}(t)&&function(t){return t.getParam("table_resize_bars",!0,"boolean")}(t)){var a=fc(n,e);a.on(),a.events.startDrag.bind((function(e){r=h.some(t.selection.getRng())})),a.events.beforeResize.bind((function(e){var n=e.table().dom();Ka(t,n,Aa(n),Da(n))})),a.events.afterResize.bind((function(e){var n=e.table(),o=n.dom();Ra(n),r.each((function(e){t.selection.setRng(e),t.focus()})),Ja(t,o,Aa(o),Da(o)),t.undoManager.add()})),o=h.some(a)}})),t.on("ObjectResizeStart",(function(r){var o=r.target;if(u(o)){var i=c(o).map((function(t){return a.test(t)})).getOr(!1);i&&qa(t)?function(t){Ot(xt.fromDom(t),"width",Aa(t).toString()+"px")}(o):!i&&function(t){return!0===t.getParam("table_responsive_width")}(t)&&function(t){var e=xt.fromDom(t);se(e).map((function(t){return pc(e,t)})).each((function(t){Ot(e,"width",t),T(Fe(e,"tr"),(function(t){T(he(t),(function(e){Ot(e,"width",pc(e,t))}))}))}))}(o),e=r.width,n=c(o).getOr("")}})),t.on("ObjectResized",(function(r){var o=r.target;if(u(o)){var i=o;if(a.test(n)){var c=parseFloat(a.exec(n)[1]),s=r.width*c/e;t.dom.setStyle(i,"width",s+"%")}else{var l=[];Qa.each(i.rows,(function(e){Qa.each(e.cells,(function(e){var n=t.dom.getStyle(e,"width",!0);l.push({cell:e,width:n})}))})),Qa.each(l,(function(e){t.dom.setStyle(e.cell,"width",e.width),t.dom.setAttrib(e.cell,"width",null)}))}}})),t.on("SwitchMode",(function(){s().each((function(e){t.readonly?e.hideBars():e.showBars()}))})),{lazyResize:s,lazyWire:function(){return i.getOr($u(xt.fromDom(t.getBody())))},destroy:function(){o.each((function(t){t.destroy()})),i.each((function(e){hc(t,e)}))}}},gc=hr([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),vc=Pt(Pt({},gc),{none:function(t){return void 0===t&&(t=void 0),gc.none(t)}}),bc=function(t,e){return Ze(t,e).bind((function(e){var n=Je(e);return M(n,(function(e){return ie(t,e)})).map((function(t){return{index:o(t),all:o(n)}}))}))},yc=function(t,e){return bc(t,e).fold((function(){return vc.none(t)}),(function(e){return e.index()+1<e.all().length?vc.middle(t,e.all()[e.index()+1]):vc.last(t)}))},wc=function(t,e){return bc(t,e).fold((function(){return vc.none()}),(function(e){return e.index()-1>=0?vc.middle(t,e.all()[e.index()-1]):vc.first(t)}))},xc={create:W("start","soffset","finish","foffset")},Cc=hr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),_c={before:Cc.before,on:Cc.on,after:Cc.after,cata:function(t,e,n,r){return t.fold(e,n,r)},getStart:function(t){return t.fold(i,i,i)}},Sc=hr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),kc={domRange:Sc.domRange,relative:Sc.relative,exact:Sc.exact,exactFromRange:function(t){return Sc.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e,n=function(t){return t.match({domRange:function(t){return xt.fromDom(t.startContainer)},relative:function(t,e){return _c.getStart(t)},exact:function(t,e,n,r){return t}})}(t);return e=n,xt.fromDom(e.dom().ownerDocument.defaultView)},range:xc.create},Oc=function(t,e){t.selectNodeContents(e.dom())},Tc=function(t,e,n){var r,o=t.document.createRange();return r=o,e.fold((function(t){r.setStartBefore(t.dom())}),(function(t,e){r.setStart(t.dom(),e)}),(function(t){r.setStartAfter(t.dom())})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom())}),(function(e,n){t.setEnd(e.dom(),n)}),(function(e){t.setEndAfter(e.dom())}))}(o,n),o},Ec=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},Ac=function(t){return{left:o(t.left),top:o(t.top),right:o(t.right),bottom:o(t.bottom),width:o(t.width),height:o(t.height)}},Dc=hr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Nc=function(t,e,n){return e(xt.fromDom(n.startContainer),n.startOffset,xt.fromDom(n.endContainer),n.endOffset)},Mc=function(t,e){return function(t,e){var n=e.ltr();return n.collapsed?e.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return Dc.rtl(xt.fromDom(t.endContainer),t.endOffset,xt.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return Nc(0,Dc.ltr,n)})):Nc(0,Dc.ltr,n)}(0,function(t,e){return e.match({domRange:function(t){return{ltr:o(t),rtl:h.none}},relative:function(e,n){return{ltr:yt((function(){return Tc(t,e,n)})),rtl:yt((function(){return h.some(Tc(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:yt((function(){return Ec(t,e,n,r,o)})),rtl:yt((function(){return h.some(Ec(t,r,o,e,n))}))}}})}(t,e))},Rc=function(t,e){return Mc(t,e).match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom(),o),i.setEnd(e.dom(),n),i}})},Pc=(Dc.ltr,Dc.rtl,function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}),Bc=function(t,e,n,r,o){var i=function(n){var r=t.dom().createRange();return r.setStart(e.dom(),n),r.collapse(!0),r},a=ln(e).length,u=function(t,e,n,r,o){if(0===o)return 0;if(e===r)return o-1;for(var i=r,a=1;a<o;a++){var u=t(a),c=Math.abs(e-u.left);if(n<=u.bottom){if(n<u.top||c>i)return a-1;i=c}}return 0}((function(t){return i(t).getBoundingClientRect()}),n,r,o.right,a);return i(u)},zc=function(t,e,n,r){return ut(e)?function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getClientRects();return I(i,(function(t){return Pc(t,n,r)?h.some(t):h.none()})).map((function(o){return Bc(t,e,n,r,o)}))}(t,e,n,r):function(t,e,n,r){var o=t.dom().createRange(),i=he(e);return I(i,(function(e){return o.selectNode(e.dom()),Pc(o.getBoundingClientRect(),n,r)?zc(t,e,n,r):h.none()}))}(t,e,n,r)},Ic=function(t,e){return e-t.left<t.right-e},Lc=function(t,e,n){var r=t.dom().createRange();return r.selectNode(e.dom()),r.collapse(n),r},Fc=function(t,e,n){var r=t.dom().createRange();r.selectNode(e.dom());var o=r.getBoundingClientRect(),i=Ic(o,n);return(!0===i?gn:vn)(e).map((function(e){return Lc(t,e,i)}))},Hc=function(t,e,n){var r=e.dom().getBoundingClientRect(),o=Ic(r,n);return h.some(Lc(t,e,o))},jc=function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getBoundingClientRect();return function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return zc(t,e,a,u)}(t,e,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))},Vc=document.caretPositionFromPoint?function(t,e,n){return h.from(t.dom().caretPositionFromPoint(e,n)).bind((function(e){if(null===e.offsetNode)return h.none();var n=t.dom().createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),h.some(n)}))}:document.caretRangeFromPoint?function(t,e,n){return h.from(t.dom().caretRangeFromPoint(e,n))}:function(t,e,n){return xt.fromPoint(t,e,n).bind((function(r){var o=function(){return function(t,e,n){return(0===he(e).length?Hc:Fc)(t,e,n)}(t,r,e)};return 0===he(r).length?o():jc(t,r,e,n).orThunk(o)}))},$c=function(t,e){var n=nt(t);return"input"===n?_c.after(t):S(["br","img"],n)?0===e?_c.before(t):_c.after(t):_c.on(t,e)},Uc=function(t,e){var n=t.fold(_c.before,$c,_c.after),r=e.fold(_c.before,$c,_c.after);return kc.relative(n,r)},Wc=function(t,e,n,r){var o=$c(t,e),i=$c(n,r);return kc.relative(o,i)},qc=function(t,e,n,r){var o=function(t,e,n,r){var o=ce(t).dom().createRange();return o.setStart(t.dom(),e),o.setEnd(n.dom(),r),o}(t,e,n,r),i=ie(t,n)&&e===r;return o.collapsed&&!i},Xc=function(t,e){h.from(t.getSelection()).each((function(t){t.removeAllRanges(),t.addRange(e)}))},Gc=function(t,e,n,r,o){var i=Ec(t,e,n,r,o);Xc(t,i)},Yc=function(t,e){return Mc(t,e).match({ltr:function(e,n,r,o){Gc(t,e,n,r,o)},rtl:function(e,n,r,o){var i=t.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(e.dom(),n,r.dom(),o);else if(i.extend)try{!function(t,e,n,r,o,i){e.collapse(n.dom(),r),e.extend(o.dom(),i)}(0,i,e,n,r,o)}catch(i){Gc(t,r,o,e,n)}else Gc(t,r,o,e,n)}})},Kc=function(t,e,n,r,o){var i=Wc(e,n,r,o);Yc(t,i)},Jc=function(t,e,n){var r=Uc(e,n);Yc(t,r)},Zc=function(t){var e=kc.getWin(t).dom(),n=function(t,n,r,o){return Ec(e,t,n,r,o)},r=function(t){return t.match({domRange:function(t){var e=xt.fromDom(t.startContainer),n=xt.fromDom(t.endContainer);return Wc(e,t.startOffset,n,t.endOffset)},relative:Uc,exact:Wc})}(t);return Mc(e,r).match({ltr:n,rtl:n})},Qc=function(t){var e=xt.fromDom(t.anchorNode),n=xt.fromDom(t.focusNode);return qc(e,t.anchorOffset,n,t.focusOffset)?h.some(xc.create(e,t.anchorOffset,n,t.focusOffset)):function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return h.some(xc.create(xt.fromDom(e.startContainer),e.startOffset,xt.fromDom(n.endContainer),n.endOffset))}return h.none()}(t)},ts=function(t,e){var n=function(t,e){var n=t.document.createRange();return Oc(n,e),n}(t,e);Xc(t,n)},es=function(t){return function(t){return h.from(t.getSelection()).filter((function(t){return t.rangeCount>0})).bind(Qc)}(t).map((function(t){return kc.exact(t.start(),t.soffset(),t.finish(),t.foffset())}))},ns=function(t,e){return function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?h.some(n).map(Ac):h.none()}(Rc(t,e))},rs=function(t,e,n){return function(t,e,n){var r=xt.fromDom(t.document);return Vc(r,e,n).map((function(t){return xc.create(xt.fromDom(t.startContainer),t.startOffset,xt.fromDom(t.endContainer),t.endOffset)}))}(t,e,n)},os=tinymce.util.Tools.resolve("tinymce.util.VK"),is=function(t,e,n,r){return ss(t,e,yc(n),r)},as=function(t,e,n,r){return ss(t,e,wc(n),r)},us=function(t,e){var n=kc.exact(e,0,e,0);return Zc(n)},cs=function(t,e){var n,r=Fe(e,"tr");return(n=r,0===n.length?h.none():h.some(n[n.length-1])).bind((function(t){return Ue(t,"td,th").map((function(t){return us(0,t)}))}))},ss=function(t,e,n,r,o){return n.fold(h.none,h.none,(function(t,e){return gn(e).map((function(t){return us(0,t)}))}),(function(n){return Ze(n,e).bind((function(e){var o=Cr.noMenu(n);return t.undoManager.transact((function(){r.insertRowsAfter(e,o)})),cs(0,e)}))}))},ls=["table","li","dl"],fs=function(t,e,n,r){if(t.keyCode===os.TAB){var o=Ea(e),i=function(t){var e=nt(t);return ie(t,o)||S(ls,e)},a=e.selection.getRng();if(a.collapsed){var u=xt.fromDom(a.startContainer);Ke(u,i).each((function(o){t.preventDefault(),(t.shiftKey?as:is)(e,i,o,n,r).each((function(t){e.selection.setRng(t)}))}))}}},ds={create:W("selection","kill")},hs=function(t,e,n,r){return{start:o(_c.on(t,e)),finish:o(_c.on(n,r))}},ps={convertToRange:function(t,e){var n=Rc(t,e);return xc.create(xt.fromDom(n.startContainer),n.startOffset,xt.fromDom(n.endContainer),n.endOffset)},makeSitus:hs},ms=function(t,e,n,r,o){return ie(n,r)?h.none():ir(n,r,e).bind((function(e){var r=e.boxes().getOr([]);return r.length>0?(o(t,r,e.start(),e.finish()),h.some(ds.create(h.some(ps.makeSitus(n,0,n,hn(n))),!0))):h.none()}))},gs={sync:function(t,e,n,r,o,i,a){return ie(n,o)&&r===i?h.none():We(n,"td,th",e).bind((function(n){return We(o,"td,th",e).bind((function(r){return ms(t,e,n,r,a)}))}))},detect:ms,update:function(t,e,n,r,o){return ur(r,t,e,o.firstSelectedSelector(),o.lastSelectedSelector()).map((function(t){return o.clearBeforeUpdate(n),o.selectRange(n,t.boxes(),t.start(),t.finish()),t.boxes()}))}},vs=W("item","mode"),bs=function(t,e,n,r){return void 0===r&&(r=ys),t.property().parent(e).map((function(t){return vs(t,r)}))},ys=function(t,e,n,r){return void 0===r&&(r=ws),n.sibling(t,e).map((function(t){return vs(t,r)}))},ws=function(t,e,n,r){void 0===r&&(r=ws);var o=t.property().children(e);return n.first(o).map((function(t){return vs(t,r)}))},xs=[{current:bs,next:ys,fallback:h.none()},{current:ys,next:ws,fallback:h.some(bs)},{current:ws,next:ws,fallback:h.some(ys)}],Cs=function(t,e,n,r,o){return void 0===o&&(o=xs),N(o,(function(t){return t.current===n})).bind((function(n){return n.current(t,e,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Cs(t,e,n,r)}))}))}))},_s=function(){return{sibling:function(t,e){return t.query().prevSibling(e)},first:function(t){return t.length>0?h.some(t[t.length-1]):h.none()}}},Ss=function(){return{sibling:function(t,e){return t.query().nextSibling(e)},first:function(t){return t.length>0?h.some(t[0]):h.none()}}},ks=function(t,e,n,r,o,i){return Cs(t,e,r,o).bind((function(e){return i(e.item())?h.none():n(e.item())?h.some(e.item()):ks(t,e.item(),n,e.mode(),o,i)}))},Os=function(t){return function(e){return 0===t.property().children(e).length}},Ts=function(t,e,n,r){return ks(t,e,n,ys,_s(),r)},Es=function(t,e,n,r){return ks(t,e,n,ys,Ss(),r)},As=Un(),Ds=function(t,e){return function(t,e,n){return Ts(t,e,Os(t),n)}(As,t,e)},Ns=function(t,e){return function(t,e,n){return Es(t,e,Os(t),n)}(As,t,e)},Ms=W("element","offset"),Rs=(W("element","deltaOffset"),W("element","start","finish"),W("begin","end"),W("element","text"),hr([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])),Ps=function(t){return We(t,"tr")},Bs=Pt(Pt({},Rs),{verify:function(t,e,n,r,o,i,a){return We(r,"td,th",a).bind((function(n){return We(e,"td,th",a).map((function(e){return ie(n,e)?ie(r,n)&&hn(n)===o?i(e):Rs.none("in same cell"):tr(Ps,[n,e]).fold((function(){return function(t,e,n){var r=t.getRect(e),o=t.getRect(n);return o.right>r.left&&o.left<r.right}(t,e,n)?Rs.success():i(e)}),(function(t){return i(e)}))}))})).getOr(Rs.none("default"))},cata:function(t,e,n,r,o){return t.fold(e,n,r,o)}}),zs=(W("ancestor","descendants","element","index"),W("parent","children","element","index")),Is=function(t,e){return M(t,a(ie,e))},Ls=function(t){return"br"===nt(t)},Fs=function(t,e,n){return e(t,n).bind((function(t){return ut(t)&&0===ln(t).trim().length?Fs(t,e,n):h.some(t)}))},Hs=function(t,e,n,r){return function(t,e){return pe(t,e).filter(Ls).orThunk((function(){return pe(t,e-1).filter(Ls)}))}(e,n).bind((function(e){return r.traverse(e).fold((function(){return Fs(e,r.gather,t).map(r.relative)}),(function(t){return function(t){return se(t).bind((function(e){var n=he(e);return Is(n,t).map((function(r){return zs(e,n,t,r)}))}))}(t).map((function(t){return _c.on(t.parent(),t.index())}))}))}))},js=function(t,e,n,r){return(Ls(e)?function(t,e,n){return n.traverse(e).orThunk((function(){return Fs(e,n.gather,t)})).map(n.relative)}(t,e,r):Hs(t,e,n,r)).map((function(t){return{start:o(t),finish:o(t)}}))},Vs=function(t){return Bs.cata(t,(function(t){return h.none()}),(function(){return h.none()}),(function(t){return h.some(Ms(t,0))}),(function(t){return h.some(Ms(t,hn(t)))}))},$s=J(["left","top","right","bottom"],[]),Us={nu:$s,moveUp:function(t,e){return $s({left:t.left(),top:t.top()-e,right:t.right(),bottom:t.bottom()-e})},moveDown:function(t,e){return $s({left:t.left(),top:t.top()+e,right:t.right(),bottom:t.bottom()+e})},moveBottomTo:function(t,e){var n=t.bottom()-t.top();return $s({left:t.left(),top:e-n,right:t.right(),bottom:e})},moveTopTo:function(t,e){var n=t.bottom()-t.top();return $s({left:t.left(),top:e,right:t.right(),bottom:e+n})},getTop:function(t){return t.top()},getBottom:function(t){return t.bottom()},translate:function(t,e,n){return $s({left:t.left()+e,top:t.top()+n,right:t.right()+e,bottom:t.bottom()+n})},toString:function(t){return"("+t.left()+", "+t.top()+") -> ("+t.right()+", "+t.bottom()+")"}},Ws=function(t){return Us.nu({left:t.left,top:t.top,right:t.right,bottom:t.bottom})},qs=function(t,e){return h.some(t.getRect(e))},Xs=function(t,e,n){return at(e)?qs(t,e).map(Ws):ut(e)?function(t,e,n){return n>=0&&n<hn(e)?t.getRangedRect(e,n,e,n+1):n>0?t.getRangedRect(e,n-1,e,n):h.none()}(t,e,n).map(Ws):h.none()},Gs=function(t,e){return at(e)?qs(t,e).map(Ws):ut(e)?t.getRangedRect(e,0,e,hn(e)).map(Ws):h.none()},Ys=hr([{none:[]},{retry:["caret"]}]),Ks=function(t,e,n){return(r=e,i=pa,He((function(t,e){return e(t)}),je,r,i,a)).fold(o(!1),(function(e){return Gs(t,e).exists((function(t){return function(t,e){return t.left()<e.left()||Math.abs(e.right()-t.left())<1||t.left()>e.right()}(n,t)}))}));var r,i,a},Js={point:Us.getTop,adjuster:function(t,e,n,r,o){var i=Us.moveUp(o,5);return Math.abs(n.top()-r.top())<1||n.bottom()<o.top()?Ys.retry(i):n.bottom()===o.top()?Ys.retry(Us.moveUp(o,1)):Ks(t,e,o)?Ys.retry(Us.translate(i,5,0)):Ys.none()},move:Us.moveUp,gather:Ds},Zs={point:Us.getBottom,adjuster:function(t,e,n,r,o){var i=Us.moveDown(o,5);return Math.abs(n.bottom()-r.bottom())<1||n.top()>o.bottom()?Ys.retry(i):n.top()===o.bottom()?Ys.retry(Us.moveDown(o,1)):Ks(t,e,o)?Ys.retry(Us.translate(i,5,0)):Ys.none()},move:Us.moveDown,gather:Ns},Qs=function(t,e,n,r,o){return 0===o?h.some(r):function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===nt(t)})).isSome()}(t,r.left(),e.point(r))?function(t,e,n,r,o){return Qs(t,e,n,e.move(r,5),o)}(t,e,n,r,o-1):t.situsFromPoint(r.left(),e.point(r)).bind((function(i){return i.start().fold(h.none,(function(i){return Gs(t,i).bind((function(a){return e.adjuster(t,i,a,n,r).fold(h.none,(function(r){return Qs(t,e,n,r,o-1)}))})).orThunk((function(){return h.some(r)}))}),h.none)}))},tl=function(t,e,n){var r=t.move(n,5),o=Qs(e,t,n,r,100).getOr(r);return function(t,e,n){return t.point(e)>n.getInnerHeight()?h.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?h.some(-t.point(e)):h.none()}(t,o,e).fold((function(){return e.situsFromPoint(o.left(),t.point(o))}),(function(n){return e.scrollBy(0,n),e.situsFromPoint(o.left(),t.point(o)-n)}))},el={tryUp:a(tl,Js),tryDown:a(tl,Zs),ieTryUp:function(t,e){return t.situsFromPoint(e.left(),e.top()-5)},ieTryDown:function(t,e){return t.situsFromPoint(e.left(),e.bottom()+5)},getJumpSize:o(5)},nl=te(),rl=function(t,e,n,r,o,i){return 0===i?h.none():al(t,e,n,r,o).bind((function(a){var u=t.fromSitus(a),c=Bs.verify(t,n,r,u.finish(),u.foffset(),o.failure,e);return Bs.cata(c,(function(){return h.none()}),(function(){return h.some(a)}),(function(a){return ie(n,a)&&0===r?ol(t,n,r,Us.moveUp,o):rl(t,e,a,0,o,i-1)}),(function(a){return ie(n,a)&&r===hn(a)?ol(t,n,r,Us.moveDown,o):rl(t,e,a,hn(a),o,i-1)}))}))},ol=function(t,e,n,r,o){return Xs(t,e,n).bind((function(e){return il(t,o,r(e,el.getJumpSize()))}))},il=function(t,e,n){return nl.browser.isChrome()||nl.browser.isSafari()||nl.browser.isFirefox()||nl.browser.isEdge()?e.otherRetry(t,n):nl.browser.isIE()?e.ieRetry(t,n):h.none()},al=function(t,e,n,r,o){return Xs(t,n,r).bind((function(e){return il(t,o,e)}))},ul=function(t,e,n){return function(t,e,n){return t.getSelection().bind((function(r){return js(e,r.finish(),r.foffset(),n).fold((function(){return h.some(Ms(r.finish(),r.foffset()))}),(function(o){var i=t.fromSitus(o),a=Bs.verify(t,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,e);return Vs(a)}))}))}(t,e,n).bind((function(r){return rl(t,e,r.element(),r.offset(),n,20).map(t.fromSitus)}))},cl=te(),sl=function(t,e){return je(t,(function(t){return se(t).exists((function(t){return ie(t,e)}))}),n).isSome();var n},ll=function(t,e,n,r,i){return We(r,"td,th",e).bind((function(r){return We(r,"table",e).bind((function(a){return sl(i,a)?ul(t,e,n).bind((function(t){return We(t.finish(),"td,th",e).map((function(e){return{start:o(r),finish:o(e),range:o(t)}}))})):h.none()}))}))},fl=function(t,e,n,r,o,i){return cl.browser.isIE()?h.none():i(r,e).orThunk((function(){return ll(t,e,n,r,o).map((function(t){var e=t.range();return ds.create(h.some(ps.makeSitus(e.start(),e.soffset(),e.finish(),e.foffset())),!0)}))}))},dl=function(t,e,n,r,o,i,a){return ll(t,n,r,o,i).bind((function(t){return gs.detect(e,n,t.start(),t.finish(),a)}))},hl=function(t,e){return We(t,"tr",e).bind((function(t){return We(t,"table",e).bind((function(n){var r=Fe(n,"tr");return ie(t,r[0])?function(t,e,n){return Ts(As,t,e,n)}(n,(function(t){return vn(t).isSome()}),e).map((function(t){var e=hn(t);return ds.create(h.some(ps.makeSitus(t,e,t,e)),!0)})):h.none()}))}))},pl=function(t,e){return We(t,"tr",e).bind((function(t){return We(t,"table",e).bind((function(n){var r=Fe(n,"tr");return ie(t,r[r.length-1])?function(t,e,n){return Es(As,t,e,n)}(n,(function(t){return gn(t).isSome()}),e).map((function(t){return ds.create(h.some(ps.makeSitus(t,0,t,0)),!0)})):h.none()}))}))},ml=function(t,e){return We(t,"td,th",e)};var gl={down:{traverse:de,gather:Ns,relative:_c.before,otherRetry:el.tryDown,ieRetry:el.ieTryDown,failure:Bs.failedDown},up:{traverse:fe,gather:Ds,relative:_c.before,otherRetry:el.tryUp,ieRetry:el.ieTryUp,failure:Bs.failedUp}},vl=function(t){return function(e){return e===t}},bl=vl(38),yl=vl(40),wl={ltr:{isBackward:vl(37),isForward:vl(39)},rtl:{isBackward:vl(39),isForward:vl(37)},isUp:bl,isDown:yl,isNavigation:function(t){return t>=37&&t<=40}},xl=function(t){return{left:t.left(),top:t.top(),right:t.right(),bottom:t.bottom(),width:t.width(),height:t.height()}},Cl=(te().browser.isSafari(),function(e){return{elementFromPoint:function(t,n){return xt.fromPoint(xt.fromDom(e.document),t,n)},getRect:function(t){return t.dom().getBoundingClientRect()},getRangedRect:function(t,n,r,o){var i=kc.exact(t,n,r,o);return ns(e,i).map(xl)},getSelection:function(){return es(e).map((function(t){return ps.convertToRange(e,t)}))},fromSitus:function(t){var n=kc.relative(t.start(),t.finish());return ps.convertToRange(e,n)},situsFromPoint:function(t,n){return rs(e,t,n).map((function(t){return hs(t.start(),t.soffset(),t.finish(),t.foffset())}))},clearSelection:function(){!function(t){t.getSelection().removeAllRanges()}(e)},collapseSelection:function(t){void 0===t&&(t=!1),es(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var o=t?n:r;Jc(e,o,o)}),(function(n,r,o,i){var a=t?n:o,u=t?r:i;Kc(e,a,u,a,u)}))}))},setSelection:function(t){Kc(e,t.start(),t.soffset(),t.finish(),t.foffset())},setRelativeSelection:function(t,n){Jc(e,t,n)},selectContents:function(t){ts(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){var n,r,o,i;return(n=xt.fromDom(e.document),r=void 0!==n?n.dom():t.document,o=r.body.scrollLeft||r.documentElement.scrollLeft,i=r.body.scrollTop||r.documentElement.scrollTop,qr(o,i)).top()},scrollBy:function(n,r){!function(e,n,r){(void 0!==r?r.dom():t.document).defaultView.scrollBy(e,n)}(n,r,xt.fromDom(e.document))}}}),_l=W("rows","cols"),Sl=function(t,e,n,r){var o=function(t,e,n,r){var o=h.none(),i=function(){o=h.none()};return{mousedown:function(t){r.clear(e),o=ml(t.target(),n)},mouseover:function(i){o.each((function(o){r.clearBeforeUpdate(e),ml(i.target(),n).each((function(i){ir(o,i,n).each((function(n){var a=n.boxes().getOr([]);(a.length>1||1===a.length&&!ie(o,i))&&(r.selectRange(e,a,n.start(),n.finish()),t.selectContents(i))}))}))}))},mouseup:function(t){o.each(i)}}}(Cl(t),e,n,r);return{mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}},kl=function(t,e,n,r){var o=Cl(t),i=function(){return r.clear(e),h.none()};return{keydown:function(t,u,c,s,l,f){var d=t.raw(),p=d.which,m=!0===d.shiftKey;return ar(e,r.selectedSelector()).fold((function(){return wl.isDown(p)&&m?a(dl,o,e,n,gl.down,s,u,r.selectRange):wl.isUp(p)&&m?a(dl,o,e,n,gl.up,s,u,r.selectRange):wl.isDown(p)?a(fl,o,n,gl.down,s,u,pl):wl.isUp(p)?a(fl,o,n,gl.up,s,u,hl):h.none}),(function(t){var n=function(n){return function(){return I(n,(function(n){return gs.update(n.rows(),n.cols(),e,t,r)})).fold((function(){return cr(e,r.firstSelectedSelector(),r.lastSelectedSelector()).map((function(t){var n=wl.isDown(p)||f.isForward(p)?_c.after:_c.before;return o.setRelativeSelection(_c.on(t.first(),0),n(t.table())),r.clear(e),ds.create(h.none(),!0)}))}),(function(t){return h.some(ds.create(h.none(),!0))}))}};return wl.isDown(p)&&m?n([_l(1,0)]):wl.isUp(p)&&m?n([_l(-1,0)]):f.isBackward(p)&&m?n([_l(0,-1),_l(-1,0)]):f.isForward(p)&&m?n([_l(0,1),_l(1,0)]):wl.isNavigation(p)&&!1===m?i:h.none}))()},keyup:function(t,o,i,a,u){return ar(e,r.selectedSelector()).fold((function(){var c=t.raw(),s=c.which;return!1===(!0===c.shiftKey)?h.none():wl.isNavigation(s)?gs.sync(e,n,o,i,a,u,r.selectRange):h.none()}),h.none)}}},Ol=function(t,e,n,r){var o=Cl(t);return function(t,i){r.clearBeforeUpdate(e),ir(t,i,n).each((function(t){var n=t.boxes().getOr([]);r.selectRange(e,n,t.start(),t.finish()),o.selectContents(i),o.collapseSelection()}))}},Tl=function(t,e,n){var r=function(e){ht(e,t.selected()),ht(e,t.firstSelected()),ht(e,t.lastSelected())},o=function(e){st(e,t.selected(),"1")},i=function(t){a(t),n()},a=function(e){var n=Fe(e,t.selectedSelector());T(n,r)};return{clearBeforeUpdate:a,clear:i,selectRange:function(n,r,a,u){i(n),T(r,o),st(a,t.firstSelected(),"1"),st(u,t.lastSelected(),"1"),e(r,a,u)},selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},El=function(t,e,n){var r=tn(t),o=on.generate(r);return ni(o,e).map((function(t){var e=Yo(o,n,!1);return{upOrLeftCells:function(t,e,n){var r=t.slice(0,e[e.length-1].row()+1),o=Jo(r,n);return P(o,(function(t){var n=t.cells().slice(0,e[e.length-1].column()+1);return O(n,(function(t){return t.element()}))}))}(e,t,n),downOrRightCells:function(t,e,n){var r=t.slice(e[0].row()+e[0].rowspan()-1,t.length),o=Jo(r,n);return P(o,(function(t){var n=t.cells().slice(e[0].column()+e[0].colspan()-1,+t.cells().length);return O(n,(function(t){return t.element()}))}))}(e,t,n)}}))},Al=function(t){return!1===yo(xt.fromDom(t.target),"ephox-snooker-resizer-bar")};var Dl=function(t,e){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}});var n=function(e){return function(){return t.execCommand(e)}};t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:n("mceTableProps"),icon:"table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:n("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:n("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:n("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable}),t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:n("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable}),t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:n("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:n("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:n("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:n("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:n("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:n("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:n("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",onAction:n("mceTableCutRow"),icon:"temporary-placeholder",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",onAction:n("mceTableCopyRow"),icon:"temporary-placeholder",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",onAction:n("mceTablePasteRowBefore"),icon:"temporary-placeholder",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",onAction:n("mceTablePasteRowAfter"),icon:"temporary-placeholder",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:n("mceInsertTable"),icon:"table"})},Nl=function(t){var e=function(t){return t.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")}(t);e.length>0&&t.ui.registry.addContextToolbar("table",{predicate:function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)},items:e,scope:"node",position:"node"})},Ml=function(t,e){var n=function(e){return function(){return t.execCommand(e)}},r=function(e){var n=e.numRows,r=e.numColumns;t.undoManager.transact((function(){Ru(t,r,n)})),t.addVisual()},o={text:"Table properties",onSetup:e.onSetupTable,onAction:n("mceTableProps")},i={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:n("mceTableDelete")},a=[{type:"menuitem",text:"Insert row before",icon:"table-insert-row-above",onAction:n("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Insert row after",icon:"table-insert-row-after",onAction:n("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Delete row",icon:"table-delete-row",onAction:n("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Row properties",icon:"table-row-properties",onAction:n("mceTableRowProps"),onSetup:e.onSetupCellOrRow},{type:"separator"},{type:"menuitem",text:"Cut row",onAction:n("mceTableCutRow"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Copy row",onAction:n("mceTableCopyRow"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Paste row before",onAction:n("mceTablePasteRowBefore"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Paste row after",onAction:n("mceTablePasteRowAfter"),onSetup:e.onSetupCellOrRow}],u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return a}},c=[{type:"menuitem",text:"Insert column before",icon:"table-insert-column-before",onAction:n("mceTableInsertColBefore"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Insert column after",icon:"table-insert-column-after",onAction:n("mceTableInsertColAfter"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Delete column",icon:"table-delete-column",onAction:n("mceTableDeleteCol"),onSetup:e.onSetupCellOrRow}],s={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return c}},l=[{type:"menuitem",text:"Cell properties",icon:"table-cell-properties",onAction:n("mceTableCellProps"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Merge cells",icon:"table-merge-cells",onAction:n("mceTableMergeCells"),onSetup:e.onSetupMergeable},{type:"menuitem",text:"Split cell",icon:"table-split-cells",onAction:n("mceTableSplitCells"),onSetup:e.onSetupUnmergeable}],f={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return l}};!1===function(t){return t.getParam("table_grid",!0,"boolean")}(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}]}}),t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTable")}),t.ui.registry.addMenuItem("tableprops",o),t.ui.registry.addMenuItem("deletetable",i),t.ui.registry.addNestedMenuItem("row",u),t.ui.registry.addNestedMenuItem("column",s),t.ui.registry.addNestedMenuItem("cell",f),t.ui.registry.addContextMenu("table",{update:function(){return e.resetTargets(),e.targets().fold((function(){return""}),(function(t){return"caption"===nt(t.element())?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})},Rl=function(t,e,n,r){return{insertTable:function(e,n){return Ru(t,e,n)},setClipboardRows:function(t){return function(t,e){var n=O(t,xt.fromDom);e.set(h.from(n))}(t,e)},getClipboardRows:function(){return function(t){return t.get().fold((function(){}),(function(t){return O(t,(function(t){return t.dom()}))}))}(e)},resizeHandler:n,selectionTargets:r}};function Pl(t){var i=function(t){return{get:function(){var e=Ea(t);return sr(e,dr.selectedSelector()).fold((function(){return void 0===t.selection.getStart()?mr.none():mr.single(t.selection)}),(function(t){return mr.multiple(t)}))}}}(t),a=function(t,n){var r=e(h.none()),o=e([]),i=function(){return Hu(t).bind((function(t){return Ze(t).map((function(e){return"caption"===nt(t)?Cr.notCell(t):Cr.forMenu(n,e,t)}))}))},a=function(){r.set(yt(i)()),T(o.get(),(function(t){return t()}))},u=function(t,e){var n=function(){return r.get().fold((function(){t.setDisabled(!0)}),(function(n){t.setDisabled(e(n))}))};return n(),o.set(o.get().concat([n])),function(){o.set(E(o.get(),(function(t){return t!==n})))}};return t.on("NodeChange TableSelectorChange",a),{onSetupTable:function(t){return u(t,(function(t){return!1}))},onSetupCellOrRow:function(t){return u(t,(function(t){return"caption"===nt(t.element())}))},onSetupMergeable:function(t){return u(t,(function(t){return t.mergable().isNone()}))},onSetupUnmergeable:function(t){return u(t,(function(t){return t.unmergable().isNone()}))},resetTargets:a,targets:function(){return r.get()}}}(t,i),u=mc(t),c=function(t,i,a){var u=J(["mousedown","mouseover","mouseup","keyup","keydown"],[]),c=h.none(),s=Xa(t),l=Tl(dr,(function(e,r,o){a.targets().each((function(i){Ze(r).each((function(a){var u=xt.fromDom(t.getDoc()),c=Tn(n,u,s),l=El(a,i,c);!function(t,e,n,r,o){t.fire("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:o})}(t,e,r,o,l)}))}))}),(function(){!function(t){t.fire("TableSelectionClear")}(t)}));return t.on("init",(function(a){var s=t.getWin(),f=Ea(t),d=Na(t),p=Sl(s,f,d,l),m=kl(s,f,d,l),g=Ol(s,f,d,l);t.on("TableSelectorChange",(function(t){g(t.start,t.finish)}));var v,b,y=function(e,n){(function(t){return!0===t.raw().shiftKey})(e)&&(n.kill()&&e.kill(),n.selection().each((function(e){var n=kc.relative(e.start(),e.finish()),r=Rc(s,n);t.selection.setRng(r)})))},w=function(e){var n=_(e);if(n.raw().shiftKey&&wl.isNavigation(n.raw().which)){var r=t.selection.getRng(),o=xt.fromDom(r.startContainer),i=xt.fromDom(r.endContainer);m.keyup(n,o,r.startOffset,i,r.endOffset).each((function(t){y(n,t)}))}},x=function(e){var n=_(e);i().each((function(t){t.hideBars()}));var r=t.selection.getRng(),o=xt.fromDom(t.selection.getStart()),a=xt.fromDom(r.startContainer),u=xt.fromDom(r.endContainer),c=za(o).isRtl()?wl.rtl:wl.ltr;m.keydown(n,a,r.startOffset,u,r.endOffset,c).each((function(t){y(n,t)})),i().each((function(t){t.showBars()}))},C=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},_=function(t){var e=xt.fromDom(t.target),n=function(){t.stopPropagation()},i=function(){t.preventDefault()},a=r(i,n);return{target:o(e),x:o(C(t)?t.x:null),y:o(C(t)?t.y:null),stop:n,prevent:i,kill:a,raw:o(t)}},S=function(t){return 0===t.button},k=function(t){S(t)&&Al(t)&&p.mousedown(_(t))},O=function(t){var e;void 0!==(e=t).buttons&&0==(1&e.buttons)||!Al(t)||p.mouseover(_(t))},T=function(t){S(t)&&Al(t)&&p.mouseup(_(t))},E=(v=e(xt.fromDom(f)),b=e(0),{touchEnd:function(t){var e=xt.fromDom(t.target);if("td"===nt(e)||"th"===nt(e)){var n=v.get(),r=b.get();ie(n,e)&&t.timeStamp-r<300&&(t.preventDefault(),g(e,e))}v.set(e),b.set(t.timeStamp)}});t.on("mousedown",k),t.on("mouseover",O),t.on("mouseup",T),t.on("touchend",E.touchEnd),t.on("keyup",w),t.on("keydown",x),t.on("NodeChange",(function(){var e=t.selection,r=xt.fromDom(e.getStart()),o=xt.fromDom(e.getEnd());tr(Ze,[r,o]).fold((function(){l.clear(f)}),n)})),c=h.some(u({mousedown:k,mouseover:O,mouseup:T,keyup:w,keydown:x}))})),{clear:l.clear,destroy:function(){c.each((function(t){}))}}}(t,u.lazyResize,a),l=function(t,e){var r=function(t){return"table"===nt(Ea(t))},o=Xa(t),i=function(e,n,r,i){return function(a,u){Ra(a);var c=i(),s=xt.fromDom(t.getDoc()),l=co(za),f=Tn(r,s,o);return n(a)?e(c,a,u,f,l).bind((function(e){return T(e.newRows(),(function(e){Ga(t,e.dom())})),T(e.newCells(),(function(e){Ya(t,e.dom())})),e.cursor().map((function(e){var n=t.dom.createRng();return n.setStart(e.dom(),0),n.setEnd(e.dom(),0),n}))})):h.none()}};return{deleteRow:i(Ta.eraseRows,(function(e){var n=so(e);return!1===r(t)||n.rows()>1}),n,e),deleteColumn:i(Ta.eraseColumns,(function(e){var n=so(e);return!1===r(t)||n.columns()>1}),n,e),insertRowsBefore:i(Ta.insertRowsBefore,s,n,e),insertRowsAfter:i(Ta.insertRowsAfter,s,n,e),insertColumnsBefore:i(Ta.insertColumnsBefore,s,Ur,e),insertColumnsAfter:i(Ta.insertColumnsAfter,s,Ur,e),mergeCells:i(Ta.mergeCells,s,n,e),unmergeCells:i(Ta.unmergeCells,s,n,e),pasteRowsBefore:i(Ta.pasteRowsBefore,s,n,e),pasteRowsAfter:i(Ta.pasteRowsAfter,s,n,e),pasteCells:i(Ta.pasteCells,s,n,e)}}(t,u.lazyWire),f=e(h.none());return Vu(t,l,c,i,f),_r(t,i,l,c),Ml(t,a),Dl(t,a),Nl(t),t.on("PreInit",(function(){t.serializer.addTempAttr(dr.firstSelected()),t.serializer.addTempAttr(dr.lastSelected())})),function(t){return t.getParam("table_tab_navigation",!0,"boolean")}(t)&&t.on("keydown",(function(e){fs(e,t,l,u.lazyWire)})),t.on("remove",(function(){u.destroy(),c.destroy()})),Rl(t,f,u,a)}p.add("table",Pl)}(window)},function(t,e,n){n(100)},function(t,e){!function(){"use strict";var t=function(e){var n=e,r=function(){return n};return{get:r,set:function(t){n=t},clone:function(){return t(r())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t,e){t.addCommand("mceHelp",e)},r=function(t,e){t.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:e}),t.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:e})},o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=function(){},a=function(t){return function(){return t}};function u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var c,s,l,f,d,h=a(!1),p=a(!0),m=function(){return g},g=(c=function(t){return t.isNone()},f={fold:function(t,e){return t()},is:h,isSome:h,isNone:p,getOr:l=function(t){return t},getOrThunk:s=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:l,orThunk:s,map:m,each:i,bind:m,exists:h,forall:p,filter:m,equals:c,equals_:c,toArray:function(){return[]},toString:a("none()")},Object.freeze&&Object.freeze(f),f),v=function(t){var e=a(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:p,isNone:h,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return v(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:g},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(h,(function(e){return n(t,e)}))}};return o},b={some:v,none:m,from:function(t){return null==t?g:v(t)}},y=(d="function",function(t){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(t)===d}),w=Array.prototype.slice,x=Array.prototype.indexOf,C=function(t,e){return x.call(t,e)},_=function(t,e){return C(t,e)>-1},S=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},k=(y(Array.from)&&Array.from,Object.keys),O=Object.hasOwnProperty,T=function(t,e){return O.call(t,e)},E=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Header 1"},{shortcuts:["Access + 2"],action:"Header 2"},{shortcuts:["Access + 3"],action:"Header 3"},{shortcuts:["Access + 4"],action:"Header 4"},{shortcuts:["Access + 5"],action:"Header 5"},{shortcuts:["Access + 6"],action:"Header 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],A=tinymce.util.Tools.resolve("tinymce.Env"),D=function(t){var e=A.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},n=t.split("+"),r=S(n,(function(t){var n=t.toLowerCase().trim();return T(e,n)?e[n]:t}));return A.mac?r.join("").replace(/\s/,""):r.join("+")},N=function(){return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:S(E,(function(t){var e=S(t.shortcuts,D).join(" or ");return[t.action,e]}))}]}},M=function(t,e){return t.replace(/\$\{([^{}]*)\}/g,(function(t,n){var r,o=e[n];return"string"===(r=typeof o)||"number"===r?o.toString():t}))},R=tinymce.util.Tools.resolve("tinymce.util.I18n"),P=[{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"advcode",name:"Advanced Code Editor*"},{key:"formatpainter",name:"Format Painter*"},{key:"powerpaste",name:"PowerPaste*"},{key:"tinydrive",name:"Tiny Drive*"},{key:"tinymcespellchecker",name:"Spell Checker Pro*"},{key:"a11ychecker",name:"Accessibility Checker*"},{key:"linkchecker",name:"Link Checker*"},{key:"mentions",name:"Mentions*"},{key:"mediaembed",name:"Enhanced Media Embed*"},{key:"checklist",name:"Checklist*"},{key:"casechange",name:"Case Change*"},{key:"permanentpen",name:"Permanent Pen*"},{key:"pageembed",name:"Page Embed*"},{key:"tinycomments",name:"Tiny Comments*"},{key:"advtable",name:"Advanced Tables*"},{key:"autocorrect",name:"Autocorrect*"}],B=function(t){var e,n=u(M,'<a href="${url}" target="_blank" rel="noopener">${name}</a>'),r=function(t,e){return function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return b.some(o)}return b.none()}(P,(function(t){return t.key===e})).fold((function(){var r=t.plugins[e].getMetadata;return"function"==typeof r?n(r()):e}),(function(t){return n({name:t.name,url:"https://www.tiny.cloud/docs/plugins/"+t.key})}))},o=function(t){var e=function(t){var e,n=k(t.plugins);return void 0===t.settings.forced_plugins?n:function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n}(n,(e=u(_,t.settings.forced_plugins),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}))}(t),n=S(e,(function(e){return"<li>"+r(t,e)+"</li>"})),o=n.length,i=n.join("");return"<p><b>"+R.translate(["Plugins installed ({0}):",o])+"</b></p><ul>"+i+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[function(t){return null==t?"":'<div data-mce-tabstop="1" tabindex="-1">'+o(t)+"</div>"}(t),(e=S(["Accessibility Checker","Advanced Code Editor","Advanced Tables","Case Change","Checklist","Tiny Comments","Tiny Drive","Enhanced Media Embed","Format Painter","Link Checker","Mentions","MoxieManager","Page Embed","Permanent Pen","PowerPaste","Spell Checker Pro"],(function(t){return"<li>"+R.translate(t)+"</li>"})).join(""),'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+R.translate("Premium plugins:")+"</b></p><ul>"+e+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+R.translate("Learn more...")+"</a></li></ul></div>")].join("")}]}},z=tinymce.util.Tools.resolve("tinymce.EditorManager"),I=function(){var t,e,n='<a href="https://www.tinymce.com/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+(t=z.majorVersion,e=z.minorVersion,0===t.indexOf("@")?"X.X.X":t+"."+e)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+R.translate(["You are using {0}",n])+"</p>",presets:"document"}]}},L=function(){return{name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:"<h1>Editor UI keyboard navigation</h1>\n\n<h2>Activating keyboard navigation</h2>\n\n<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>\n<ul>\n  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>\n  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>\n  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>\n</ul>\n\n<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>\n\n<h2>Moving between UI sections</h2>\n\n<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>\n<ul>\n  <li>the menubar</li>\n  <li>each group of the toolbar </li>\n  <li>the sidebar</li>\n  <li>the element path in the footer </li>\n  <li>the wordcount toggle button in the footer </li>\n  <li>the branding link in the footer </li>\n</ul>\n\n<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>\n\n<h2>Moving within UI sections</h2>\n\n<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>\n<ul>\n  <li>moving between menus in the menubar</li>\n  <li>moving between buttons in a toolbar group</li>\n  <li>moving between items in the element path</li>\n</ul>\n\n<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>\n\n<h1>Executing buttons</h1>\n\n<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>\n\n<h1>Opening, navigating and closing menus</h1>\n\n<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>\n\n<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>\n\n<h1>Context toolbars and menus</h1>\n\n<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>\n\n<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>\n\n<h1>Dialog navigation</h1>\n\n<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>\n\n<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>\n\n<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tabs components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>"}]}},F=function(t){var e,n=k(t);return(-1===(e=C(n,"versions"))?b.none():b.some(e)).each((function(t){n.splice(t,1),n.push("versions")})),{tabs:t,names:n}},H=function(t,e){var n,r=N(),i=L(),a=B(t),u=I(),c=o(((n={})[r.name]=r,n[i.name]=i,n[a.name]=a,n[u.name]=u,n),e.get());return function(t){return b.from(t.getParam("help_tabs"))}(t).fold((function(){return F(c)}),(function(t){return function(t,e){var n={},r=S(t,(function(t){return"string"==typeof t?(T(e,t)&&(n[t]=e[t]),t):(n[t.name]=t,t.name)}));return{tabs:n,names:r}}(t,c)}))},j=function(t,e){return function(){var n=H(t,e),r=n.tabs,o=n.names,i={type:"tabpanel",tabs:function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e}(S(o,(function(t){return T(e=r,n=t)?b.from(e[n]):b.none();var e,n})))};t.windowManager.open({title:"Help",size:"medium",body:i,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};e.add("help",(function(e){var o=t({}),i=function(t){return{addTab:function(e){var n=t.get();n[e.name]=e,t.set(n)}}}(o),a=j(e,o);return r(e,a),n(e,a),e.shortcuts.add("Alt+0","Open help dialog","mceHelp"),i}))}()},function(t,e){!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(t){var e=t.settings.sticky_offset?t.settings.sticky_offset:0,n=t.settings.sticky_toolbar_container?t.settings.sticky_toolbar_container:".tox-toolbar",r=t.settings.sticky_menubar_container?t.settings.sticky_menubar_container:".tox-menubar",o=t.settings.sticky_statusbar_container?t.settings.sticky_statusbar_container:".tox-statusbar",i=t.settings.sticky_scrolling_container?t.settings.sticky_scrolling_container:null,a=document.querySelector(i);function u(){var i=t.getContainer(),u=i.querySelectorAll("".concat(n,", ").concat(r)),c=0;if(u.forEach((function(t){c+=t.offsetHeight})),!t.inline&&i&&i.offsetParent){var s="";if(!1!==t.settings.statusbar&&(s=i.querySelector(o)),function(){var n=t.getContainer().getBoundingClientRect().top;if(!a&&n<e)return!0;if(a){var r=a.getBoundingClientRect().top;if(n-r<0||r<(e||0))return!0}return!1}())if(i.style.paddingTop="".concat(c,"px"),function(){var i=t.getContainer(),a=i.getBoundingClientRect().top,u=i.querySelector(o),c=i.querySelectorAll("".concat(n,", ").concat(r)),s=u?u.offsetHeight:0,l=0;c.forEach((function(t){l+=t.offsetHeight}));var f=-(i.offsetHeight-l-s);if(a<f+e)return!0;return!1}()){var l=0;[].slice.call(u).reverse().forEach((function(t){t.style.top=null,t.style.width="100%",t.style.position="absolute",t.style.bottom=s?"".concat(s.offsetHeight+l,"px"):0,t.style.zIndex=1,l=t.offsetHeight}))}else{var f=0;u.forEach((function(t){if(t.style.bottom=null,a){var n=a.getBoundingClientRect().top,r=n>0?n:0;t.style.top="".concat(e&&n<=e?e+f:r+f,"px")}else t.style.top="".concat(e+f,"px");t.style.position="fixed",t.style.width="".concat(i.clientWidth,"px"),t.style.zIndex=1,f=t.offsetHeight}))}else i.style.paddingTop=0,u.forEach((function(t){t.style=null}))}}t.on("init",(function(){setTimeout((function(){u()}),0)})),window.addEventListener("resize",(function(){u()})),a&&a.addEventListener("scroll",(function(){u()})),window.addEventListener("scroll",(function(){u()}))};tinymce.PluginManager.add("stickytoolbar",r)}])},function(t,e,n){"use strict";var r=n(18);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,"\n.tinymce img[data-v-5b4f5b74] {\n    max-width: 100%;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var r=n(19);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,"\nbody {\n    padding-top: 0 !important;\n}\n.navbar-fixed-top {\n    position: static !important;\n}\n",""]),t.exports=e},function(t,e,n){var r={"./EditFile.js":107,"./MediaList.js":108,"./index.js":22};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=106},function(t,e,n){"use strict";n.r(e);var r=n(7),o={update:function(t,e){var n=t.commit,o=t.dispatch;r.a.update(e,(function(t){n("storeOriginal",t.original),n("endEditing"),o("MediaList/refresh",null,{root:!0})}),(function(t){return n("setError",t)}))},edit:function(t,e){var n=t.commit,r=e.file,o=e.hiddenFields;n("clearError"),n("editFile",r),n("setHiddenFields",o||[])},end:function(t){(0,t.commit)("endEditing")},setUpdatedFile:function(t,e){var n=t.commit;n("storeUpdated",e),n("endEditing")}};e.default={namespaced:!0,state:{file:{},originalFile:{},updatedFile:{},error:null,hideFields:[]},mutations:{editFile:function(t,e){t.file=e},setHiddenFields:function(t,e){t.hideFields=e},endEditing:function(t){t.file={}},storeOriginal:function(t,e){t.originalFile=e},storeUpdated:function(t,e){t.updatedFile=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:o}},function(t,e,n){"use strict";n.r(e);var r=n(7);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={setList:function(t,e){t.data=e},setParams:function(t,e){t.params=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.params,{},e)},setPage:function(t,e){t.params.page=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null},setLoading:function(t,e){t.loading=e}},u={get:function(t,e){var n=t.commit,r=t.dispatch;n("setParams",e),r("refresh")},refresh:function(t){var e=t.commit,n=t.state;n.params.type&&(e("setLoading",!0),r.a.index(n.params,(function(t){return e("setList",t)+e("setLoading",!1)}),(function(t){return e("setError",t)+e("setLoading",!1)})))},setPage:function(t,e){var n=t.commit,r=t.dispatch;n("setPage",e.current_page),r("refresh")}};e.default={namespaced:!0,state:{data:{data:{},folders:[],pagination:{}},loading:!1,params:{type:null,folderId:null,page:1,search:null,tags:[]},error:null},mutations:a,actions:u}},function(t,e,n){"use strict";(function(e,n){var r=Object.freeze({});function o(t){return null==t}function i(t){return null!=t}function a(t){return!0===t}function u(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function c(t){return null!==t&&"object"==typeof t}var s=Object.prototype.toString;function l(t){return"[object Object]"===s.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function h(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===s?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var g=m("slot,component",!0),v=m("key,ref,slot,slot-scope,is");function b(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function w(t,e){return y.call(t,e)}function x(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var C=/-(\w)/g,_=x((function(t){return t.replace(C,(function(t,e){return e?e.toUpperCase():""}))})),S=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),k=/\B([A-Z])/g,O=x((function(t){return t.replace(k,"-$1").toLowerCase()})),T=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function E(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function A(t,e){for(var n in e)t[n]=e[n];return t}function D(t){for(var e={},n=0;n<t.length;n++)t[n]&&A(e,t[n]);return e}function N(t,e,n){}var M=function(t,e,n){return!1},R=function(t){return t};function P(t,e){if(t===e)return!0;var n=c(t),r=c(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every((function(t,n){return P(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every((function(n){return P(t[n],e[n])}))}catch(t){return!1}}function B(t,e){for(var n=0;n<t.length;n++)if(P(t[n],e))return n;return-1}function z(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var I="data-server-rendered",L=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:N,parsePlatformTagName:R,mustUseProp:M,async:!0,_lifecycleHooks:F},j=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var $,U=new RegExp("[^"+j.source+".$_\\d]"),W="__proto__"in{},q="undefined"!=typeof window,X="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,G=X&&WXEnvironment.platform.toLowerCase(),Y=q&&window.navigator.userAgent.toLowerCase(),K=Y&&/msie|trident/.test(Y),J=Y&&Y.indexOf("msie 9.0")>0,Z=Y&&Y.indexOf("edge/")>0,Q=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===G),tt=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if(q)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,rt)}catch(r){}var ot=function(){return void 0===$&&($=!q&&!X&&void 0!==e&&e.process&&"server"===e.process.env.VUE_ENV),$},it=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"==typeof t&&/native code/.test(t.toString())}var ut,ct="undefined"!=typeof Symbol&&at(Symbol)&&"undefined"!=typeof Reflect&&at(Reflect.ownKeys);ut="undefined"!=typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var st=N,lt=0,ft=function(){this.id=lt++,this.subs=[]};ft.prototype.addSub=function(t){this.subs.push(t)},ft.prototype.removeSub=function(t){b(this.subs,t)},ft.prototype.depend=function(){ft.target&&ft.target.addDep(this)},ft.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},ft.target=null;var dt=[];function ht(t){dt.push(t),ft.target=t}function pt(){dt.pop(),ft.target=dt[dt.length-1]}var mt=function(t,e,n,r,o,i,a,u){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=u,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},gt={child:{configurable:!0}};gt.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,gt);var vt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function bt(t){return new mt(void 0,void 0,void 0,String(t))}function yt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,xt=Object.create(wt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=wt[t];V(xt,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o,i=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i}))}));var Ct=Object.getOwnPropertyNames(xt),_t=!0;function St(t){_t=t}var kt=function(t){var e;this.value=t,this.dep=new ft,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t)?(W?(e=xt,t.__proto__=e):function(t,e,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];V(t,i,e[i])}}(t,xt,Ct),this.observeArray(t)):this.walk(t)};function Ot(t,e){var n;if(c(t)&&!(t instanceof mt))return w(t,"__ob__")&&t.__ob__ instanceof kt?n=t.__ob__:_t&&!ot()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new kt(t)),e&&n&&n.vmCount++,n}function Tt(t,e,n,r,o){var i=new ft,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var u=a&&a.get,c=a&&a.set;u&&!c||2!==arguments.length||(n=t[e]);var s=!o&&Ot(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(t):n;return ft.target&&(i.depend(),s&&(s.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,r=0,o=e.length;r<o;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var r=u?u.call(t):n;e===r||e!=e&&r!=r||u&&!c||(c?c.call(t,e):n=e,s=!o&&Ot(e),i.notify())}})}}function Et(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Tt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function At(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}kt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Tt(t,e[n])},kt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ot(t[e])};var Dt=H.optionMergeStrategies;function Nt(t,e){if(!e)return t;for(var n,r,o,i=ct?Reflect.ownKeys(e):Object.keys(e),a=0;a<i.length;a++)"__ob__"!==(n=i[a])&&(r=t[n],o=e[n],w(t,n)?r!==o&&l(r)&&l(o)&&Nt(r,o):Et(t,n,o));return t}function Mt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,o="function"==typeof t?t.call(n,n):t;return r?Nt(r,o):o}:e?t?function(){return Nt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Rt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Pt(t,e,n,r){var o=Object.create(t||null);return e?A(o,e):o}Dt.data=function(t,e,n){return n?Mt(t,e,n):e&&"function"!=typeof e?t:Mt(t,e)},F.forEach((function(t){Dt[t]=Rt})),L.forEach((function(t){Dt[t+"s"]=Pt})),Dt.watch=function(t,e,n,r){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var i in A(o,t),e){var a=o[i],u=e[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(u):Array.isArray(u)?u:[u]}return o},Dt.props=Dt.methods=Dt.inject=Dt.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return A(o,t),e&&A(o,e),o},Dt.provide=Mt;var Bt=function(t,e){return void 0===e?t:e};function zt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,o,i={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(i[_(o)]={type:null});else if(l(n))for(var a in n)o=n[a],i[_(a)]=l(o)?o:{type:o};t.props=i}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(l(n))for(var i in n){var a=n[i];r[i]=l(a)?A({from:i},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=zt(t,e.extends,n)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)t=zt(t,e.mixins[r],n);var i,a={};for(i in t)u(i);for(i in e)w(t,i)||u(i);function u(r){var o=Dt[r]||Bt;a[r]=o(t[r],e[r],n,r)}return a}function It(t,e,n,r){if("string"==typeof n){var o=t[e];if(w(o,n))return o[n];var i=_(n);if(w(o,i))return o[i];var a=S(i);return w(o,a)?o[a]:o[n]||o[i]||o[a]}}function Lt(t,e,n,r){var o=e[t],i=!w(n,t),a=n[t],u=jt(Boolean,o.type);if(u>-1)if(i&&!w(o,"default"))a=!1;else if(""===a||a===O(t)){var c=jt(String,o.type);(c<0||u<c)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(w(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==Ft(e.type)?r.call(t):r}}(r,o,t);var s=_t;St(!0),Ot(a),St(s)}return a}function Ft(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ht(t,e){return Ft(t)===Ft(e)}function jt(t,e){if(!Array.isArray(e))return Ht(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Ht(e[n],t))return n;return-1}function Vt(t,e,n){ht();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,t,e,n))return}catch(t){Ut(t,r,"errorCaptured hook")}}Ut(t,e,n)}finally{pt()}}function $t(t,e,n,r,o){var i;try{(i=n?t.apply(e,n):t.call(e))&&!i._isVue&&d(i)&&!i._handled&&(i.catch((function(t){return Vt(t,r,o+" (Promise/async)")})),i._handled=!0)}catch(t){Vt(t,r,o)}return i}function Ut(t,e,n){if(H.errorHandler)try{return H.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Wt(e,null,"config.errorHandler")}Wt(t,e,n)}function Wt(t,e,n){if(!q&&!X||"undefined"==typeof console)throw t;console.error(t)}var qt,Xt=!1,Gt=[],Yt=!1;function Kt(){Yt=!1;var t=Gt.slice(0);Gt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&at(Promise)){var Jt=Promise.resolve();qt=function(){Jt.then(Kt),Q&&setTimeout(N)},Xt=!0}else if(K||"undefined"==typeof MutationObserver||!at(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())qt=void 0!==n&&at(n)?function(){n(Kt)}:function(){setTimeout(Kt,0)};else{var Zt=1,Qt=new MutationObserver(Kt),te=document.createTextNode(String(Zt));Qt.observe(te,{characterData:!0}),qt=function(){Zt=(Zt+1)%2,te.data=String(Zt)},Xt=!0}function ee(t,e){var n;if(Gt.push((function(){if(t)try{t.call(e)}catch(t){Vt(t,e,"nextTick")}else n&&n(e)})),Yt||(Yt=!0,qt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var ne=new ut;function re(t){!function t(e,n){var r,o,i=Array.isArray(e);if(!(!i&&!c(e)||Object.isFrozen(e)||e instanceof mt)){if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(i)for(r=e.length;r--;)t(e[r],n);else for(r=(o=Object.keys(e)).length;r--;)t(e[o[r]],n)}}(t,ne),ne.clear()}var oe=x((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function ie(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return $t(r,null,arguments,e,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)$t(o[i],null,t,e,"v-on handler")}return n.fns=t,n}function ae(t,e,n,r,i,u){var c,s,l,f;for(c in t)s=t[c],l=e[c],f=oe(c),o(s)||(o(l)?(o(s.fns)&&(s=t[c]=ie(s,u)),a(f.once)&&(s=t[c]=i(f.name,s,f.capture)),n(f.name,s,f.capture,f.passive,f.params)):s!==l&&(l.fns=s,t[c]=l));for(c in e)o(t[c])&&r((f=oe(c)).name,e[c],f.capture)}function ue(t,e,n){var r;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var u=t[e];function c(){n.apply(this,arguments),b(r.fns,c)}o(u)?r=ie([c]):i(u.fns)&&a(u.merged)?(r=u).fns.push(c):r=ie([u,c]),r.merged=!0,t[e]=r}function ce(t,e,n,r,o){if(i(e)){if(w(e,n))return t[n]=e[n],o||delete e[n],!0;if(w(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function se(t){return u(t)?[bt(t)]:Array.isArray(t)?function t(e,n){var r,c,s,l,f=[];for(r=0;r<e.length;r++)o(c=e[r])||"boolean"==typeof c||(l=f[s=f.length-1],Array.isArray(c)?c.length>0&&(le((c=t(c,(n||"")+"_"+r))[0])&&le(l)&&(f[s]=bt(l.text+c[0].text),c.shift()),f.push.apply(f,c)):u(c)?le(l)?f[s]=bt(l.text+c):""!==c&&f.push(bt(c)):le(c)&&le(l)?f[s]=bt(l.text+c.text):(a(e._isVList)&&i(c.tag)&&o(c.key)&&i(n)&&(c.key="__vlist"+n+"_"+r+"__"),f.push(c)));return f}(t):void 0}function le(t){return i(t)&&i(t.text)&&!1===t.isComment}function fe(t,e){if(t){for(var n=Object.create(null),r=ct?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var a=t[i].from,u=e;u;){if(u._provided&&w(u._provided,a)){n[i]=u._provided[a];break}u=u.$parent}if(!u&&"default"in t[i]){var c=t[i].default;n[i]="function"==typeof c?c.call(e):c}}}return n}}function de(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==e&&i.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var u=a.slot,c=n[u]||(n[u]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var s in n)n[s].every(he)&&delete n[s];return n}function he(t){return t.isComment&&!t.asyncFactory||" "===t.text}function pe(t,e,n){var o,i=Object.keys(e).length>0,a=t?!!t.$stable:!i,u=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==r&&u===n.$key&&!i&&!n.$hasNormal)return n;for(var c in o={},t)t[c]&&"$"!==c[0]&&(o[c]=me(e,c,t[c]))}else o={};for(var s in e)s in o||(o[s]=ge(e,s));return t&&Object.isExtensible(t)&&(t._normalized=o),V(o,"$stable",a),V(o,"$key",u),V(o,"$hasNormal",i),o}function me(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:se(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function ge(t,e){return function(){return t[e]}}function ve(t,e){var n,r,o,a,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(c(t))if(ct&&t[Symbol.iterator]){n=[];for(var s=t[Symbol.iterator](),l=s.next();!l.done;)n.push(e(l.value,n.length)),l=s.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)u=a[r],n[r]=e(t[u],u,r);return i(n)||(n=[]),n._isVList=!0,n}function be(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=A(A({},r),n)),o=i(n)||e):o=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function ye(t){return It(this.$options,"filters",t)||R}function we(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function xe(t,e,n,r,o){var i=H.keyCodes[e]||n;return o&&r&&!H.keyCodes[e]?we(o,r):i?we(i,t):r?O(r)!==e:void 0}function Ce(t,e,n,r,o){if(n&&c(n)){var i;Array.isArray(n)&&(n=D(n));var a=function(a){if("class"===a||"style"===a||v(a))i=t;else{var u=t.attrs&&t.attrs.type;i=r||H.mustUseProp(e,u,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=_(a),s=O(a);c in i||s in i||(i[a]=n[a],o&&((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}))};for(var u in n)a(u)}return t}function _e(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||ke(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Se(t,e,n){return ke(t,"__once__"+e+(n?"_"+n:""),!0),t}function ke(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Oe(t[r],e+"_"+r,n);else Oe(t,e,n)}function Oe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Te(t,e){if(e&&l(e)){var n=t.on=t.on?A({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}return t}function Ee(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var i=t[o];Array.isArray(i)?Ee(i,e,n):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function Ae(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function De(t,e){return"string"==typeof t?e+t:t}function Ne(t){t._o=Se,t._n=p,t._s=h,t._l=ve,t._t=be,t._q=P,t._i=B,t._m=_e,t._f=ye,t._k=xe,t._b=Ce,t._v=bt,t._e=vt,t._u=Ee,t._g=Te,t._d=Ae,t._p=De}function Me(t,e,n,o,i){var u,c=this,s=i.options;w(o,"_uid")?(u=Object.create(o))._original=o:(u=o,o=o._original);var l=a(s._compiled),f=!l;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||r,this.injections=fe(s.inject,o),this.slots=function(){return c.$slots||pe(t.scopedSlots,c.$slots=de(n,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pe(t.scopedSlots,this.slots())}}),l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=pe(t.scopedSlots,this.$slots)),s._scopeId?this._c=function(t,e,n,r){var i=Fe(u,t,e,n,r,f);return i&&!Array.isArray(i)&&(i.fnScopeId=s._scopeId,i.fnContext=o),i}:this._c=function(t,e,n,r){return Fe(u,t,e,n,r,f)}}function Re(t,e,n,r,o){var i=yt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function Pe(t,e){for(var n in e)t[_(n)]=e[n]}Ne(Me.prototype);var Be={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Be.prepatch(n,n)}else(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}(t,Ye)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,o,i){var a=o.data.scopedSlots,u=t.$scopedSlots,c=!!(a&&!a.$stable||u!==r&&!u.$stable||a&&t.$scopedSlots.$key!==a.$key),s=!!(i||t.$options._renderChildren||c);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i,t.$attrs=o.data.attrs||r,t.$listeners=n||r,e&&t.$options.props){St(!1);for(var l=t._props,f=t.$options._propKeys||[],d=0;d<f.length;d++){var h=f[d],p=t.$options.props;l[h]=Lt(h,p,e,t)}St(!0),t.$options.propsData=e}n=n||r;var m=t.$options._parentListeners;t.$options._parentListeners=n,Ge(t,n,m),s&&(t.$slots=de(i,o.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,Qe(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,en.push(e)):Ze(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,Je(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);Qe(e,"deactivated")}}(e,!0):e.$destroy())}},ze=Object.keys(Be);function Ie(t,e,n,u,s){if(!o(t)){var l=n.$options._base;if(c(t)&&(t=l.extend(t)),"function"==typeof t){var f;if(o(t.cid)&&void 0===(t=function(t,e){if(a(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=je;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var r=t.owners=[n],u=!0,s=null,l=null;n.$on("hook:destroyed",(function(){return b(r,n)}));var f=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==s&&(clearTimeout(s),s=null),null!==l&&(clearTimeout(l),l=null))},h=z((function(n){t.resolved=Ve(n,e),u?r.length=0:f(!0)})),p=z((function(e){i(t.errorComp)&&(t.error=!0,f(!0))})),m=t(h,p);return c(m)&&(d(m)?o(t.resolved)&&m.then(h,p):d(m.component)&&(m.component.then(h,p),i(m.error)&&(t.errorComp=Ve(m.error,e)),i(m.loading)&&(t.loadingComp=Ve(m.loading,e),0===m.delay?t.loading=!0:s=setTimeout((function(){s=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,f(!1))}),m.delay||200)),i(m.timeout)&&(l=setTimeout((function(){l=null,o(t.resolved)&&p(null)}),m.timeout)))),u=!1,t.loading?t.loadingComp:t.resolved}}(f=t,l)))return function(t,e,n,r,o){var i=vt();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}(f,e,n,u,s);e=e||{},xn(t),i(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],u=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(u):a!==u)&&(o[r]=[u].concat(a)):o[r]=u}(t.options,e);var h=function(t,e,n){var r=e.options.props;if(!o(r)){var a={},u=t.attrs,c=t.props;if(i(u)||i(c))for(var s in r){var l=O(s);ce(a,c,s,l,!0)||ce(a,u,s,l,!1)}return a}}(e,t);if(a(t.options.functional))return function(t,e,n,o,a){var u=t.options,c={},s=u.props;if(i(s))for(var l in s)c[l]=Lt(l,s,e||r);else i(n.attrs)&&Pe(c,n.attrs),i(n.props)&&Pe(c,n.props);var f=new Me(n,c,a,o,t),d=u.render.call(null,f._c,f);if(d instanceof mt)return Re(d,n,f.parent,u);if(Array.isArray(d)){for(var h=se(d)||[],p=new Array(h.length),m=0;m<h.length;m++)p[m]=Re(h[m],n,f.parent,u);return p}}(t,h,e,n,u);var p=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<ze.length;n++){var r=ze[n],o=e[r],i=Be[r];o===i||o&&o._merged||(e[r]=o?Le(i,o):i)}}(e);var g=t.options.name||s;return new mt("vue-component-"+t.cid+(g?"-"+g:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:p,tag:s,children:u},f)}}}function Le(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Fe(t,e,n,r,s,l){return(Array.isArray(n)||u(n))&&(s=r,r=n,n=void 0),a(l)&&(s=2),function(t,e,n,r,u){if(i(n)&&i(n.__ob__))return vt();if(i(n)&&i(n.is)&&(e=n.is),!e)return vt();var s,l,f;(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===u?r=se(r):1===u&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r)),"string"==typeof e)?(l=t.$vnode&&t.$vnode.ns||H.getTagNamespace(e),s=H.isReservedTag(e)?new mt(H.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(f=It(t.$options,"components",e))?new mt(e,n,r,void 0,void 0,t):Ie(f,n,t,r,e)):s=Ie(e,n,t,r);return Array.isArray(s)?s:i(s)?(i(l)&&function t(e,n,r){if(e.ns=n,"foreignObject"===e.tag&&(n=void 0,r=!0),i(e.children))for(var u=0,c=e.children.length;u<c;u++){var s=e.children[u];i(s.tag)&&(o(s.ns)||a(r)&&"svg"!==s.tag)&&t(s,n,r)}}(s,l),i(n)&&function(t){c(t.style)&&re(t.style),c(t.class)&&re(t.class)}(n),s):vt()}(t,e,n,r,s)}var He,je=null;function Ve(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function $e(t){return t.isComment&&t.asyncFactory}function Ue(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||$e(n)))return n}}function We(t,e){He.$on(t,e)}function qe(t,e){He.$off(t,e)}function Xe(t,e){var n=He;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function Ge(t,e,n){He=t,ae(e,n||{},We,qe,Xe,t),He=void 0}var Ye=null;function Ke(t){var e=Ye;return Ye=t,function(){Ye=e}}function Je(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ze(t,e){if(e){if(t._directInactive=!1,Je(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ze(t.$children[n]);Qe(t,"activated")}}function Qe(t,e){ht();var n=t.$options[e],r=e+" hook";if(n)for(var o=0,i=n.length;o<i;o++)$t(n[o],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),pt()}var tn=[],en=[],nn={},rn=!1,on=!1,an=0,un=0,cn=Date.now;if(q&&!K){var sn=window.performance;sn&&"function"==typeof sn.now&&cn()>document.createEvent("Event").timeStamp&&(cn=function(){return sn.now()})}function ln(){var t,e;for(un=cn(),on=!0,tn.sort((function(t,e){return t.id-e.id})),an=0;an<tn.length;an++)(t=tn[an]).before&&t.before(),e=t.id,nn[e]=null,t.run();var n=en.slice(),r=tn.slice();an=tn.length=en.length=0,nn={},rn=on=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ze(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Qe(r,"updated")}}(r),it&&H.devtools&&it.emit("flush")}var fn=0,dn=function(t,e,n,r,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++fn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ut,this.newDepIds=new ut,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!U.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};dn.prototype.get=function(){var t;ht(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Vt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&re(t),pt(),this.cleanupDeps()}return t},dn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},dn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},dn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==nn[e]){if(nn[e]=!0,on){for(var n=tn.length-1;n>an&&tn[n].id>t.id;)n--;tn.splice(n+1,0,t)}else tn.push(t);rn||(rn=!0,ee(ln))}}(this)},dn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Vt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},dn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},dn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},dn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var hn={enumerable:!0,configurable:!0,get:N,set:N};function pn(t,e,n){hn.get=function(){return this[e][n]},hn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,hn)}var mn={lazy:!0};function gn(t,e,n){var r=!ot();"function"==typeof n?(hn.get=r?vn(e):bn(n),hn.set=N):(hn.get=n.get?r&&!1!==n.cache?vn(e):bn(n.get):N,hn.set=n.set||N),Object.defineProperty(t,e,hn)}function vn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ft.target&&e.depend(),e.value}}function bn(t){return function(){return t.call(this,this)}}function yn(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var wn=0;function xn(t){var e=t.options;if(t.super){var n=xn(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}(t);r&&A(t.extendOptions,r),(e=t.options=zt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Cn(t){this._init(t)}function _n(t){return t&&(t.Ctor.options.name||t.tag)}function Sn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:(n=t,"[object RegExp]"===s.call(n)&&t.test(e));var n}function kn(t,e){var n=t.cache,r=t.keys,o=t._vnode;for(var i in n){var a=n[i];if(a){var u=_n(a.componentOptions);u&&!e(u)&&On(n,i,r,o)}}}function On(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,b(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=wn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=zt(xn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ge(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,o=n&&n.context;t.$slots=de(e._renderChildren,o),t.$scopedSlots=r,t._c=function(e,n,r,o){return Fe(t,e,n,r,o,!1)},t.$createElement=function(e,n,r,o){return Fe(t,e,n,r,o,!0)};var i=n&&n.data;Tt(t,"$attrs",i&&i.attrs||r,null,!0),Tt(t,"$listeners",e._parentListeners||r,null,!0)}(e),Qe(e,"beforeCreate"),function(t){var e=fe(t.$options.inject,t);e&&(St(!1),Object.keys(e).forEach((function(n){Tt(t,n,e[n])})),St(!0))}(e),function(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},o=t.$options._propKeys=[];t.$parent&&St(!1);var i=function(i){o.push(i);var a=Lt(i,e,n,t);Tt(r,i,a),i in t||pn(t,"_props",i)};for(var a in e)i(a);St(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?N:T(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){ht();try{return t.call(e,e)}catch(t){return Vt(t,e,"data()"),{}}finally{pt()}}(e,t):e||{})||(e={});for(var n,r=Object.keys(e),o=t.$options.props,i=(t.$options.methods,r.length);i--;){var a=r[i];o&&w(o,a)||(void 0,36!==(n=(a+"").charCodeAt(0))&&95!==n&&pn(t,"_data",a))}Ot(e,!0)}(t):Ot(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=ot();for(var o in e){var i=e[o],a="function"==typeof i?i:i.get;r||(n[o]=new dn(t,a||N,N,mn)),o in t||gn(t,o,i)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)yn(t,n,r[o]);else yn(t,n,r)}}(t,e.watch)}(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),Qe(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Cn),function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=Et,t.prototype.$delete=At,t.prototype.$watch=function(t,e,n){if(l(e))return yn(this,t,e,n);(n=n||{}).user=!0;var r=new dn(this,t,e,n);if(n.immediate)try{e.call(this,r.value)}catch(t){Vt(t,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(Cn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var i,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var u=a.length;u--;)if((i=a[u])===e||i.fn===e){a.splice(u,1);break}return n},t.prototype.$emit=function(t){var e=this._events[t];if(e){e=e.length>1?E(e):e;for(var n=E(arguments,1),r='event handler for "'+t+'"',o=0,i=e.length;o<i;o++)$t(e[o],this,n,this,r)}return this}}(Cn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=Ke(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Qe(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||b(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Qe(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Cn),function(t){Ne(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;o&&(e.$scopedSlots=pe(o.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=o;try{je=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Vt(n,e,"render"),t=e._vnode}finally{je=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=vt()),t.parent=o,t}}(Cn);var Tn=[String,RegExp,Array],En={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Tn,exclude:Tn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)On(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){kn(t,(function(t){return Sn(e,t)}))})),this.$watch("exclude",(function(e){kn(t,(function(t){return!Sn(e,t)}))}))},render:function(){var t=this.$slots.default,e=Ue(t),n=e&&e.componentOptions;if(n){var r=_n(n),o=this.include,i=this.exclude;if(o&&(!r||!Sn(o,r))||i&&r&&Sn(i,r))return e;var a=this.cache,u=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,b(u,c),u.push(c)):(a[c]=e,u.push(c),this.max&&u.length>parseInt(this.max)&&On(a,u[0],u,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return H}};Object.defineProperty(t,"config",e),t.util={warn:st,extend:A,mergeOptions:zt,defineReactive:Tt},t.set=Et,t.delete=At,t.nextTick=ee,t.observable=function(t){return Ot(t),t},t.options=Object.create(null),L.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,A(t.options.components,En),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=E(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=zt(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=t.name||n.options.name,a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=zt(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)pn(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)gn(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,L.forEach((function(t){a[t]=n[t]})),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=A({},a.options),o[r]=a,a}}(t),function(t){L.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(Cn),Object.defineProperty(Cn.prototype,"$isServer",{get:ot}),Object.defineProperty(Cn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Cn,"FunctionalRenderContext",{value:Me}),Cn.version="2.6.11";var An=m("style,class"),Dn=m("input,textarea,option,select,progress"),Nn=function(t,e,n){return"value"===n&&Dn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Mn=m("contenteditable,draggable,spellcheck"),Rn=m("events,caret,typing,plaintext-only"),Pn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Bn="http://www.w3.org/1999/xlink",zn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},In=function(t){return zn(t)?t.slice(6,t.length):""},Ln=function(t){return null==t||!1===t};function Fn(t,e){return{staticClass:Hn(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Hn(t,e){return t?e?t+" "+e:t:e||""}function jn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=jn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):c(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Vn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},$n=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Un=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Wn=function(t){return $n(t)||Un(t)};function qn(t){return Un(t)?"svg":"math"===t?"math":void 0}var Xn=Object.create(null),Gn=m("text,number,password,search,email,tel,url");function Yn(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}var Kn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Vn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Jn={create:function(t,e){Zn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Zn(t,!0),Zn(e))},destroy:function(t){Zn(t,!0)}};function Zn(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?b(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var Qn=new mt("",{},[]),tr=["create","activate","update","remove","destroy"];function er(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||Gn(r)&&Gn(o)}(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&o(e.asyncFactory.error))}function nr(t,e,n){var r,o,a={};for(r=e;r<=n;++r)i(o=t[r].key)&&(a[o]=r);return a}var rr={create:or,update:or,destroy:function(t){or(t,Qn)}};function or(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,o,i=t===Qn,a=e===Qn,u=ar(t.data.directives,t.context),c=ar(e.data.directives,e.context),s=[],l=[];for(n in c)r=u[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,cr(o,"update",e,t),o.def&&o.def.componentUpdated&&l.push(o)):(cr(o,"bind",e,t),o.def&&o.def.inserted&&s.push(o));if(s.length){var f=function(){for(var n=0;n<s.length;n++)cr(s[n],"inserted",e,t)};i?ue(e,"insert",f):f()}if(l.length&&ue(e,"postpatch",(function(){for(var n=0;n<l.length;n++)cr(l[n],"componentUpdated",e,t)})),!i)for(n in u)c[n]||cr(u[n],"unbind",t,t,a)}(t,e)}var ir=Object.create(null);function ar(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=ir),o[ur(r)]=r,r.def=It(e.$options,"directives",r.name);return o}function ur(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function cr(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(r){Vt(r,n.context,"directive "+t.name+" "+e+" hook")}}var sr=[Jn,rr];function lr(t,e){var n=e.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||o(t.data.attrs)&&o(e.data.attrs))){var r,a,u=e.elm,c=t.data.attrs||{},s=e.data.attrs||{};for(r in i(s.__ob__)&&(s=e.data.attrs=A({},s)),s)a=s[r],c[r]!==a&&fr(u,r,a);for(r in(K||Z)&&s.value!==c.value&&fr(u,"value",s.value),c)o(s[r])&&(zn(r)?u.removeAttributeNS(Bn,In(r)):Mn(r)||u.removeAttribute(r))}}function fr(t,e,n){t.tagName.indexOf("-")>-1?dr(t,e,n):Pn(e)?Ln(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Mn(e)?t.setAttribute(e,function(t,e){return Ln(e)||"false"===e?"false":"contenteditable"===t&&Rn(e)?e:"true"}(e,n)):zn(e)?Ln(n)?t.removeAttributeNS(Bn,In(e)):t.setAttributeNS(Bn,e,n):dr(t,e,n)}function dr(t,e,n){if(Ln(n))t.removeAttribute(e);else{if(K&&!J&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var hr={create:lr,update:lr};function pr(t,e){var n=e.elm,r=e.data,a=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(a)||o(a.staticClass)&&o(a.class)))){var u=function(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Fn(r.data,e));for(;i(n=n.parent);)n&&n.data&&(e=Fn(e,n.data));return function(t,e){return i(t)||i(e)?Hn(t,jn(e)):""}(e.staticClass,e.class)}(e),c=n._transitionClasses;i(c)&&(u=Hn(u,jn(c))),u!==n._prevClass&&(n.setAttribute("class",u),n._prevClass=u)}}var mr,gr,vr,br,yr,wr,xr={create:pr,update:pr},Cr=/[\w).+\-_$\]]/;function _r(t){var e,n,r,o,i,a=!1,u=!1,c=!1,s=!1,l=0,f=0,d=0,h=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(u)34===e&&92!==n&&(u=!1);else if(c)96===e&&92!==n&&(c=!1);else if(s)47===e&&92!==n&&(s=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||f||d){switch(e){case 34:u=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:d++;break;case 41:d--;break;case 91:f++;break;case 93:f--;break;case 123:l++;break;case 125:l--}if(47===e){for(var p=r-1,m=void 0;p>=0&&" "===(m=t.charAt(p));p--);m&&Cr.test(m)||(s=!0)}}else void 0===o?(h=r+1,o=t.slice(0,r).trim()):g();function g(){(i||(i=[])).push(t.slice(h,r).trim()),h=r+1}if(void 0===o?o=t.slice(0,r).trim():0!==h&&g(),i)for(r=0;r<i.length;r++)o=Sr(o,i[r]);return o}function Sr(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),o=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==o?","+o:o)}function kr(t,e){console.error("[Vue compiler]: "+t)}function Or(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function Tr(t,e,n,r,o){(t.props||(t.props=[])).push(zr({name:e,value:n,dynamic:o},r)),t.plain=!1}function Er(t,e,n,r,o){(o?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(zr({name:e,value:n,dynamic:o},r)),t.plain=!1}function Ar(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(zr({name:e,value:n},r))}function Dr(t,e,n,r,o,i,a,u){(t.directives||(t.directives=[])).push(zr({name:e,rawName:n,value:r,arg:o,isDynamicArg:i,modifiers:a},u)),t.plain=!1}function Nr(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Mr(t,e,n,o,i,a,u,c){var s;(o=o||r).right?c?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete o.right):o.middle&&(c?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),o.capture&&(delete o.capture,e=Nr("!",e,c)),o.once&&(delete o.once,e=Nr("~",e,c)),o.passive&&(delete o.passive,e=Nr("&",e,c)),o.native?(delete o.native,s=t.nativeEvents||(t.nativeEvents={})):s=t.events||(t.events={});var l=zr({value:n.trim(),dynamic:c},u);o!==r&&(l.modifiers=o);var f=s[e];Array.isArray(f)?i?f.unshift(l):f.push(l):s[e]=f?i?[l,f]:[f,l]:l,t.plain=!1}function Rr(t,e,n){var r=Pr(t,":"+e)||Pr(t,"v-bind:"+e);if(null!=r)return _r(r);if(!1!==n){var o=Pr(t,e);if(null!=o)return JSON.stringify(o)}}function Pr(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var o=t.attrsList,i=0,a=o.length;i<a;i++)if(o[i].name===e){o.splice(i,1);break}return n&&delete t.attrsMap[e],r}function Br(t,e){for(var n=t.attrsList,r=0,o=n.length;r<o;r++){var i=n[r];if(e.test(i.name))return n.splice(r,1),i}}function zr(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Ir(t,e,n){var r=n||{},o=r.number,i="$$v";r.trim&&(i="(typeof $$v === 'string'? $$v.trim(): $$v)"),o&&(i="_n("+i+")");var a=Lr(e,i);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+a+"}"}}function Lr(t,e){var n=function(t){if(t=t.trim(),mr=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<mr-1)return(br=t.lastIndexOf("."))>-1?{exp:t.slice(0,br),key:'"'+t.slice(br+1)+'"'}:{exp:t,key:null};for(gr=t,br=yr=wr=0;!Hr();)jr(vr=Fr())?$r(vr):91===vr&&Vr(vr);return{exp:t.slice(0,yr),key:t.slice(yr+1,wr)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Fr(){return gr.charCodeAt(++br)}function Hr(){return br>=mr}function jr(t){return 34===t||39===t}function Vr(t){var e=1;for(yr=br;!Hr();)if(jr(t=Fr()))$r(t);else if(91===t&&e++,93===t&&e--,0===e){wr=br;break}}function $r(t){for(var e=t;!Hr()&&(t=Fr())!==e;);}var Ur,Wr="__r";function qr(t,e,n){var r=Ur;return function o(){null!==e.apply(null,arguments)&&Yr(t,o,n,r)}}var Xr=Xt&&!(tt&&Number(tt[1])<=53);function Gr(t,e,n,r){if(Xr){var o=un,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}Ur.addEventListener(t,e,nt?{capture:n,passive:r}:n)}function Yr(t,e,n,r){(r||Ur).removeEventListener(t,e._wrapper||e,n)}function Kr(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Ur=e.elm,function(t){if(i(t.__r)){var e=K?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}i(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),ae(n,r,Gr,Yr,qr,e.context),Ur=void 0}}var Jr,Zr={create:Kr,update:Kr};function Qr(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,r,a=e.elm,u=t.data.domProps||{},c=e.data.domProps||{};for(n in i(c.__ob__)&&(c=e.data.domProps=A({},c)),u)n in c||(a[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===u[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=r;var s=o(r)?"":String(r);to(a,s)&&(a.value=s)}else if("innerHTML"===n&&Un(a.tagName)&&o(a.innerHTML)){(Jr=Jr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var l=Jr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(r!==u[n])try{a[n]=r}catch(t){}}}}function to(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return p(n)!==p(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var eo={create:Qr,update:Qr},no=x((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function ro(t){var e=oo(t.style);return t.staticStyle?A(t.staticStyle,e):e}function oo(t){return Array.isArray(t)?D(t):"string"==typeof t?no(t):t}var io,ao=/^--/,uo=/\s*!important$/,co=function(t,e,n){if(ao.test(e))t.style.setProperty(e,n);else if(uo.test(n))t.style.setProperty(O(e),n.replace(uo,""),"important");else{var r=lo(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},so=["Webkit","Moz","ms"],lo=x((function(t){if(io=io||document.createElement("div").style,"filter"!==(t=_(t))&&t in io)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<so.length;n++){var r=so[n]+e;if(r in io)return r}}));function fo(t,e){var n=e.data,r=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var a,u,c=e.elm,s=r.staticStyle,l=r.normalizedStyle||r.style||{},f=s||l,d=oo(e.data.style)||{};e.data.normalizedStyle=i(d.__ob__)?A({},d):d;var h=function(t,e){for(var n,r={},o=t;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=ro(o.data))&&A(r,n);(n=ro(t.data))&&A(r,n);for(var i=t;i=i.parent;)i.data&&(n=ro(i.data))&&A(r,n);return r}(e);for(u in f)o(h[u])&&co(c,u,"");for(u in h)(a=h[u])!==f[u]&&co(c,u,null==a?"":a)}}var ho={create:fo,update:fo},po=/\s+/;function mo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(po).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function go(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(po).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function vo(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&A(e,bo(t.name||"v")),A(e,t),e}return"string"==typeof t?bo(t):void 0}}var bo=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),yo=q&&!J,wo="transition",xo="animation",Co="transition",_o="transitionend",So="animation",ko="animationend";yo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Co="WebkitTransition",_o="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(So="WebkitAnimation",ko="webkitAnimationEnd"));var Oo=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function To(t){Oo((function(){Oo(t)}))}function Eo(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),mo(t,e))}function Ao(t,e){t._transitionClasses&&b(t._transitionClasses,e),go(t,e)}function Do(t,e,n){var r=Mo(t,e),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var u=o===wo?_o:ko,c=0,s=function(){t.removeEventListener(u,l),n()},l=function(e){e.target===t&&++c>=a&&s()};setTimeout((function(){c<a&&s()}),i+1),t.addEventListener(u,l)}var No=/\b(transform|all)(,|$)/;function Mo(t,e){var n,r=window.getComputedStyle(t),o=(r[Co+"Delay"]||"").split(", "),i=(r[Co+"Duration"]||"").split(", "),a=Ro(o,i),u=(r[So+"Delay"]||"").split(", "),c=(r[So+"Duration"]||"").split(", "),s=Ro(u,c),l=0,f=0;return e===wo?a>0&&(n=wo,l=a,f=i.length):e===xo?s>0&&(n=xo,l=s,f=c.length):f=(n=(l=Math.max(a,s))>0?a>s?wo:xo:null)?n===wo?i.length:c.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===wo&&No.test(r[Co+"Property"])}}function Ro(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Po(e)+Po(t[n])})))}function Po(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Bo(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=vo(t.data.transition);if(!o(r)&&!i(n._enterCb)&&1===n.nodeType){for(var a=r.css,u=r.type,s=r.enterClass,l=r.enterToClass,f=r.enterActiveClass,d=r.appearClass,h=r.appearToClass,m=r.appearActiveClass,g=r.beforeEnter,v=r.enter,b=r.afterEnter,y=r.enterCancelled,w=r.beforeAppear,x=r.appear,C=r.afterAppear,_=r.appearCancelled,S=r.duration,k=Ye,O=Ye.$vnode;O&&O.parent;)k=O.context,O=O.parent;var T=!k._isMounted||!t.isRootInsert;if(!T||x||""===x){var E=T&&d?d:s,A=T&&m?m:f,D=T&&h?h:l,N=T&&w||g,M=T&&"function"==typeof x?x:v,R=T&&C||b,P=T&&_||y,B=p(c(S)?S.enter:S),I=!1!==a&&!J,L=Lo(M),F=n._enterCb=z((function(){I&&(Ao(n,D),Ao(n,A)),F.cancelled?(I&&Ao(n,E),P&&P(n)):R&&R(n),n._enterCb=null}));t.data.show||ue(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),M&&M(n,F)})),N&&N(n),I&&(Eo(n,E),Eo(n,A),To((function(){Ao(n,E),F.cancelled||(Eo(n,D),L||(Io(B)?setTimeout(F,B):Do(n,u,F)))}))),t.data.show&&(e&&e(),M&&M(n,F)),I||L||F()}}}function zo(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=vo(t.data.transition);if(o(r)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var a=r.css,u=r.type,s=r.leaveClass,l=r.leaveToClass,f=r.leaveActiveClass,d=r.beforeLeave,h=r.leave,m=r.afterLeave,g=r.leaveCancelled,v=r.delayLeave,b=r.duration,y=!1!==a&&!J,w=Lo(h),x=p(c(b)?b.leave:b),C=n._leaveCb=z((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(Ao(n,l),Ao(n,f)),C.cancelled?(y&&Ao(n,s),g&&g(n)):(e(),m&&m(n)),n._leaveCb=null}));v?v(_):_()}function _(){C.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),y&&(Eo(n,s),Eo(n,f),To((function(){Ao(n,s),C.cancelled||(Eo(n,l),w||(Io(x)?setTimeout(C,x):Do(n,u,C)))}))),h&&h(n,C),y||w||C())}}function Io(t){return"number"==typeof t&&!isNaN(t)}function Lo(t){if(o(t))return!1;var e=t.fns;return i(e)?Lo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Fo(t,e){!0!==e.data.show&&Bo(e)}var Ho=function(t){var e,n,r={},c=t.modules,s=t.nodeOps;for(e=0;e<tr.length;++e)for(r[tr[e]]=[],n=0;n<c.length;++n)i(c[n][tr[e]])&&r[tr[e]].push(c[n][tr[e]]);function l(t){var e=s.parentNode(t);i(e)&&s.removeChild(e,t)}function f(t,e,n,o,u,c,l){if(i(t.elm)&&i(c)&&(t=c[l]=yt(t)),t.isRootInsert=!u,!function(t,e,n,o){var u=t.data;if(i(u)){var c=i(t.componentInstance)&&u.keepAlive;if(i(u=u.hook)&&i(u=u.init)&&u(t,!1),i(t.componentInstance))return d(t,e),h(n,t.elm,o),a(c)&&function(t,e,n,o){for(var a,u=t;u.componentInstance;)if(i(a=(u=u.componentInstance._vnode).data)&&i(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](Qn,u);e.push(u);break}h(n,t.elm,o)}(t,e,n,o),!0}}(t,e,n,o)){var f=t.data,m=t.children,g=t.tag;i(g)?(t.elm=t.ns?s.createElementNS(t.ns,g):s.createElement(g,t),b(t),p(t,m,e),i(f)&&v(t,e),h(n,t.elm,o)):a(t.isComment)?(t.elm=s.createComment(t.text),h(n,t.elm,o)):(t.elm=s.createTextNode(t.text),h(n,t.elm,o))}}function d(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,e),b(t)):(Zn(t),e.push(t))}function h(t,e,n){i(t)&&(i(n)?s.parentNode(n)===t&&s.insertBefore(t,e,n):s.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)f(e[r],n,t.elm,null,!0,e,r);else u(t.text)&&s.appendChild(t.elm,s.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function v(t,n){for(var o=0;o<r.create.length;++o)r.create[o](Qn,t);i(e=t.data.hook)&&(i(e.create)&&e.create(Qn,t),i(e.insert)&&n.push(t))}function b(t){var e;if(i(e=t.fnScopeId))s.setStyleScope(t.elm,e);else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&s.setStyleScope(t.elm,e),n=n.parent;i(e=Ye)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&s.setStyleScope(t.elm,e)}function y(t,e,n,r,o,i){for(;r<=o;++r)f(n[r],i,t,e,!1,n,r)}function w(t){var e,n,o=t.data;if(i(o))for(i(e=o.hook)&&i(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)w(t.children[n])}function x(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(C(r),w(r)):l(r.elm))}}function C(t,e){if(i(e)||i(t.data)){var n,o=r.remove.length+1;for(i(e)?e.listeners+=o:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,o),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&C(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else l(t.elm)}function _(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&er(t,a))return o}}function S(t,e,n,u,c,l){if(t!==e){i(e.elm)&&i(u)&&(e=u[c]=yt(e));var d=e.elm=t.elm;if(a(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?T(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,p=e.data;i(p)&&i(h=p.hook)&&i(h=h.prepatch)&&h(t,e);var m=t.children,v=e.children;if(i(p)&&g(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);i(h=p.hook)&&i(h=h.update)&&h(t,e)}o(e.text)?i(m)&&i(v)?m!==v&&function(t,e,n,r,a){for(var u,c,l,d=0,h=0,p=e.length-1,m=e[0],g=e[p],v=n.length-1,b=n[0],w=n[v],C=!a;d<=p&&h<=v;)o(m)?m=e[++d]:o(g)?g=e[--p]:er(m,b)?(S(m,b,r,n,h),m=e[++d],b=n[++h]):er(g,w)?(S(g,w,r,n,v),g=e[--p],w=n[--v]):er(m,w)?(S(m,w,r,n,v),C&&s.insertBefore(t,m.elm,s.nextSibling(g.elm)),m=e[++d],w=n[--v]):er(g,b)?(S(g,b,r,n,h),C&&s.insertBefore(t,g.elm,m.elm),g=e[--p],b=n[++h]):(o(u)&&(u=nr(e,d,p)),o(c=i(b.key)?u[b.key]:_(b,e,d,p))?f(b,r,t,m.elm,!1,n,h):er(l=e[c],b)?(S(l,b,r,n,h),e[c]=void 0,C&&s.insertBefore(t,l.elm,m.elm)):f(b,r,t,m.elm,!1,n,h),b=n[++h]);d>p?y(t,o(n[v+1])?null:n[v+1].elm,n,h,v,r):h>v&&x(e,d,p)}(d,m,v,n,l):i(v)?(i(t.text)&&s.setTextContent(d,""),y(d,null,v,0,v.length-1,n)):i(m)?x(m,0,m.length-1):i(t.text)&&s.setTextContent(d,""):t.text!==e.text&&s.setTextContent(d,e.text),i(p)&&i(h=p.hook)&&i(h=h.postpatch)&&h(t,e)}}}function k(t,e,n){if(a(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=m("attrs,class,staticClass,staticStyle,key");function T(t,e,n,r){var o,u=e.tag,c=e.data,s=e.children;if(r=r||c&&c.pre,e.elm=t,a(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(o=c.hook)&&i(o=o.init)&&o(e,!0),i(o=e.componentInstance)))return d(e,n),!0;if(i(u)){if(i(s))if(t.hasChildNodes())if(i(o=c)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,h=0;h<s.length;h++){if(!f||!T(f,s[h],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else p(e,s,n);if(i(c)){var m=!1;for(var g in c)if(!O(g)){m=!0,v(e,n);break}!m&&c.class&&re(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,u){if(!o(e)){var c,l=!1,d=[];if(o(t))l=!0,f(e,d);else{var h=i(t.nodeType);if(!h&&er(t,e))S(t,e,d,null,null,u);else{if(h){if(1===t.nodeType&&t.hasAttribute(I)&&(t.removeAttribute(I),n=!0),a(n)&&T(t,e,d))return k(e,d,!0),t;c=t,t=new mt(s.tagName(c).toLowerCase(),{},[],void 0,c)}var p=t.elm,m=s.parentNode(p);if(f(e,d,p._leaveCb?null:m,s.nextSibling(p)),i(e.parent))for(var v=e.parent,b=g(e);v;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](v);if(v.elm=e.elm,b){for(var C=0;C<r.create.length;++C)r.create[C](Qn,v);var _=v.data.hook.insert;if(_.merged)for(var O=1;O<_.fns.length;O++)_.fns[O]()}else Zn(v);v=v.parent}i(m)?x([t],0,0):i(t.tag)&&w(t)}}return k(e,d,l),e.elm}i(t)&&w(t)}}({nodeOps:Kn,modules:[hr,xr,Zr,eo,ho,q?{create:Fo,activate:Fo,remove:function(t,e){!0!==t.data.show?zo(t,e):e()}}:{}].concat(sr)});J&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Go(t,"input")}));var jo={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ue(n,"postpatch",(function(){jo.componentUpdated(t,e,n)})):Vo(t,e,n.context),t._vOptions=[].map.call(t.options,Wo)):("textarea"===n.tag||Gn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",qo),t.addEventListener("compositionend",Xo),t.addEventListener("change",Xo),J&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Vo(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,Wo);o.some((function(t,e){return!P(t,r[e])}))&&(t.multiple?e.value.some((function(t){return Uo(t,o)})):e.value!==e.oldValue&&Uo(e.value,o))&&Go(t,"change")}}};function Vo(t,e,n){$o(t,e,n),(K||Z)&&setTimeout((function(){$o(t,e,n)}),0)}function $o(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,a,u=0,c=t.options.length;u<c;u++)if(a=t.options[u],o)i=B(r,Wo(a))>-1,a.selected!==i&&(a.selected=i);else if(P(Wo(a),r))return void(t.selectedIndex!==u&&(t.selectedIndex=u));o||(t.selectedIndex=-1)}}function Uo(t,e){return e.every((function(e){return!P(e,t)}))}function Wo(t){return"_value"in t?t._value:t.value}function qo(t){t.target.composing=!0}function Xo(t){t.target.composing&&(t.target.composing=!1,Go(t.target,"input"))}function Go(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Yo(t){return!t.componentInstance||t.data&&t.data.transition?t:Yo(t.componentInstance._vnode)}var Ko={model:jo,show:{bind:function(t,e,n){var r=e.value,o=(n=Yo(n)).data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,Bo(n,(function(){t.style.display=i}))):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Yo(n)).data&&n.data.transition?(n.data.show=!0,r?Bo(n,(function(){t.style.display=t.__vOriginalDisplay})):zo(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}}},Jo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Zo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Zo(Ue(e.children)):t}function Qo(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var i in o)e[_(i)]=o[i];return e}function ti(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var ei=function(t){return t.tag||$e(t)},ni=function(t){return"show"===t.name},ri={name:"transition",props:Jo,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ei)).length){var r=this.mode,o=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return o;var i=Zo(o);if(!i)return o;if(this._leaving)return ti(t,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:u(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var c=(i.data||(i.data={})).transition=Qo(this),s=this._vnode,l=Zo(s);if(i.data.directives&&i.data.directives.some(ni)&&(i.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(i,l)&&!$e(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=A({},c);if("out-in"===r)return this._leaving=!0,ue(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ti(t,o);if("in-out"===r){if($e(i))return s;var d,h=function(){d()};ue(c,"afterEnter",h),ue(c,"enterCancelled",h),ue(f,"delayLeave",(function(t){d=t}))}}return o}}},oi=A({tag:String,moveClass:String},Jo);function ii(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ai(t){t.data.newPos=t.elm.getBoundingClientRect()}function ui(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}delete oi.mode;var ci={Transition:ri,TransitionGroup:{props:oi,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=Ke(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=Qo(this),u=0;u<o.length;u++){var c=o[u];c.tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(i.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a)}if(r){for(var s=[],l=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?s.push(d):l.push(d)}this.kept=t(e,null,s),this.removed=l}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ii),t.forEach(ai),t.forEach(ui),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;Eo(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(_o,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(_o,t),n._moveCb=null,Ao(n,e))})}})))},methods:{hasMove:function(t,e){if(!yo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){go(n,t)})),mo(n,e),n.style.display="none",this.$el.appendChild(n);var r=Mo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Cn.config.mustUseProp=Nn,Cn.config.isReservedTag=Wn,Cn.config.isReservedAttr=An,Cn.config.getTagNamespace=qn,Cn.config.isUnknownElement=function(t){if(!q)return!0;if(Wn(t))return!1;if(t=t.toLowerCase(),null!=Xn[t])return Xn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Xn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Xn[t]=/HTMLUnknownElement/.test(e.toString())},A(Cn.options.directives,Ko),A(Cn.options.components,ci),Cn.prototype.__patch__=q?Ho:N,Cn.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=vt),Qe(t,"beforeMount"),r=function(){t._update(t._render(),n)},new dn(t,r,N,{before:function(){t._isMounted&&!t._isDestroyed&&Qe(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Qe(t,"mounted")),t}(this,t=t&&q?Yn(t):void 0,e)},q&&setTimeout((function(){H.devtools&&it&&it.emit("init",Cn)}),0);var si,li=/\{\{((?:.|\r?\n)+?)\}\}/g,fi=/[-.*+?^${}()|[\]\/\\]/g,di=x((function(t){var e=t[0].replace(fi,"\\$&"),n=t[1].replace(fi,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")})),hi={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Pr(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=Rr(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}},pi={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Pr(t,"style");n&&(t.staticStyle=JSON.stringify(no(n)));var r=Rr(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},mi=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),gi=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),vi=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),bi=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,yi=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,wi="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+j.source+"]*",xi="((?:"+wi+"\\:)?"+wi+")",Ci=new RegExp("^<"+xi),_i=/^\s*(\/?)>/,Si=new RegExp("^<\\/"+xi+"[^>]*>"),ki=/^<!DOCTYPE [^>]+>/i,Oi=/^<!\--/,Ti=/^<!\[/,Ei=m("script,style,textarea",!0),Ai={},Di={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Ni=/&(?:lt|gt|quot|amp|#39);/g,Mi=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Ri=m("pre,textarea",!0),Pi=function(t,e){return t&&Ri(t)&&"\n"===e[0]};function Bi(t,e){var n=e?Mi:Ni;return t.replace(n,(function(t){return Di[t]}))}var zi,Ii,Li,Fi,Hi,ji,Vi,$i,Ui=/^@|^v-on:/,Wi=/^v-|^@|^:|^#/,qi=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Xi=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Gi=/^\(|\)$/g,Yi=/^\[.*\]$/,Ki=/:(.*)$/,Ji=/^:|^\.|^v-bind:/,Zi=/\.[^.\]]+(?=[^\]]*$)/g,Qi=/^v-slot(:|$)|^#/,ta=/[\r\n]/,ea=/\s+/g,na=x((function(t){return(si=si||document.createElement("div")).innerHTML=t,si.textContent})),ra="_empty_";function oa(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:la(e),rawAttrsMap:{},parent:n,children:[]}}function ia(t,e){var n,r;(r=Rr(n=t,"key"))&&(n.key=r),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Rr(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Pr(t,"scope"),t.slotScope=e||Pr(t,"slot-scope")):(e=Pr(t,"slot-scope"))&&(t.slotScope=e);var n=Rr(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Er(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot"))),"template"===t.tag){var r=Br(t,Qi);if(r){var o=ca(r),i=o.name,a=o.dynamic;t.slotTarget=i,t.slotTargetDynamic=a,t.slotScope=r.value||ra}}else{var u=Br(t,Qi);if(u){var c=t.scopedSlots||(t.scopedSlots={}),s=ca(u),l=s.name,f=s.dynamic,d=c[l]=oa("template",[],t);d.slotTarget=l,d.slotTargetDynamic=f,d.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=d,!0})),d.slotScope=u.value||ra,t.children=[],t.plain=!1}}}(t),function(t){"slot"===t.tag&&(t.slotName=Rr(t,"name"))}(t),function(t){var e;(e=Rr(t,"is"))&&(t.component=e),null!=Pr(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var o=0;o<Li.length;o++)t=Li[o](t,e)||t;return function(t){var e,n,r,o,i,a,u,c,s=t.attrsList;for(e=0,n=s.length;e<n;e++)if(r=o=s[e].name,i=s[e].value,Wi.test(r))if(t.hasBindings=!0,(a=sa(r.replace(Wi,"")))&&(r=r.replace(Zi,"")),Ji.test(r))r=r.replace(Ji,""),i=_r(i),(c=Yi.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!c&&"innerHtml"===(r=_(r))&&(r="innerHTML"),a.camel&&!c&&(r=_(r)),a.sync&&(u=Lr(i,"$event"),c?Mr(t,'"update:"+('+r+")",u,null,!1,0,s[e],!0):(Mr(t,"update:"+_(r),u,null,!1,0,s[e]),O(r)!==_(r)&&Mr(t,"update:"+O(r),u,null,!1,0,s[e])))),a&&a.prop||!t.component&&Vi(t.tag,t.attrsMap.type,r)?Tr(t,r,i,s[e],c):Er(t,r,i,s[e],c);else if(Ui.test(r))r=r.replace(Ui,""),(c=Yi.test(r))&&(r=r.slice(1,-1)),Mr(t,r,i,a,!1,0,s[e],c);else{var l=(r=r.replace(Wi,"")).match(Ki),f=l&&l[1];c=!1,f&&(r=r.slice(0,-(f.length+1)),Yi.test(f)&&(f=f.slice(1,-1),c=!0)),Dr(t,r,o,i,f,c,a,s[e])}else Er(t,r,JSON.stringify(i),s[e]),!t.component&&"muted"===r&&Vi(t.tag,t.attrsMap.type,r)&&Tr(t,r,"true",s[e])}(t),t}function aa(t){var e;if(e=Pr(t,"v-for")){var n=function(t){var e=t.match(qi);if(e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(Gi,""),o=r.match(Xi);return o?(n.alias=r.replace(Xi,"").trim(),n.iterator1=o[1].trim(),o[2]&&(n.iterator2=o[2].trim())):n.alias=r,n}}(e);n&&A(t,n)}}function ua(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function ca(t){var e=t.name.replace(Qi,"");return e||"#"!==t.name[0]&&(e="default"),Yi.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function sa(t){var e=t.match(Zi);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function la(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var fa=/^xmlns:NS\d+/,da=/^NS\d+:/;function ha(t){return oa(t.tag,t.attrsList.slice(),t.parent)}var pa,ma,ga=[hi,pi,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Rr(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var o=Pr(t,"v-if",!0),i=o?"&&("+o+")":"",a=null!=Pr(t,"v-else",!0),u=Pr(t,"v-else-if",!0),c=ha(t);aa(c),Ar(c,"type","checkbox"),ia(c,e),c.processed=!0,c.if="("+n+")==='checkbox'"+i,ua(c,{exp:c.if,block:c});var s=ha(t);Pr(s,"v-for",!0),Ar(s,"type","radio"),ia(s,e),ua(c,{exp:"("+n+")==='radio'"+i,block:s});var l=ha(t);return Pr(l,"v-for",!0),Ar(l,":type",n),ia(l,e),ua(c,{exp:o,block:l}),a?c.else=!0:u&&(c.elseif=u),c}}}}],va={expectHTML:!0,modules:ga,directives:{model:function(t,e,n){var r=e.value,o=e.modifiers,i=t.tag,a=t.attrsMap.type;if(t.component)return Ir(t,r,o),!1;if("select"===i)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";Mr(t,"change",r=r+" "+Lr(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(t,r,o);else if("input"===i&&"checkbox"===a)!function(t,e,n){var r=n&&n.number,o=Rr(t,"value")||"null",i=Rr(t,"true-value")||"true",a=Rr(t,"false-value")||"false";Tr(t,"checked","Array.isArray("+e+")?_i("+e+","+o+")>-1"+("true"===i?":("+e+")":":_q("+e+","+i+")")),Mr(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+i+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+o+")":o)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Lr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Lr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Lr(e,"$$c")+"}",null,!0)}(t,r,o);else if("input"===i&&"radio"===a)!function(t,e,n){var r=n&&n.number,o=Rr(t,"value")||"null";Tr(t,"checked","_q("+e+","+(o=r?"_n("+o+")":o)+")"),Mr(t,"change",Lr(e,o),null,!0)}(t,r,o);else if("input"===i||"textarea"===i)!function(t,e,n){var r=t.attrsMap.type,o=n||{},i=o.lazy,a=o.number,u=o.trim,c=!i&&"range"!==r,s=i?"change":"range"===r?Wr:"input",l="$event.target.value";u&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var f=Lr(e,l);c&&(f="if($event.target.composing)return;"+f),Tr(t,"value","("+e+")"),Mr(t,s,f,null,!0),(u||a)&&Mr(t,"blur","$forceUpdate()")}(t,r,o);else if(!H.isReservedTag(i))return Ir(t,r,o),!1;return!0},text:function(t,e){e.value&&Tr(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&Tr(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:mi,mustUseProp:Nn,canBeLeftOpenTag:gi,isReservedTag:Wn,getTagNamespace:qn,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(ga)},ba=x((function(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));var ya=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,wa=/\([^)]*?\);*$/,xa=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ca={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},_a={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Sa=function(t){return"if("+t+")return null;"},ka={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Sa("$event.target !== $event.currentTarget"),ctrl:Sa("!$event.ctrlKey"),shift:Sa("!$event.shiftKey"),alt:Sa("!$event.altKey"),meta:Sa("!$event.metaKey"),left:Sa("'button' in $event && $event.button !== 0"),middle:Sa("'button' in $event && $event.button !== 1"),right:Sa("'button' in $event && $event.button !== 2")};function Oa(t,e){var n=e?"nativeOn:":"on:",r="",o="";for(var i in t){var a=Ta(t[i]);t[i]&&t[i].dynamic?o+=i+","+a+",":r+='"'+i+'":'+a+","}return r="{"+r.slice(0,-1)+"}",o?n+"_d("+r+",["+o.slice(0,-1)+"])":n+r}function Ta(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map((function(t){return Ta(t)})).join(",")+"]";var e=xa.test(t.value),n=ya.test(t.value),r=xa.test(t.value.replace(wa,""));if(t.modifiers){var o="",i="",a=[];for(var u in t.modifiers)if(ka[u])i+=ka[u],Ca[u]&&a.push(u);else if("exact"===u){var c=t.modifiers;i+=Sa(["ctrl","shift","alt","meta"].filter((function(t){return!c[t]})).map((function(t){return"$event."+t+"Key"})).join("||"))}else a.push(u);return a.length&&(o+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(Ea).join("&&")+")return null;"}(a)),i&&(o+=i),"function($event){"+o+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function Ea(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Ca[t],r=_a[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Aa={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:N},Da=function(t){this.options=t,this.warn=t.warn||kr,this.transforms=Or(t.modules,"transformCode"),this.dataGenFns=Or(t.modules,"genData"),this.directives=A(A({},Aa),t.directives);var e=t.isReservedTag||M;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Na(t,e){var n=new Da(e);return{render:"with(this){return "+(t?Ma(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ma(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Ra(t,e);if(t.once&&!t.onceProcessed)return Pa(t,e);if(t.for&&!t.forProcessed)return za(t,e);if(t.if&&!t.ifProcessed)return Ba(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=Ha(t,e),o="_t("+n+(r?","+r:""),i=t.attrs||t.dynamicAttrs?$a((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:_(t.name),value:t.value,dynamic:t.dynamic}}))):null,a=t.attrsMap["v-bind"];return!i&&!a||r||(o+=",null"),i&&(o+=","+i),a&&(o+=(i?"":",null")+","+a),o+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:Ha(e,n,!0);return"_c("+t+","+Ia(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=Ia(t,e));var o=t.inlineTemplate?null:Ha(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(o?","+o:"")+")"}for(var i=0;i<e.transforms.length;i++)n=e.transforms[i](t,n);return n}return Ha(t,e)||"void 0"}function Ra(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Ma(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Pa(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Ba(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Ma(t,e)+","+e.onceId+++","+n+")":Ma(t,e)}return Ra(t,e)}function Ba(t,e,n,r){return t.ifProcessed=!0,function t(e,n,r,o){if(!e.length)return o||"_e()";var i=e.shift();return i.exp?"("+i.exp+")?"+a(i.block)+":"+t(e,n,r,o):""+a(i.block);function a(t){return r?r(t,n):t.once?Pa(t,n):Ma(t,n)}}(t.ifConditions.slice(),e,n,r)}function za(t,e,n,r){var o=t.for,i=t.alias,a=t.iterator1?","+t.iterator1:"",u=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+o+"),function("+i+a+u+"){return "+(n||Ma)(t,e)+"})"}function Ia(t,e){var n="{",r=function(t,e){var n=t.directives;if(n){var r,o,i,a,u="directives:[",c=!1;for(r=0,o=n.length;r<o;r++){i=n[r],a=!0;var s=e.directives[i.name];s&&(a=!!s(t,i,e.warn)),a&&(c=!0,u+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?",arg:"+(i.isDynamicArg?i.arg:'"'+i.arg+'"'):"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return c?u.slice(0,-1)+"]":void 0}}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var o=0;o<e.dataGenFns.length;o++)n+=e.dataGenFns[o](t);if(t.attrs&&(n+="attrs:"+$a(t.attrs)+","),t.props&&(n+="domProps:"+$a(t.props)+","),t.events&&(n+=Oa(t.events,!1)+","),t.nativeEvents&&(n+=Oa(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||La(n)})),o=!!t.if;if(!r)for(var i=t.parent;i;){if(i.slotScope&&i.slotScope!==ra||i.for){r=!0;break}i.if&&(o=!0),i=i.parent}var a=Object.keys(e).map((function(t){return Fa(e[t],n)})).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&o?",null,false,"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var i=function(t,e){var n=t.children[0];if(n&&1===n.type){var r=Na(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map((function(t){return"function(){"+t+"}"})).join(",")+"]}"}}(t,e);i&&(n+=i+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+$a(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function La(t){return 1===t.type&&("slot"===t.tag||t.children.some(La))}function Fa(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Ba(t,e,Fa,"null");if(t.for&&!t.forProcessed)return za(t,e,Fa);var r=t.slotScope===ra?"":String(t.slotScope),o="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Ha(t,e)||"undefined")+":undefined":Ha(t,e)||"undefined":Ma(t,e))+"}",i=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+o+i+"}"}function Ha(t,e,n,r,o){var i=t.children;if(i.length){var a=i[0];if(1===i.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var u=n?e.maybeComponent(a)?",1":",0":"";return""+(r||Ma)(a,e)+u}var c=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var o=t[r];if(1===o.type){if(ja(o)||o.ifConditions&&o.ifConditions.some((function(t){return ja(t.block)}))){n=2;break}(e(o)||o.ifConditions&&o.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(i,e.maybeComponent):0,s=o||Va;return"["+i.map((function(t){return s(t,e)})).join(",")+"]"+(c?","+c:"")}}function ja(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Va(t,e){return 1===t.type?Ma(t,e):3===t.type&&t.isComment?(r=t,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=t).type?n.expression:Ua(JSON.stringify(n.text)))+")";var n,r}function $a(t){for(var e="",n="",r=0;r<t.length;r++){var o=t[r],i=Ua(o.value);o.dynamic?n+=o.name+","+i+",":e+='"'+o.name+'":'+i+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function Ua(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Wa(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),N}}function qa(t){var e=Object.create(null);return function(n,r,o){(r=A({},r)).warn,delete r.warn;var i=r.delimiters?String(r.delimiters)+n:n;if(e[i])return e[i];var a=t(n,r),u={},c=[];return u.render=Wa(a.render,c),u.staticRenderFns=a.staticRenderFns.map((function(t){return Wa(t,c)})),e[i]=u}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var Xa,Ga,Ya=(Xa=function(t,e){var n=function(t,e){zi=e.warn||kr,ji=e.isPreTag||M,Vi=e.mustUseProp||M,$i=e.getTagNamespace||M,e.isReservedTag,Li=Or(e.modules,"transformNode"),Fi=Or(e.modules,"preTransformNode"),Hi=Or(e.modules,"postTransformNode"),Ii=e.delimiters;var n,r,o=[],i=!1!==e.preserveWhitespace,a=e.whitespace,u=!1,c=!1;function s(t){if(l(t),u||t.processed||(t=ia(t,e)),o.length||t===n||n.if&&(t.elseif||t.else)&&ua(n,{exp:t.elseif,block:t}),r&&!t.forbidden)if(t.elseif||t.else)a=t,(s=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(r.children))&&s.if&&ua(s,{exp:a.elseif,block:a});else{if(t.slotScope){var i=t.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[i]=t}r.children.push(t),t.parent=r}var a,s;t.children=t.children.filter((function(t){return!t.slotScope})),l(t),t.pre&&(u=!1),ji(t.tag)&&(c=!1);for(var f=0;f<Hi.length;f++)Hi[f](t,e)}function l(t){if(!c)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,r,o=[],i=e.expectHTML,a=e.isUnaryTag||M,u=e.canBeLeftOpenTag||M,c=0;t;){if(n=t,r&&Ei(r)){var s=0,l=r.toLowerCase(),f=Ai[l]||(Ai[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),d=t.replace(f,(function(t,n,r){return s=r.length,Ei(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Pi(l,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));c+=t.length-d.length,t=d,O(l,c-s,c)}else{var h=t.indexOf("<");if(0===h){if(Oi.test(t)){var p=t.indexOf("--\x3e");if(p>=0){e.shouldKeepComment&&e.comment(t.substring(4,p),c,c+p+3),_(p+3);continue}}if(Ti.test(t)){var m=t.indexOf("]>");if(m>=0){_(m+2);continue}}var g=t.match(ki);if(g){_(g[0].length);continue}var v=t.match(Si);if(v){var b=c;_(v[0].length),O(v[1],b,c);continue}var y=S();if(y){k(y),Pi(y.tagName,t)&&_(1);continue}}var w=void 0,x=void 0,C=void 0;if(h>=0){for(x=t.slice(h);!(Si.test(x)||Ci.test(x)||Oi.test(x)||Ti.test(x)||(C=x.indexOf("<",1))<0);)h+=C,x=t.slice(h);w=t.substring(0,h)}h<0&&(w=t),w&&_(w.length),e.chars&&w&&e.chars(w,c-w.length,c)}if(t===n){e.chars&&e.chars(t);break}}function _(e){c+=e,t=t.substring(e)}function S(){var e=t.match(Ci);if(e){var n,r,o={tagName:e[1],attrs:[],start:c};for(_(e[0].length);!(n=t.match(_i))&&(r=t.match(yi)||t.match(bi));)r.start=c,_(r[0].length),r.end=c,o.attrs.push(r);if(n)return o.unarySlash=n[1],_(n[0].length),o.end=c,o}}function k(t){var n=t.tagName,c=t.unarySlash;i&&("p"===r&&vi(n)&&O(r),u(n)&&r===n&&O(n));for(var s=a(n)||!!c,l=t.attrs.length,f=new Array(l),d=0;d<l;d++){var h=t.attrs[d],p=h[3]||h[4]||h[5]||"",m="a"===n&&"href"===h[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;f[d]={name:h[1],value:Bi(p,m)}}s||(o.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:f,start:t.start,end:t.end}),r=n),e.start&&e.start(n,f,s,t.start,t.end)}function O(t,n,i){var a,u;if(null==n&&(n=c),null==i&&(i=c),t)for(u=t.toLowerCase(),a=o.length-1;a>=0&&o[a].lowerCasedTag!==u;a--);else a=0;if(a>=0){for(var s=o.length-1;s>=a;s--)e.end&&e.end(o[s].tag,n,i);o.length=a,r=a&&o[a-1].tag}else"br"===u?e.start&&e.start(t,[],!0,n,i):"p"===u&&(e.start&&e.start(t,[],!1,n,i),e.end&&e.end(t,n,i))}O()}(t,{warn:zi,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,i,a,l,f){var d=r&&r.ns||$i(t);K&&"svg"===d&&(i=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];fa.test(r.name)||(r.name=r.name.replace(da,""),e.push(r))}return e}(i));var h,p=oa(t,i,r);d&&(p.ns=d),"style"!==(h=p).tag&&("script"!==h.tag||h.attrsMap.type&&"text/javascript"!==h.attrsMap.type)||ot()||(p.forbidden=!0);for(var m=0;m<Fi.length;m++)p=Fi[m](p,e)||p;u||(function(t){null!=Pr(t,"v-pre")&&(t.pre=!0)}(p),p.pre&&(u=!0)),ji(p.tag)&&(c=!0),u?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),o=0;o<n;o++)r[o]={name:e[o].name,value:JSON.stringify(e[o].value)},null!=e[o].start&&(r[o].start=e[o].start,r[o].end=e[o].end);else t.pre||(t.plain=!0)}(p):p.processed||(aa(p),function(t){var e=Pr(t,"v-if");if(e)t.if=e,ua(t,{exp:e,block:t});else{null!=Pr(t,"v-else")&&(t.else=!0);var n=Pr(t,"v-else-if");n&&(t.elseif=n)}}(p),function(t){null!=Pr(t,"v-once")&&(t.once=!0)}(p)),n||(n=p),a?s(p):(r=p,o.push(p))},end:function(t,e,n){var i=o[o.length-1];o.length-=1,r=o[o.length-1],s(i)},chars:function(t,e,n){if(r&&(!K||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var o,s,l,f=r.children;(t=c||t.trim()?"script"===(o=r).tag||"style"===o.tag?t:na(t):f.length?a?"condense"===a&&ta.test(t)?"":" ":i?" ":"":"")&&(c||"condense"!==a||(t=t.replace(ea," ")),!u&&" "!==t&&(s=function(t,e){var n=e?di(e):li;if(n.test(t)){for(var r,o,i,a=[],u=[],c=n.lastIndex=0;r=n.exec(t);){(o=r.index)>c&&(u.push(i=t.slice(c,o)),a.push(JSON.stringify(i)));var s=_r(r[1].trim());a.push("_s("+s+")"),u.push({"@binding":s}),c=o+r[0].length}return c<t.length&&(u.push(i=t.slice(c)),a.push(JSON.stringify(i))),{expression:a.join("+"),tokens:u}}}(t,Ii))?l={type:2,expression:s.expression,tokens:s.tokens,text:t}:" "===t&&f.length&&" "===f[f.length-1].text||(l={type:3,text:t}),l&&f.push(l))}},comment:function(t,e,n){if(r){var o={type:3,text:t,isComment:!0};r.children.push(o)}}}),n}(t.trim(),e);!1!==e.optimize&&function(t,e){t&&(pa=ba(e.staticKeys||""),ma=e.isReservedTag||M,function t(e){if(e.static=function(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||g(t.tag)||!ma(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(pa))))}(e),1===e.type){if(!ma(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,r=e.children.length;n<r;n++){var o=e.children[n];t(o),o.static||(e.static=!1)}if(e.ifConditions)for(var i=1,a=e.ifConditions.length;i<a;i++){var u=e.ifConditions[i].block;t(u),u.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var r=0,o=e.children.length;r<o;r++)t(e.children[r],n||!!e.for);if(e.ifConditions)for(var i=1,a=e.ifConditions.length;i<a;i++)t(e.ifConditions[i].block,n)}}(t,!1))}(n,e);var r=Na(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),o=[],i=[];if(n)for(var a in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=A(Object.create(t.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(r[a]=n[a]);r.warn=function(t,e,n){(n?i:o).push(t)};var u=Xa(e.trim(),r);return u.errors=o,u.tips=i,u}return{compile:e,compileToFunctions:qa(e)}})(va),Ka=(Ya.compile,Ya.compileToFunctions);function Ja(t){return(Ga=Ga||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Ga.innerHTML.indexOf("&#10;")>0}var Za=!!q&&Ja(!1),Qa=!!q&&Ja(!0),tu=x((function(t){var e=Yn(t);return e&&e.innerHTML})),eu=Cn.prototype.$mount;Cn.prototype.$mount=function(t,e){if((t=t&&Yn(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=tu(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){var o=Ka(r,{outputSourceRange:!1,shouldDecodeNewlines:Za,shouldDecodeNewlinesForHref:Qa,delimiters:n.delimiters,comments:n.comments},this),i=o.render,a=o.staticRenderFns;n.render=i,n.staticRenderFns=a}}return eu.call(this,t,e)},Cn.compile=Ka,t.exports=Cn}).call(this,n(1),n(110).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(111),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,u,c=1,s={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(e){t.postMessage(a+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return s[c]=o,r(c),c++},d.clearImmediate=h}function h(t){delete s[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=s[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{h(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(28))},function(t,e,n){"use strict";n.r(e);n(38);var r=n(6),o=n.n(r),i=n(33),a=n.n(i),u=n(5),c=n.n(u),s=n(4),l=n(34),f=n.n(l),d=n(20),h=n.n(d);function p(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b={components:{FileUpload:h.a},props:{showTitle:{type:Boolean,default:!0},multiple:{type:Boolean,default:!0},defaultFolder:{type:Number,default:null},dataTransfer:{default:null}},data:function(){return{files:[],accept:null,extensions:null,minSize:1024,size:10485760,directory:!1,drop:!0,dropDirectory:!0,addIndex:!1,thread:3,name:"file",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},data:{},autoCompress:1048576,uploadAuto:!1}},computed:g({},Object(s.b)({editFile:function(t){return t.EditFile.updatedFile}})),watch:{editFile:function(t){if(t){var e=g({},t,{error:""});this.$refs.upload.update(e.id,e)}}},mounted:function(){this.dataTransfer&&this.$refs.upload.addDataTransfer(this.dataTransfer)},methods:{inputFilter:function(t,e,n){var r=this;if(t&&!e){if(/(\/|^)(Thumbs\.db|desktop\.ini|\..+)$/.test(t.name))return n();if(/\.(php5?|html?|jsx?)$/i.test(t.name))return n();t.file&&"image/"===t.type.substr(0,6)&&this.autoCompress>0&&this.autoCompress<t.size&&(t.error="compressing",new f.a(t.file,{convertSize:3e6,maxWidth:1920,maxHeight:1920,quality:.8,success:function(e){r.$refs.upload.update(t,{error:"",file:e,size:e.size,type:e.type})},error:function(e){r.$refs.upload.update(t,{error:e.message||"compress"})}})),t.tags=[],t.folder_id=this.defaultFolder}if(t&&(!e||t.file!==e.file)){t.blob="";var o=window.URL||window.webkitURL;o&&o.createObjectURL&&(t.blob=o.createObjectURL(t.file)),t.thumb="",t.blob&&"image/"===t.type.substr(0,6)&&(t.thumb=t.blob)}},inputFile:function(t,e){t&&t!==e&&this.$refs.upload.update(file,{caption:"",tags:[],folder_id:this.defaultFolder})},upload:function(t,e){var n,r=this;return(n=c.a.mark((function e(){var n,o,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("name",t.name),n.set("file",t.file,t.filename),t.caption&&n.append("caption",t.caption),t.tags&&t.tags.map((function(t){n.append("tags[]",t)})),t.folder_id&&n.append("folder_id",t.folder_id),e.prev=6,e.next=9,axios.post("/admin/media-library",n);case 9:return e.next=11,e.sent.data;case 11:return o=e.sent,r.$emit("uploaded",o),e.abrupt("return",o);case 16:if(e.prev=16,e.t0=e.catch(6),!e.t0.response||422!==e.t0.response.status){e.next=22;break}for(a in i=[e.t0.response.data.message],e.t0.response.data)e.t0.response.data.hasOwnProperty(a)&&i.push(e.t0.response.data[a]);throw new Error(i.join("\n"));case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,null,[[6,16]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){p(i,r,o,a,u,"next",t)}function u(t){p(i,r,o,a,u,"throw",t)}a(void 0)}))})()},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){alert(t)})),onEditFileShow:function(t){this.$store.dispatch("EditFile/edit",{file:g({},t,{show:!0})})},onAddFolder:function(){var t=this;if(this.$refs.upload.features.directory){var e=this.$refs.upload.$el.querySelector("input");e.directory=!0,e.webkitdirectory=!0,this.directory=!0,e.onclick=null,e.click(),e.onclick=function(n){t.directory=!1,e.directory=!1,e.webkitdirectory=!1}}else this.alert("Your browser does not support")}}};n(57);function y(t,e,n,r,o,i,a,u){var c,s="function"==typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=c):o&&(c=u?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(s.functional){s._injectStyles=c;var l=s.render;s.render=function(t,e){return c.call(e),l(t,e)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:s}}var w=y(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.$refs.upload&&t.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[n("h3",[t._v("Drop files to upload")])]),t._v(" "),n("div",{staticClass:"upload"},[n("div",{staticClass:"table-/responsive bg-white"},[n("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),n("tbody",[t.files.length?t._e():n("tr",[n("td",{attrs:{colspan:"7"}},[n("div",{staticClass:"text-center p-5"},[t._m(1),t._v(" "),n("label",{staticClass:"btn btn-lg btn-primary",attrs:{for:t.name}},[t._v("Select Files")])])])]),t._v(" "),t._l(t.files,(function(e,r){return n("tr",{key:e.id,class:{danger:e.error,success:e.success,active:e.active}},[n("td",[t._v(t._s(r+1))]),t._v(" "),n("td",[e.thumb?n("img",{attrs:{src:e.thumb,width:"40",height:"auto"}}):n("span",[t._v("No Image")])]),t._v(" "),n("td",[n("div",{staticClass:"filename"},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),e.active||"0.00"!==e.progress?n("div",{staticClass:"progress"},[n("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-danger":e.error,"progress-bar-animated":e.active},style:{width:e.progress+"%"},attrs:{role:"progressbar"}},[t._v(t._s(e.progress)+"%")])]):t._e()]),t._v(" "),n("td",[t._v(t._s(t._f("formatSize")(e.size)))]),t._v(" "),n("td",[t._v(t._s(t._f("formatSize")(e.speed)))]),t._v(" "),e.error?n("td",[t._v(t._s(e.error))]):e.success?n("td",[t._v("success")]):e.active?n("td",[t._v("active")]):n("td"),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("div",{staticClass:"btn-group"},[t._m(2,!0),t._v(" "),n("ul",{staticClass:"dropdown-menu"},[n("li",[e.active||e.success||"compressing"===e.error?t._e():n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.onEditFileShow(e)}}},[t._v("Edit")])]),t._v(" "),n("li",[e.active?n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),e.active&&t.$refs.upload.update(e,{error:"cancel"})}}},[t._v("Cancel")]):t._e()]),t._v(" "),e.active?n("li",{on:{click:function(n){return n.preventDefault(),t.$refs.upload.update(e,{active:!1})}}},[n("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Abort")])]):e.error&&"compressing"!==e.error&&t.$refs.upload.features.html5?n("li",[n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.$refs.upload.update(e,{active:!0,error:"",progress:"0.00"})}}},[t._v("Retry upload")])]):e.success||"compressing"===e.error?t._e():n("li",[n("a",{class:{"dropdown-item":!0},attrs:{href:"#"},on:{click:function(n){n.preventDefault(),!e.success&&"compressing"!==e.error&&t.$refs.upload.update(e,{active:!0})}}},[t._v("Upload")])]),t._v(" "),n("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),n("li",[n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.$refs.upload.remove(e)}}},[t._v("Remove")])])])])])])}))],2)])]),t._v(" "),n("div",{staticClass:"footer"},[n("div",{staticClass:"btn-group"},[n("file-upload",{ref:"upload",staticClass:"btn btn-primary dropdown-toggle",attrs:{"custom-action":t.upload,extensions:t.extensions,accept:t.accept,multiple:t.multiple,directory:t.directory,size:t.size||0,thread:t.thread<1?1:t.thread>5?5:t.thread,headers:t.headers,data:t.data,drop:t.drop,"drop-directory":t.dropDirectory,"add-index":t.addIndex},on:{"input-filter":t.inputFilter,"input-file":t.inputFile},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[n("i",{staticClass:"fa fa-plus"}),t._v("\n          Select\n          "),n("span",{staticClass:"caret"})]),t._v(" "),n("div",{staticClass:"dropdown-menu"},[n("li",[n("a",[n("label",{staticClass:"dropdown-item",attrs:{for:t.name}},[t._v("Add files")])])]),t._v(" "),n("li",[n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.onAddFolder}},[t._v("Add folder")])])])],1),t._v(" "),t.$refs.upload&&t.$refs.upload.active?n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.active=!1}}},[n("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}}),t._v("\n        Stop Upload\n      ")]):n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.active=!0}}},[n("i",{staticClass:"fa fa-arrow-up",attrs:{"aria-hidden":"true"}}),t._v("\n        Start Upload\n      ")])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("#")]),t._v(" "),n("th",[t._v("Thumb")]),t._v(" "),n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("Size")]),t._v(" "),n("th",[t._v("Speed")]),t._v(" "),n("th",[t._v("Status")]),t._v(" "),n("th",[t._v("Action")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("Drop files anywhere to upload"),e("br"),this._v("or")])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button"}},[this._v("\n                  Action\n                  "),e("span",{staticClass:"caret"})])}],!1,null,"112125e6",null).exports,x=n(35),C=n(21),_=n.n(C),S=n(8),k={props:{value:{type:Boolean,default:!1},cancelText:{type:String,default:"Cancel"},size:{type:String,default:"lg"},title:""},watch:{value:function(t,e){document.body.classList[t?"add":"remove"]("modal-open")}},methods:{close:function(){this.$emit("close")}}},O=(n(60),y(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"fade"}},[t.value?n("div",{class:{"modal-backdrop":!0,fade:!0,show:!0}}):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade-down"}},[t.value?n("div",{staticClass:"modal fade show",staticStyle:{display:"block"},attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.stopPropagation(),e.target!==e.currentTarget?null:t.close(e)}}},[n("div",{class:["modal-dialog","modal-"+t.size],attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header bg-light"},[t._t("header",[t.title?n("h4",{staticClass:"modal-title"},[t._v(t._s(t.title))]):t._e()]),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("")])])],2),t._v(" "),n("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v(t._s(t.cancelText))]),t._v(" "),t._t("footer")],2)])])]):t._e()])],1)}),[],!1,null,null,null).exports),T={components:{Drag:S.Drag},props:{file:{type:Object},canDrag:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1},panelClass:{type:String,default:"default"},icon:{type:String,default:null}},data:function(){return{loaded:!1,failed:!1}},mounted:function(){this.loaded=!1,"image"===this.file.type&&this.preloadImage()},computed:{computedIcon:function(){return this.icon||(this.failed?"picture-o":null)||("pdf"===this.file.type?"file-pdf-o":null)||("misc"===this.file.type?"file-o":null)},computedPanelClass:function(){return this.failed?"danger":this.panelClass},src:function(){return"/media/image/resize/400/".concat(this.file.filename)}},methods:{preloadImage:function(){var t=this,e=new Image;e.onload=function(){return t.loaded=!0},e.onerror=function(){t.loaded=!0,t.failed=!0},e.src=this.src}}},E=(n(62),y(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("drag",{class:"image"!=t.file.type||t.failed?"is-file":"is-image",attrs:{draggable:t.canDrag,"transfer-data":{type:"file",file:t.file}}},[n("div",{class:["card","card-"+t.computedPanelClass]},[n("div",{staticClass:"card-image"},[t.canDelete?n("button",{staticClass:"btn btn-danger btn-sm delete-btn",attrs:{title:"Delete"},on:{click:function(e){return e.preventDefault(),t.$emit("delete")}}},[n("i",{staticClass:"fa fa-trash"}),t._v(" Delete\n      ")]):t._e(),t._v(" "),t.computedIcon?n("i",{class:["icon","fa","fa-"+t.computedIcon],on:{click:function(e){return t.$emit("select")}}}):t._e(),t._v(" "),"image"==t.file.type?n("a",{class:{image:!0,"image-preview":t.loaded&&!t.failed,"is-loading":!t.loaded,"has-failed":t.failed},on:{click:function(e){return t.$emit("select")}}},[n("transition",{attrs:{name:"fade"}},[t.loaded&&!t.failed?n("img",{attrs:{src:t.src,alt:t.file.filename,draggable:"false"}}):t._e()])],1):t._e()]),t._v(" "),n("div",{class:["default"===t.computedPanelClass?"card-footer":"card-heading","text-center"]},["image"!==t.file.type?n("div",{staticClass:"document_block"},[n("a",{staticClass:"btn btn-sm btn-default",attrs:{href:"/media/"+t.file.type+"/"+t.file.filename,target:"_blank"}},[n("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}}),t._v("\n          Download\n        ")])]):t._e(),t._v(" "),n("div",{on:{click:function(e){return e.preventDefault(),t.$emit("select")}}},[t._v("\n        "+t._s(t.file.caption||t.file.filename)+"\n      ")]),t._v(" "),t._t("default")],2)])])}),[],!1,null,"e1e714a8",null).exports);function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=y({props:{value:{type:Object,default:{}},offset:{type:Number,default:5}},methods:{changePage:function(t){this.$emit("input",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.value,{current_page:t}))},isCurrentPage:function(t){return this.value.current_page===t}},computed:{pages:function(){var t=[],e=this.value.current_page-Math.floor(this.offset/2);e<1&&(e=1);var n=e+this.offset-1;for(n>this.value.last_page&&(n=this.value.last_page);e<=n;)t.push(e),e++;return t}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.value.last_page>1?n("nav",{staticClass:"text-center",attrs:{role:"navigation","aria-label":"pagination"}},[n("ul",{staticClass:"pagination"},[n("li",[n("a",{attrs:{disabled:t.value.current_page<=1},on:{click:function(e){return e.preventDefault(),t.changePage(1)}}},[t._v("")])]),t._v(" "),n("li",[n("a",{attrs:{disabled:t.value.current_page<=1},on:{click:function(e){e.preventDefault(),t.changePage(Math.max(t.value.current_page-1,1))}}},[t._v("")])]),t._v(" "),t._l(t.pages,(function(e){return n("li",{key:e,class:t.isCurrentPage(e)?"active":""},[n("a",{staticClass:"pagination-link",on:{click:function(n){return n.preventDefault(),t.changePage(e)}}},[t._v("\n    "+t._s(e)+"\n    ")])])})),t._v(" "),n("li",[n("a",{attrs:{disabled:t.value.current_page>=t.value.last_page},on:{click:function(e){e.preventDefault(),t.changePage(Math.min(t.value.current_page+1,t.value.last_page))}}},[t._v("")])]),t._v(" "),n("li",[n("a",{attrs:{disabled:t.value.current_page>=t.value.last_page},on:{click:function(e){return e.preventDefault(),t.changePage(t.value.last_page)}}},[t._v("")])])],2)]):t._e()}),[],!1,null,null,null).exports;n(7);function M(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function R(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={components:{Multiselect:_.a,Modal:O,File:E,Pagination:N,Drag:S.Drag,Drop:S.Drop},directives:{autofocus:{inserted:function(t){t.focus()}}},props:{canCreate:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!1},highlightFiles:{type:Array,default:function(){return[]}}},data:function(){var t;return z(t={files:[],folders:{},pagination:{},file:{},tags:[],tagFilter:[]},"pagination",{}),z(t,"currentFolder",null),z(t,"activeTab","image"),z(t,"formData",{}),z(t,"fileName",""),z(t,"attachment",""),z(t,"folderName",""),z(t,"editingFile",{}),z(t,"deletingFile",{}),z(t,"editingFolder",{}),z(t,"deletingFolder",{}),z(t,"showConfirm",!1),z(t,"modalActive",!1),z(t,"message",""),z(t,"errors",{}),z(t,"upFolderOver",!1),z(t,"searchString",""),t},computed:B({},Object(s.b)({data:function(t){return t.MediaList.data},loading:function(t){return t.MediaList.loading}}),{highlightIds:function(){return this.highlightFiles.map((function(t){return t.id}))},imageCount:function(){return this.files.length}}),watch:{data:function(){this.files=R(this.data.data.data),this.folders=R(this.data.folders.map((function(t){return B({},t,{over:!1})}))),this.pagination=B({},this.data.pagination)},searchString:function(t){t&&(this.currentFolder=null),this.throttledRefresh()},tagFilter:function(){this.throttledRefresh()}},methods:{changePage:function(t){this.pagination.current_page=t.current_page,this.fetchFile(this.activeTab,t.current_page)},throttledRefresh:Object(x.throttle)((function(){this.fetchFile(this.activeTab,this.pagination.current_page)}),1e3),isActive:function(t){return this.activeTab===t},setActive:function(t){this.activeTab=t},fetchFile:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("MediaList/get",{type:t,page:e,folderId:this.currentFolder?this.currentFolder.id:"",search:this.searchString,tags:this.tagFilter.length?this.tagFilter.map((function(t){return t.name})):[]})},getFiles:function(t){this.setActive(t),this.fetchFile(t)},newFolder:function(){var t=this;this.formData=new FormData,this.formData.append("name",this.folderName),this.currentFolder&&this.formData.append("parent_id",this.currentFolder.id),window.axios.post("/admin/media-library/folder",this.formData,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.folderName="",t.showNotification("Folder created",!0),t.fetchFile(t.activeTab)})).catch((function(e){for(var n in t.showNotification(e.response.data.message,!1),e.response.data)if(e.response.data.hasOwnProperty(n)){var r=e.response.data[n];t.showNotification(r,!1)}}))},moveIntoFolder:function(t,e){switch(t.over=!1,this.upFolderOver=!1,e.type){case"folder":if(t.id===e.folder.id)return;this.updateFolder(B({},e.folder,{parent_id:t.id}));break;case"file":var n=e.file,r=(n.folder,M(n,["folder"]));this.$store.dispatch("EditFile/update",B({},r,{folder_id:t.id}));break;default:this.showNotification("Unknown type: '".concat(e.type,"'"),!1)}},prepareToDelete:function(t){this.deletingFile=t,this.showConfirm=!0},prepareToDeleteFolder:function(t){this.deletingFolder=t,this.showConfirm=!0},cancelDeleting:function(){this.deletingFile={},this.deletingFolder={},this.showConfirm=!1},deleteFile:function(){var t=this,e={};this.deletingFolder.id?(console.log(this.deletingFolder),e.url="/admin/media-library/folder/".concat(this.deletingFolder.id),e.type="Folder"):(e.url="/admin/media-library/".concat(this.deletingFile.id),e.type="File"),window.axios.delete(e.url).then((function(n){t.showNotification("".concat(e.type," deleted"),!0),t.fetchFile(t.activeTab,t.pagination.current_page)})).catch((function(e){t.errors=e.response.data.errors(),t.showNotification("Something went wrong! Please try again later.",!1),t.fetchFile(t.activeTab,t.pagination.current_page)})),this.cancelDeleting()},editFolder:function(t){this.canEdit?this.editingFolder=t:this.$emit("selectFolder",t)},updateFolder:function(t){var e=this;if(this.editingFolder={},""===t.name.trim())alert("Folder name cannot be empty!"),this.fetchFile(this.activeTab,this.pagination.current_page);else{var n=new FormData;n.append("_method","PUT"),n.append("name",t.name),t.parent_id&&n.append("parent_id",t.parent_id),axios.post("/admin/media-library/folder/"+t.id,n).then((function(t){!0===t.data.success&&e.showNotification("Folder successfully updated",!0,(function(){return e.updateFolder(t.data.original)}))})).catch((function(t){for(var n in e.showNotification(t.response.data.message,!1),t.response.data)if(t.response.data.hasOwnProperty(n)){var r=t.response.data[n];e.showNotification(r,!1)}})).finally((function(){e.fetchFile(e.activeTab,e.pagination.current_page)}))}},editFile:function(t){this.canEdit?this.$store.dispatch("EditFile/edit",{file:B({},t,{tags:t.tags.map((function(t){return t.name})),name:t.filename,exists:!0})}):this.$emit("selectFile",t)},showNotification:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[{text:"",onClick:function(t,e){return e.goAway()},class:"toast-action toast-action--dismiss"}];n&&r.unshift({text:"Undo",class:"toast-action",onClick:function(t,e){e.goAway(0),n(e)}}),this.$toasted.show(t,{duration:15e3,type:e?"success":"error",position:"bottom-right",iconPack:"fontawesome",action:r,icon:e?"check":"exclamation-triangle"})},openFolder:function(t){this.currentFolder=t,this.fetchFile(this.activeTab)},upFolder:function(t){t&&t.parent_id?this.currentFolder={id:t.parent_id}:this.currentFolder=null,this.fetchFile(this.activeTab)}},mounted:function(){var t=this;this.fetchFile(this.activeTab,this.pagination.current_page),window.axios.get("/admin/media-library/tags").then((function(e){return t.tags=e.data}))}},L=(n(64),y(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.canCreate?n("div",[n("a",{staticClass:"btn btn-primary float-right new-btn",attrs:{href:"/admin/media-library/create"+(t.currentFolder?"?folder="+t.currentFolder.id:"")}},[t._v("New Media "),n("i",{staticClass:"fa fa-plus"})]),t._v(" "),n("form",{staticClass:"form-inline float-right",staticStyle:{clear:"right"},attrs:{id:"new-folder-form",action:"#",method:"#"},on:{submit:function(e){return e.preventDefault(),t.newFolder(e)}}},[n("label",{staticClass:"sr-only",attrs:{for:"new_folder"}},[t._v("New Folder")]),t._v(" "),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.folderName,expression:"folderName"}],staticClass:"form-control input-sm",attrs:{type:"text",id:"new_folder",name:"name",placeholder:"Folder name",required:""},domProps:{value:t.folderName},on:{input:function(e){e.target.composing||(t.folderName=e.target.value)}}}),t._v(" "),t._m(0)])])]):t._e(),t._v(" "),n("modal",{attrs:{title:"Are you sure?",size:"sm"},on:{close:function(e){return t.cancelDeleting()}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.deleteFile()}}},[t._v("\n        Confirm\n      ")])]},proxy:!0}]),model:{value:t.showConfirm,callback:function(e){t.showConfirm=e},expression:"showConfirm"}},[n("p",[t._v("Are you sure you want to delete this?")])]),t._v(" "),n("div",{staticClass:"container-fluid mb-4"},[n("div",{staticClass:"form-inline"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"search"}},[t._v("Search")]),t._v(" "),n("div",{staticClass:"input-group mx-sm-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"form-control input-sm",attrs:{name:"search",type:"text",id:"search"},domProps:{value:t.searchString},on:{input:[function(e){e.target.composing||(t.searchString=e.target.value)},function(e){t.pagination.current_page=1}]}}),t._v(" "),n("div",{staticClass:"input-group-append"},[t.searchString?n("input",{staticClass:"btn btn-sm btn-default",attrs:{type:"button",value:""},on:{click:function(e){e.preventDefault(),t.searchString=""}}}):t._e()])])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"tags"}},[t._v("Tags")]),t._v(" "),n("div",{staticClass:"input-group mx-sm-3",staticStyle:{"min-width":"6em"}},[n("multiselect",{attrs:{placeholder:"",label:"name","track-by":"name",id:"tags",tabindex:0,options:t.tags,multiple:!0,taggable:!1},model:{value:t.tagFilter,callback:function(e){t.tagFilter=e},expression:"tagFilter"}})],1)])])]),t._v(" "),n("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[n("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.getFiles("image")}}},[n("a",{class:{"nav-link":!0,active:t.isActive("image")},attrs:{role:"tab",href:"#"}},[t._m(1),t._v("\n        Pictures\n        ")])]),t._v(" "),n("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.getFiles("pdf")}}},[n("a",{class:{"nav-link":!0,active:t.isActive("pdf")},attrs:{role:"tab",href:"#"}},[t._m(2),t._v("\n        PDF\n        ")])]),t._v(" "),n("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.getFiles("misc")}}},[n("a",{class:{"nav-link":!0,active:t.isActive("misc")},attrs:{role:"tab",href:"#"}},[t._m(3),t._v("\n        Misc\n        ")])])]),t._v(" "),n("div",{staticClass:"tab-content mb-4"},[n("pagination",{on:{input:t.changePage},model:{value:t.pagination,callback:function(e){t.pagination=e},expression:"pagination"}}),t._v(" "),n("div",{staticClass:"tabs-details p-3"},[n("div",{staticClass:"text-center tiles"},[t.currentFolder?n("div",{},[n("drop",{class:{card:!0,"card-info":!0,"is-dropping":t.upFolderOver},on:{drop:function(e){for(var n=arguments.length,r=Array(n);n--;)r[n]=arguments[n];return t.moveIntoFolder.apply(void 0,[{id:t.currentFolder.parent_id}].concat(r))},dragover:function(e){t.upFolderOver=!0},dragleave:function(e){t.upFolderOver=!1}}},[n("div",{staticClass:"card-image"},[n("div",{staticClass:"card-body"},[n("a",{staticClass:"text-center center-block",staticStyle:{"font-size":"4em"},on:{click:function(e){return t.upFolder(t.currentFolder)}}},[n("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),n("div",{on:{click:function(e){return t.upFolder(t.currentFolder)}}},[t._v("\n            Back\n          ")])])])])],1):t._e(),t._v(" "),t._l(t.folders,(function(e){return n("div",{key:e.id},[n("drop",{class:{card:!0,"card-primary":!0,"is-dropping":e.over},on:{drop:function(n){for(var r=arguments.length,o=Array(r);r--;)o[r]=arguments[r];return t.moveIntoFolder.apply(void 0,[e].concat(o))},dragover:function(t){e.over=!0},dragleave:function(t){e.over=!1}}},[n("drag",{staticClass:"card-image",attrs:{draggable:t.canEdit,"transfer-data":{type:"folder",folder:e}}},[t.canDelete?n("button",{staticClass:"btn btn-danger btn-sm delete-btn",attrs:{title:"Delete"},on:{click:function(n){return t.prepareToDeleteFolder(e)}}},[n("i",{staticClass:"fa fa-trash"}),t._v(" Delete\n          ")]):t._e(),t._v(" "),n("div",{staticClass:"card-body"},[n("a",{staticClass:"text-center center-block",staticStyle:{"font-size":"4em"},on:{click:function(n){return t.openFolder(e)}}},[n("i",{staticClass:"fa fa-folder"})]),t._v(" "),e===t.editingFolder?n("input",{directives:[{name:"autofocus",rawName:"v-autofocus"},{name:"model",rawName:"v-model",value:e.name,expression:"folder.name"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:e.name},domProps:{value:e.name},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.updateFolder(e)},blur:function(n){return t.updateFolder(e)},input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}}):n("div",{attrs:{title:"Click to edit folder name"},on:{click:function(n){return t.editFolder(e)}}},[t._v("\n            "+t._s(e.caption||e.name)+"\n          ")])])])],1)],1)}))],2),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"text-center tiles"},[0==t.pagination.total?n("div",{staticClass:"text-center p-5"},[t._m(4)]):t._e(),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.loading?n("div",{staticClass:"loader"},[n("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw"}),t._v(" "),n("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()]),t._v(" "),t._l(t.files,(function(e){return n("file",{key:e.id,attrs:{file:e,canDrag:t.canEdit,canDelete:t.canDelete,cardClass:t.highlightIds.includes(e.id)?"success":"default",icon:t.highlightIds.includes(e.id)?"check":null},on:{select:function(n){return t.editFile(e)},delete:function(n){return t.prepareToDelete(e)}}})}))],2)]),t._v(" "),n("pagination",{on:{input:t.changePage},model:{value:t.pagination,callback:function(e){t.pagination=e},expression:"pagination"}})],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"submit"}},[this._v("\n            Add new folder\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-image"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-file-text-o"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-file"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",[e("i",{staticClass:"fa fa-folder-open-o",staticStyle:{"font-size":"4em"}}),this._v(" "),e("figcaption",[e("p",{staticClass:"title is-2"},[this._v("\n            This folder is empty!\n            ")])])])}],!1,null,null,null).exports),F=n(23),H=n(36),j=n.n(H);function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W={components:{Modal:O,Multiselect:_.a,FileUpload:h.a},data:function(){return{file:{},files:[],preview:null,options:{tags:[],folders:[]}}},computed:$({},Object(s.b)({value:function(t){return t.EditFile.file},error:function(t){return t.EditFile.error},originalFile:function(t){return t.EditFile.originalFile},hideFields:function(t){return t.EditFile.hideFields}}),{show:function(){return this.file&&this.file.name&&this.file.name.length>0},src:function(){return this.preview||"/media/"+this.file.type+"/"+this.file.filename}}),watch:{value:function(t){var e=this;if(t){var n=$({},t);n.folder_id&&(n.folder=this.options.folders.filter((function(e){return e.id===t.folder_id}))),n.tags&&(n.tags=t.tags.map((function(t){return{name:t}}))),this.file=n,this.$nextTick((function(){if(e.$refs.editImage){var t=new j.a(e.$refs.editImage,{autoCrop:!1});e.file=$({},e.file,{cropper:t})}}))}},error:function(t){if(t)for(var e in this.showNotification(t.response.data.message,!1),t.response.data)if(t.response.data.hasOwnProperty(e)){var n=t.response.data[e];this.showNotification(n,!1)}},originalFile:function(t){var e=this;t&&this.showNotification("File successfully updated",!0,(function(){return e.update(t)}))}},mounted:function(){var t=this;window.axios.get("/admin/media-library/tags").then((function(e){return t.options.tags=e.data})),window.axios.get("/admin/media-library/folder/options").then((function(e){return t.options.folders=e.data}))},methods:{onEditorFile:function(){var t={id:this.file.id,filename:this.file.name,caption:this.file.caption};if($({},this.file).hasOwnProperty("tags")&&(t.tags=this.file.tags.map((function(t){return t.name}))||[]),this.file.folder&&(t.folder_id=this.file.folder.id),this.file.cropper){for(var e=atob(this.file.cropper.getCroppedCanvas().toDataURL(this.file.type).split(",")[1]),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);t.file=new File([n],t.name,{type:this.file.type}),t.size=t.file.size}this.$refs.file&&this.$refs.file.files[0]&&(t.file=this.$refs.file.files[0]),this.file.exists?this.update(t):this.$store.dispatch("EditFile/setUpdatedFile",t)},changeEditingFile:function(t){var e=this;this.file.file=t.target.files[0];var n=new FileReader;n.onload=function(t){e.preview=t.target.result,e.$forceUpdate()},n.readAsDataURL(this.file.file)},addTag:function(t){var e={name:t};this.options.tags.push(e),this.file.tags||(this.file.tags=[]),this.file.tags.push(e)},close:function(){this.$store.dispatch("EditFile/end")},update:function(t){this.$store.dispatch("EditFile/update",t)},showNotification:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[{text:"",onClick:function(t,e){return e.goAway()},class:"toast-action toast-action--dismiss"}];n&&r.unshift({text:"Undo",class:"toast-action",onClick:function(t,e){e.goAway(0),n(e)}}),this.$toasted.show(t,{duration:15e3,type:e?"success":"error",position:"bottom-right",iconPack:"fontawesome",action:r,icon:e?"check":"exclamation-triangle",singleton:!0})}}},q=(n(66),n(68),n(70),y(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{title:"Edit file"},on:{close:t.close},scopedSlots:t._u([{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.onEditorFile(e)}}},[t._v("Save")])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("form",{ref:"editForm",on:{submit:function(e){return e.preventDefault(),t.onEditorFile(e)}}},[t.hideFields.includes("name")?t._e():n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file.name,expression:"file.name"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"name",readonly:t.file.exists,placeholder:"Please enter a file name"},domProps:{value:t.file.name},on:{input:function(e){e.target.composing||t.$set(t.file,"name",e.target.value)}}})]),t._v(" "),t.hideFields.includes("caption")?t._e():n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"caption"}},[t._v("Caption")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file.caption,expression:"file.caption"}],staticClass:"form-control",attrs:{type:"text",id:"caption"},domProps:{value:t.file.caption},on:{input:function(e){e.target.composing||t.$set(t.file,"caption",e.target.value)}}})]),t._v(" "),t.hideFields.includes("tags")?t._e():n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"tagsSelect"}},[t._v("Tags")]),t._v(" "),n("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"",label:"name","track-by":"name",id:"tagsSelect",tabindex:0,options:t.options.tags,multiple:!0,taggable:!0},on:{tag:t.addTag},model:{value:t.file.tags,callback:function(e){t.$set(t.file,"tags",e)},expression:"file.tags"}})],1),t._v(" "),t.hideFields.includes("folder")?t._e():n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"folder"}},[t._v("Folder")]),t._v(" "),n("multiselect",{attrs:{placeholder:"",label:"name","track-by":"id",id:"folder",tabindex:0,options:t.options.folders,multiple:!1},scopedSlots:t._u([{key:"option",fn:function(e){return[n("span",{domProps:{innerHTML:t._s(e.option.indentedName)}})]}}],null,!1,428942936),model:{value:t.file.folder,callback:function(e){t.$set(t.file,"folder",e)},expression:"file.folder"}})],1),t._v(" "),t.file.id&&t.file.blob&&t.file.type&&"image/"===t.file.type.substr(0,6)&&!t.hideFields.includes("cropper")?n("div",{staticClass:"form-group"},[n("label",[t._v("Image")]),t._v(" "),n("div",{staticClass:"edit-image"},[n("img",{ref:"editImage",attrs:{src:t.file.blob}})]),t._v(" "),n("div",{staticClass:"edit-image-tool"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.rotate(-90)"},on:{click:function(e){return t.file.cropper.rotate(-90)}}},[n("i",{staticClass:"fa fa-undo",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.rotate(90)"},on:{click:function(e){return t.file.cropper.rotate(90)}}},[n("i",{staticClass:"fa fa-repeat",attrs:{"aria-hidden":"true"}})])]),t._v(" "),n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.crop()"},on:{click:function(e){return t.file.cropper.crop()}}},[n("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.clear()"},on:{click:function(e){return t.file.cropper.clear()}}},[n("i",{staticClass:"fa fa-remove",attrs:{"aria-hidden":"true"}})])])])]):t._e(),t._v(" "),t.file.exists?n("div",[t.hideFields.includes("file")?t._e():n("div",{staticClass:"form-group"},[n("label",[t._v("File")]),t._v(" "),n("a",{attrs:{href:t.src,target:"_blank"}},[t._v("\n          "+t._s(t.file.filename)+"\n        ")])]),t._v(" "),t.hideFields.includes("file")?t._e():n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"file"}},[t._v("Update File")]),t._v(" "),n("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:t.changeEditingFile}}),t._v(" "),n("file-upload",{attrs:{maximum:1},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1),t._v(" "),"image"!==t.file.type||t.hideFields.includes("preview")?t._e():n("div",{staticClass:"form-group image-preview"},[n("img",{ref:"preview",staticClass:"img-responsive",attrs:{src:t.src,alt:t.file.filename}})])]):t._e()])])}),[],!1,null,null,null).exports);function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){Y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K,J={components:{SlickList:F.SlickList,SlickItem:F.SlickItem,Modal:O,MediaBrowser:L,Uploader:w,File:E,EditModal:q},props:{isManyRelation:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},name:{type:String},modalOnly:{type:Boolean,default:!1},show:{type:Boolean,default:!1},dataTransfer:{default:null}},data:function(){return{showModal:!1,selectedFiles:[],editingFile:{},tab:"upload"}},watch:{showModal:function(t){}},computed:{canSelect:function(){return this.isManyRelation||!this.isManyRelation&&0===this.selectedFiles.length},modalIsShown:function(){return this.show||this.showModal}},methods:{selectFiles:function(t){t.map(this.selectFile)},selectFile:function(t){this.modalOnly?this.$emit("select",t):this.selectedFiles.findIndex((function(e){return e.id===t.id}))>=0?this.deselectFile(t):(this.canSelect||this.selectedFiles.shift(),t.over=!1,this.selectedFiles.push(t),this.isManyRelation||(this.showModal=!1))},deselectFile:function(t){this.selectedFiles.splice(this.selectedFiles.findIndex((function(e){return e.id===t.id})),1)},editFile:function(t){this.$store.dispatch("EditFile/edit",{file:G({},t,{tags:(t.tags||[]).map((function(t){return t.name})),name:t.filename,exists:!0}),hiddenFields:["name","tags","folder","file"]})},showNotification:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[{text:"",onClick:function(t,e){return e.goAway()},class:"toast-action toast-action--dismiss"}];n&&r.unshift({text:"Undo",class:"toast-action",onClick:function(t,e){e.goAway(0),n(e)}}),this.$toasted.show(t,{duration:15e3,type:e?"success":"error",position:"bottom-right",iconPack:"fontawesome",action:r,icon:e?"check":"exclamation-triangle"})}},mounted:function(){this.selectedFiles=this.data,this.selectedFiles.map((function(t){return t.over=!1}))}},Z=(n(72),y(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("modal",{attrs:{cancelText:"Close",size:"lg"},on:{close:function(e){t.showModal=!1,t.$emit("close")}},scopedSlots:t._u([{key:"header",fn:function(){return[n("ul",{staticClass:"nav nav-tabs card-header-tabs",attrs:{role:"tablist"}},[n("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){t.tab="upload"}}},[n("a",{class:{active:"upload"===t.tab,"nav-link":!0,"text-primary":"upload"!==t.tab},attrs:{role:"tab"}},[n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fa fa-upload"})]),t._v(" "),n("span",[t._v("Upload")])])]),t._v(" "),n("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){t.tab="browse"}}},[n("a",{class:{active:"browse"===t.tab,"nav-link":!0,"text-primary":"browse"!==t.tab},attrs:{role:"tab"}},[n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fa fa-folder-open"})]),t._v(" "),n("span",[t._v("Browse")])])])])]},proxy:!0}]),model:{value:t.modalIsShown,callback:function(e){t.modalIsShown=e},expression:"modalIsShown"}},[t._v(" "),"upload"===t.tab?n("uploader",{attrs:{multiple:t.isManyRelation,showTitle:!1,dataTransfer:t.dataTransfer},on:{uploaded:t.selectFile}}):n("media-browser",{attrs:{highlightFiles:t.selectedFiles},on:{selectFile:t.selectFile}})],1),t._v(" "),t.modalOnly?t._e():n("div",[n("slick-list",{staticClass:"tiles",attrs:{axis:"xy",distance:5},model:{value:t.selectedFiles,callback:function(e){t.selectedFiles=e},expression:"selectedFiles"}},[t._l(t.selectedFiles,(function(e,r){return n("slick-item",{key:e.id,staticClass:"file-drop",attrs:{index:r}},[n("file",{staticClass:"file",attrs:{file:e,canDelete:!0,canDrag:!1},on:{delete:function(n){return t.deselectFile(e)},select:function(n){return t.editFile(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"file.id"}],attrs:{type:"hidden",name:t.name},domProps:{value:e.id},on:{input:function(n){n.target.composing||t.$set(e,"id",n.target.value)}}})])],1)})),t._v(" "),t.selectedFiles.length<1?n("div",{},[n("div",{staticClass:"card bg-light"},[n("div",{staticClass:"card-body text-secondary",staticStyle:{"font-size":"4em","text-align":"center"}},[n("i",{staticClass:"fa fa-picture-o"})])])]):t._e()],2),t._v(" "),t.canSelect?n("div",[n("button",{staticClass:"btn btn-primary",on:{click:function(e){e.preventDefault(),t.showModal=!0,t.tab="upload"}}},[n("i",{staticClass:"fa fa-upload"}),t._v("\n        Upload\n      ")]),t._v(" "),n("button",{staticClass:"btn btn-info",on:{click:function(e){e.preventDefault(),t.showModal=!0,t.tab="browse"}}},[n("i",{staticClass:"fa fa-folder-open"}),t._v("\n        Browse Media\n      ")])]):n("div",[n("button",{staticClass:"btn btn-info",on:{click:function(e){e.preventDefault(),t.showModal=!0}}},[t._v("Change")]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.deselectFile(t.selectedFiles[0])}}},[t._v("Remove")])])],1)],1)}),[],!1,null,"83532de6",null).exports),Q=(n(74),["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"]),tt=function(t){return-1!==Q.indexOf(t)},et=function(t,e,n){var r=e.$props.value?e.$props.value:"",o=e.$props.initialValue?e.$props.initialValue:"";n.setContent(r||o),e.$listeners.input&&function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;t.$watch("value",(function(t,n){e&&"string"==typeof t&&t!==n&&t!==e.getContent()&&e.setContent(t)})),e.on(r||"change keyup undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))}(e,n),function(t,e,n){Object.keys(e).filter(tt).forEach((function(r){var o=e[r];"function"==typeof o&&("onInit"===r?o(t,n):n.on(r.substring(2),(function(t){return o(t,n)})))}))}(t,e.$listeners,n)},nt=0,rt=function(t){var e=Date.now();return t+"_"+Math.floor(1e9*Math.random())+ ++nt+String(e)},ot=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")},it=function(){return{listeners:[],scriptId:rt("tiny-script"),scriptLoaded:!1}},at=(K=it(),{load:function(t,e,n){K.scriptLoaded?n():(K.listeners.push(n),t.getElementById(K.scriptId)||function(t,e,n,r){var o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),e.head&&e.head.appendChild(o)}(K.scriptId,t,e,(function(){K.listeners.forEach((function(t){return t()})),K.scriptLoaded=!0})))},reinitialize:function(){K=it()}}),ut=n(9),ct={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},st=function(){return(st=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},lt=function(t){return function(){var e,n,r,o=st(st({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:(e=t.$props.init&&t.$props.init.plugins,n=t.$props.plugins,ot(e).concat(ot(n))),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return et(n,t,e)})),t.$props.init&&"function"==typeof t.$props.init.setup&&t.$props.init.setup(e)}});null!==(r=t.element)&&"textarea"===r.tagName.toLowerCase()&&(t.element.style.visibility=""),Object(ut.a)().init(o)}},ft={props:ct,created:function(){this.elementId=this.$props.id||rt("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(ut.a)())lt(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=null==this.$props.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;at.load(this.element.ownerDocument,n,lt(this))}},beforeDestroy:function(){null!==Object(ut.a)()&&Object(ut.a)().remove(this.editor)},render:function(t){return this.inlineEditor?function(t,e,n){return t(n||"div",{attrs:{id:e}})}(t,this.elementId,this.$props.tagName):function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})}(t,this.elementId)}},dt=(n(75),n(77),n(79),n(81),n(83),n(85),n(87),n(89),n(91),n(93),n(95),n(97),n(99),n(101),{components:{Tinymce:ft,MediaModal:Z,Modal:O},props:{replace:{type:String},contentStyle:{type:String,default:""},formats:{type:Object,default:function(){return{}}},styleFormats:{type:Array,default:function(){return[]}}},data:function(){return{showMediaModal:!1,editorInstance:null,bookmark:null,name:null,value:null,showEditModal:!1,currentNode:null,editingFile:{},dataTransfer:[]}},computed:{},watch:{"editingFile.width":function(t,e){this.$refs.width&&this.$refs.width===document.activeElement&&(this.editingFile.height=Math.round(this.editingFile.height*(t/e))||"")},"editingFile.height":function(t,e){this.$refs.height&&this.$refs.height===document.activeElement&&(this.editingFile.width=Math.round(this.editingFile.width*(t/e))||"")}},methods:{handleClick:function(t){var e=t.selection.getNode();if("IMG"===e.nodeName)return this.currentNode=e,this.editingFile={alt:e.alt||"",width:e.width,height:e.height},void(this.showEditModal=!0);this.showMediaModal=!0,this.editorInstance=t,this.bookmark=this.editorInstance.selection.getBookmark()},endEditing:function(){this.currentNode.alt=this.editingFile.alt,this.currentNode.width=this.editingFile.width;var t=this.currentNode.src,e="/media/image/resize/".concat(this.editingFile.width,"x").concat(this.editingFile.height,"/").concat(t.substring(t.lastIndexOf("/")+1));this.currentNode.src=e,this.currentNode.dataset.mceSrc=e,this.currentNode=null,this.editingFile={},this.showEditModal=!1},insertMedia:function(t){this.closeMediaModal(),this.editorInstance.insertContent(this.formatMedia(t))},formatMedia:function(t){return"image"===t.type?'<img src="/media/image/'.concat(t.filename,'" alt="').concat(t.caption,'" data-id="').concat(t.id,'" style="max-width: 100%">'):'<a href="/media/'.concat(t.type,"/").concat(t.filename,'" target="_blank" data-id="').concat(t.id,'">').concat(t.caption||t.filename,"</a>")},closeMediaModal:function(){this.showMediaModal=!1,this.editorInstance.focus(),this.editorInstance.selection.moveToBookmark(this.bookmark),this.dataTransfer=null},drop:function(t,e){this.editorInstance=e,this.editorInstance.focus(),this.editorInstance.selection.select(t.target),this.editorInstance.selection.collapse(!1),this.bookmark=this.editorInstance.selection.getBookmark(),this.dataTransfer=t.dataTransfer,this.showMediaModal=!0}},mounted:function(){var t,e=document.querySelector("[name=".concat(this.replace,"]"));this.value=e.value,this.name=this.replace,e.remove(),t=this,tinymce.PluginManager.add("mediabrowser",(function(e,n){var r=function(){return t.handleClick(e)};return e.ui.registry.addButton("mediabrowser",{text:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"></path></svg>',onAction:function(){r()}}),e.ui.registry.addMenuItem("mediabrowser",{text:"Media Browser",onAction:function(){r()}}),{getMetadata:function(){return{name:"Media Browser",url:"/admin/media"}}}}))}}),ht=(n(102),n(104),y(dt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tinymce"},[n("tinymce",{attrs:{name:t.name,init:{content_css:"/admin/tinymce/skin/content.min.css",content_style:"blockquote { border-left: 5px solid silver; padding-left: 1em; margin-left: .25em; } img { max-width: 100%; } "+t.contentStyle,formats:t.formats,style_formats:t.styleFormats,style_formats_merge:!0,skin_url:"/admin/tinymce/skin",browser_spellcheck:!0,plugins:"paste link wordcount anchor code fullscreen autoresize visualblocks help mediabrowser lists toc stickytoolbar table",toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | table | toc | link anchor mediabrowser"}},on:{onDrop:t.drop},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),n("modal",{on:{close:t.endEditing},model:{value:t.showEditModal,callback:function(e){t.showEditModal=e},expression:"showEditModal"}},[n("label",{attrs:{for:"caption"}},[t._v("Caption")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editingFile.alt,expression:"editingFile.alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editingFile.alt},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.endEditing(e))},input:function(e){e.target.composing||t.$set(t.editingFile,"alt",e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"caption"}},[t._v("Width")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editingFile.width,expression:"editingFile.width"}],ref:"width",staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.editingFile.width},on:{input:function(e){e.target.composing||t.$set(t.editingFile,"width",e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"caption"}},[t._v("Height")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editingFile.height,expression:"editingFile.height"}],ref:"height",staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.editingFile.height},on:{input:function(e){e.target.composing||t.$set(t.editingFile,"height",e.target.value)}}})]),t._v(" "),n("media-modal",{attrs:{modalOnly:!0,show:t.showMediaModal,dataTransfer:t.dataTransfer},on:{close:t.closeMediaModal,select:t.insertMedia}})],1)}),[],!1,null,"5b4f5b74",null).exports),pt=n(22);o.a.use(s.a);var mt=new s.a.Store({modules:pt.default,strict:!1});window.Vue=o.a,window.vuexStore=mt,o.a.use(a.a),o.a.filter("formatSize",(function(t){return t>1099511627776?(t/1024/1024/1024/1024).toFixed(2)+" TB":t>1073741824?(t/1024/1024/1024).toFixed(2)+" GB":t>1048576?(t/1024/1024).toFixed(2)+" MB":t>1024?(t/1024).toFixed(2)+" KB":t.toString()+" B"})),document.getElementById("app")||(document.querySelector("main").id="app"),new o.a({el:"#app",store:mt,components:{MediaUploader:w,MediaBrowser:L,MediaModal:Z,EditModal:q,TinymceEditor:ht}});var gt,vt=(gt=!1,function(t,e){t.addEventListener("change",(function(){return gt=!0})),t.addEventListener("keydown",(function(){return gt=!0})),t.addEventListener("submit",(function(){return gt=!1})),window.onbeforeunload=function(t){if(t=t||window.event,gt)return t&&(t.returnValue=e),e}}),bt=document.querySelector(".js-warn-unsaved");bt&&vt(bt,"You have unsaved changes, are you sure you wish to exit this page?")}]);
//# sourceMappingURL=app.js.map